"use strict";(this.webpackChunkInfragisticsBlazor=this.webpackChunkInfragisticsBlazor||[]).push([[258],{19515:(e,t,i)=>{i.r(t),i.d(t,{ColumnPinningPosition:()=>gb,DropPosition:()=>WH,FilteringExpressionsTreeType:()=>jS,FilteringLogic:()=>qS,GridPagingMode:()=>mb,HorizontalAlignment:()=>SI,IgcActionStripComponent:()=>Fre,IgcBooleanFilteringOperand:()=>PS,IgcColumnComponent:()=>Are,IgcColumnGroupComponent:()=>Ire,IgcColumnLayoutComponent:()=>Rre,IgcDateFilteringOperand:()=>MS,IgcDateSummaryOperand:()=>UF,IgcDateTimeFilteringOperand:()=>LS,IgcFilteringExpressionsTree:()=>US,IgcFilteringOperand:()=>FS,IgcGridComponent:()=>Cre,IgcGridEditingActionsComponent:()=>Vre,IgcGridPinningActionsComponent:()=>Mre,IgcGridStateComponent:()=>Pre,IgcGridToolbarActionsComponent:()=>Nre,IgcGridToolbarAdvancedFilteringComponent:()=>Gre,IgcGridToolbarComponent:()=>Ore,IgcGridToolbarExporterComponent:()=>Bre,IgcGridToolbarHidingComponent:()=>Hre,IgcGridToolbarPinningComponent:()=>zre,IgcGridToolbarTitleComponent:()=>Lre,IgcHierarchicalGridComponent:()=>bre,IgcNoopFilteringStrategy:()=>XS,IgcNoopPivotDimensionsStrategy:()=>M3,IgcNoopSortingStrategy:()=>_S,IgcNumberFilteringOperand:()=>HS,IgcNumberSummaryOperand:()=>jF,IgcPaginatorComponent:()=>kre,IgcPivotAggregate:()=>YF,IgcPivotDataSelectorComponent:()=>Ere,IgcPivotDateAggregate:()=>XF,IgcPivotDateDimension:()=>b5,IgcPivotGridComponent:()=>Dre,IgcPivotNumericAggregate:()=>ZF,IgcPivotTimeAggregate:()=>QF,IgcRowIslandComponent:()=>Tre,IgcStringFilteringOperand:()=>zS,IgcSummaryOperand:()=>KF,IgcTimeFilteringOperand:()=>NS,IgcTimeSummaryOperand:()=>qF,IgcTreeGridComponent:()=>Sre,PivotDimensionType:()=>eP,RowPinningPosition:()=>pb,SortingDirection:()=>cS,VerticalAlignment:()=>bI,defineAllComponents:()=>$re,defineComponents:()=>wre});var n=i(88259),r=i(73914),s=i(8437);e=i.hmd(e);var o=globalThis;function a(e){return(o.__Zone_symbol_prefix||"__zone_symbol__")+e}var l=Object.getOwnPropertyDescriptor,d=Object.defineProperty,c=Object.getPrototypeOf,h=Object.create,u=Array.prototype.slice,g="addEventListener",p="removeEventListener",m=a(g),f=a(p),v="true",y="false",x=a("");function _(e,t){return Zone.current.wrap(e,t)}function w(e,t,i,n,r){return Zone.current.scheduleMacroTask(e,t,i,n,r)}var C=a,S=typeof window<"u",b=S?window:void 0,D=S&&b||globalThis,E="removeAttribute";function T(e,t){for(let i=e.length-1;i>=0;i--)"function"==typeof e[i]&&(e[i]=_(e[i],t+"_"+i));return e}function I(e){return!e||!1!==e.writable&&!("function"==typeof e.get&&typeof e.set>"u")}var R=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,A=!("nw"in D)&&typeof D.process<"u"&&"[object process]"===D.process.toString(),k=!A&&!R&&!(!S||!b.HTMLElement),O=typeof D.process<"u"&&"[object process]"===D.process.toString()&&!R&&!(!S||!b.HTMLElement),F={},P=C("enable_beforeunload"),V=function(e){if(!(e=e||D.event))return;let t=F[e.type];t||(t=F[e.type]=C("ON_PROPERTY"+e.type));let i,n=this||e.target||D,r=n[t];if(k&&n===b&&"error"===e.type){let t=e;i=r&&r.call(this,t.message,t.filename,t.lineno,t.colno,t.error),!0===i&&e.preventDefault()}else i=r&&r.apply(this,arguments),"beforeunload"===e.type&&D[P]&&"string"==typeof i?e.returnValue=i:null!=i&&!i&&e.preventDefault();return i};function M(e,t,i){let n=l(e,t);if(!n&&i&&l(i,t)&&(n={enumerable:!0,configurable:!0}),!n||!n.configurable)return;let r=C("on"+t+"patched");if(e.hasOwnProperty(r)&&e[r])return;delete n.writable,delete n.value;let s=n.get,o=n.set,a=t.slice(2),c=F[a];c||(c=F[a]=C("ON_PROPERTY"+a)),n.set=function(t){let i=this;!i&&e===D&&(i=D),i&&("function"==typeof i[c]&&i.removeEventListener(a,V),o&&o.call(i,null),i[c]=t,"function"==typeof t&&i.addEventListener(a,V,!1))},n.get=function(){let i=this;if(!i&&e===D&&(i=D),!i)return null;let r=i[c];if(r)return r;if(s){let e=s.call(this);if(e)return n.set.call(this,e),"function"==typeof i[E]&&i.removeAttribute(t),e}return null},d(e,t,n),e[r]=!0}function L(e,t,i){if(t)for(let n=0;n<t.length;n++)M(e,"on"+t[n],i);else{let t=[];for(let i in e)"on"==i.slice(0,2)&&t.push(i);for(let n=0;n<t.length;n++)M(e,t[n],i)}}var N=C("originalInstance");function H(e){let t=D[e];if(!t)return;D[C(e)]=t,D[e]=function(){let i=T(arguments,e);switch(i.length){case 0:this[N]=new t;break;case 1:this[N]=new t(i[0]);break;case 2:this[N]=new t(i[0],i[1]);break;case 3:this[N]=new t(i[0],i[1],i[2]);break;case 4:this[N]=new t(i[0],i[1],i[2],i[3]);break;default:throw new Error("Arg list too long.")}},G(D[e],t);let i,n=new t((function(){}));for(i in n)"XMLHttpRequest"===e&&"responseBlob"===i||function(t){"function"==typeof n[t]?D[e].prototype[t]=function(){return this[N][t].apply(this[N],arguments)}:d(D[e].prototype,t,{set:function(i){"function"==typeof i?(this[N][t]=_(i,e+"."+t),G(this[N][t],i)):this[N][t]=i},get:function(){return this[N][t]}})}(i);for(i in t)"prototype"!==i&&t.hasOwnProperty(i)&&(D[e][i]=t[i])}function z(e,t,i){let n=e;for(;n&&!n.hasOwnProperty(t);)n=c(n);!n&&e[t]&&(n=e);let r=C(t),s=null;if(n&&(!(s=n[r])||!n.hasOwnProperty(r))&&(s=n[r]=n[t],I(n&&l(n,t)))){let e=i(s,r,t);n[t]=function(){return e(this,arguments)},G(n[t],s)}return s}function B(e,t,i){let n=null;function r(e){let t=e.data;return t.args[t.cbIdx]=function(){e.invoke.apply(this,arguments)},n.apply(t.target,t.args),e}n=z(e,t,(e=>function(t,n){let s=i(t,n);return s.cbIdx>=0&&"function"==typeof n[s.cbIdx]?w(s.name,n[s.cbIdx],s,r):e.apply(t,n)}))}function G(e,t){e[C("OriginalDelegate")]=t}var $=!1,W=!1;function K(){if($)return W;$=!0;try{let e=b.navigator.userAgent;(-1!==e.indexOf("MSIE ")||-1!==e.indexOf("Trident/")||-1!==e.indexOf("Edge/"))&&(W=!0)}catch{}return W}function j(e){return"function"==typeof e}function U(e){return"number"==typeof e}var q=!1;if(typeof window<"u")try{let e=Object.defineProperty({},"passive",{get:function(){q=!0}});window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch{q=!1}var Y={useG:!0},Z={},X={},Q=new RegExp("^"+x+"(\\w+)(true|false)$"),J=C("propagationStopped");function ee(e,t){let i=(t?t(e):e)+y,n=(t?t(e):e)+v,r=x+i,s=x+n;Z[e]={},Z[e][y]=r,Z[e][v]=s}function te(e,t,i,n){let r=n&&n.add||g,s=n&&n.rm||p,o=n&&n.listeners||"eventListeners",a=n&&n.rmAll||"removeAllListeners",l=C(r),d="."+r+":",h="prependListener",u="."+h+":",m=function(e,t,i){if(e.isRemoved)return;let n,r=e.callback;"object"==typeof r&&r.handleEvent&&(e.callback=e=>r.handleEvent(e),e.originalDelegate=r);try{e.invoke(e,t,[i])}catch(e){n=e}let o=e.options;if(o&&"object"==typeof o&&o.once){let n=e.originalDelegate?e.originalDelegate:e.callback;t[s].call(t,i.type,n,o)}return n};function f(i,n,r){if(!(n=n||e.event))return;let s=i||n.target||e,o=s[Z[n.type][r?v:y]];if(o){let e=[];if(1===o.length){let t=m(o[0],s,n);t&&e.push(t)}else{let t=o.slice();for(let i=0;i<t.length&&(!n||!0!==n[J]);i++){let r=m(t[i],s,n);r&&e.push(r)}}if(1===e.length)throw e[0];for(let i=0;i<e.length;i++){let n=e[i];t.nativeScheduleMicroTask((()=>{throw n}))}}}let _=function(e){return f(this,e,!1)},w=function(e){return f(this,e,!0)};function S(t,i){if(!t)return!1;let n=!0;i&&void 0!==i.useG&&(n=i.useG);let g=i&&i.vh,p=!0;i&&void 0!==i.chkDup&&(p=i.chkDup);let m=!1;i&&void 0!==i.rt&&(m=i.rt);let f=t;for(;f&&!f.hasOwnProperty(r);)f=c(f);if(!f&&t[r]&&(f=t),!f||f[l])return!1;let S,b=i&&i.eventNameToString,D={},E=f[l]=f[r],T=f[C(s)]=f[s],I=f[C(o)]=f[o],R=f[C(a)]=f[a];i&&i.prepend&&(S=f[C(i.prepend)]=f[i.prepend]);let k=n?function(e){if(!D.isExisting)return E.call(D.target,D.eventName,D.capture?w:_,D.options)}:function(e){return E.call(D.target,D.eventName,e.invoke,D.options)},O=n?function(e){if(!e.isRemoved){let t,i=Z[e.eventName];i&&(t=i[e.capture?v:y]);let n=t&&e.target[t];if(n)for(let i=0;i<n.length;i++)if(n[i]===e){n.splice(i,1),e.isRemoved=!0,e.removeAbortListener&&(e.removeAbortListener(),e.removeAbortListener=null),0===n.length&&(e.allRemoved=!0,e.target[t]=null);break}}if(e.allRemoved)return T.call(e.target,e.eventName,e.capture?w:_,e.options)}:function(e){return T.call(e.target,e.eventName,e.invoke,e.options)},F=i&&i.diff?i.diff:function(e,t){let i=typeof t;return"function"===i&&e.callback===t||"object"===i&&e.originalDelegate===t},P=Zone[C("UNPATCHED_EVENTS")],V=e[C("PASSIVE_EVENTS")],M=function(t,r,s,o,a=!1,l=!1){return function(){let d=this||e,c=arguments[0];i&&i.transferEventName&&(c=i.transferEventName(c));let h=arguments[1];if(!h)return t.apply(this,arguments);if(A&&"uncaughtException"===c)return t.apply(this,arguments);let u=!1;if("function"!=typeof h){if(!h.handleEvent)return t.apply(this,arguments);u=!0}if(g&&!g(t,h,d,arguments))return;let m=q&&!!V&&-1!==V.indexOf(c),f=function(e){if("object"==typeof e&&null!==e){let t={...e};return e.signal&&(t.signal=e.signal),t}return e}(function(e,t){return!q&&"object"==typeof e&&e?!!e.capture:q&&t?"boolean"==typeof e?{capture:e,passive:!0}:e?"object"==typeof e&&!1!==e.passive?{...e,passive:!0}:e:{passive:!0}:e}(arguments[2],m)),x=f?.signal;if(x?.aborted)return;if(P)for(let e=0;e<P.length;e++)if(c===P[e])return m?t.call(d,c,h,f):t.apply(this,arguments);let _=!!f&&("boolean"==typeof f||f.capture),w=!(!f||"object"!=typeof f)&&f.once,C=Zone.current,S=Z[c];S||(ee(c,b),S=Z[c]);let E=S[_?v:y],T=d[E],I=!1;if(T){if(I=!0,p)for(let e=0;e<T.length;e++)if(F(T[e],h))return}else T=d[E]=[];let R,k=d.constructor.name,O=X[k];O&&(R=O[c]),R||(R=k+r+(b?b(c):c)),D.options=f,w&&(D.options.once=!1),D.target=d,D.capture=_,D.eventName=c,D.isExisting=I;let M=n?Y:void 0;M&&(M.taskData=D),x&&(D.options.signal=void 0);let L=C.scheduleEventTask(R,h,M,s,o);if(x){D.options.signal=x;let e=()=>L.zone.cancelTask(L);t.call(x,"abort",e,{once:!0}),L.removeAbortListener=()=>x.removeEventListener("abort",e)}return D.target=null,M&&(M.taskData=null),w&&(D.options.once=!0),!q&&"boolean"==typeof L.options||(L.options=f),L.target=d,L.capture=_,L.eventName=c,u&&(L.originalDelegate=h),l?T.unshift(L):T.push(L),a?d:void 0}};return f[r]=M(E,d,k,O,m),S&&(f[h]=M(S,u,(function(e){return S.call(D.target,D.eventName,e.invoke,D.options)}),O,m,!0)),f[s]=function(){let t=this||e,n=arguments[0];i&&i.transferEventName&&(n=i.transferEventName(n));let r=arguments[2],s=!!r&&("boolean"==typeof r||r.capture),o=arguments[1];if(!o)return T.apply(this,arguments);if(g&&!g(T,o,t,arguments))return;let a,l=Z[n];l&&(a=l[s?v:y]);let d=a&&t[a];if(d)for(let e=0;e<d.length;e++){let i=d[e];if(F(i,o))return d.splice(e,1),i.isRemoved=!0,0!==d.length||(i.allRemoved=!0,t[a]=null,s||"string"!=typeof n)||(t[x+"ON_PROPERTY"+n]=null),i.zone.cancelTask(i),m?t:void 0}return T.apply(this,arguments)},f[o]=function(){let t=this||e,n=arguments[0];i&&i.transferEventName&&(n=i.transferEventName(n));let r=[],s=ie(t,b?b(n):n);for(let e=0;e<s.length;e++){let t=s[e],i=t.originalDelegate?t.originalDelegate:t.callback;r.push(i)}return r},f[a]=function(){let t=this||e,n=arguments[0];if(n){i&&i.transferEventName&&(n=i.transferEventName(n));let e=Z[n];if(e){let i=e[y],r=e[v],o=t[i],a=t[r];if(o){let e=o.slice();for(let t=0;t<e.length;t++){let i=e[t],r=i.originalDelegate?i.originalDelegate:i.callback;this[s].call(this,n,r,i.options)}}if(a){let e=a.slice();for(let t=0;t<e.length;t++){let i=e[t],r=i.originalDelegate?i.originalDelegate:i.callback;this[s].call(this,n,r,i.options)}}}}else{let e=Object.keys(t);for(let t=0;t<e.length;t++){let i=e[t],n=Q.exec(i),r=n&&n[1];r&&"removeListener"!==r&&this[a].call(this,r)}this[a].call(this,"removeListener")}if(m)return this},G(f[r],E),G(f[s],T),R&&G(f[a],R),I&&G(f[o],I),!0}let b=[];for(let e=0;e<i.length;e++)b[e]=S(i[e],n);return b}function ie(e,t){if(!t){let i=[];for(let n in e){let r=Q.exec(n),s=r&&r[1];if(s&&(!t||s===t)){let t=e[n];if(t)for(let e=0;e<t.length;e++)i.push(t[e])}}return i}let i=Z[t];i||(ee(t),i=Z[t]);let n=e[i[y]],r=e[i[v]];return n?r?n.concat(r):n.slice():r?r.slice():[]}function ne(e,t){let i=e.Event;i&&i.prototype&&t.patchMethod(i.prototype,"stopImmediatePropagation",(e=>function(t,i){t[J]=!0,e&&e.apply(t,i)}))}var re=C("zoneTask");function se(e,t,i,n){let r=null,s=null;i+=n;let o={};function a(t){let i=t.data;i.args[0]=function(){return t.invoke.apply(this,arguments)};let n=r.apply(e,i.args);return U(n)?i.handleId=n:(i.handle=n,i.isRefreshable=j(n.refresh)),t}function l(t){let{handle:i,handleId:n}=t.data;return s.call(e,i??n)}r=z(e,t+=n,(i=>function(r,s){if(j(s[0])){let e={isRefreshable:!1,isPeriodic:"Interval"===n,delay:"Timeout"===n||"Interval"===n?s[1]||0:void 0,args:s},i=s[0];s[0]=function(){try{return i.apply(this,arguments)}finally{let{handle:t,handleId:i,isPeriodic:n,isRefreshable:r}=e;!n&&!r&&(i?delete o[i]:t&&(t[re]=null))}};let r=w(t,s[0],e,a,l);if(!r)return r;let{handleId:d,handle:c,isRefreshable:h,isPeriodic:u}=r.data;if(d)o[d]=r;else if(c&&(c[re]=r,h&&!u)){let e=c.refresh;c.refresh=function(){let{zone:t,state:i}=r;return"notScheduled"===i?(r._state="scheduled",t._updateTaskCount(r,1)):"running"===i&&(r._state="scheduling"),e.call(this)}}return c??d??r}return i.apply(e,s)})),s=z(e,i,(t=>function(i,n){let r,s=n[0];U(s)?(r=o[s],delete o[s]):(r=s?.[re],r?s[re]=null:r=s),r?.type?r.cancelFn&&r.zone.cancelTask(r):t.apply(e,n)}))}function oe(e,t,i){if(!i||0===i.length)return t;let n=i.filter((t=>t.target===e));if(!n||0===n.length)return t;let r=n[0].ignoreProperties;return t.filter((e=>-1===r.indexOf(e)))}function ae(e,t,i,n){e&&L(e,oe(e,t,i),n)}function le(e){return Object.getOwnPropertyNames(e).filter((e=>e.startsWith("on")&&e.length>2)).map((e=>e.substring(2)))}function de(e,t,i,n,r){let s=Zone.__symbol__(n);if(t[s])return;let o=t[s]=t[n];t[n]=function(s,a,l){return a&&a.prototype&&r.forEach((function(t){let r=`${i}.${n}::`+t,s=a.prototype;try{if(s.hasOwnProperty(t)){let i=e.ObjectGetOwnPropertyDescriptor(s,t);i&&i.value?(i.value=e.wrapWithCurrentZone(i.value,r),e._redefineProperty(a.prototype,t,i)):s[t]&&(s[t]=e.wrapWithCurrentZone(s[t],r))}else s[t]&&(s[t]=e.wrapWithCurrentZone(s[t],r))}catch{}})),o.call(t,s,a,l)},e.attachOriginToPatched(t[n],o)}var ce,he=function(){let e=globalThis,t=!0===e[a("forceDuplicateZoneCheck")];if(e.Zone&&(t||"function"!=typeof e.Zone.__symbol__))throw new Error("Zone already loaded.");return e.Zone??=function(){let e=o.performance;function t(t){e&&e.mark&&e.mark(t)}function i(t,i){e&&e.measure&&e.measure(t,i)}t("Zone");let n=(()=>{class e{static{this.__symbol__=a}static assertZonePatched(){if(o.Promise!==I.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let t=e.current;for(;t.parent;)t=t.parent;return t}static get current(){return A.zone}static get currentTask(){return k}static __load_patch(n,r,s=!1){if(I.hasOwnProperty(n)){let e=!0===o[a("forceDuplicateZoneCheck")];if(!s&&e)throw Error("Already loaded patch: "+n)}else if(!o["__Zone_disable_"+n]){let s="Zone:"+n;t(s),I[n]=r(o,e,R),i(s,s)}}get parent(){return this._parent}get name(){return this._name}constructor(e,t){this._parent=e,this._name=t?t.name||"unnamed":"<root>",this._properties=t&&t.properties||{},this._zoneDelegate=new s(this,this._parent&&this._parent._zoneDelegate,t)}get(e){let t=this.getZoneWith(e);if(t)return t._properties[e]}getZoneWith(e){let t=this;for(;t;){if(t._properties.hasOwnProperty(e))return t;t=t._parent}return null}fork(e){if(!e)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,e)}wrap(e,t){if("function"!=typeof e)throw new Error("Expecting function got: "+e);let i=this._zoneDelegate.intercept(this,e,t),n=this;return function(){return n.runGuarded(i,this,arguments,t)}}run(e,t,i,n){A={parent:A,zone:this};try{return this._zoneDelegate.invoke(this,e,t,i,n)}finally{A=A.parent}}runGuarded(e,t=null,i,n){A={parent:A,zone:this};try{try{return this._zoneDelegate.invoke(this,e,t,i,n)}catch(e){if(this._zoneDelegate.handleError(this,e))throw e}}finally{A=A.parent}}runTask(e,t,i){if(e.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(e.zone||y).name+"; Execution: "+this.name+")");let n=e,{type:r,data:{isPeriodic:s=!1,isRefreshable:o=!1}={}}=e;if(e.state===x&&(r===T||r===E))return;let a=e.state!=C;a&&n._transitionTo(C,w);let l=k;k=n,A={parent:A,zone:this};try{r==E&&e.data&&!s&&!o&&(e.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,n,t,i)}catch(e){if(this._zoneDelegate.handleError(this,e))throw e}}finally{let t=e.state;if(t!==x&&t!==b)if(r==T||s||o&&t===_)a&&n._transitionTo(w,C,_);else{let e=n._zoneDelegates;this._updateTaskCount(n,-1),a&&n._transitionTo(x,C,x),o&&(n._zoneDelegates=e)}A=A.parent,k=l}}scheduleTask(e){if(e.zone&&e.zone!==this){let t=this;for(;t;){if(t===e.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${e.zone.name}`);t=t.parent}}e._transitionTo(_,x);let t=[];e._zoneDelegates=t,e._zone=this;try{e=this._zoneDelegate.scheduleTask(this,e)}catch(t){throw e._transitionTo(b,_,x),this._zoneDelegate.handleError(this,t),t}return e._zoneDelegates===t&&this._updateTaskCount(e,1),e.state==_&&e._transitionTo(w,_),e}scheduleMicroTask(e,t,i,n){return this.scheduleTask(new l(D,e,t,i,n,void 0))}scheduleMacroTask(e,t,i,n,r){return this.scheduleTask(new l(E,e,t,i,n,r))}scheduleEventTask(e,t,i,n,r){return this.scheduleTask(new l(T,e,t,i,n,r))}cancelTask(e){if(e.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(e.zone||y).name+"; Execution: "+this.name+")");if(e.state===w||e.state===C){e._transitionTo(S,w,C);try{this._zoneDelegate.cancelTask(this,e)}catch(t){throw e._transitionTo(b,S),this._zoneDelegate.handleError(this,t),t}return this._updateTaskCount(e,-1),e._transitionTo(x,S),e.runCount=-1,e}}_updateTaskCount(e,t){let i=e._zoneDelegates;-1==t&&(e._zoneDelegates=null);for(let n=0;n<i.length;n++)i[n]._updateTaskCount(e.type,t)}}return e})(),r={name:"",onHasTask:(e,t,i,n)=>e.hasTask(i,n),onScheduleTask:(e,t,i,n)=>e.scheduleTask(i,n),onInvokeTask:(e,t,i,n,r,s)=>e.invokeTask(i,n,r,s),onCancelTask:(e,t,i,n)=>e.cancelTask(i,n)};class s{get zone(){return this._zone}constructor(e,t,i){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this._zone=e,this._parentDelegate=t,this._forkZS=i&&(i&&i.onFork?i:t._forkZS),this._forkDlgt=i&&(i.onFork?t:t._forkDlgt),this._forkCurrZone=i&&(i.onFork?this._zone:t._forkCurrZone),this._interceptZS=i&&(i.onIntercept?i:t._interceptZS),this._interceptDlgt=i&&(i.onIntercept?t:t._interceptDlgt),this._interceptCurrZone=i&&(i.onIntercept?this._zone:t._interceptCurrZone),this._invokeZS=i&&(i.onInvoke?i:t._invokeZS),this._invokeDlgt=i&&(i.onInvoke?t:t._invokeDlgt),this._invokeCurrZone=i&&(i.onInvoke?this._zone:t._invokeCurrZone),this._handleErrorZS=i&&(i.onHandleError?i:t._handleErrorZS),this._handleErrorDlgt=i&&(i.onHandleError?t:t._handleErrorDlgt),this._handleErrorCurrZone=i&&(i.onHandleError?this._zone:t._handleErrorCurrZone),this._scheduleTaskZS=i&&(i.onScheduleTask?i:t._scheduleTaskZS),this._scheduleTaskDlgt=i&&(i.onScheduleTask?t:t._scheduleTaskDlgt),this._scheduleTaskCurrZone=i&&(i.onScheduleTask?this._zone:t._scheduleTaskCurrZone),this._invokeTaskZS=i&&(i.onInvokeTask?i:t._invokeTaskZS),this._invokeTaskDlgt=i&&(i.onInvokeTask?t:t._invokeTaskDlgt),this._invokeTaskCurrZone=i&&(i.onInvokeTask?this._zone:t._invokeTaskCurrZone),this._cancelTaskZS=i&&(i.onCancelTask?i:t._cancelTaskZS),this._cancelTaskDlgt=i&&(i.onCancelTask?t:t._cancelTaskDlgt),this._cancelTaskCurrZone=i&&(i.onCancelTask?this._zone:t._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;let n=i&&i.onHasTask,s=t&&t._hasTaskZS;(n||s)&&(this._hasTaskZS=n?i:r,this._hasTaskDlgt=t,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=this._zone,i.onScheduleTask||(this._scheduleTaskZS=r,this._scheduleTaskDlgt=t,this._scheduleTaskCurrZone=this._zone),i.onInvokeTask||(this._invokeTaskZS=r,this._invokeTaskDlgt=t,this._invokeTaskCurrZone=this._zone),i.onCancelTask||(this._cancelTaskZS=r,this._cancelTaskDlgt=t,this._cancelTaskCurrZone=this._zone))}fork(e,t){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,e,t):new n(e,t)}intercept(e,t,i){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,e,t,i):t}invoke(e,t,i,n,r){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,e,t,i,n,r):t.apply(i,n)}handleError(e,t){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,e,t)}scheduleTask(e,t){let i=t;if(this._scheduleTaskZS)this._hasTaskZS&&i._zoneDelegates.push(this._hasTaskDlgtOwner),i=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,e,t),i||(i=t);else if(t.scheduleFn)t.scheduleFn(t);else{if(t.type!=D)throw new Error("Task is missing scheduleFn.");f(t)}return i}invokeTask(e,t,i,n){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,e,t,i,n):t.callback.apply(i,n)}cancelTask(e,t){let i;if(this._cancelTaskZS)i=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,e,t);else{if(!t.cancelFn)throw Error("Task is not cancelable");i=t.cancelFn(t)}return i}hasTask(e,t){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,e,t)}catch(t){this.handleError(e,t)}}_updateTaskCount(e,t){let i=this._taskCounts,n=i[e],r=i[e]=n+t;if(r<0)throw new Error("More tasks executed then were scheduled.");if(0==n||0==r){let t={microTask:i.microTask>0,macroTask:i.macroTask>0,eventTask:i.eventTask>0,change:e};this.hasTask(this._zone,t)}}}class l{constructor(e,t,i,n,r,s){if(this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=e,this.source=t,this.data=n,this.scheduleFn=r,this.cancelFn=s,!i)throw new Error("callback is not defined");this.callback=i;let a=this;e===T&&n&&n.useG?this.invoke=l.invokeTask:this.invoke=function(){return l.invokeTask.call(o,a,this,arguments)}}static invokeTask(e,t,i){e||(e=this),O++;try{return e.runCount++,e.zone.runTask(e,t,i)}finally{1==O&&v(),O--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(x,_)}_transitionTo(e,t,i){if(this._state!==t&&this._state!==i)throw new Error(`${this.type} '${this.source}': can not transition to '${e}', expecting state '${t}'${i?" or '"+i+"'":""}, was '${this._state}'.`);this._state=e,e==x&&(this._zoneDelegates=null)}toString(){return this.data&&typeof this.data.handleId<"u"?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}let d,c=a("setTimeout"),h=a("Promise"),u=a("then"),g=[],p=!1;function m(e){if(d||o[h]&&(d=o[h].resolve(0)),d){let t=d[u];t||(t=d.then),t.call(d,e)}else o[c](e,0)}function f(e){0===O&&0===g.length&&m(v),e&&g.push(e)}function v(){if(!p){for(p=!0;g.length;){let e=g;g=[];for(let t=0;t<e.length;t++){let i=e[t];try{i.zone.runTask(i,null,null)}catch(e){R.onUnhandledError(e)}}}R.microtaskDrainDone(),p=!1}}let y={name:"NO ZONE"},x="notScheduled",_="scheduling",w="scheduled",C="running",S="canceling",b="unknown",D="microTask",E="macroTask",T="eventTask",I={},R={symbol:a,currentZoneFrame:()=>A,onUnhandledError:F,microtaskDrainDone:F,scheduleMicroTask:f,showUncaughtError:()=>!n[a("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:F,patchMethod:()=>F,bindArguments:()=>[],patchThen:()=>F,patchMacroTask:()=>F,patchEventPrototype:()=>F,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>F,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>F,wrapWithCurrentZone:()=>F,filterProperties:()=>[],attachOriginToPatched:()=>F,_redefineProperty:()=>F,patchCallbacks:()=>F,nativeScheduleMicroTask:m},A={parent:null,zone:new n(null,null)},k=null,O=0;function F(){}return i("Zone","Zone"),n}(),e.Zone}();(function(e){e.__load_patch("ZoneAwarePromise",((e,t,i)=>{let n=Object.getOwnPropertyDescriptor,r=Object.defineProperty,s=i.symbol,o=[],a=!1!==e[s("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")],l=s("Promise"),d=s("then"),c="__creationTrace__";i.onUnhandledError=e=>{if(i.showUncaughtError()){let t=e&&e.rejection;t?console.error("Unhandled Promise rejection:",t instanceof Error?t.message:t,"; Zone:",e.zone.name,"; Task:",e.task&&e.task.source,"; Value:",t,t instanceof Error?t.stack:void 0):console.error(e)}},i.microtaskDrainDone=()=>{for(;o.length;){let e=o.shift();try{e.zone.runGuarded((()=>{throw e.throwOriginal?e.rejection:e}))}catch(e){u(e)}}};let h=s("unhandledPromiseRejectionHandler");function u(e){i.onUnhandledError(e);try{let i=t[h];"function"==typeof i&&i.call(this,e)}catch{}}function g(e){return e&&e.then}function p(e){return e}function m(e){return M.reject(e)}let f=s("state"),v=s("value"),y=s("finally"),x=s("parentPromiseValue"),_=s("parentPromiseState"),w="Promise.then",C=null,S=!0,b=!1,D=0;function E(e,t){return i=>{try{A(e,t,i)}catch(t){A(e,!1,t)}}}let T=function(){let e=!1;return function(t){return function(){e||(e=!0,t.apply(null,arguments))}}},I="Promise resolved with itself",R=s("currentTaskTrace");function A(e,n,s){let l=T();if(e===s)throw new TypeError(I);if(e[f]===C){let d=null;try{("object"==typeof s||"function"==typeof s)&&(d=s&&s.then)}catch(t){return l((()=>{A(e,!1,t)}))(),e}if(n!==b&&s instanceof M&&s.hasOwnProperty(f)&&s.hasOwnProperty(v)&&s[f]!==C)O(s),A(e,s[f],s[v]);else if(n!==b&&"function"==typeof d)try{d.call(s,l(E(e,n)),l(E(e,!1)))}catch(t){l((()=>{A(e,!1,t)}))()}else{e[f]=n;let l=e[v];if(e[v]=s,e[y]===y&&n===S&&(e[f]=e[_],e[v]=e[x]),n===b&&s instanceof Error){let e=t.currentTask&&t.currentTask.data&&t.currentTask.data[c];e&&r(s,R,{configurable:!0,enumerable:!1,writable:!0,value:e})}for(let t=0;t<l.length;)F(e,l[t++],l[t++],l[t++],l[t++]);if(0==l.length&&n==b){e[f]=D;let n=s;try{throw new Error("Uncaught (in promise): "+function(e){return e&&e.toString===Object.prototype.toString?(e.constructor&&e.constructor.name||"")+": "+JSON.stringify(e):e?e.toString():Object.prototype.toString.call(e)}(s)+(s&&s.stack?"\n"+s.stack:""))}catch(e){n=e}a&&(n.throwOriginal=!0),n.rejection=s,n.promise=e,n.zone=t.current,n.task=t.currentTask,o.push(n),i.scheduleMicroTask()}}}return e}let k=s("rejectionHandledHandler");function O(e){if(e[f]===D){try{let i=t[k];i&&"function"==typeof i&&i.call(this,{rejection:e[v],promise:e})}catch{}e[f]=b;for(let t=0;t<o.length;t++)e===o[t].promise&&o.splice(t,1)}}function F(e,t,i,n,r){O(e);let s=e[f],o=s?"function"==typeof n?n:p:"function"==typeof r?r:m;t.scheduleMicroTask(w,(()=>{try{let n=e[v],r=!!i&&y===i[y];r&&(i[x]=n,i[_]=s);let a=t.run(o,void 0,r&&o!==m&&o!==p?[]:[n]);A(i,!0,a)}catch(e){A(i,!1,e)}}),i)}let P=function(){},V=e.AggregateError;class M{static toString(){return"function ZoneAwarePromise() { [native code] }"}static resolve(e){return e instanceof M?e:A(new this(null),S,e)}static reject(e){return A(new this(null),b,e)}static withResolvers(){let e={};return e.promise=new M(((t,i)=>{e.resolve=t,e.reject=i})),e}static any(e){if(!e||"function"!=typeof e[Symbol.iterator])return Promise.reject(new V([],"All promises were rejected"));let t=[],i=0;try{for(let n of e)i++,t.push(M.resolve(n))}catch{return Promise.reject(new V([],"All promises were rejected"))}if(0===i)return Promise.reject(new V([],"All promises were rejected"));let n=!1,r=[];return new M(((e,s)=>{for(let o=0;o<t.length;o++)t[o].then((t=>{n||(n=!0,e(t))}),(e=>{r.push(e),i--,0===i&&(n=!0,s(new V(r,"All promises were rejected")))}))}))}static race(e){let t,i,n=new this(((e,n)=>{t=e,i=n}));function r(e){t(e)}function s(e){i(e)}for(let t of e)g(t)||(t=this.resolve(t)),t.then(r,s);return n}static all(e){return M.allWithCallback(e)}static allSettled(e){return(this&&this.prototype instanceof M?this:M).allWithCallback(e,{thenCallback:e=>({status:"fulfilled",value:e}),errorCallback:e=>({status:"rejected",reason:e})})}static allWithCallback(e,t){let i,n,r=new this(((e,t)=>{i=e,n=t})),s=2,o=0,a=[];for(let r of e){g(r)||(r=this.resolve(r));let e=o;try{r.then((n=>{a[e]=t?t.thenCallback(n):n,s--,0===s&&i(a)}),(r=>{t?(a[e]=t.errorCallback(r),s--,0===s&&i(a)):n(r)}))}catch(e){n(e)}s++,o++}return s-=2,0===s&&i(a),r}constructor(e){let t=this;if(!(t instanceof M))throw new Error("Must be an instanceof Promise.");t[f]=C,t[v]=[];try{let i=T();e&&e(i(E(t,S)),i(E(t,b)))}catch(e){A(t,!1,e)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return M}then(e,i){let n=this.constructor?.[Symbol.species];(!n||"function"!=typeof n)&&(n=this.constructor||M);let r=new n(P),s=t.current;return this[f]==C?this[v].push(s,r,e,i):F(this,s,r,e,i),r}catch(e){return this.then(null,e)}finally(e){let i=this.constructor?.[Symbol.species];(!i||"function"!=typeof i)&&(i=M);let n=new i(P);n[y]=y;let r=t.current;return this[f]==C?this[v].push(r,n,e,e):F(this,r,n,e,e),n}}M.resolve=M.resolve,M.reject=M.reject,M.race=M.race,M.all=M.all;let L=e[l]=e.Promise;e.Promise=M;let N=s("thenPatched");function H(e){let t=e.prototype,i=n(t,"then");if(i&&(!1===i.writable||!i.configurable))return;let r=t.then;t[d]=r,e.prototype.then=function(e,t){return new M(((e,t)=>{r.call(this,e,t)})).then(e,t)},e[N]=!0}return i.patchThen=H,L&&(H(L),z(e,"fetch",(e=>function(e){return function(t,i){let n=e.apply(t,i);if(n instanceof M)return n;let r=n.constructor;return r[N]||H(r),n}}(e)))),Promise[t.__symbol__("uncaughtPromiseErrors")]=o,M}))})(ce=he),function(e){e.__load_patch("toString",(e=>{let t=Function.prototype.toString,i=C("OriginalDelegate"),n=C("Promise"),r=C("Error"),s=function(){if("function"==typeof this){let s=this[i];if(s)return"function"==typeof s?t.call(s):Object.prototype.toString.call(s);if(this===Promise){let i=e[n];if(i)return t.call(i)}if(this===Error){let i=e[r];if(i)return t.call(i)}}return t.call(this)};s[i]=t,Function.prototype.toString=s;let o=Object.prototype.toString;Object.prototype.toString=function(){return"function"==typeof Promise&&this instanceof Promise?"[object Promise]":o.call(this)}}))}(ce),function(e){e.__load_patch("util",((e,t,i)=>{let n=le(e);i.patchOnProperties=L,i.patchMethod=z,i.bindArguments=T,i.patchMacroTask=B;let r=t.__symbol__("BLACK_LISTED_EVENTS"),s=t.__symbol__("UNPATCHED_EVENTS");e[s]&&(e[r]=e[s]),e[r]&&(t[r]=t[s]=e[r]),i.patchEventPrototype=ne,i.patchEventTarget=te,i.isIEOrEdge=K,i.ObjectDefineProperty=d,i.ObjectGetOwnPropertyDescriptor=l,i.ObjectCreate=h,i.ArraySlice=u,i.patchClass=H,i.wrapWithCurrentZone=_,i.filterProperties=oe,i.attachOriginToPatched=G,i._redefineProperty=Object.defineProperty,i.patchCallbacks=de,i.getGlobalObjects=()=>({globalSources:X,zoneSymbolEventNames:Z,eventNames:n,isBrowser:k,isMix:O,isNode:A,TRUE_STR:v,FALSE_STR:y,ZONE_SYMBOL_PREFIX:x,ADD_EVENT_LISTENER_STR:g,REMOVE_EVENT_LISTENER_STR:p})}))}(ce),function(e){e.__load_patch("legacy",(t=>{let i=t[e.__symbol__("legacyPatch")];i&&i()})),e.__load_patch("timers",(e=>{let t="set",i="clear";se(e,t,i,"Timeout"),se(e,t,i,"Interval"),se(e,t,i,"Immediate")})),e.__load_patch("requestAnimationFrame",(e=>{se(e,"request","cancel","AnimationFrame"),se(e,"mozRequest","mozCancel","AnimationFrame"),se(e,"webkitRequest","webkitCancel","AnimationFrame")})),e.__load_patch("blocking",((e,t)=>{let i=["alert","prompt","confirm"];for(let n=0;n<i.length;n++)z(e,i[n],((i,n,r)=>function(n,s){return t.current.run(i,e,s,r)}))})),e.__load_patch("EventTarget",((e,t,i)=>{(function(e,t){t.patchEventPrototype(e,t)})(e,i),function(e,t){if(Zone[t.symbol("patchEventTarget")])return;let{eventNames:i,zoneSymbolEventNames:n,TRUE_STR:r,FALSE_STR:s,ZONE_SYMBOL_PREFIX:o}=t.getGlobalObjects();for(let e=0;e<i.length;e++){let t=i[e],a=o+(t+s),l=o+(t+r);n[t]={},n[t][s]=a,n[t][r]=l}let a=e.EventTarget;a&&a.prototype&&t.patchEventTarget(e,t,[a&&a.prototype])}(e,i);let n=e.XMLHttpRequestEventTarget;n&&n.prototype&&i.patchEventTarget(e,i,[n.prototype])})),e.__load_patch("MutationObserver",((e,t,i)=>{H("MutationObserver"),H("WebKitMutationObserver")})),e.__load_patch("IntersectionObserver",((e,t,i)=>{H("IntersectionObserver")})),e.__load_patch("FileReader",((e,t,i)=>{H("FileReader")})),e.__load_patch("on_property",((e,t,i)=>{!function(e,t){if(A&&!O||Zone[e.symbol("patchEvents")])return;let i=t.__Zone_ignore_on_properties,n=[];if(k){let e=window;n=n.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);let t=function(){try{let e=b.navigator.userAgent;if(-1!==e.indexOf("MSIE ")||-1!==e.indexOf("Trident/"))return!0}catch{}return!1}()?[{target:e,ignoreProperties:["error"]}]:[];ae(e,le(e),i&&i.concat(t),c(e))}n=n.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let e=0;e<n.length;e++){let r=t[n[e]];r&&r.prototype&&ae(r.prototype,le(r.prototype),i)}}(i,e)})),e.__load_patch("customElements",((e,t,i)=>{!function(e,t){let{isBrowser:i,isMix:n}=t.getGlobalObjects();(i||n)&&e.customElements&&"customElements"in e&&t.patchCallbacks(t,e.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback","formAssociatedCallback","formDisabledCallback","formResetCallback","formStateRestoreCallback"])}(e,i)})),e.__load_patch("XHR",((e,t)=>{!function(e){let l=e.XMLHttpRequest;if(!l)return;let d=l.prototype,c=d[m],h=d[f];if(!c){let t=e.XMLHttpRequestEventTarget;if(t){let e=t.prototype;c=e[m],h=e[f]}}let u="readystatechange",g="scheduled";function p(e){let n=e.data,o=n.target;o[s]=!1,o[a]=!1;let l=o[r];c||(c=o[m],h=o[f]),l&&h.call(o,u,l);let d=o[r]=()=>{if(o.readyState===o.DONE)if(!n.aborted&&o[s]&&e.state===g){let i=o[t.__symbol__("loadfalse")];if(0!==o.status&&i&&i.length>0){let r=e.invoke;e.invoke=function(){let i=o[t.__symbol__("loadfalse")];for(let t=0;t<i.length;t++)i[t]===e&&i.splice(t,1);!n.aborted&&e.state===g&&r.call(e)},i.push(e)}else e.invoke()}else!n.aborted&&!1===o[s]&&(o[a]=!0)};return c.call(o,u,d),o[i]||(o[i]=e),b.apply(o,n.args),o[s]=!0,e}function v(){}function y(e){let t=e.data;return t.aborted=!0,D.apply(t.target,t.args)}let x=z(d,"open",(()=>function(e,t){return e[n]=0==t[2],e[o]=t[1],x.apply(e,t)})),_=C("fetchTaskAborting"),S=C("fetchTaskScheduling"),b=z(d,"send",(()=>function(e,i){if(!0===t.current[S]||e[n])return b.apply(e,i);{let t={target:e,url:e[o],isPeriodic:!1,args:i,aborted:!1},n=w("XMLHttpRequest.send",v,t,p,y);e&&!0===e[a]&&!t.aborted&&n.state===g&&n.invoke()}})),D=z(d,"abort",(()=>function(e,n){let r=function(e){return e[i]}(e);if(r&&"string"==typeof r.type){if(null==r.cancelFn||r.data&&r.data.aborted)return;r.zone.cancelTask(r)}else if(!0===t.current[_])return D.apply(e,n)}))}(e);let i=C("xhrTask"),n=C("xhrSync"),r=C("xhrListener"),s=C("xhrScheduled"),o=C("xhrURL"),a=C("xhrErrorBeforeScheduled")})),e.__load_patch("geolocation",(e=>{e.navigator&&e.navigator.geolocation&&function(e,t){let i=e.constructor.name;for(let n=0;n<t.length;n++){let r=t[n],s=e[r];if(s){if(!I(l(e,r)))continue;e[r]=(e=>{let t=function(){return e.apply(this,T(arguments,i+"."+r))};return G(t,e),t})(s)}}}(e.navigator.geolocation,["getCurrentPosition","watchPosition"])})),e.__load_patch("PromiseRejectionEvent",((e,t)=>{function i(t){return function(i){ie(e,t).forEach((n=>{let r=e.PromiseRejectionEvent;if(r){let e=new r(t,{promise:i.promise,reason:i.rejection});n.invoke(e)}}))}}e.PromiseRejectionEvent&&(t[C("unhandledPromiseRejectionHandler")]=i("unhandledrejection"),t[C("rejectionHandledHandler")]=i("rejectionhandled"))})),e.__load_patch("queueMicrotask",((e,t,i)=>{!function(e,t){t.patchMethod(e,"queueMicrotask",(e=>function(e,t){Zone.current.scheduleMicroTask("queueMicrotask",t[0])}))}(e,i)}))}(he);var ue,ge,pe,me,fe,ve,ye,xe,_e,we,Ce,Se,be=function(e,t,i,n,r){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?r.call(e,i):r?r.value=i:t.set(e,i),i},De=function(e,t,i,n){if("a"===i&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?n:"a"===i?n.call(e):n?n.value:t.get(e)},Ee=e=>"boolean"==typeof e?e:e?.capture??!1,Te=class{constructor(){this.__eventListeners=new Map,this.__captureEventListeners=new Map}addEventListener(e,t,i){if(null==t)return;let n=Ee(i)?this.__captureEventListeners:this.__eventListeners,r=n.get(e);if(void 0===r)r=new Map,n.set(e,r);else if(r.has(t))return;let s="object"==typeof i&&i?i:{};s.signal?.addEventListener("abort",(()=>this.removeEventListener(e,t,i))),r.set(t,s??{})}removeEventListener(e,t,i){if(null==t)return;let n=Ee(i)?this.__captureEventListeners:this.__eventListeners,r=n.get(e);void 0!==r&&(r.delete(t),r.size||n.delete(e))}dispatchEvent(e){let t=[this],i=this.__eventTargetParent;if(e.composed)for(;i;)t.push(i),i=i.__eventTargetParent;else for(;i&&i!==this.__host;)t.push(i),i=i.__eventTargetParent;let n=!1,r=!1,s=0,o=null,a=null,l=null,d=e.stopPropagation,c=e.stopImmediatePropagation;Object.defineProperties(e,{target:{get:()=>o??a,...Ie},srcElement:{get:()=>e.target,...Ie},currentTarget:{get:()=>l,...Ie},eventPhase:{get:()=>s,...Ie},composedPath:{value:()=>t,...Ie},stopPropagation:{value:()=>{n=!0,d.call(e)},...Ie},stopImmediatePropagation:{value:()=>{r=!0,c.call(e)},...Ie}});let h=(t,i,n)=>{"function"==typeof t?t(e):"function"==typeof t?.handleEvent&&t.handleEvent(e),i.once&&n.delete(t)},u=()=>(l=null,s=0,!e.defaultPrevented),g=t.slice().reverse();o=this.__host&&e.composed?null:this;let p=e=>{for(a=this;a.__host&&e.includes(a.__host);)a=a.__host};for(let t of g){!o&&(!a||a===t.__host)&&p(g.slice(g.indexOf(t))),l=t,s=t===e.target?2:1;let i=t.__captureEventListeners.get(e.type);if(i)for(let[e,t]of i)if(h(e,t,i),r)return u();if(n)return u()}let m=e.bubbles?t:[this];a=null;for(let t of m){!o&&(!a||t===a.__host)&&p(m.slice(0,m.indexOf(t)+1)),l=t,s=t===e.target?2:3;let i=t.__eventListeners.get(e.type);if(i)for(let[e,t]of i)if(h(e,t,i),r)return u();if(n)return u()}return u()}},Ie={__proto__:null,enumerable:!0};Object.freeze(Ie);var Re=(we=class{constructor(e,t={}){if(ue.set(this,!1),ge.set(this,!1),pe.set(this,!1),me.set(this,!1),fe.set(this,Date.now()),ve.set(this,!1),ye.set(this,void 0),xe.set(this,void 0),_e.set(this,void 0),this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,0===arguments.length)throw new Error("The type argument must be specified");if("object"!=typeof t||!t)throw new Error('The "options" argument must be an object');let{bubbles:i,cancelable:n,composed:r}=t;be(this,ue,!!n,"f"),be(this,ge,!!i,"f"),be(this,pe,!!r,"f"),be(this,ye,`${e}`,"f"),be(this,xe,null,"f"),be(this,_e,!1,"f")}initEvent(e,t,i){throw new Error("Method not implemented.")}stopImmediatePropagation(){this.stopPropagation()}preventDefault(){be(this,me,!0,"f")}get target(){return De(this,xe,"f")}get currentTarget(){return De(this,xe,"f")}get srcElement(){return De(this,xe,"f")}get type(){return De(this,ye,"f")}get cancelable(){return De(this,ue,"f")}get defaultPrevented(){return De(this,ue,"f")&&De(this,me,"f")}get timeStamp(){return De(this,fe,"f")}composedPath(){return De(this,_e,"f")?[De(this,xe,"f")]:[]}get returnValue(){return!De(this,ue,"f")||!De(this,me,"f")}get bubbles(){return De(this,ge,"f")}get composed(){return De(this,pe,"f")}get eventPhase(){return De(this,_e,"f")?we.AT_TARGET:we.NONE}get cancelBubble(){return De(this,ve,"f")}set cancelBubble(e){e&&be(this,ve,!0,"f")}stopPropagation(){be(this,ve,!0,"f")}get isTrusted(){return!1}},ue=new WeakMap,ge=new WeakMap,pe=new WeakMap,me=new WeakMap,fe=new WeakMap,ve=new WeakMap,ye=new WeakMap,xe=new WeakMap,_e=new WeakMap,we.NONE=0,we.CAPTURING_PHASE=1,we.AT_TARGET=2,we.BUBBLING_PHASE=3,we);Object.defineProperties(Re.prototype,{initEvent:Ie,stopImmediatePropagation:Ie,preventDefault:Ie,target:Ie,currentTarget:Ie,srcElement:Ie,type:Ie,cancelable:Ie,defaultPrevented:Ie,timeStamp:Ie,composedPath:Ie,returnValue:Ie,bubbles:Ie,composed:Ie,eventPhase:Ie,cancelBubble:Ie,stopPropagation:Ie,isTrusted:Ie});var Ae=(Se=class extends Re{constructor(e,t={}){super(e,t),Ce.set(this,void 0),be(this,Ce,t?.detail??null,"f")}initCustomEvent(e,t,i,n){throw new Error("Method not implemented.")}get detail(){return De(this,Ce,"f")}},Ce=new WeakMap,Se);Object.defineProperties(Ae.prototype,{detail:Ie});var ke=Re,Oe=Ae;globalThis.Event??=ke,globalThis.CustomEvent??=Oe;var Fe=new WeakMap,Pe=e=>{let t=Fe.get(e);return void 0===t&&Fe.set(e,t=new Map),t},Ve=class extends Te{constructor(){super(...arguments),this.__shadowRootMode=null,this.__shadowRoot=null,this.__internals=null}get attributes(){return Array.from(Pe(this)).map((([e,t])=>({name:e,value:t})))}get shadowRoot(){return"closed"===this.__shadowRootMode?null:this.__shadowRoot}get localName(){return this.constructor.__localName}get tagName(){return this.localName?.toUpperCase()}setAttribute(e,t){Pe(this).set(e,String(t))}removeAttribute(e){Pe(this).delete(e)}toggleAttribute(e,t){return this.hasAttribute(e)?!(void 0===t||!t)||(this.removeAttribute(e),!1):!(void 0!==t&&!t||(this.setAttribute(e,""),0))}hasAttribute(e){return Pe(this).has(e)}attachShadow(e){let t={host:this};return this.__shadowRootMode=e.mode,e&&"open"===e.mode&&(this.__shadowRoot=t),t}attachInternals(){if(null!==this.__internals)throw new Error("Failed to execute 'attachInternals' on 'HTMLElement': ElementInternals for the specified element was already attached.");let e=new class{get shadowRoot(){return this.__host.__shadowRoot}constructor(e){this.ariaAtomic="",this.ariaAutoComplete="",this.ariaBrailleLabel="",this.ariaBrailleRoleDescription="",this.ariaBusy="",this.ariaChecked="",this.ariaColCount="",this.ariaColIndex="",this.ariaColSpan="",this.ariaCurrent="",this.ariaDescription="",this.ariaDisabled="",this.ariaExpanded="",this.ariaHasPopup="",this.ariaHidden="",this.ariaInvalid="",this.ariaKeyShortcuts="",this.ariaLabel="",this.ariaLevel="",this.ariaLive="",this.ariaModal="",this.ariaMultiLine="",this.ariaMultiSelectable="",this.ariaOrientation="",this.ariaPlaceholder="",this.ariaPosInSet="",this.ariaPressed="",this.ariaReadOnly="",this.ariaRequired="",this.ariaRoleDescription="",this.ariaRowCount="",this.ariaRowIndex="",this.ariaRowSpan="",this.ariaSelected="",this.ariaSetSize="",this.ariaSort="",this.ariaValueMax="",this.ariaValueMin="",this.ariaValueNow="",this.ariaValueText="",this.role="",this.form=null,this.labels=[],this.states=new Set,this.validationMessage="",this.validity={},this.willValidate=!0,this.__host=e}checkValidity(){return console.warn("`ElementInternals.checkValidity()` was called on the server.This method always returns true."),!0}reportValidity(){return!0}setFormValue(){}setValidity(){}}(this);return this.__internals=e,e}getAttribute(e){return Pe(this).get(e)??null}},Me=Ve,Le=class extends Ve{};globalThis.litServerRoot??=Object.defineProperty(new Le,"localName",{get:()=>"lit-server-root"});var Ne=class{constructor(){this.__definitions=new Map}define(e,t){if(this.__definitions.has(e))throw new Error(`Failed to execute 'define' on 'CustomElementRegistry': the name "${e}" has already been used with this registry`);t.__localName=e,this.__definitions.set(e,{ctor:t,observedAttributes:t.observedAttributes??[]})}get(e){return this.__definitions.get(e)?.ctor}},He=new Ne;typeof window>"u"&&(globalThis.Element=Me,globalThis.HTMLElement=Le,globalThis.CustomElementRegistry=Ne,globalThis.customElements=He),Zone&&Zone.__load_patch("abortSignal_patchEventTarget",((e,t,i)=>{let n=e.EventTarget?.prototype,r=i.getGlobalObjects().ADD_EVENT_LISTENER_STR,s=i.symbol(r),o=i.symbol(`${r}__ig_patch`);n?.[s]&&(n[o]=n[r],n[r]=function(){return arguments[2]?.signal?n[s].apply(this,arguments):n[o].apply(this,arguments)})}));var ze=Object.defineProperty,Be=Object.defineProperties,Ge=Object.getOwnPropertyDescriptor,$e=Object.getOwnPropertyDescriptors,We=Object.getOwnPropertyNames,Ke=Object.getOwnPropertySymbols,je=Object.getPrototypeOf,Ue=Object.prototype.hasOwnProperty,qe=Object.prototype.propertyIsEnumerable,Ye=Reflect.get,Ze=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),Xe=(e,t,i)=>t in e?ze(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,Qe=(e,t)=>{for(var i in t||={})Ue.call(t,i)&&Xe(e,i,t[i]);if(Ke)for(var i of Ke(t))qe.call(t,i)&&Xe(e,i,t[i]);return e},Je=(e,t)=>Be(e,$e(t)),et=(e,t)=>{var i={};for(var n in e)Ue.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&Ke)for(var n of Ke(e))t.indexOf(n)<0&&qe.call(e,n)&&(i[n]=e[n]);return i},tt=(e,t)=>{for(var i in t)ze(e,i,{get:t[i],enumerable:!0})},it=(e,t,i,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of We(t))!Ue.call(e,r)&&r!==i&&ze(e,r,{get:()=>t[r],enumerable:!(n=Ge(t,r))||n.enumerable});return e},nt=(e,t,i)=>(it(e,t,"default"),i&&it(i,t,"default")),rt=(e,t,i)=>Ye(je(e),i,t),st=(e,t,i)=>new Promise(((n,r)=>{var s=e=>{try{a(i.next(e))}catch(e){r(e)}},o=e=>{try{a(i.throw(e))}catch(e){r(e)}},a=e=>e.done?n(e.value):Promise.resolve(e.value).then(s,o);a((i=i.apply(e,t)).next())})),ot=function(e,t){this[0]=e,this[1]=t};function at(e,t){return Object.is(e,t)}var lt=null,dt=!1,ct=1,ht=Symbol("SIGNAL");function ut(e){let t=lt;return lt=e,t}var gt={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function pt(e){if(dt)throw new Error("");if(null===lt)return;lt.consumerOnSignalRead(e);let t=lt.nextProducerIndex++;Tt(lt),t<lt.producerNode.length&&lt.producerNode[t]!==e&&Et(lt)&&Dt(lt.producerNode[t],lt.producerIndexOfThis[t]),lt.producerNode[t]!==e&&(lt.producerNode[t]=e,lt.producerIndexOfThis[t]=Et(lt)?bt(e,lt,t):0),lt.producerLastReadVersion[t]=e.version}function mt(e){if((!Et(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==ct)){if(!e.producerMustRecompute(e)&&!Ct(e))return void xt(e);e.producerRecomputeValue(e),xt(e)}}function ft(e){if(void 0===e.liveConsumerNode)return;let t=dt;dt=!0;try{for(let t of e.liveConsumerNode)t.dirty||yt(t)}finally{dt=t}}function vt(){return!1!==lt?.consumerAllowSignalWrites}function yt(e){e.dirty=!0,ft(e),e.consumerMarkedDirty?.(e)}function xt(e){e.dirty=!1,e.lastCleanEpoch=ct}function _t(e){return e&&(e.nextProducerIndex=0),ut(e)}function wt(e,t){if(ut(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Et(e))for(let t=e.nextProducerIndex;t<e.producerNode.length;t++)Dt(e.producerNode[t],e.producerIndexOfThis[t]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Ct(e){Tt(e);for(let t=0;t<e.producerNode.length;t++){let i=e.producerNode[t],n=e.producerLastReadVersion[t];if(n!==i.version||(mt(i),n!==i.version))return!0}return!1}function St(e){if(Tt(e),Et(e))for(let t=0;t<e.producerNode.length;t++)Dt(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function bt(e,t,i){if(It(e),0===e.liveConsumerNode.length&&Rt(e))for(let t=0;t<e.producerNode.length;t++)e.producerIndexOfThis[t]=bt(e.producerNode[t],e,t);return e.liveConsumerIndexOfThis.push(i),e.liveConsumerNode.push(t)-1}function Dt(e,t){if(It(e),1===e.liveConsumerNode.length&&Rt(e))for(let t=0;t<e.producerNode.length;t++)Dt(e.producerNode[t],e.producerIndexOfThis[t]);let i=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[i],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[i],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let i=e.liveConsumerIndexOfThis[t],n=e.liveConsumerNode[t];Tt(n),n.producerIndexOfThis[i]=t}}function Et(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Tt(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function It(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function Rt(e){return void 0!==e.producerNode}var At=Symbol("UNSET"),kt=Symbol("COMPUTING"),Ot=Symbol("ERRORED"),Ft=Je(Qe({},gt),{value:At,dirty:!0,error:null,equal:at,kind:"computed",producerMustRecompute:e=>e.value===At||e.value===kt,producerRecomputeValue(e){if(e.value===kt)throw new Error("Detected cycle in computations.");let t=e.value;e.value=kt;let i,n=_t(e),r=!1;try{i=e.computation(),ut(null),r=t!==At&&t!==Ot&&i!==Ot&&e.equal(t,i)}catch(t){i=Ot,e.error=t}finally{wt(e,n)}r?e.value=t:(e.value=i,e.version++)}}),Pt=function(){throw new Error};function Vt(e){Pt(e)}var Mt=null;function Lt(e,t){vt()||Vt(e),e.equal(e.value,t)||(e.value=t,function(e){e.version++,ct++,ft(e),Mt?.()}(e))}var Nt,Ht=Je(Qe({},gt),{equal:at,value:void 0,kind:"signal"});function zt(){return Nt}function Bt(e){let t=Nt;return Nt=e,t}var Gt=Symbol("NotFound");function $t(e){return"function"==typeof e}function Wt(e){let t=e((e=>{Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Kt=Wt((e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map(((e,t)=>`${t+1}) ${e.toString()}`)).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t}));function jt(e,t){if(e){let i=e.indexOf(t);0<=i&&e.splice(i,1)}}var Ut=class e{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let e of t)e.remove(this);else t.remove(this);let{initialTeardown:i}=this;if($t(i))try{i()}catch(t){e=t instanceof Kt?t.errors:[t]}let{_finalizers:n}=this;if(n){this._finalizers=null;for(let t of n)try{Zt(t)}catch(t){e=e??[],t instanceof Kt?e=[...e,...t.errors]:e.push(t)}}if(e)throw new Kt(e)}}add(t){var i;if(t&&t!==this)if(this.closed)Zt(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(i=this._finalizers)&&void 0!==i?i:[]).push(t)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&jt(t,e)}remove(t){let{_finalizers:i}=this;i&&jt(i,t),t instanceof e&&t._removeParent(this)}};Ut.EMPTY=(()=>{let e=new Ut;return e.closed=!0,e})();var qt=Ut.EMPTY;function Yt(e){return e instanceof Ut||e&&"closed"in e&&$t(e.remove)&&$t(e.add)&&$t(e.unsubscribe)}function Zt(e){$t(e)?e():e.unsubscribe()}var Xt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Qt={setTimeout(e,t,...i){let{delegate:n}=Qt;return n?.setTimeout?n.setTimeout(e,t,...i):setTimeout(e,t,...i)},clearTimeout(e){let{delegate:t}=Qt;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Jt(e){Qt.setTimeout((()=>{let{onUnhandledError:t}=Xt;if(!t)throw e;t(e)}))}function ei(){}var ti=ii("C",void 0,void 0);function ii(e,t,i){return{kind:e,value:t,error:i}}var ni=null;function ri(e){if(Xt.useDeprecatedSynchronousErrorHandling){let t=!ni;if(t&&(ni={errorThrown:!1,error:null}),e(),t){let{errorThrown:e,error:t}=ni;if(ni=null,e)throw t}}else e()}var si=class extends Ut{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Yt(e)&&e.add(this)):this.destination=hi}static create(e,t,i){return new li(e,t,i)}next(e){this.isStopped?ci(function(e){return ii("N",e,void 0)}(e),this):this._next(e)}error(e){this.isStopped?ci(function(e){return ii("E",void 0,e)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ci(ti,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},oi=Function.prototype.bind;function ai(e,t){return oi.call(e,t)}var li=class extends si{constructor(e,t,i){let n;if(super(),$t(e)||!e)n={next:e??void 0,error:t??void 0,complete:i??void 0};else{let t;this&&Xt.useDeprecatedNextContext?(t=Object.create(e),t.unsubscribe=()=>this.unsubscribe(),n={next:e.next&&ai(e.next,t),error:e.error&&ai(e.error,t),complete:e.complete&&ai(e.complete,t)}):n=e}this.destination=new class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(e){di(e)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(e){di(e)}else di(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(e){di(e)}}}(n)}};function di(e){Xt.useDeprecatedSynchronousErrorHandling?function(e){Xt.useDeprecatedSynchronousErrorHandling&&ni&&(ni.errorThrown=!0,ni.error=e)}(e):Jt(e)}function ci(e,t){let{onStoppedNotification:i}=Xt;i&&Qt.setTimeout((()=>i(e,t)))}var hi={closed:!0,next:ei,error:function(e){throw e},complete:ei},ui="function"==typeof Symbol&&Symbol.observable||"@@observable";function gi(e){return e}function pi(e){return 0===e.length?gi:1===e.length?e[0]:function(t){return e.reduce(((e,t)=>t(e)),t)}}var mi=(()=>{class e{constructor(e){e&&(this._subscribe=e)}lift(t){let i=new e;return i.source=this,i.operator=t,i}subscribe(e,t,i){let n=function(e){return e&&e instanceof si||function(e){return e&&$t(e.next)&&$t(e.error)&&$t(e.complete)}(e)&&Yt(e)}(e)?e:new li(e,t,i);return ri((()=>{let{operator:e,source:t}=this;n.add(e?e.call(n,t):t?this._subscribe(n):this._trySubscribe(n))})),n}_trySubscribe(e){try{return this._subscribe(e)}catch(t){e.error(t)}}forEach(e,t){return new(t=fi(t))(((t,i)=>{let n=new li({next:t=>{try{e(t)}catch(e){i(e),n.unsubscribe()}},error:i,complete:t});this.subscribe(n)}))}_subscribe(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)}[ui](){return this}pipe(...e){return pi(e)(this)}toPromise(e){return new(e=fi(e))(((e,t)=>{let i;this.subscribe((e=>i=e),(e=>t(e)),(()=>e(i)))}))}}return e.create=t=>new e(t),e})();function fi(e){var t;return null!==(t=e??Xt.Promise)&&void 0!==t?t:Promise}function vi(e){return t=>{if(function(e){return $t(e?.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}function yi(e,t,i,n,r){return new xi(e,t,i,n,r)}var xi=class extends si{constructor(e,t,i,n,r,s){super(e),this.onFinalize=r,this.shouldUnsubscribe=s,this._next=t?function(i){try{t(i)}catch(t){e.error(t)}}:super._next,this._error=n?function(t){try{n(t)}catch(t){e.error(t)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(t){e.error(t)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}},_i={schedule(e){let t=requestAnimationFrame,i=cancelAnimationFrame,{delegate:n}=_i;n&&(t=n.requestAnimationFrame,i=n.cancelAnimationFrame);let r=t((t=>{i=void 0,e(t)}));return new Ut((()=>i?.(r)))},requestAnimationFrame(...e){let{delegate:t}=_i;return(t?.requestAnimationFrame||requestAnimationFrame)(...e)},cancelAnimationFrame(...e){let{delegate:t}=_i;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...e)},delegate:void 0},wi=Wt((e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"})),Ci=(()=>{class e extends mi{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){let t=new Si(this,this);return t.operator=e,t}_throwIfClosed(){if(this.closed)throw new wi}next(e){ri((()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let t of this.currentObservers)t.next(e)}}))}error(e){ri((()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:t}=this;for(;t.length;)t.shift().error(e)}}))}complete(){ri((()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}}))}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:t,isStopped:i,observers:n}=this;return t||i?qt:(this.currentObservers=null,n.push(e),new Ut((()=>{this.currentObservers=null,jt(n,e)})))}_checkFinalizedStatuses(e){let{hasError:t,thrownError:i,isStopped:n}=this;t?e.error(i):n&&e.complete()}asObservable(){let e=new mi;return e.source=this,e}}return e.create=(e,t)=>new Si(e,t),e})(),Si=class extends Ci{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)}error(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:qt}},bi=class extends Ci{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}},Di={now:()=>(Di.delegate||Date).now(),delegate:void 0},Ei=class extends Ci{constructor(e=1/0,t=1/0,i=Di){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){let{isStopped:t,_buffer:i,_infiniteTimeWindow:n,_timestampProvider:r,_windowTime:s}=this;t||(i.push(e),!n&&i.push(r.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:n}=this,r=n.slice();for(let t=0;t<r.length&&!e.closed;t+=i?1:2)e.next(r[t]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){let{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:n}=this,r=(n?1:2)*e;if(e<1/0&&r<i.length&&i.splice(0,i.length-r),!n){let e=t.now(),n=0;for(let t=1;t<i.length&&i[t]<=e;t+=2)n=t;n&&i.splice(0,n+1)}}},Ti=class extends Ut{constructor(e,t){super()}schedule(e,t=0){return this}},Ii={setInterval(e,t,...i){let{delegate:n}=Ii;return n?.setInterval?n.setInterval(e,t,...i):setInterval(e,t,...i)},clearInterval(e){let{delegate:t}=Ii;return(t?.clearInterval||clearInterval)(e)},delegate:void 0},Ri=class extends Ti{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;let n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(r,this.id,t),this}requestAsyncId(e,t,i=0){return Ii.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&Ii.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,n=!1;try{this.work(e)}catch(e){n=!0,i=e||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,jt(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}},Ai=class e{constructor(t,i=e.now){this.schedulerActionCtor=t,this.now=i}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}};Ai.now=Di.now;var ki=class extends Ai{constructor(e,t=Ai.now){super(e,t),this.actions=[],this._active=!1}flush(e){let t,{actions:i}=this;if(this._active)i.push(e);else{this._active=!0;do{if(t=e.execute(e.state,e.delay))break}while(e=i.shift());if(this._active=!1,t){for(;e=i.shift();)e.unsubscribe();throw t}}}},Oi=new ki(Ri),Fi=Oi,Pi=new class extends ki{flush(e){let t;this._active=!0,e?t=e.id:(t=this._scheduled,this._scheduled=void 0);let i,{actions:n}=this;e=e||n.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=n[0])&&e.id===t&&n.shift());if(this._active=!1,i){for(;(e=n[0])&&e.id===t&&n.shift();)e.unsubscribe();throw i}}}(class extends Ri{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=_i.requestAnimationFrame((()=>e.flush(void 0)))))}recycleAsyncId(e,t,i=0){var n;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);let{actions:r}=e;null!=t&&t===e._scheduled&&(null===(n=r[r.length-1])||void 0===n?void 0:n.id)!==t&&(_i.cancelAnimationFrame(t),e._scheduled=void 0)}}),Vi=new mi((e=>e.complete()));function Mi(e){return e&&$t(e.schedule)}function Li(e){return e[e.length-1]}function Ni(e){return Mi(Li(e))?e.pop():void 0}function Hi(e,t,i,n){var r,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o}function zi(e,t){return function(i,n){t(i,n,e)}}function Bi(e){return this instanceof Bi?(this.v=e,this):new Bi(e)}function Gi(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,i=e[Symbol.asyncIterator];return i?i.call(e):(e=function(e){var t="function"==typeof Symbol&&Symbol.iterator,i=t&&e[t],n=0;if(i)return i.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(i){t[i]=e[i]&&function(t){return new Promise((function(n,r){!function(e,t,i,n){Promise.resolve(n).then((function(t){e({value:t,done:i})}),t)}(n,r,(t=e[i](t)).done,t.value)}))}}}var $i=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function Wi(e){return $t(e?.then)}function Ki(e){return $t(e[ui])}function ji(e){return Symbol.asyncIterator&&$t(e?.[Symbol.asyncIterator])}function Ui(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}var qi="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function Yi(e){return $t(e?.[qi])}function Zi(e){return function(e,t,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,r=i.apply(e,t||[]),s=[];return n=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",(function(e){return function(t){return Promise.resolve(t).then(e,d)}})),n[Symbol.asyncIterator]=function(){return this},n;function o(e,t){r[e]&&(n[e]=function(t){return new Promise((function(i,n){s.push([e,t,i,n])>1||a(e,t)}))},t&&(n[e]=t(n[e])))}function a(e,t){try{!function(e){e.value instanceof Bi?Promise.resolve(e.value.v).then(l,d):c(s[0][2],e)}(r[e](t))}catch(e){c(s[0][3],e)}}function l(e){a("next",e)}function d(e){a("throw",e)}function c(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,(function*(){let t=e.getReader();try{for(;;){let{value:e,done:i}=yield Bi(t.read());if(i)return yield Bi(void 0);yield yield Bi(e)}}finally{t.releaseLock()}}))}function Xi(e){return $t(e?.getReader)}function Qi(e){if(e instanceof mi)return e;if(null!=e){if(Ki(e))return function(e){return new mi((t=>{let i=e[ui]();if($t(i.subscribe))return i.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")}))}(e);if($i(e))return function(e){return new mi((t=>{for(let i=0;i<e.length&&!t.closed;i++)t.next(e[i]);t.complete()}))}(e);if(Wi(e))return function(e){return new mi((t=>{e.then((e=>{t.closed||(t.next(e),t.complete())}),(e=>t.error(e))).then(null,Jt)}))}(e);if(ji(e))return Ji(e);if(Yi(e))return function(e){return new mi((t=>{for(let i of e)if(t.next(i),t.closed)return;t.complete()}))}(e);if(Xi(e))return function(e){return Ji(Zi(e))}(e)}throw Ui(e)}function Ji(e){return new mi((t=>{(function(e,t){var i,n,r,s;return function(e,t,i,n){return new(i||(i=Promise))((function(r,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?r(e.value):function(e){return e instanceof i?e:new i((function(t){t(e)}))}(e.value).then(o,a)}l((n=n.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){try{for(i=Gi(e);!(n=yield i.next()).done;){let e=n.value;if(t.next(e),t.closed)return}}catch(e){r={error:e}}finally{try{n&&!n.done&&(s=i.return)&&(yield s.call(i))}finally{if(r)throw r.error}}t.complete()}))})(e,t).catch((e=>t.error(e)))}))}function en(e,t,i,n=0,r=!1){let s=t.schedule((function(){i(),r?e.add(this.schedule(null,n)):this.unsubscribe()}),n);if(e.add(s),!r)return s}function tn(e,t=0){return vi(((i,n)=>{i.subscribe(yi(n,(i=>en(n,e,(()=>n.next(i)),t)),(()=>en(n,e,(()=>n.complete()),t)),(i=>en(n,e,(()=>n.error(i)),t))))}))}function nn(e,t=0){return vi(((i,n)=>{n.add(e.schedule((()=>i.subscribe(n)),t))}))}function rn(e,t){if(!e)throw new Error("Iterable cannot be null");return new mi((i=>{en(i,t,(()=>{let n=e[Symbol.asyncIterator]();en(i,t,(()=>{n.next().then((e=>{e.done?i.complete():i.next(e.value)}))}),0,!0)}))}))}function sn(e,t){return t?function(e,t){if(null!=e){if(Ki(e))return function(e,t){return Qi(e).pipe(nn(t),tn(t))}(e,t);if($i(e))return function(e,t){return new mi((i=>{let n=0;return t.schedule((function(){n===e.length?i.complete():(i.next(e[n++]),i.closed||this.schedule())}))}))}(e,t);if(Wi(e))return function(e,t){return Qi(e).pipe(nn(t),tn(t))}(e,t);if(ji(e))return rn(e,t);if(Yi(e))return function(e,t){return new mi((i=>{let n;return en(i,t,(()=>{n=e[qi](),en(i,t,(()=>{let e,t;try{({value:e,done:t}=n.next())}catch(e){return void i.error(e)}t?i.complete():i.next(e)}),0,!0)})),()=>$t(n?.return)&&n.return()}))}(e,t);if(Xi(e))return function(e,t){return rn(Zi(e),t)}(e,t)}throw Ui(e)}(e,t):Qi(e)}var on=Wt((e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}));function an(e){return e instanceof Date&&!isNaN(e)}var ln=Wt((e=>function(t=null){e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t}));function dn(e){throw new ln(e)}function cn(e,t){return vi(((i,n)=>{let r=0;i.subscribe(yi(n,(i=>{n.next(e.call(t,i,r++))})))}))}var{isArray:hn}=Array;function un(e){return cn((t=>function(e,t){return hn(t)?e(...t):e(t)}(e,t)))}var{isArray:gn}=Array,{getPrototypeOf:pn,prototype:mn,keys:fn}=Object;function vn(e,t){return e.reduce(((e,i,n)=>(e[i]=t[n],e)),{})}function yn(e,t,i=1/0){return $t(t)?yn(((i,n)=>cn(((e,r)=>t(i,e,n,r)))(Qi(e(i,n)))),i):("number"==typeof t&&(i=t),vi(((t,n)=>function(e,t,i,n,r,s,o,a){let l=[],d=0,c=0,h=!1,u=()=>{h&&!l.length&&!d&&t.complete()},g=e=>d<n?p(e):l.push(e),p=e=>{d++;let r=!1;Qi(i(e,c++)).subscribe(yi(t,(e=>{t.next(e)}),(()=>{r=!0}),void 0,(()=>{if(r)try{for(d--;l.length&&d<n;){let e=l.shift();p(e)}u()}catch(e){t.error(e)}})))};return e.subscribe(yi(t,g,(()=>{h=!0,u()}))),()=>{}}(t,n,e,i))))}function xn(...e){let t=function(e){return $t(Li(e))?e.pop():void 0}(e),{args:i,keys:n}=function(e){if(1===e.length){let t=e[0];if(gn(t))return{args:t,keys:null};if(function(e){return e&&"object"==typeof e&&pn(e)===mn}(t)){let e=fn(t);return{args:e.map((e=>t[e])),keys:e}}}return{args:e,keys:null}}(e),r=new mi((e=>{let{length:t}=i;if(!t)return void e.complete();let r=new Array(t),s=t,o=t;for(let a=0;a<t;a++){let t=!1;Qi(i[a]).subscribe(yi(e,(e=>{t||(t=!0,o--),r[a]=e}),(()=>s--),void 0,(()=>{(!s||!t)&&(o||e.next(n?vn(n,r):r),e.complete())})))}}));return t?r.pipe(un(t)):r}var _n=["addListener","removeListener"],wn=["addEventListener","removeEventListener"],Cn=["on","off"];function Sn(e,t,i,n){if($t(i)&&(n=i,i=void 0),n)return Sn(e,t,i).pipe(un(n));let[r,s]=function(e){return $t(e.addEventListener)&&$t(e.removeEventListener)}(e)?wn.map((n=>r=>e[n](t,r,i))):function(e){return $t(e.addListener)&&$t(e.removeListener)}(e)?_n.map(bn(e,t)):function(e){return $t(e.on)&&$t(e.off)}(e)?Cn.map(bn(e,t)):[];if(!r&&$i(e))return yn((e=>Sn(e,t,i)))(Qi(e));if(!r)throw new TypeError("Invalid event target");return new mi((e=>{let t=(...t)=>e.next(1<t.length?t:t[0]);return r(t),()=>s(t)}))}function bn(e,t){return i=>n=>e[i](t,n)}function Dn(e=0,t,i=Fi){let n=-1;return null!=t&&(Mi(t)?i=t:n=t),new mi((t=>{let r=an(e)?+e-i.now():e;r<0&&(r=0);let s=0;return i.schedule((function(){t.closed||(t.next(s++),0<=n?this.schedule(void 0,n):t.complete())}),r)}))}function En(e=0,t=Oi){return e<0&&(e=0),Dn(e,e,t)}function Tn(...e){let t=Ni(e),i=function(e,t){return"number"==typeof Li(e)?e.pop():1/0}(e),n=e;return n.length?1===n.length?Qi(n[0]):function(e=1/0){return yn(gi,e)}(i)(sn(n,t)):Vi}var In=new mi(ei);function Rn(e,t){return vi(((i,n)=>{let r=0;i.subscribe(yi(n,(i=>e.call(t,i,r++)&&n.next(i))))}))}function An(e){return vi(((t,i)=>{let n=!1,r=null,s=null,o=()=>{if(s?.unsubscribe(),s=null,n){n=!1;let e=r;r=null,i.next(e)}};t.subscribe(yi(i,(t=>{s?.unsubscribe(),n=!0,r=t,s=yi(i,o,ei),Qi(e(t)).subscribe(s)}),(()=>{o(),i.complete()}),void 0,(()=>{r=s=null})))}))}function kn(e,t=Oi){return vi(((i,n)=>{let r=null,s=null,o=null,a=()=>{if(r){r.unsubscribe(),r=null;let e=s;s=null,n.next(e)}};function l(){let i=o+e,s=t.now();if(s<i)return r=this.schedule(void 0,i-s),void n.add(r);a()}i.subscribe(yi(n,(i=>{s=i,o=t.now(),r||(r=t.schedule(l,e),n.add(r))}),(()=>{a(),n.complete()}),void 0,(()=>{s=r=null})))}))}function On(e){return e<=0?()=>Vi:vi(((t,i)=>{let n=0;t.subscribe(yi(i,(t=>{++n<=e&&(i.next(t),e<=n&&i.complete())})))}))}function Fn(e=Pn){return vi(((t,i)=>{let n=!1;t.subscribe(yi(i,(e=>{n=!0,i.next(e)}),(()=>n?i.complete():i.error(e()))))}))}function Pn(){return new on}function Vn(e,t){let i=arguments.length>=2;return n=>n.pipe(e?Rn(((t,i)=>e(t,i,n))):gi,On(1),i?function(e){return vi(((t,i)=>{let n=!1;t.subscribe(yi(i,(e=>{n=!0,i.next(e)}),(()=>{n||i.next(e),i.complete()})))}))}(t):Fn((()=>new on)))}function Mn(e,t,...i){if(!0===t)return void e();if(!1===t)return;let n=new li({next:()=>{n.unsubscribe(),e()}});return Qi(t(...i)).subscribe(n)}function Ln(e,t){return vi(((i,n)=>{let r=null,s=0,o=!1,a=()=>o&&!r&&n.complete();i.subscribe(yi(n,(i=>{r?.unsubscribe();let o=0,l=s++;Qi(e(i,l)).subscribe(r=yi(n,(e=>n.next(t?t(i,e,l,o++):e)),(()=>{r=null,a()})))}),(()=>{o=!0,a()})))}))}function Nn(e){return vi(((t,i)=>{Qi(e).subscribe(yi(i,(()=>i.complete()),ei)),!i.closed&&t.subscribe(i)}))}function Hn(e,t=!1){return vi(((i,n)=>{let r=0;i.subscribe(yi(n,(i=>{let s=e(i,r++);(s||t)&&n.next(i),!s&&n.complete()})))}))}function zn(e,t){return vi(((i,n)=>{let{leading:r=!0,trailing:s=!1}=t??{},o=!1,a=null,l=null,d=!1,c=()=>{l?.unsubscribe(),l=null,s&&(g(),d&&n.complete())},h=()=>{l=null,d&&n.complete()},u=t=>l=Qi(e(t)).subscribe(yi(n,c,h)),g=()=>{if(o){o=!1;let e=a;a=null,n.next(e),!d&&u(e)}};i.subscribe(yi(n,(e=>{o=!0,a=e,(!l||l.closed)&&(r?g():u(e))}),(()=>{d=!0,(!(s&&o&&l)||l.closed)&&n.complete()})))}))}function Bn(e,t=Oi,i){let n=Dn(e,t);return zn((()=>n),i)}var Gn="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",$n=class extends Error{code;constructor(e,t){super(function(e,t){return`${function(e){return`NG0${Math.abs(e)}`}(e)}${t?": "+t:""}`}(e,t)),this.code=e}};function Wn(e){return{toString:e}.toString()}var Kn="__parameters__";function jn(e,t,i){return Wn((()=>{let i=function(e){return function(...t){if(e){let i=e(...t);for(let e in i)this[e]=i[e]}}}(t);function n(...e){if(this instanceof n)return i.apply(this,e),this;let t=new n(...e);return r.annotation=t,r;function r(e,i,n){let r=e.hasOwnProperty(Kn)?e[Kn]:Object.defineProperty(e,Kn,{value:[]})[Kn];for(;r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(t),e}}return n.prototype.ngMetadataName=e,n.annotationCls=n,n}))}var Un=globalThis;function qn(e){for(let t in e)if(e[t]===qn)return t;throw Error("Could not find renamed property on target object.")}function Yn(e,t){for(let i in t)t.hasOwnProperty(i)&&!e.hasOwnProperty(i)&&(e[i]=t[i])}function Zn(e){if("string"==typeof e)return e;if(Array.isArray(e))return`[${e.map(Zn).join(", ")}]`;if(null==e)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let i=e.toString();if(null==i)return""+i;let n=i.indexOf("\n");return n>=0?i.slice(0,n):i}function Xn(e,t){return e?t?`${e} ${t}`:e:t||""}var Qn=qn({__forward_ref__:qn});function Jn(e){return e.__forward_ref__=Jn,e.toString=function(){return Zn(this())},e}function er(e){return tr(e)?e():e}function tr(e){return"function"==typeof e&&e.hasOwnProperty(Qn)&&e.__forward_ref__===Jn}function ir(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function nr(e){return{providers:e.providers||[],imports:e.imports||[]}}function rr(e){return sr(e,ar)||sr(e,dr)}function sr(e,t){return e.hasOwnProperty(t)?e[t]:null}function or(e){return e&&(e.hasOwnProperty(lr)||e.hasOwnProperty(cr))?e[lr]:null}var ar=qn({ɵprov:qn}),lr=qn({ɵinj:qn}),dr=qn({ngInjectableDef:qn}),cr=qn({ngInjectorDef:qn}),hr=class{_desc;ngMetadataName="InjectionToken";ɵprov;constructor(e,t){this._desc=e,this.ɵprov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.ɵprov=ir({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function ur(e){return e&&!!e.ɵproviders}var gr=qn({ɵcmp:qn}),pr=qn({ɵdir:qn}),mr=qn({ɵpipe:qn}),fr=qn({ɵmod:qn}),vr=qn({ɵfac:qn}),yr=qn({__NG_ELEMENT_ID__:qn}),xr=qn({__NG_ENV_ID__:qn});function _r(e){return"string"==typeof e?e:null==e?"":String(e)}function wr(e,t){throw new $n(-200,e)}function Cr(e,t){throw new $n(-201,!1)}var Sr,br=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(br||{});function Dr(){return Sr}function Er(e){let t=Sr;return Sr=e,t}function Tr(e,t,i){let n=rr(e);return n&&"root"==n.providedIn?void 0===n.value?n.value=n.factory():n.value:i&br.Optional?null:void 0!==t?t:void Cr()}var Ir={},Rr="__NG_DI_FLAG__",Ar=class{injector;constructor(e){this.injector=e}retrieve(e,t){let i=t;return this.injector.get(e,i.optional?Gt:Ir,i)}},kr="ngTempTokenPath",Or=/\n/gm,Fr="__source";function Pr(e,t=br.Default){if(void 0===zt())throw new $n(-203,!1);if(null===zt())return Tr(e,void 0,t);{let i,n=zt();return i=n instanceof Ar?n.injector:n,i.get(e,t&br.Optional?null:void 0,t)}}function Vr(e,t=br.Default){return(Dr()||Pr)(er(e),t)}function Mr(e,t=br.Default){return Vr(e,Lr(t))}function Lr(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Nr(e){let t=[];for(let i=0;i<e.length;i++){let n=er(e[i]);if(Array.isArray(n)){if(0===n.length)throw new $n(900,!1);let e,i=br.Default;for(let t=0;t<n.length;t++){let r=n[t],s=zr(r);"number"==typeof s?-1===s?e=r.token:i|=s:e=r}t.push(Vr(e,i))}else t.push(Vr(n))}return t}function Hr(e,t){return e[Rr]=t,e.prototype[Rr]=t,e}function zr(e){return e[Rr]}var Br=Hr(jn("Optional"),8),Gr=Hr(jn("SkipSelf"),4);function $r(e,t){return e.hasOwnProperty(vr)?e[vr]:null}function Wr(e,t){e.forEach((e=>Array.isArray(e)?Wr(e,t):t(e)))}function Kr(e,t,i){t>=e.length?e.push(i):e.splice(t,0,i)}function jr(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Ur(e,t,i){let n=Yr(e,t);return n>=0?e[1|n]=i:(n=~n,function(e,t,i,n){let r=e.length;if(r==t)e.push(i,n);else if(1===r)e.push(n,e[0]),e[0]=i;else{for(r--,e.push(e[r-1],e[r]);r>t;){let t=r-2;e[r]=e[t],r--}e[t]=i,e[t+1]=n}}(e,n,t,i)),n}function qr(e,t){let i=Yr(e,t);if(i>=0)return e[1|i]}function Yr(e,t){return function(e,t,i){let n=0,r=e.length>>1;for(;r!==n;){let i=n+(r-n>>1),s=e[i<<1];if(t===s)return i<<1;s>t?r=i:n=i+1}return~(r<<1)}(e,t)}var Zr={},Xr=[],Qr=new hr(""),Jr=new hr("",-1),es=new hr(""),ts=class{get(e,t=Ir){if(t===Ir){let t=new Error(`NullInjectorError: No provider for ${Zn(e)}!`);throw t.name="NullInjectorError",t}return t}};function is(e){return e[gr]||null}function ns(e){return e[mr]||null}function rs(...e){return{ɵproviders:ss(0,e),ɵfromNgModule:!0}}function ss(e,...t){let i,n=[],r=new Set,s=e=>{n.push(e)};return Wr(t,(e=>{let t=e;as(t,s,[],r)&&(i||=[],i.push(t))})),void 0!==i&&os(i,s),n}function os(e,t){for(let i=0;i<e.length;i++){let{ngModule:n,providers:r}=e[i];ls(r,(e=>{t(e,n)}))}}function as(e,t,i,n){if(!(e=er(e)))return!1;let r=null,s=or(e),o=!s&&is(e);if(s||o){if(o&&!o.standalone)return!1;r=e}else{let t=e.ngModule;if(s=or(t),!s)return!1;r=t}let a=n.has(r);if(o){if(a)return!1;if(n.add(r),o.dependencies){let e="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(let r of e)as(r,t,i,n)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let e;n.add(r);try{Wr(s.imports,(r=>{as(r,t,i,n)&&(e||=[],e.push(r))}))}finally{}void 0!==e&&os(e,t)}if(!a){let e=$r(r)||(()=>new r);t({provide:r,useFactory:e,deps:Xr},r),t({provide:es,useValue:r,multi:!0},r),t({provide:Qr,useValue:()=>Vr(r),multi:!0},r)}let o=s.providers;if(null!=o&&!a){let i=e;ls(o,(e=>{t(e,i)}))}}}return r!==e&&void 0!==e.providers}function ls(e,t){for(let i of e)ur(i)&&(i=i.ɵproviders),Array.isArray(i)?ls(i,t):t(i)}var ds=qn({provide:String,useValue:qn});function cs(e){return null!==e&&"object"==typeof e&&ds in e}function hs(e){return"function"==typeof e}var us,gs=new hr(""),ps={},ms={};function fs(){return void 0===us&&(us=new ts),us}var vs=class{},ys=class extends vs{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,i,n){super(),this.parent=t,this.source=i,this.scopes=n,Ss(e,(e=>this.processProvider(e))),this.records.set(Jr,Cs(void 0,this)),n.has("environment")&&this.records.set(vs,Cs(void 0,this));let r=this.records.get(gs);null!=r&&"string"==typeof r.value&&this.scopes.add(r.value),this.injectorDefTypes=new Set(this.get(es,Xr,br.Self))}retrieve(e,t){let i=t;return this.get(e,i.optional?Gt:Ir,i)}destroy(){ws(this),this._destroyed=!0;let e=ut(null);try{for(let e of this._ngOnDestroyHooks)e.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ut(e)}}onDestroy(e){return ws(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){ws(this);let t=Bt(this),i=Er(void 0);try{return e()}finally{Bt(t),Er(i)}}get(e,t=Ir,i=br.Default){if(ws(this),e.hasOwnProperty(xr))return e[xr](this);i=Lr(i);let n=Bt(this),r=Er(void 0);try{if(!(i&br.SkipSelf)){let t=this.records.get(e);if(void 0===t){let i=function(e){return"function"==typeof e||"object"==typeof e&&e instanceof hr}(e)&&rr(e);t=i&&this.injectableDefInScope(i)?Cs(xs(e),ps):null,this.records.set(e,t)}if(null!=t)return this.hydrate(e,t)}let n=i&br.Self?fs():this.parent;return t=i&br.Optional&&t===Ir?null:t,n.get(e,t)}catch(t){if("NullInjectorError"===t.name){if((t[kr]=t[kr]||[]).unshift(Zn(e)),n)throw t;return function(e,t,i,n){let r=e[kr];throw t[Fr]&&r.unshift(t[Fr]),e.message=function(e,t,i,n=null){e=e&&"\n"===e.charAt(0)&&"ɵ"==e.charAt(1)?e.slice(2):e;let r=Zn(t);if(Array.isArray(t))r=t.map(Zn).join(" -> ");else if("object"==typeof t){let e=[];for(let i in t)if(t.hasOwnProperty(i)){let n=t[i];e.push(i+":"+("string"==typeof n?JSON.stringify(n):Zn(n)))}r=`{${e.join(", ")}}`}return`${i}${n?"("+n+")":""}[${r}]: ${e.replace(Or,"\n  ")}`}("\n"+e.message,r,i,n),e.ngTokenPath=r,e[kr]=null,e}(t,e,"R3InjectorError",this.source)}throw t}finally{Er(r),Bt(n)}}resolveInjectorInitializers(){let e=ut(null),t=Bt(this),i=Er(void 0);try{let e=this.get(Qr,Xr,br.Self);for(let t of e)t()}finally{Bt(t),Er(i),ut(e)}}toString(){let e=[],t=this.records;for(let i of t.keys())e.push(Zn(i));return`R3Injector[${e.join(", ")}]`}processProvider(e){let t=hs(e=er(e))?e:er(e&&e.provide),i=function(e){return cs(e)?Cs(void 0,e.useValue):Cs(_s(e),ps)}(e);if(!hs(e)&&!0===e.multi){let i=this.records.get(t);i||(i=Cs(void 0,ps,!0),i.factory=()=>Nr(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,i)}hydrate(e,t){let i=ut(null);try{return t.value===ms?wr(Zn(e)):t.value===ps&&(t.value=ms,t.value=t.factory()),"object"==typeof t.value&&t.value&&function(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ut(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=er(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}};function xs(e){let t=rr(e),i=null!==t?t.factory:$r(e);if(null!==i)return i;if(e instanceof hr)throw new $n(204,!1);if(e instanceof Function)return function(e){if(e.length>0)throw new $n(204,!1);let t=function(e){return e&&(e[ar]||e[dr])||null}(e);return null!==t?()=>t.factory(e):()=>new e}(e);throw new $n(204,!1)}function _s(e,t,i){let n;if(hs(e)){let t=er(e);return $r(t)||xs(t)}if(cs(e))n=()=>er(e.useValue);else if(function(e){return!(!e||!e.useFactory)}(e))n=()=>e.useFactory(...Nr(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))n=()=>Vr(er(e.useExisting));else{let t=er(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return $r(t)||xs(t);n=()=>new t(...Nr(e.deps))}return n}function ws(e){if(e.destroyed)throw new $n(205,!1)}function Cs(e,t,i=!1){return{factory:e,value:t,multi:i?[]:void 0}}function Ss(e,t){for(let i of e)Array.isArray(i)?Ss(i,t):i&&ur(i)?Ss(i.ɵproviders,t):t(i)}function bs(e,t){let i;e instanceof ys?(ws(e),i=e):i=new Ar(e);let n=Bt(i),r=Er(void 0);try{return t()}finally{Bt(n),Er(r)}}function Ds(){return void 0!==Dr()||null!=zt()}var Es=0,Ts=1,Is=2,Rs=3,As=4,ks=5,Os=6,Fs=7,Ps=8,Vs=9,Ms=10,Ls=11,Ns=12,Hs=13,zs=14,Bs=15,Gs=16,$s=17,Ws=18,Ks=19,js=20,Us=21,qs=22,Ys=23,Zs=24,Xs=25,Qs=26,Js=1,eo=7,to=9,io=10;function no(e){return Array.isArray(e)&&"object"==typeof e[Js]}function ro(e){return Array.isArray(e)&&!0===e[Js]}function so(e){return 0!=(4&e.flags)}function oo(e){return e.componentOffset>-1}function ao(e){return 1==(1&e.flags)}function lo(e){return!!e.template}function co(e){return 0!=(512&e[Is])}function ho(e){return 256==(256&e[Is])}var uo=class{previousValue;currentValue;firstChange;constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}};function go(e,t,i,n){null!==t?t.applyValueToInputSignal(t,n):e[i]=n}var po=(()=>{let e=()=>mo;return e.ngInherit=!0,e})();function mo(e){return e.type.prototype.ngOnChanges&&(e.setInput=vo),fo}function fo(){let e=xo(this),t=e?.current;if(t){let i=e.previous;if(i===Zr)e.previous=t;else for(let e in t)i[e]=t[e];e.current=null,this.ngOnChanges(t)}}function vo(e,t,i,n,r){let s=this.declaredInputs[n],o=xo(e)||function(e,t){return e[yo]=t}(e,{previous:Zr,current:null}),a=o.current||(o.current={}),l=o.previous,d=l[s];a[s]=new uo(d&&d.currentValue,i,l===Zr),go(e,t,r,i)}var yo="__ngSimpleChanges__";function xo(e){return e[yo]||null}var _o=function(e,t=null,i){},wo="svg";function Co(e){for(;Array.isArray(e);)e=e[Es];return e}function So(e,t){return Co(t[e])}function bo(e,t){return Co(t[e.index])}function Do(e,t){return e.data[t]}function Eo(e,t){return e[t]}function To(e,t){let i=t[e];return no(i)?i:i[Es]}function Io(e){return 128==(128&e[Is])}function Ro(e,t){return null==t?null:e[t]}function Ao(e){e[$s]=0}function ko(e){1024&e[Is]||(e[Is]|=1024,Io(e)&&Po(e))}function Oo(e){return!!(9216&e[Is]||e[Zs]?.dirty)}function Fo(e){e[Ms].changeDetectionScheduler?.notify(8),64&e[Is]&&(e[Is]|=1024),Oo(e)&&Po(e)}function Po(e){e[Ms].changeDetectionScheduler?.notify(0);let t=Mo(e);for(;null!==t&&!(8192&t[Is])&&(t[Is]|=8192,Io(t));)t=Mo(t)}function Vo(e,t){if(ho(e))throw new $n(911,!1);null===e[Us]&&(e[Us]=[]),e[Us].push(t)}function Mo(e){let t=e[Rs];return ro(t)?t[Rs]:t}function Lo(e){return e[Fs]??=[]}function No(e){return e.cleanup??=[]}var Ho={lFrame:ha(null),bindingsEnabled:!0,skipHydrationRootTNode:null},zo=!1;function Bo(){return Ho.bindingsEnabled}function Go(){return null!==Ho.skipHydrationRootTNode}function $o(){return Ho.lFrame.lView}function Wo(){return Ho.lFrame.tView}function Ko(e){return Ho.lFrame.contextLView=e,e[Ps]}function jo(e){return Ho.lFrame.contextLView=null,e}function Uo(){let e=qo();for(;null!==e&&64===e.type;)e=e.parent;return e}function qo(){return Ho.lFrame.currentTNode}function Yo(e,t){let i=Ho.lFrame;i.currentTNode=e,i.isParent=t}function Zo(){return Ho.lFrame.isParent}function Xo(){Ho.lFrame.isParent=!1}function Qo(){return zo}function Jo(e){let t=zo;return zo=e,t}function ea(){let e=Ho.lFrame,t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function ta(){return Ho.lFrame.bindingIndex++}function ia(e){let t=Ho.lFrame,i=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,i}function na(e,t){let i=Ho.lFrame;i.bindingIndex=i.bindingRootIndex=e,ra(t)}function ra(e){Ho.lFrame.currentDirectiveIndex=e}function sa(){return Ho.lFrame.currentQueryIndex}function oa(e){Ho.lFrame.currentQueryIndex=e}function aa(e){let t=e[Ts];return 2===t.type?t.declTNode:1===t.type?e[ks]:null}function la(e,t,i){if(i&br.SkipSelf){let n=t,r=e;for(;!(n=n.parent,null!==n||i&br.Host||(n=aa(r),null===n||(r=r[zs],10&n.type))););if(null===n)return!1;t=n,e=r}let n=Ho.lFrame=ca();return n.currentTNode=t,n.lView=e,!0}function da(e){let t=ca(),i=e[Ts];Ho.lFrame=t,t.currentTNode=i.firstChild,t.lView=e,t.tView=i,t.contextLView=e,t.bindingIndex=i.bindingStartIndex,t.inI18n=!1}function ca(){let e=Ho.lFrame,t=null===e?null:e.child;return null===t?ha(e):t}function ha(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function ua(){let e=Ho.lFrame;return Ho.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var ga=ua;function pa(){let e=ua();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function ma(){return Ho.lFrame.selectedIndex}function fa(e){Ho.lFrame.selectedIndex=e}function va(){let e=Ho.lFrame;return Do(e.tView,e.selectedIndex)}function ya(){Ho.lFrame.currentNamespace=wo}var xa=!0;function _a(){return xa}function wa(e){xa=e}function Ca(e,t){for(let i=t.directiveStart,n=t.directiveEnd;i<n;i++){let t=e.data[i].type.prototype,{ngAfterContentInit:n,ngAfterContentChecked:r,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=t;n&&(e.contentHooks??=[]).push(-i,n),r&&((e.contentHooks??=[]).push(i,r),(e.contentCheckHooks??=[]).push(i,r)),s&&(e.viewHooks??=[]).push(-i,s),o&&((e.viewHooks??=[]).push(i,o),(e.viewCheckHooks??=[]).push(i,o)),null!=a&&(e.destroyHooks??=[]).push(i,a)}}function Sa(e,t,i){Ea(e,t,3,i)}function ba(e,t,i,n){(3&e[Is])===i&&Ea(e,t,i,n)}function Da(e,t){let i=e[Is];(3&i)===t&&(i&=16383,i+=1,e[Is]=i)}function Ea(e,t,i,n){let r=void 0!==n?65535&e[$s]:0,s=n??-1,o=t.length-1,a=0;for(let l=r;l<o;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=n&&a>=n)break}else t[l]<0&&(e[$s]+=65536),(a<s||-1==s)&&(Ia(e,i,t,l),e[$s]=(4294901760&e[$s])+l+2),l++}function Ta(e,t){_o(4,e,t);let i=ut(null);try{t.call(e)}finally{ut(i),_o(5,e,t)}}function Ia(e,t,i,n){let r=i[n]<0,s=i[n+1],o=e[r?-i[n]:i[n]];r?e[Is]>>14<e[$s]>>16&&(3&e[Is])===t&&(e[Is]+=16384,Ta(o,s)):Ta(o,s)}var Ra=-1,Aa=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,i){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=i}};function ka(e){return 3===e||4===e||6===e}function Oa(e){return 64===e.charCodeAt(0)}function Fa(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let i=-1;for(let n=0;n<t.length;n++){let r=t[n];"number"==typeof r?i=r:0===i||Pa(e,i,r,0,-1===i||2===i?t[++n]:null)}}return e}function Pa(e,t,i,n,r){let s=0,o=e.length;if(-1===t)o=-1;else for(;s<e.length;){let i=e[s++];if("number"==typeof i){if(i===t){o=-1;break}if(i>t){o=s-1;break}}}for(;s<e.length;){let t=e[s];if("number"==typeof t)break;if(t===i)return void(null!==r&&(e[s+1]=r));s++,null!==r&&s++}-1!==o&&(e.splice(o,0,t),s=o+1),e.splice(s++,0,i),null!==r&&e.splice(s++,0,r)}function Va(e){return e!==Ra}function Ma(e){return 32767&e}function La(e,t){let i=function(e){return e>>16}(e),n=t;for(;i>0;)n=n[zs],i--;return n}var Na=!0;function Ha(e){let t=Na;return Na=e,t}var za=255,Ba=5,Ga=0,$a={};function Wa(e,t){let i=ja(e,t);if(-1!==i)return i;let n=t[Ts];n.firstCreatePass&&(e.injectorIndex=t.length,Ka(n.data,e),Ka(t,null),Ka(n.blueprint,null));let r=Ua(e,t),s=e.injectorIndex;if(Va(r)){let e=Ma(r),i=La(r,t),n=i[Ts].data;for(let r=0;r<8;r++)t[s+r]=i[e+r]|n[e+r]}return t[s+8]=r,s}function Ka(e,t){e.push(0,0,0,0,0,0,0,0,t)}function ja(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Ua(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let i=0,n=null,r=t;for(;null!==r;){if(n=ll(r),null===n)return Ra;if(i++,r=r[zs],-1!==n.injectorIndex)return n.injectorIndex|i<<16}return Ra}function qa(e,t,i){!function(e,t,i){let n;"string"==typeof i?n=i.charCodeAt(0)||0:i.hasOwnProperty(yr)&&(n=i[yr]),null==n&&(n=i[yr]=Ga++);let r=n&za,s=1<<r;t.data[e+(r>>Ba)]|=s}(e,t,i)}function Ya(e,t,i){if(i&br.Optional||void 0!==e)return e;Cr()}function Za(e,t,i,n){if(i&br.Optional&&void 0===n&&(n=null),0==(i&(br.Self|br.Host))){let r=e[Vs],s=Er(void 0);try{return r?r.get(t,n,i&br.Optional):Tr(t,n,i&br.Optional)}finally{Er(s)}}return Ya(n,0,i)}function Xa(e,t,i,n=br.Default,r){if(null!==e){if(2048&t[Is]&&!(n&br.Self)){let r=function(e,t,i,n,r){let s=e,o=t;for(;null!==s&&null!==o&&2048&o[Is]&&!co(o);){let e=Qa(s,o,i,n|br.Self,$a);if(e!==$a)return e;let t=s.parent;if(!t){let e=o[js];if(e){let t=e.get(i,$a,n);if(t!==$a)return t}t=ll(o),o=o[zs]}s=t}return r}(e,t,i,n,$a);if(r!==$a)return r}let r=Qa(e,t,i,n,$a);if(r!==$a)return r}return Za(t,i,n,r)}function Qa(e,t,i,n,r){let s=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;let t=e.hasOwnProperty(yr)?e[yr]:void 0;return"number"==typeof t?t>=0?t&za:sl:t}(i);if("function"==typeof s){if(!la(t,e,n))return n&br.Host?Ya(r,0,n):Za(t,i,n,r);try{let e;if(e=s(n),null!=e||n&br.Optional)return e;Cr()}finally{ga()}}else if("number"==typeof s){let r=null,o=ja(e,t),a=Ra,l=n&br.Host?t[Bs][ks]:null;for((-1===o||n&br.SkipSelf)&&(a=-1===o?Ua(e,t):t[o+8],a!==Ra&&nl(n,!1)?(r=t[Ts],o=Ma(a),t=La(a,t)):o=-1);-1!==o;){let e=t[Ts];if(il(s,o,e.data)){let e=Ja(o,t,i,r,n,l);if(e!==$a)return e}a=t[o+8],a!==Ra&&nl(n,t[Ts].data[o+8]===l)&&il(s,o,t)?(r=e,o=Ma(a),t=La(a,t)):o=-1}}return r}function Ja(e,t,i,n,r,s){let o=t[Ts],a=o.data[e+8],l=el(a,o,i,null==n?oo(a)&&Na:n!=o&&0!=(3&a.type),r&br.Host&&s===a);return null!==l?tl(t,o,l,a):$a}function el(e,t,i,n,r){let s=e.providerIndexes,o=t.data,a=1048575&s,l=e.directiveStart,d=e.directiveEnd,c=s>>20,h=r?a+c:d;for(let e=n?a:a+c;e<h;e++){let t=o[e];if(e<l&&i===t||e>=l&&t.type===i)return e}if(r){let e=o[l];if(e&&lo(e)&&e.type===i)return l}return null}function tl(e,t,i,n){let r=e[i],s=t.data;if(r instanceof Aa){let o=r;o.resolving&&wr(function(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():_r(e)}(s[i]));let a=Ha(o.canSeeViewProviders);o.resolving=!0;let l=o.injectImpl?Er(o.injectImpl):null;la(e,n,br.Default);try{r=e[i]=o.factory(void 0,s,e,n),t.firstCreatePass&&i>=n.directiveStart&&function(e,t,i){let{ngOnChanges:n,ngOnInit:r,ngDoCheck:s}=t.type.prototype;if(n){let n=mo(t);(i.preOrderHooks??=[]).push(e,n),(i.preOrderCheckHooks??=[]).push(e,n)}r&&(i.preOrderHooks??=[]).push(0-e,r),s&&((i.preOrderHooks??=[]).push(e,s),(i.preOrderCheckHooks??=[]).push(e,s))}(i,s[i],t)}finally{null!==l&&Er(l),Ha(a),o.resolving=!1,ga()}}return r}function il(e,t,i){let n=1<<e;return!!(i[t+(e>>Ba)]&n)}function nl(e,t){return!(e&br.Self||e&br.Host&&t)}var rl=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return Xa(this._tNode,this._lView,e,Lr(i),t)}};function sl(){return new rl(Uo(),$o())}function ol(e){return Wn((()=>{let t=e.prototype.constructor,i=t[vr]||al(t),n=Object.prototype,r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==n;){let e=r[vr]||al(r);if(e&&e!==i)return e;r=Object.getPrototypeOf(r)}return e=>new e}))}function al(e){return tr(e)?()=>{let t=al(er(e));return t&&t()}:$r(e)}function ll(e){let t=e[Ts],i=t.type;return 2===i?t.declTNode:1===i?e[ks]:null}function dl(e,t=null,i=null,n){let r=cl(e,t,i,n);return r.resolveInjectorInitializers(),r}function cl(e,t=null,i=null,n,r=new Set){let s=[i||Xr,rs(e)];return n=n||("object"==typeof e?void 0:Zn(e)),new ys(s,t||fs(),n||null,r)}var hl=class e{static THROW_IF_NOT_FOUND=Ir;static NULL=new ts;static create(e,t){if(Array.isArray(e))return dl({name:""},t,e,"");{let t=e.name??"";return dl({name:t},e.parent,e.providers,t)}}static ɵprov=ir({token:e,providedIn:"any",factory:()=>Vr(Jr)});static __NG_ELEMENT_ID__=-1};new hr("").__NG_ELEMENT_ID__=e=>{let t=Uo();if(null===t)throw new $n(204,!1);if(2&t.type)return t.value;if(e&br.Optional)return null;throw new $n(204,!1)};var ul=!1,gl=(()=>class{static __NG_ELEMENT_ID__=ml;static __NG_ENV_ID__=e=>e})(),pl=class extends gl{_lView;constructor(e){super(),this._lView=e}onDestroy(e){return Vo(this._lView,e),()=>function(e,t){if(null===e[Us])return;let i=e[Us].indexOf(t);-1!==i&&e[Us].splice(i,1)}(this._lView,e)}};function ml(){return new pl($o())}var fl=class{},vl=new hr("",{providedIn:"root",factory:()=>!1}),yl=new hr(""),xl=new hr(""),_l=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new bi(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let e=this.taskId++;return this.pendingTasks.add(e),e}has(e){return this.pendingTasks.has(e)}remove(e){this.pendingTasks.delete(e),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static ɵprov=ir({token:e,providedIn:"root",factory:()=>new e})}return e})(),wl=class extends Ci{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,Ds()&&(this.destroyRef=Mr(gl,{optional:!0})??void 0,this.pendingTasks=Mr(_l,{optional:!0})??void 0)}emit(e){let t=ut(null);try{super.next(e)}finally{ut(t)}}subscribe(e,t,i){let n=e,r=t||(()=>null),s=i;if(e&&"object"==typeof e){let t=e;n=t.next?.bind(t),r=t.error?.bind(t),s=t.complete?.bind(t)}this.__isAsync&&(r=this.wrapInTimeout(r),n&&(n=this.wrapInTimeout(n)),s&&(s=this.wrapInTimeout(s)));let o=super.subscribe({next:n,error:r,complete:s});return e instanceof Ut&&e.add(o),o}wrapInTimeout(e){return t=>{let i=this.pendingTasks?.add();setTimeout((()=>{e(t),void 0!==i&&this.pendingTasks?.remove(i)}))}}};function Cl(...e){}function Sl(e){let t,i;function n(){e=Cl;try{void 0!==i&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(i),void 0!==t&&clearTimeout(t)}catch{}}return t=setTimeout((()=>{e(),n()})),"function"==typeof requestAnimationFrame&&(i=requestAnimationFrame((()=>{e(),n()}))),()=>n()}function bl(e){return queueMicrotask((()=>e())),()=>{e=Cl}}var Dl="isAngularZone",El=Dl+"_ID",Tl=0,Il=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new wl(!1);onMicrotaskEmpty=new wl(!1);onStable=new wl(!1);onError=new wl(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:n=!1,scheduleInRootZone:r=ul}=e;if(typeof Zone>"u")throw new $n(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!n&&i,s.shouldCoalesceRunChangeDetection=n,s.callbackScheduled=!1,s.scheduleInRootZone=r,function(e){let t=()=>{!function(e){function t(){Sl((()=>{e.callbackScheduled=!1,kl(e),e.isCheckStableRunning=!0,Al(e),e.isCheckStableRunning=!1}))}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run((()=>{t()})):e._outer.run((()=>{t()})),kl(e))}(e)},i=Tl++;e._inner=e._inner.fork({name:"angular",properties:{[Dl]:!0,[El]:i,[El+i]:!0},onInvokeTask:(i,n,r,s,o,a)=>{if(function(e){return Vl(e,"__ignore_ng_zone__")}(a))return i.invokeTask(r,s,o,a);try{return Ol(e),i.invokeTask(r,s,o,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&t(),Fl(e)}},onInvoke:(i,n,r,s,o,a,l)=>{try{return Ol(e),i.invoke(r,s,o,a,l)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function(e){return Vl(e,"__scheduler_tick__")}(a)&&t(),Fl(e)}},onHasTask:(t,i,n,r)=>{t.hasTask(n,r),i===n&&("microTask"==r.change?(e._hasPendingMicrotasks=r.microTask,kl(e),Al(e)):"macroTask"==r.change&&(e.hasPendingMacrotasks=r.macroTask))},onHandleError:(t,i,n,r)=>(t.handleError(n,r),e.runOutsideAngular((()=>e.onError.emit(r))),!1)})}(s)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(Dl)}static assertInAngularZone(){if(!e.isInAngularZone())throw new $n(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new $n(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,n){let r=this._inner,s=r.scheduleEventTask("NgZoneEvent: "+n,e,Rl,Cl,Cl);try{return r.runTask(s,t,i)}finally{r.cancelTask(s)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}},Rl={};function Al(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular((()=>e.onStable.emit(null)))}finally{e.isStable=!0}}}function kl(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function Ol(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Fl(e){e._nesting--,Al(e)}var Pl=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new wl;onMicrotaskEmpty=new wl;onStable=new wl;onError=new wl;run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,n){return e.apply(t,i)}};function Vl(e,t){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0]?.data?.[t]}var Ml=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Ll=new hr("",{providedIn:"root",factory:()=>{let e=Mr(Il),t=Mr(Ml);return i=>e.runOutsideAngular((()=>t.handleError(i)))}});function Nl(){return Hl(Uo(),$o())}function Hl(e,t){return new zl(bo(e,t))}var zl=(()=>class{nativeElement;constructor(e){this.nativeElement=e}static __NG_ELEMENT_ID__=Nl})();function Bl(e){return e instanceof zl?e.nativeElement:e}function Gl(e,t){let i=function(e,t){let i=Object.create(Ht);i.value=e,void 0!==t&&(i.equal=t);let n=()=>(pt(i),i.value);return n[ht]=i,n}(e,t?.equal),n=i[ht];return i.set=e=>Lt(n,e),i.update=e=>function(e,t){vt()||Vt(e),Lt(e,t(e.value))}(n,e),i.asReadonly=$l.bind(i),i}function $l(){let e=this[ht];if(void 0===e.readonlyFn){let t=()=>this();t[ht]=e,e.readonlyFn=t}return e.readonlyFn}function Wl(e){return function(e){return"function"==typeof e&&void 0!==e[ht]}(e)&&"function"==typeof e.set}function Kl(){return this._results[Symbol.iterator]()}var jl=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Ci}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let i=function(e){return e.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function(e,t,i){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++){let r=e[n],s=t[n];if(i&&(r=i(r),s=i(s)),s!==r)return!1}return!0}(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=Kl};function Ul(e){return 128==(128&e.flags)}var ql=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(ql||{}),Yl=new Map,Zl=0;function Xl(e){Yl.delete(e[Ks])}var Ql,Jl="__ngContext__";function ed(e,t){no(t)?(e[Jl]=t[Ks],function(e){Yl.set(e[Ks],e)}(t)):e[Jl]=t}function td(e){return nd(e[Ns])}function id(e){return nd(e[As])}function nd(e){for(;null!==e&&!ro(e);)e=e[As];return e}function rd(){if(void 0!==Ql)return Ql;if(typeof document<"u")return document;throw new $n(210,!1)}var sd=new hr("",{providedIn:"root",factory:()=>od}),od="ng",ad=new hr(""),ld=new hr("",{providedIn:"platform",factory:()=>"unknown"}),dd=new hr(""),cd=new hr("",{providedIn:"root",factory:()=>rd().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),hd=new hr("",{providedIn:"root",factory:()=>!1}),ud=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(ud||{}),gd=new hr(""),pd=new Set;function md(e){pd.has(e)||(pd.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var fd=(()=>{class e{impl=null;execute(){this.impl?.execute()}static ɵprov=ir({token:e,providedIn:"root",factory:()=>new e})}return e})(),vd=()=>null;function yd(e,t,i=!1){return vd(e,t,i)}function xd(e,t){let i=e.contentQueries;if(null!==i){let n=ut(null);try{for(let n=0;n<i.length;n+=2){let r=i[n],s=i[n+1];if(-1!==s){let i=e.data[s];oa(r),i.contentQueries(2,t[s],s)}}}finally{ut(n)}}}function _d(e,t,i){oa(0);let n=ut(null);try{t(e,i)}finally{ut(n)}}function wd(e,t,i){if(so(t)){let n=ut(null);try{let n=t.directiveStart,r=t.directiveEnd;for(let t=n;t<r;t++){let n=e.data[t];if(n.contentQueries){let e=i[t];n.contentQueries(1,e,t)}}}finally{ut(n)}}}var Cd,Sd,bd=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(bd||{});function Dd(e){return function(){if(void 0===Cd&&(Cd=null,Un.trustedTypes))try{Cd=Un.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Cd}()?.createHTML(e)||e}function Ed(e){return function(){if(void 0===Sd&&(Sd=null,Un.trustedTypes))try{Sd=Un.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Sd}()?.createHTML(e)||e}var Td=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Gn})`}},Id=class extends Td{getTypeName(){return"HTML"}},Rd=class extends Td{getTypeName(){return"Style"}},Ad=class extends Td{getTypeName(){return"Script"}},kd=class extends Td{getTypeName(){return"URL"}},Od=class extends Td{getTypeName(){return"ResourceURL"}};function Fd(e){return e instanceof Td?e.changingThisBreaksApplicationSecurity:e}function Pd(e,t){let i=function(e){return e instanceof Td&&e.getTypeName()||null}(e);if(null!=i&&i!==t){if("ResourceURL"===i&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${i} (see ${Gn})`)}return i===t}var Vd=class{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=(new window.DOMParser).parseFromString(Dd(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},Md=class{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=Dd(e),t}},Ld=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Nd(e){return(e=String(e)).match(Ld)?e:"unsafe:"+e}function Hd(e){let t={};for(let i of e.split(","))t[i]=!0;return t}function zd(...e){let t={};for(let i of e)for(let e in i)i.hasOwnProperty(e)&&(t[e]=!0);return t}var Bd=Hd("area,br,col,hr,img,wbr"),Gd=Hd("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),$d=Hd("rp,rt"),Wd=zd($d,Gd),Kd=zd(Gd,Hd("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),jd=zd($d,Hd("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ud=zd(Bd,Kd,jd,Wd),qd=Hd("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Yd=Hd("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Zd=Hd("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),Xd=zd(qd,Yd,Zd),Qd=Hd("script,style,template"),Jd=class{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let t=e.firstChild,i=!0,n=[];for(;t;)if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild)n.push(t),t=tc(t);else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let e=ec(t);if(e){t=e;break}t=n.pop()}return this.buf.join("")}startElement(e){let t=ic(e).toLowerCase();if(!Ud.hasOwnProperty(t))return this.sanitizedSomething=!0,!Qd.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let i=e.attributes;for(let e=0;e<i.length;e++){let t=i.item(e),n=t.name,r=n.toLowerCase();if(!Xd.hasOwnProperty(r)){this.sanitizedSomething=!0;continue}let s=t.value;qd[r]&&(s=Nd(s)),this.buf.push(" ",n,'="',ac(s),'"')}return this.buf.push(">"),!0}endElement(e){let t=ic(e).toLowerCase();Ud.hasOwnProperty(t)&&!Bd.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(ac(e))}};function ec(e){let t=e.nextSibling;if(t&&e!==t.previousSibling)throw nc(t);return t}function tc(e){let t=e.firstChild;if(t&&function(e,t){return(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(e,t))throw nc(t);return t}function ic(e){let t=e.nodeName;return"string"==typeof t?t:"FORM"}function nc(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}var rc,sc=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,oc=/([^\#-~ |!])/g;function ac(e){return e.replace(/&/g,"&amp;").replace(sc,(function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"})).replace(oc,(function(e){return"&#"+e.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function lc(e,t){let i=null;try{rc=rc||function(e){let t=new Md(e);return function(){try{return!!(new window.DOMParser).parseFromString(Dd(""),"text/html")}catch{return!1}}()?new Vd(t):t}(e);let n=t?String(t):"";i=rc.getInertBodyElement(n);let r=5,s=n;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,n=s,s=i.innerHTML,i=rc.getInertBodyElement(n)}while(n!==s);return Dd((new Jd).sanitizeChildren(dc(i)||i))}finally{if(i){let e=dc(i)||i;for(;e.firstChild;)e.firstChild.remove()}}}function dc(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var cc=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(cc||{});function hc(e){let t=gc();return t?Ed(t.sanitize(cc.HTML,e)||""):Pd(e,"HTML")?Ed(Fd(e)):lc(rd(),_r(e))}function uc(e){let t=gc();return t?t.sanitize(cc.URL,e)||"":Pd(e,"URL")?Fd(e):Nd(_r(e))}function gc(){let e=$o();return e&&e[Ms].sanitizer}var pc=/^>|^->|<!--|-->|--!>|<!-$/g,mc=/(<|>)/g;function fc(e,t,i){let n=e.length;for(;;){let r=e.indexOf(t,i);if(-1===r)return r;if(0===r||e.charCodeAt(r-1)<=32){let i=t.length;if(r+i===n||e.charCodeAt(r+i)<=32)return r}i=r+1}}var vc="ng-template";function yc(e,t,i,n){let r=0;if(n){for(;r<t.length&&"string"==typeof t[r];r+=2)if("class"===t[r]&&-1!==fc(t[r+1].toLowerCase(),i,0))return!0}else if(xc(e))return!1;if(r=t.indexOf(1,r),r>-1){let e;for(;++r<t.length&&"string"==typeof(e=t[r]);)if(e.toLowerCase()===i)return!0}return!1}function xc(e){return 4===e.type&&e.value!==vc}function _c(e,t,i){return t===(4!==e.type||i?e.value:vc)}function wc(e,t,i){let n=4,r=e.attrs,s=null!==r?function(e){for(let t=0;t<e.length;t++)if(ka(e[t]))return t;return e.length}(r):0,o=!1;for(let a=0;a<t.length;a++){let l=t[a];if("number"!=typeof l){if(!o)if(4&n){if(n=2|1&n,""!==l&&!_c(e,l,i)||""===l&&1===t.length){if(Cc(n))return!1;o=!0}}else if(8&n){if(null===r||!yc(e,r,l,i)){if(Cc(n))return!1;o=!0}}else{let d=t[++a],c=Sc(l,r,xc(e),i);if(-1===c){if(Cc(n))return!1;o=!0;continue}if(""!==d){let e;if(e=c>s?"":r[c+1].toLowerCase(),2&n&&d!==e){if(Cc(n))return!1;o=!0}}}}else{if(!o&&!Cc(n)&&!Cc(l))return!1;if(o&&Cc(l))continue;o=!1,n=l|1&n}}return Cc(n)||o}function Cc(e){return 0==(1&e)}function Sc(e,t,i,n){if(null===t)return-1;let r=0;if(n||!i){let i=!1;for(;r<t.length;){let n=t[r];if(n===e)return r;if(3===n||6===n)i=!0;else{if(1===n||2===n){let e=t[++r];for(;"string"==typeof e;)e=t[++r];continue}if(4===n)break;if(0===n){r+=4;continue}}r+=i?1:2}return-1}return function(e,t){let i=e.indexOf(4);if(i>-1)for(i++;i<e.length;){let n=e[i];if("number"==typeof n)return-1;if(n===t)return i;i++}return-1}(t,e)}function bc(e,t,i=!1){for(let n=0;n<t.length;n++)if(wc(e,t[n],i))return!0;return!1}function Dc(e,t){e:for(let i=0;i<t.length;i++){let n=t[i];if(e.length===n.length){for(let t=0;t<e.length;t++)if(e[t]!==n[t])continue e;return!0}}return!1}function Ec(e,t){return e?":not("+t.trim()+")":t}function Tc(e){let t=e[0],i=1,n=2,r="",s=!1;for(;i<e.length;){let o=e[i];if("string"==typeof o)if(2&n){let t=e[++i];r+="["+o+(t.length>0?'="'+t+'"':"")+"]"}else 8&n?r+="."+o:4&n&&(r+=" "+o);else""!==r&&!Cc(o)&&(t+=Ec(s,r),r=""),n=o,s=s||!Cc(n);i++}return""!==r&&(t+=Ec(s,r)),t}var Ic={};function Rc(e,t,i){return e.createElement(t,i)}function Ac(e,t,i,n,r){e.insertBefore(t,i,n,r)}function kc(e,t,i){e.appendChild(t,i)}function Oc(e,t,i,n,r){null!==n?Ac(e,t,i,n,r):kc(e,t,i)}function Fc(e,t,i){let{mergedAttrs:n,classes:r,styles:s}=i;null!==n&&function(e,t,i){let n=0;for(;n<i.length;){let r=i[n];if("number"==typeof r){if(0!==r)break;n++;let s=i[n++],o=i[n++],a=i[n++];e.setAttribute(t,o,a,s)}else{let s=r,o=i[++n];Oa(s)?e.setProperty(t,s,o):e.setAttribute(t,s,o),n++}}}(e,t,n),null!==r&&function(e,t,i){""===i?e.removeAttribute(t,"class"):e.setAttribute(t,"class",i)}(e,t,r),null!==s&&function(e,t,i){e.setAttribute(t,"style",i)}(e,t,s)}function Pc(e,t,i,n,r,s,o,a,l,d,c){let h=Qs+n,u=h+r,g=function(e,t){let i=[];for(let n=0;n<t;n++)i.push(n<e?null:Ic);return i}(h,u),p="function"==typeof d?d():d;return g[Ts]={type:e,blueprint:g,template:i,queries:null,viewQuery:a,declTNode:t,data:g.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:u,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:c}}function Vc(e,t,i,n,r,s,o,a,l,d,c){let h=t.blueprint.slice();return h[Es]=r,h[Is]=1228|n,(null!==d||e&&2048&e[Is])&&(h[Is]|=2048),Ao(h),h[Rs]=h[zs]=e,h[Ps]=i,h[Ms]=o||e&&e[Ms],h[Ls]=a||e&&e[Ls],h[Vs]=l||e&&e[Vs]||null,h[ks]=s,h[Ks]=Zl++,h[Os]=c,h[js]=d,h[Bs]=2==t.type?e[Bs]:h,h}function Mc(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function Lc(e,t,i,n){if(0===i)return-1;let r=t.length;for(let r=0;r<i;r++)t.push(n),e.blueprint.push(n),e.data.push(null);return r}function Nc(e,t){return e[Ns]?e[Hs][As]=t:e[Ns]=t,e[Hs]=t,t}function Hc(e=1){zc(Wo(),$o(),ma()+e,!1)}function zc(e,t,i,n){if(!n)if(3==(3&t[Is])){let n=e.preOrderCheckHooks;null!==n&&Sa(t,n,i)}else{let n=e.preOrderHooks;null!==n&&ba(t,n,0,i)}fa(i)}var Bc=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Bc||{});function Gc(e,t,i,n){let r=ut(null);try{let[r,s,o]=e.inputs[i],a=null;0!=(s&Bc.SignalBased)&&(a=t[r][ht]),null!==a&&void 0!==a.transformFn?n=a.transformFn(n):null!==o&&(n=o.call(t,n)),null!==e.setInput?e.setInput(t,a,n,i,r):go(t,a,r,n)}finally{ut(r)}}function $c(e,t,i,n,r){let s=ma(),o=2&n;try{fa(-1),o&&t.length>Qs&&zc(e,t,Qs,!1),_o(o?2:0,r),i(n,r)}finally{fa(s),_o(o?3:1,r)}}function Wc(e,t,i){(function(e,t,i){let n=i.directiveStart,r=i.directiveEnd;oo(i)&&function(e,t,i){let n=bo(t,e),r=function(e){let t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Pc(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}(i),s=e[Ms].rendererFactory,o=Nc(e,Vc(e,r,null,Mc(i),n,t,null,s.createRenderer(n,i),null,null,null));e[t.index]=o}(t,i,e.data[n+i.componentOffset]),e.firstCreatePass||Wa(i,t);let s=i.initialInputs;for(let o=n;o<r;o++){let r=e.data[o],a=tl(t,e,o,i);ed(a,t),null!==s&&Xc(0,o-n,a,r,0,s),lo(r)&&(To(i.index,t)[Ps]=tl(t,e,o,i))}})(e,t,i),64==(64&i.flags)&&function(e,t,i){let n=i.directiveStart,r=i.directiveEnd,s=i.index,o=Ho.lFrame.currentDirectiveIndex;try{fa(s);for(let i=n;i<r;i++){let n=e.data[i],r=t[i];ra(i),(null!==n.hostBindings||0!==n.hostVars||null!==n.hostAttrs)&&Yc(n,r)}}finally{fa(-1),ra(o)}}(e,t,i)}function Kc(e,t,i=bo){let n=t.localNames;if(null!==n){let r=t.index+1;for(let s=0;s<n.length;s+=2){let o=n[s+1],a=-1===o?i(t,e):e[o];e[r++]=a}}}var jc,Uc=()=>null;function qc(e,t,i,n,r,s,o,a){if(a||!Qc(t,e,i,n,r))if(3&t.type){let e=bo(t,i);n=function(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(n),r=null!=o?o(r,t.value||"",n):r,s.setProperty(e,n,r)}else t.type;else oo(t)&&function(e,t){let i=To(t,e);16&i[Is]||(i[Is]|=64)}(i,t.index)}function Yc(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Zc(e,t){let i=e.directiveRegistry,n=null;if(i)for(let e=0;e<i.length;e++){let r=i[e];bc(t,r.selectors,!1)&&(n??=[],lo(r)?n.unshift(r):n.push(r))}return n}function Xc(e,t,i,n,r,s){let o=s[t];if(null!==o)for(let e=0;e<o.length;e+=2)Gc(n,i,o[e],o[e+1])}function Qc(e,t,i,n,r){let s=e.inputs?.[n],o=e.hostDirectiveInputs?.[n],a=!1;if(o)for(let e=0;e<o.length;e+=2){let n=o[e],s=o[e+1];Gc(t.data[n],i[n],s,r),a=!0}if(s)for(let e of s){let s=i[e];Gc(t.data[e],s,n,r),a=!0}return a}function Jc(e,t){let i=To(t,e),n=i[Ts];!function(e,t){for(let i=t.length;i<e.blueprint.length;i++)t.push(e.blueprint[i])}(n,i);let r=i[Es];null!==r&&null===i[Os]&&(i[Os]=yd(r,i[Vs])),_o(18),eh(n,i,i[Ps]),_o(19,i[Ps])}function eh(e,t,i){da(t);try{let n=e.viewQuery;null!==n&&_d(1,n,i);let r=e.template;null!==r&&$c(e,t,r,1,i),e.firstCreatePass&&(e.firstCreatePass=!1),t[Ws]?.finishViewCreation(e),e.staticContentQueries&&xd(e,t),e.staticViewQueries&&_d(2,e.viewQuery,i);let s=e.components;null!==s&&function(e,t){for(let i=0;i<t.length;i++)Jc(e,t[i])}(t,s)}catch(t){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),t}finally{t[Is]&=-5,pa()}}function th(e,t,i,n){let r=ut(null);try{let r=t.tView,s=Vc(e,r,i,4096&e[Is]?4096:16,null,t,null,null,n?.injector??null,n?.embeddedViewInjector??null,n?.dehydratedView??null),o=e[t.index];s[Gs]=o;let a=e[Ws];return null!==a&&(s[Ws]=a.createEmbeddedView(r)),eh(r,s,i),s}finally{ut(r)}}function ih(e,t){return!t||null===t.firstChild||Ul(e)}function nh(e,t){return jc(e,t)}var rh=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(rh||{});function sh(e){return 32==(32&e.flags)}function oh(e,t,i,n,r){if(null!=n){let s,o=!1;ro(n)?s=n:no(n)&&(o=!0,n=n[Es]);let a=Co(n);0===e&&null!==i?null==r?kc(t,i,a):Ac(t,i,a,r||null,!0):1===e&&null!==i?Ac(t,i,a,r||null,!0):2===e?function(e,t,i){e.removeChild(null,t,i)}(t,a,o):3===e&&t.destroyNode(a),null!=s&&function(e,t,i,n,r){let s=i[eo];s!==Co(i)&&oh(t,e,n,s,r);for(let r=io;r<i.length;r++){let o=i[r];_h(o[Ts],o,e,t,n,s)}}(t,e,s,i,r)}}function ah(e,t){t[Ms].changeDetectionScheduler?.notify(9),_h(e,t,t[Ls],2,null,null)}function lh(e,t){let i=e[to],n=i.indexOf(t);i.splice(n,1)}function dh(e,t){if(ho(t))return;let i=t[Ls];i.destroyNode&&_h(e,t,i,3,null,null),function(e){let t=e[Ns];if(!t)return ch(e[Ts],e);for(;t;){let i=null;if(no(t))i=t[Ns];else{let e=t[io];e&&(i=e)}if(!i){for(;t&&!t[As]&&t!==e;)no(t)&&ch(t[Ts],t),t=t[Rs];null===t&&(t=e),no(t)&&ch(t[Ts],t),i=t&&t[As]}t=i}}(t)}function ch(e,t){if(ho(t))return;let i=ut(null);try{t[Is]&=-129,t[Is]|=256,t[Zs]&&St(t[Zs]),function(e,t){let i;if(null!=e&&null!=(i=e.destroyHooks))for(let e=0;e<i.length;e+=2){let n=t[i[e]];if(!(n instanceof Aa)){let t=i[e+1];if(Array.isArray(t))for(let e=0;e<t.length;e+=2){let i=n[t[e]],r=t[e+1];_o(4,i,r);try{r.call(i)}finally{_o(5,i,r)}}else{_o(4,n,t);try{t.call(n)}finally{_o(5,n,t)}}}}}(e,t),function(e,t){let i=e.cleanup,n=t[Fs];if(null!==i)for(let e=0;e<i.length-1;e+=2)if("string"==typeof i[e]){let t=i[e+3];t>=0?n[t]():n[-t].unsubscribe(),e+=2}else{let t=n[i[e+1]];i[e].call(t)}null!==n&&(t[Fs]=null);let r=t[Us];if(null!==r){t[Us]=null;for(let e=0;e<r.length;e++)(0,r[e])()}let s=t[Ys];if(null!==s){t[Ys]=null;for(let e of s)e.destroy()}}(e,t),1===t[Ts].type&&t[Ls].destroy();let i=t[Gs];if(null!==i&&ro(t[Rs])){i!==t[Rs]&&lh(i,t);let n=t[Ws];null!==n&&n.detachView(e)}Xl(t)}finally{ut(i)}}function hh(e,t,i){return function(e,t,i){let n=t;for(;null!==n&&168&n.type;)n=(t=n).parent;if(null===n)return i[Es];if(oo(n)){let{encapsulation:t}=e.data[n.directiveStart+n.componentOffset];if(t===bd.None||t===bd.Emulated)return null}return bo(n,i)}(e,t.parent,i)}function uh(e,t,i){return ph(e,t,i)}var gh,ph=function(e,t,i){return 40&e.type?bo(e,i):null};function mh(e,t,i,n){let r=hh(e,n,t),s=t[Ls],o=uh(n.parent||t[ks],n,t);if(null!=r)if(Array.isArray(i))for(let e=0;e<i.length;e++)Oc(s,r,i[e],o,!1);else Oc(s,r,i,o,!1);void 0!==gh&&gh(s,n,t,i,r)}function fh(e,t){if(null!==t){let i=t.type;if(3&i)return bo(t,e);if(4&i)return yh(-1,e[t.index]);if(8&i){let i=t.child;if(null!==i)return fh(e,i);{let i=e[t.index];return ro(i)?yh(-1,i):Co(i)}}if(128&i)return fh(e,t.next);if(32&i)return nh(t,e)()||Co(e[t.index]);{let i=vh(e,t);return null!==i?Array.isArray(i)?i[0]:fh(Mo(e[Bs]),i):fh(e,t.next)}}return null}function vh(e,t){if(null!==t){let i=e[Bs][ks],n=t.projection;return i.projection[n]}return null}function yh(e,t){let i=io+e+1;if(i<t.length){let e=t[i],n=e[Ts].firstChild;if(null!==n)return fh(e,n)}return t[eo]}function xh(e,t,i,n,r,s,o){for(;null!=i;){if(128===i.type){i=i.next;continue}let a=n[i.index],l=i.type;if(o&&0===t&&(a&&ed(Co(a),n),i.flags|=2),!sh(i))if(8&l)xh(e,t,i.child,n,r,s,!1),oh(t,e,r,a,s);else if(32&l){let o,l=nh(i,n);for(;o=l();)oh(t,e,r,o,s);oh(t,e,r,a,s)}else 16&l?wh(e,t,n,i,r,s):oh(t,e,r,a,s);i=o?i.projectionNext:i.next}}function _h(e,t,i,n,r,s){xh(i,n,e.firstChild,t,r,s,!1)}function wh(e,t,i,n,r,s){let o=i[Bs],a=o[ks].projection[n.projection];if(Array.isArray(a))for(let i=0;i<a.length;i++)oh(t,e,r,a[i],s);else{let i=a,l=o[Rs];Ul(n)&&(i.flags|=128),xh(e,t,i,l,r,s,!0)}}function Ch(e,t,i,n,r=!1){for(;null!==i;){if(128===i.type){i=r?i.projectionNext:i.next;continue}let s=t[i.index];null!==s&&n.push(Co(s)),ro(s)&&Sh(s,n);let o=i.type;if(8&o)Ch(e,t,i.child,n);else if(32&o){let e,r=nh(i,t);for(;e=r();)n.push(e)}else if(16&o){let e=vh(t,i);if(Array.isArray(e))n.push(...e);else{let i=Mo(t[Bs]);Ch(i[Ts],i,e,n,!0)}}i=r?i.projectionNext:i.next}return n}function Sh(e,t){for(let i=io;i<e.length;i++){let n=e[i],r=n[Ts].firstChild;null!==r&&Ch(n[Ts],n,r,t)}e[eo]!==e[Es]&&t.push(e[eo])}function bh(e){if(null!==e[Xs]){for(let t of e[Xs])t.impl.addSequence(t);e[Xs].length=0}}var Dh=[];var Eh=Je(Qe({},gt),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{Po(e.lView)},consumerOnSignalRead(){this.lView[Zs]=this}}),Th=Je(Qe({},gt),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=Mo(e.lView);for(;t&&!Ih(t[Ts]);)t=Mo(t);t&&ko(t)},consumerOnSignalRead(){this.lView[Zs]=this}});function Ih(e){return 2!==e.type}function Rh(e){if(null===e[Ys])return;let t=!0;for(;t;){let i=!1;for(let t of e[Ys])t.dirty&&(i=!0,null===t.zone||Zone.current===t.zone?t.run():t.zone.run((()=>t.run())));t=i&&!!(8192&e[Is])}}var Ah=100;function kh(e,t=!0,i=0){let n=e[Ms].rendererFactory;n.begin?.();try{!function(e,t){let i=Qo();try{Jo(!0),Mh(e,t);let i=0;for(;Oo(e);){if(i===Ah)throw new $n(103,!1);i++,Mh(e,1)}}finally{Jo(i)}}(e,i)}catch(i){throw t&&function(e,t){let i=e[Vs],n=i?i.get(Ml,null):null;n&&n.handleError(t)}(e,i),i}finally{n.end?.()}}function Oh(e,t,i,n){if(ho(t))return;let r=t[Is];da(t);let s=!0,o=null,a=null;Ih(e)?(a=function(e){return e[Zs]??function(e){let t=Dh.pop()??Object.create(Eh);return t.lView=e,t}(e)}(t),o=_t(a)):null===lt?(s=!1,a=function(e){let t=e[Zs]??Object.create(Th);return t.lView=e,t}(t),o=_t(a)):t[Zs]&&(St(t[Zs]),t[Zs]=null);try{Ao(t),function(e){Ho.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==i&&$c(e,t,i,2,n);let s=3==(3&r);if(s){let i=e.preOrderCheckHooks;null!==i&&Sa(t,i,null)}else{let i=e.preOrderHooks;null!==i&&ba(t,i,0,null),Da(t,0)}if(function(e){for(let t=td(e);null!==t;t=id(t)){if(!(2&t[Is]))continue;let e=t[to];for(let t=0;t<e.length;t++)ko(e[t])}}(t),Rh(t),Fh(t,0),null!==e.contentQueries&&xd(e,t),s){let i=e.contentCheckHooks;null!==i&&Sa(t,i)}else{let i=e.contentHooks;null!==i&&ba(t,i,1),Da(t,1)}!function(e,t){let i=e.hostBindingOpCodes;if(null!==i)try{for(let e=0;e<i.length;e++){let n=i[e];if(n<0)fa(~n);else{let r=n,s=i[++e],o=i[++e];na(s,r);let a=t[r];_o(24,a),o(2,a),_o(25,a)}}}finally{fa(-1)}}(e,t);let o=e.components;null!==o&&Lh(t,o,0);let a=e.viewQuery;if(null!==a&&_d(2,a,n),s){let i=e.viewCheckHooks;null!==i&&Sa(t,i)}else{let i=e.viewHooks;null!==i&&ba(t,i,2),Da(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[qs]){for(let e of t[qs])e();t[qs]=null}bh(t),t[Is]&=-73}catch(e){throw Po(t),e}finally{null!==a&&(wt(a,o),s&&function(e){e.lView[Zs]!==e&&(e.lView=null,Dh.push(e))}(a)),pa()}}function Fh(e,t){for(let i=td(e);null!==i;i=id(i))for(let e=io;e<i.length;e++)Vh(i[e],t)}function Ph(e,t,i){_o(18);let n=To(t,e);Vh(n,i),_o(19,n[Ps])}function Vh(e,t){Io(e)&&Mh(e,t)}function Mh(e,t){let i=e[Ts],n=e[Is],r=e[Zs],s=!!(0===t&&16&n);if(s||=!!(64&n&&0===t),s||=!!(1024&n),s||=!(!r?.dirty||!Ct(r)),s||=!1,r&&(r.dirty=!1),e[Is]&=-9217,s)Oh(i,e,i.template,e[Ps]);else if(8192&n){Rh(e),Fh(e,1);let t=i.components;null!==t&&Lh(e,t,1),bh(e)}}function Lh(e,t,i){for(let n=0;n<t.length;n++)Ph(e,t[n],i)}function Nh(e,t){let i=Qo()?64:1088;for(e[Ms].changeDetectionScheduler?.notify(t);e;){e[Is]|=i;let t=Mo(e);if(co(e)&&!t)return e;e=t}return null}function Hh(e,t,i,n){return[e,!0,0,t,null,n,null,i,null,null]}function zh(e,t){let i=io+t;if(i<e.length)return e[i]}function Bh(e,t,i,n=!0){let r=t[Ts];if(function(e,t,i,n){let r=io+n,s=i.length;n>0&&(i[r-1][As]=t),n<s-io?(t[As]=i[r],Kr(i,io+n,t)):(i.push(t),t[As]=null),t[Rs]=i;let o=t[Gs];null!==o&&i!==o&&Wh(o,t);let a=t[Ws];null!==a&&a.insertView(e),Fo(t),t[Is]|=128}(r,t,e,i),n){let n=yh(i,e),s=t[Ls],o=s.parentNode(e[eo]);null!==o&&function(e,t,i,n,r,s){n[Es]=r,n[ks]=t,_h(e,n,i,1,r,s)}(r,e[ks],s,t,o,n)}let s=t[Os];null!==s&&null!==s.firstChild&&(s.firstChild=null)}function Gh(e,t){let i=$h(e,t);return void 0!==i&&dh(i[Ts],i),i}function $h(e,t){if(e.length<=io)return;let i=io+t,n=e[i];if(n){let r=n[Gs];null!==r&&r!==e&&lh(r,n),t>0&&(e[i-1][As]=n[As]);let s=jr(e,io+t);!function(e,t){ah(e,t),t[Es]=null,t[ks]=null}(n[Ts],n);let o=s[Ws];null!==o&&o.detachView(s[Ts]),n[Rs]=null,n[As]=null,n[Is]&=-129}return n}function Wh(e,t){let i=e[to],n=t[Rs];if(no(n))e[Is]|=2;else{let i=n[Rs][Bs];t[Bs]!==i&&(e[Is]|=2)}null===i?e[to]=[t]:i.push(t)}var Kh=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,t=e[Ts];return Ch(t,e,t.firstChild,[])}constructor(e,t,i=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=i}get context(){return this._lView[Ps]}set context(e){this._lView[Ps]=e}get destroyed(){return ho(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Rs];if(ro(e)){let t=e[8],i=t?t.indexOf(this):-1;i>-1&&($h(e,i),jr(t,i))}this._attachedToViewContainer=!1}dh(this._lView[Ts],this._lView)}onDestroy(e){Vo(this._lView,e)}markForCheck(){Nh(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Is]&=-129}reattach(){Fo(this._lView),this._lView[Is]|=128}detectChanges(){this._lView[Is]|=1024,kh(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new $n(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=co(this._lView),t=this._lView[Gs];null!==t&&!e&&lh(t,this._lView),ah(this._lView[Ts],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new $n(902,!1);this._appRef=e;let t=co(this._lView),i=this._lView[Gs];null!==i&&!t&&Wh(i,this._lView),Fo(this._lView)}},jh=(()=>class{static __NG_ELEMENT_ID__=Yh})(),Uh=jh,qh=class extends Uh{_declarationLView;_declarationTContainer;elementRef;constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){let n=th(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:i});return new Kh(n)}};function Yh(){return Zh(Uo(),$o())}function Zh(e,t){return 4&e.type?new qh(t,e,Hl(e,t)):null}function Xh(e,t,i,n,r){let s=e.data[t];if(null===s)s=function(e,t,i,n,r){let s=qo(),o=Zo(),a=o?s:s&&s.parent,l=e.data[t]=function(e,t,i,n,r,s){let o=t?t.injectorIndex:-1,a=0;return Go()&&(a|=128),{type:i,index:n,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a,i,t,n,r);return function(e,t,i,n){null===e.firstChild&&(e.firstChild=t),null!==i&&(n?null==i.child&&null!==t.parent&&(i.child=t):null===i.next&&(i.next=t,t.prev=i))}(e,l,s,o),l}(e,t,i,n,r),Ho.lFrame.inI18n&&(s.flags|=32);else if(64&s.type){s.type=i,s.value=n,s.attrs=r;let e=function(){let e=Ho.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();s.injectorIndex=null===e?-1:e.injectorIndex}return Yo(s,!0),s}new RegExp("^(\\d+)*(b|h)*(.*)");var Qh=()=>null;function Jh(e,t){return Qh(e,t)}var eu=class{},tu=class{},iu=class{static NULL=new class{resolveComponentFactory(e){throw Error(`No component factory found for ${Zn(e)}.`)}}},nu=class{},ru=(()=>class{destroyNode=null;static __NG_ELEMENT_ID__=()=>function(){let e=$o(),t=To(Uo().index,e);return(no(t)?t:e)[Ls]}()})(),su=(()=>{class e{static ɵprov=ir({token:e,providedIn:"root",factory:()=>null})}return e})(),ou={};function au(e,t,i){let n=i?e.styles:null,r=i?e.classes:null,s=0;if(null!==t)for(let e=0;e<t.length;e++){let i=t[e];"number"==typeof i?s=i:1==s?r=Xn(r,i):2==s&&(n=Xn(n,i+": "+t[++e]+";"))}i?e.styles=n:e.stylesWithoutHost=n,i?e.classes=r:e.classesWithoutHost=r}function lu(e,t=br.Default){let i=$o();return null===i?Vr(e,t):Xa(Uo(),i,er(e),t)}function du(e,t,i,n,r){let s=null===n?null:{"":-1},o=r(e,i);if(null!==o){let n,r=null,a=null,l=function(e){let t=null,i=!1;for(let n=0;n<e.length;n++){let r=e[n];if(0===n&&lo(r)&&(t=r),null!==r.findHostDirectiveDefs){i=!0;break}}if(!i)return null;let n=null,r=null,s=null;for(let i of e)null!==i.findHostDirectiveDefs&&(n??=[],r??=new Map,s??=new Map,cu(i,n,s,r)),i===t&&(n??=[],n.push(i));return null!==n?(n.push(...null===t?e:e.slice(1)),[n,r,s]):null}(o);null===l?n=o:[n,r,a]=l,function(e,t,i,n,r,s,o){let a=n.length,l=!1;for(let r=0;r<a;r++){let s=n[r];!l&&lo(s)&&(l=!0,hu(e,i,r)),qa(Wa(i,t),e,s.type)}!function(e,t,i){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+i,e.providerIndexes=t}(i,e.data.length,a);for(let e=0;e<a;e++){let t=n[e];t.providersResolver&&t.providersResolver(t)}let d=!1,c=!1,h=Lc(e,t,a,null);a>0&&(i.directiveToIndex=new Map);for(let l=0;l<a;l++){let a=n[l];if(i.mergedAttrs=Fa(i.mergedAttrs,a.hostAttrs),fu(e,i,t,h,a),vu(h,a,r),null!==o&&o.has(a)){let[e,t]=o.get(a);i.directiveToIndex.set(a.type,[h,e+i.directiveStart,t+i.directiveStart])}else(null===s||!s.has(a))&&i.directiveToIndex.set(a.type,h);null!==a.contentQueries&&(i.flags|=4),(null!==a.hostBindings||null!==a.hostAttrs||0!==a.hostVars)&&(i.flags|=64);let u=a.type.prototype;!d&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((e.preOrderHooks??=[]).push(i.index),d=!0),!c&&(u.ngOnChanges||u.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(i.index),c=!0),h++}!function(e,t,i){for(let n=t.directiveStart;n<t.directiveEnd;n++){let r=e.data[n];if(null!==i&&i.has(r)){let e=i.get(r);gu(0,t,e,n),gu(1,t,e,n),mu(t,n,!0)}else uu(0,t,r,n),uu(1,t,r,n),mu(t,n,!1)}}(e,i,s)}(e,t,i,n,s,r,a)}null!==s&&null!==n&&function(e,t,i){let n=e.localNames=[];for(let e=0;e<t.length;e+=2){let r=i[t[e+1]];if(null==r)throw new $n(-301,!1);n.push(t[e],r)}}(i,n,s)}function cu(e,t,i,n){let r=t.length;e.findHostDirectiveDefs(e,t,n),i.set(e,[r,t.length-1])}function hu(e,t,i){t.componentOffset=i,(e.components??=[]).push(t.index)}function uu(e,t,i,n){let r=0===e?i.inputs:i.outputs;for(let i in r)if(r.hasOwnProperty(i)){let r;r=0===e?t.inputs??={}:t.outputs??={},r[i]??=[],r[i].push(n),pu(t,i)}}function gu(e,t,i,n){let r=0===e?i.inputs:i.outputs;for(let i in r)if(r.hasOwnProperty(i)){let s,o=r[i];s=0===e?t.hostDirectiveInputs??={}:t.hostDirectiveOutputs??={},s[o]??=[],s[o].push(n,i),pu(t,o)}}function pu(e,t){"class"===t?e.flags|=8:"style"===t&&(e.flags|=16)}function mu(e,t,i){let{attrs:n,inputs:r,hostDirectiveInputs:s}=e;if(null===n||!i&&null===r||i&&null===s||xc(e))return e.initialInputs??=[],void e.initialInputs.push(null);let o=null,a=0;for(;a<n.length;){let e=n[a];if(0!==e)if(5!==e){if("number"==typeof e)break;if(!i&&r.hasOwnProperty(e)){let i=r[e];for(let r of i)if(r===t){o??=[],o.push(e,n[a+1]);break}}else if(i&&s.hasOwnProperty(e)){let i=s[e];for(let e=0;e<i.length;e+=2)if(i[e]===t){o??=[],o.push(i[e+1],n[a+1]);break}}a+=2}else a+=2;else a+=4}e.initialInputs??=[],e.initialInputs.push(o)}function fu(e,t,i,n,r){e.data[n]=r;let s=r.factory||(r.factory=$r(r.type)),o=new Aa(s,lo(r),lu);e.blueprint[n]=o,i[n]=o,function(e,t,i,n,r){let s=r.hostBindings;if(s){let r=e.hostBindingOpCodes;null===r&&(r=e.hostBindingOpCodes=[]);let o=~t.index;(function(e){let t=e.length;for(;t>0;){let i=e[--t];if("number"==typeof i&&i<0)return i}return 0})(r)!=o&&r.push(o),r.push(i,n,s)}}(e,t,n,Lc(e,i,r.hostVars,Ic),r)}function vu(e,t,i){if(i){if(t.exportAs)for(let n=0;n<t.exportAs.length;n++)i[t.exportAs[n]]=e;lo(t)&&(i[""]=e)}}function yu(e,t,i,n,r,s,o,a){let l=t.consts,d=Xh(t,e,2,n,Ro(l,o));return s&&du(t,i,d,Ro(l,a),r),d.mergedAttrs=Fa(d.mergedAttrs,d.attrs),null!==d.attrs&&au(d,d.attrs,!1),null!==d.mergedAttrs&&au(d,d.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,d),d}function xu(e,t){Ca(e,t),so(t)&&e.queries.elementEnd(t)}var _u=class extends iu{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=is(e);return new wu(t,this.ngModule)}};var wu=class extends tu{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=function(e){return Object.keys(e).map((t=>{let[i,n,r]=e[t],s={propName:i,templateName:t,isSignal:0!=(n&Bc.SignalBased)};return r&&(s.transform=r),s}))}(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=function(e){return Object.keys(e).map((t=>({propName:e[t],templateName:t})))}(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function(e){return e.map(Tc).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,i,n){_o(22);let r=ut(null);try{let r=this.componentDef,s=i?["ng-version","19.2.5"]:function(e){let t=[],i=[],n=1,r=2;for(;n<e.length;){let s=e[n];if("string"==typeof s)2===r?""!==s&&t.push(s,e[++n]):8===r&&i.push(s);else{if(!Cc(r))break;r=s}n++}return i.length&&t.push(1,...i),t}(this.componentDef.selectors[0]),o=Pc(0,null,null,1,0,null,null,null,null,[s],null),a=function(e,t,i){let n=t instanceof vs?t:t?.injector;return n&&null!==e.getStandaloneInjector&&(n=e.getStandaloneInjector(n)||n),n?new class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=Lr(i);let n=this.injector.get(e,ou,i);return n!==ou||t===ou?n:this.parentInjector.get(e,t,i)}}(i,n):i}(r,n||this.ngModule,e),l=function(e){let t=e.get(nu,null);if(null===t)throw new $n(407,!1);return{rendererFactory:t,sanitizer:e.get(su,null),changeDetectionScheduler:e.get(fl,null)}}(a),d=l.rendererFactory.createRenderer(null,r),c=i?function(e,t,i,n){let r=n.get(hd,!1)||i===bd.ShadowDom,s=e.selectRootElement(t,r);return function(e){Uc(e)}(s),s}(d,i,r.encapsulation,a):function(e,t){let i=(e.selectors[0][0]||"div").toLowerCase();return Rc(t,i,"svg"===i?wo:"math"===i?"math":null)}(r,d),h=Vc(null,o,null,512|Mc(r),null,null,l,d,a,null,yd(c,a,!0));h[Qs]=c,da(h);let u=null;try{let e=yu(Qs,o,h,"#host",(()=>[this.componentDef]),!0,0);c&&(Fc(d,c,e),ed(c,h)),Wc(o,h,e),wd(o,e,h),xu(o,e),void 0!==t&&function(e,t,i){let n=e.projection=[];for(let e=0;e<t.length;e++){let t=i[e];n.push(null!=t&&t.length?Array.from(t):null)}}(e,this.ngContentSelectors,t),u=To(e.index,h),h[Ps]=u[Ps],eh(o,h,null)}catch(e){throw null!==u&&Xl(u),Xl(h),e}finally{_o(23),pa()}return new Cu(this.componentType,h)}finally{ut(r)}}},Cu=class extends eu{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t){super(),this._rootLView=t,this._tNode=Do(t[Ts],Qs),this.location=Hl(this._tNode,t),this.instance=To(this._tNode.index,t)[Ps],this.hostView=this.changeDetectorRef=new Kh(t,void 0,!1),this.componentType=e}setInput(e,t){let i=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let n=this._rootLView;Qc(i,n[Ts],n,e,t),this.previousInputValues.set(e,t),Nh(To(i.index,n),1)}get injector(){return new rl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}},Su=(()=>class{static __NG_ELEMENT_ID__=bu})();function bu(){return Ru(Uo(),$o())}var Du=Su,Eu=class extends Du{_lContainer;_hostTNode;_hostLView;constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return Hl(this._hostTNode,this._hostLView)}get injector(){return new rl(this._hostTNode,this._hostLView)}get parentInjector(){let e=Ua(this._hostTNode,this._hostLView);if(Va(e)){let t=La(e,this._hostLView),i=Ma(e),n=t[Ts].data[i+8];return new rl(n,t)}return new rl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=Tu(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-io}createEmbeddedView(e,t,i){let n,r;"number"==typeof i?n=i:null!=i&&(n=i.index,r=i.injector);let s=Jh(this._lContainer,e.ssrId),o=e.createEmbeddedViewImpl(t||{},r,s);return this.insertImpl(o,n,ih(this._hostTNode,s)),o}createComponent(e,t,i,n,r){let s,o=e&&!function(e){return"function"==typeof e}(e);if(o)s=t;else{let e=t||{};s=e.index,i=e.injector,n=e.projectableNodes,r=e.environmentInjector||e.ngModuleRef}let a=o?e:new wu(is(e)),l=i||this.parentInjector;if(!r&&null==a.ngModule){let e=(o?l:this.parentInjector).get(vs,null);e&&(r=e)}let d=is(a.componentType??{}),c=Jh(this._lContainer,d?.id??null),h=c?.firstChild??null,u=a.create(l,n,h,r);return this.insertImpl(u.hostView,s,ih(this._hostTNode,c)),u}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,i){let n=e._lView;if(function(e){return ro(e[Rs])}(n)){let t=this.indexOf(e);if(-1!==t)this.detach(t);else{let t=n[Rs],i=new Eu(t,t[ks],t[Rs]);i.detach(i.indexOf(e))}}let r=this._adjustIndex(t),s=this._lContainer;return Bh(s,n,r,i),e.attachToViewContainerRef(),Kr(Iu(s),r,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=Tu(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),i=$h(this._lContainer,t);i&&(jr(Iu(this._lContainer),t),dh(i[Ts],i))}detach(e){let t=this._adjustIndex(e,-1),i=$h(this._lContainer,t);return i&&null!=jr(Iu(this._lContainer),t)?new Kh(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function Tu(e){return e[8]}function Iu(e){return e[8]||(e[8]=[])}function Ru(e,t){let i,n=t[e.index];return ro(n)?i=n:(i=Hh(n,t,null,e),t[e.index]=i,Nc(t,i)),Au(i,t,e,n),new Eu(i,e,t)}var Au=function(e,t,i,n){if(e[eo])return;let r;r=8&i.type?Co(n):function(e,t){let i=e[Ls],n=i.createComment(""),r=bo(t,e),s=i.parentNode(r);return Ac(i,s,n,i.nextSibling(r),!1),n}(t,i),e[eo]=r},ku=()=>!1,Ou=class e{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},Fu=class e{queries;constructor(e=[]){this.queries=e}createEmbeddedView(t){let i=t.queries;if(null!==i){let n=null!==t.contentQueries?t.contentQueries[0]:i.length,r=[];for(let e=0;e<n;e++){let t=i.getByIndex(e),n=this.queries[t.indexInDeclarationView];r.push(n.clone())}return new e(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==$u(e,t).matches&&this.queries[t].setDirty()}},Pu=class{flags;read;predicate;constructor(e,t,i=null){this.flags=t,this.read=i,this.predicate="string"==typeof e?function(e){return e.split(",").map((e=>e.trim()))}(e):e}},Vu=class e{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(t){let i=null;for(let e=0;e<this.length;e++){let n=null!==i?i.length:0,r=this.getByIndex(e).embeddedTView(t,n);r&&(r.indexInDeclarationView=e,null!==i?i.push(r):i=[r])}return null!==i?new e(i):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Mu=class e{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(t,i){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,i),new e(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){let t=this._declarationNodeIndex,i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let i=this.metadata.predicate;if(Array.isArray(i))for(let n=0;n<i.length;n++){let r=i[n];this.matchTNodeWithReadOption(e,t,Lu(t,r)),this.matchTNodeWithReadOption(e,t,el(t,e,r,!1,!1))}else i===jh?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,el(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){let n=this.metadata.read;if(null!==n)if(n===zl||n===Su||n===jh&&4&t.type)this.addMatch(t.index,-2);else{let i=el(t,e,n,!1,!1);null!==i&&this.addMatch(t.index,i)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}};function Lu(e,t){let i=e.localNames;if(null!==i)for(let e=0;e<i.length;e+=2)if(i[e]===t)return i[e+1];return null}function Nu(e,t,i,n){return-1===i?function(e,t){return 11&e.type?Hl(e,t):4&e.type?Zh(e,t):null}(t,e):-2===i?function(e,t,i){return i===zl?Hl(t,e):i===jh?Zh(t,e):i===Su?Ru(t,e):void 0}(e,t,n):tl(e,e[Ts],i,t)}function Hu(e,t,i,n){let r=t[Ws].queries[n];if(null===r.matches){let n=e.data,s=i.matches,o=[];for(let e=0;null!==s&&e<s.length;e+=2){let r=s[e];if(r<0)o.push(null);else{let a=n[r];o.push(Nu(t,a,s[e+1],i.metadata.read))}}r.matches=o}return r.matches}function zu(e,t,i,n){let r=e.queries.getByIndex(i),s=r.matches;if(null!==s){let o=Hu(e,t,r,i);for(let e=0;e<s.length;e+=2){let i=s[e];if(i>0)n.push(o[e/2]);else{let r=s[e+1],o=t[-i];for(let e=io;e<o.length;e++){let t=o[e];t[Gs]===t[Rs]&&zu(t[Ts],t,r,n)}if(null!==o[to]){let e=o[to];for(let t=0;t<e.length;t++){let i=e[t];zu(i[Ts],i,r,n)}}}}}return n}function Bu(e,t,i){let n=new jl(4==(4&i));return function(e,t,i,n){let r=Lo(t);r.push(i),e.firstCreatePass&&No(e).push(n,r.length-1)}(e,t,n,n.destroy),(t[Ws]??=new Fu).queries.push(new Ou(n))-1}function Gu(e,t,i){null===e.queries&&(e.queries=new Vu),e.queries.track(new Mu(t,i))}function $u(e,t){return e.queries.getByIndex(t)}function Wu(e,t){let i=e[Ts],n=$u(i,t);return n.crossesNgTemplate?zu(i,e,t,[]):Hu(i,e,n,t)}var Ku=class{},ju=class{},Uu=class extends Ku{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new _u(this);constructor(e,t,i,n=!0){super(),this.ngModuleType=e,this._parent=t;let r=function(e,t){let i=e[fr]||null;return i}(e);this._bootstrapComponents=function(e){return e instanceof Function?e():e}(r.bootstrap),this._r3Injector=cl(e,t,[{provide:Ku,useValue:this},{provide:iu,useValue:this.componentFactoryResolver},...i],Zn(e),new Set(["environment"])),n&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach((e=>e())),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},qu=class extends ju{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Uu(this.moduleType,e,[])}},Yu=class extends Ku{injector;componentFactoryResolver=new _u(this);instance=null;constructor(e){super();let t=new ys([...e.providers,{provide:Ku,useValue:this},{provide:iu,useValue:this.componentFactoryResolver}],e.parent||fs(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Zu(e,t,i=null){return new Yu({providers:e,parent:t,debugName:i,runEnvironmentInitializers:!0}).injector}var Xu=(()=>{class e{_injector;cachedInjectors=new Map;constructor(e){this._injector=e}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){let t=ss(0,e.type),i=t.length>0?Zu([t],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,i)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}static ɵprov=ir({token:e,providedIn:"environment",factory:()=>new e(Vr(vs))})}return e})();function Qu(e){return Wn((()=>{let t=og(e),i=Je(Qe({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===ql.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?e=>e.get(Xu).getOrCreateStandaloneInjector(i):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||bd.Emulated,styles:e.styles||Xr,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&md("NgStandalone"),ag(i);let n=e.dependencies;return i.directiveDefs=lg(n,!1),i.pipeDefs=lg(n,!0),i.id=function(e){let t=0,i="function"==typeof e.consts?"":e.consts,n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,i,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let e of n.join("|"))t=Math.imul(31,t)+e.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(i),i}))}function Ju(e){return is(e)||function(e){return e[pr]||null}(e)}function eg(e){return null!==e}function tg(e){return Wn((()=>({type:e.type,bootstrap:e.bootstrap||Xr,declarations:e.declarations||Xr,imports:e.imports||Xr,exports:e.exports||Xr,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null})))}function ig(e,t){if(null==e)return Zr;let i={};for(let n in e)if(e.hasOwnProperty(n)){let r,s,o,a,l=e[n];Array.isArray(l)?(o=l[0],r=l[1],s=l[2]??r,a=l[3]||null):(r=l,s=l,o=Bc.None,a=null),i[r]=[n,o,a],t[r]=s}return i}function ng(e){if(null==e)return Zr;let t={};for(let i in e)e.hasOwnProperty(i)&&(t[e[i]]=i);return t}function rg(e){return Wn((()=>{let t=og(e);return ag(t),t}))}function sg(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function og(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||Zr,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:!0===e.signals,selectors:e.selectors||Xr,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ig(e.inputs,t),outputs:ng(e.outputs),debugInfo:null}}function ag(e){e.features?.forEach((t=>t(e)))}function lg(e,t){if(!e)return null;let i=t?ns:Ju;return()=>("function"==typeof e?e():e).map((e=>i(e))).filter(eg)}function dg(e){let t=function(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),i=!0,n=[e];for(;t;){let r;if(lo(e))r=t.ɵcmp||t.ɵdir;else{if(t.ɵcmp)throw new $n(903,!1);r=t.ɵdir}if(r){if(i){n.push(r);let t=e;t.inputs=hg(e.inputs),t.declaredInputs=hg(e.declaredInputs),t.outputs=hg(e.outputs);let i=r.hostBindings;i&&pg(e,i);let s=r.viewQuery,o=r.contentQueries;if(s&&ug(e,s),o&&gg(e,o),cg(e,r),Yn(e.outputs,r.outputs),lo(r)&&r.data.animation){let t=e.data;t.animation=(t.animation||[]).concat(r.data.animation)}}let t=r.features;if(t)for(let n=0;n<t.length;n++){let r=t[n];r&&r.ngInherit&&r(e),r===dg&&(i=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,i=null;for(let n=e.length-1;n>=0;n--){let r=e[n];r.hostVars=t+=r.hostVars,r.hostAttrs=Fa(r.hostAttrs,i=Fa(i,r.hostAttrs))}}(n)}function cg(e,t){for(let i in t.inputs){if(!t.inputs.hasOwnProperty(i)||e.inputs.hasOwnProperty(i))continue;let n=t.inputs[i];void 0!==n&&(e.inputs[i]=n,e.declaredInputs[i]=t.declaredInputs[i])}}function hg(e){return e===Zr?{}:e===Xr?[]:e}function ug(e,t){let i=e.viewQuery;e.viewQuery=i?(e,n)=>{t(e,n),i(e,n)}:t}function gg(e,t){let i=e.contentQueries;e.contentQueries=i?(e,n,r)=>{t(e,n,r),i(e,n,r)}:t}function pg(e,t){let i=e.hostBindings;e.hostBindings=i?(e,n)=>{t(e,n),i(e,n)}:t}function mg(e){return!!fg(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function fg(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function vg(e,t,i){return e[t]=i}function yg(e,t){return e[t]}function xg(e,t,i){let n=e[t];return!Object.is(n,i)&&(e[t]=i,!0)}function _g(e,t,i,n){let r=xg(e,t,i);return xg(e,t+1,n)||r}function wg(e,t,i,n,r){let s=_g(e,t,i,n);return xg(e,t+2,r)||s}function Cg(e,t,i,n,r,s){let o=_g(e,t,i,n);return _g(e,t+2,r,s)||o}function Sg(e,t,i,n,r,s,o,a,l,d){let c=i+Qs,h=t.firstCreatePass?function(e,t,i,n,r,s,o,a,l){let d=t.consts,c=Xh(t,e,4,o||null,a||null);Bo()&&du(t,i,c,Ro(d,l),Zc),c.mergedAttrs=Fa(c.mergedAttrs,c.attrs),Ca(t,c);let h=c.tView=Pc(2,c,n,r,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,d,null);return null!==t.queries&&(t.queries.template(t,c),h.queries=t.queries.embeddedTView(c)),c}(c,t,e,n,r,s,o,a,l):t.data[c];Yo(h,!1);let u=Eg(t,e,h,i);_a()&&mh(t,e,u,h),ed(u,e);let g=Hh(u,e,u,h);return e[c]=g,Nc(e,g),function(e,t,i){ku(e,t,i)}(g,h,e),ao(h)&&Wc(t,e,h),null!=l&&Kc(e,h,d),h}function bg(e,t,i,n,r,s,o,a){let l=$o(),d=Wo();return Sg(l,d,e,t,i,n,r,Ro(d.consts,s),o,a),bg}var Dg,Eg=function(e,t,i,n){return wa(!0),t[Ls].createComment("")},Tg=new hr(""),Ig=new hr(""),Rg=(()=>{class e{_ngZone;registry;_isZoneStable=!0;_callbacks=[];taskTrackingZone=null;constructor(e,t,i){this._ngZone=e,this.registry=t,Dg||(function(e){Dg=e}(i),i.addToWindow(t)),this._watchAngularEvents(),e.run((()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")}))}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular((()=>{this._ngZone.onStable.subscribe({next:()=>{Il.assertNotInAngularZone(),queueMicrotask((()=>{this._isZoneStable=!0,this._runCallbacksIfReady()}))}})}))}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask((()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb()}}));else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter((t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((e=>({source:e.source,creationLocation:e.creationLocation,data:e.data}))):[]}addCallback(e,t,i){let n=-1;t&&t>0&&(n=setTimeout((()=>{this._callbacks=this._callbacks.filter((e=>e.timeoutId!==n)),e()}),t)),this._callbacks.push({doneCb:e,timeoutId:n,updateCb:i})}whenStable(e,t,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,t,i),this._runCallbacksIfReady()}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,t,i){return[]}static ɵfac=function(t){return new(t||e)(Vr(Il),Vr(Ag),Vr(Ig))};static ɵprov=ir({token:e,factory:e.ɵfac})}return e})(),Ag=(()=>{class e{_applications=new Map;registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return Dg?.findTestabilityInTree(this,e,t)??null}static ɵfac=function(t){return new(t||e)};static ɵprov=ir({token:e,factory:e.ɵfac,providedIn:"platform"})}return e})(),kg=(()=>{class e{static ɵprov=ir({token:e,providedIn:"root",factory:()=>new Og})}return e})(),Og=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let t=e.zone,i=this.queues.get(t);i.has(e)&&(i.delete(e),this.queuedEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let i=this.queues.get(t);i.has(e)||(this.queuedEffectCount++,i.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,t]of this.queues)null===e?this.flushQueue(t):e.run((()=>this.flushQueue(t)))}flushQueue(e){for(let t of e)e.delete(t),this.queuedEffectCount--,t.run()}};function Fg(e){return!!e&&"function"==typeof e.then}function Pg(e){return!!e&&"function"==typeof e.subscribe}var Vg=new hr(""),Mg=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}));appInits=Mr(Vg,{optional:!0})??[];injector=Mr(hl);constructor(){}runInitializers(){if(this.initialized)return;let e=[];for(let t of this.appInits){let i=bs(this.injector,t);if(Fg(i))e.push(i);else if(Pg(i)){let t=new Promise(((e,t)=>{i.subscribe({complete:e,error:t})}));e.push(t)}}let t=()=>{this.done=!0,this.resolve()};Promise.all(e).then((()=>{t()})).catch((e=>{this.reject(e)})),0===e.length&&t(),this.initialized=!0}static ɵfac=function(t){return new(t||e)};static ɵprov=ir({token:e,factory:e.ɵfac,providedIn:"root"})}return e})(),Lg=new hr("");function Ng(){Pt=()=>{throw new $n(600,!1)}}function Hg(e,t){return Array.isArray(t)?t.reduce(Hg,e):Qe(Qe({},e),t)}var zg=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=Mr(Ll);afterRenderManager=Mr(fd);zonelessEnabled=Mr(vl);rootEffectScheduler=Mr(kg);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new Ci;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=Mr(_l).hasPendingTasks.pipe(cn((e=>!e)));constructor(){Mr(gd,{optional:!0})}whenStable(){let e;return new Promise((t=>{e=this.isStable.subscribe({next:e=>{e&&t()}})})).finally((()=>{e.unsubscribe()}))}_injector=Mr(vs);_rendererFactory=null;get injector(){return this._injector}bootstrap(e,t){_o(10);let i,n=e instanceof tu;if(!this._injector.get(Mg).done)throw new $n(405,"");i=n?e:this._injector.get(iu).resolveComponentFactory(e),this.componentTypes.push(i.componentType);let r=function(e){return e.isBoundToModule}(i)?void 0:this._injector.get(Ku),s=t||i.selector,o=i.create(hl.NULL,[],s,r),a=o.location.nativeElement,l=o.injector.get(Tg,null);return l?.registerApplication(a),o.onDestroy((()=>{this.detachView(o.hostView),Bg(this.components,o),l?.unregisterApplication(a)})),this._loadComponent(o),_o(11,o),o}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){_o(12),null!==this.tracingSnapshot?this.tracingSnapshot.run(ud.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new $n(101,!1);let e=ut(null);try{this._runningTick=!0,this.synchronize()}catch(e){this.internalErrorHandler(e)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ut(e),this.afterTick.next(),_o(13)}};synchronize(){null===this._rendererFactory&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(nu,null,{optional:!0}));let e=0;for(;0!==this.dirtyFlags&&e++<10;)_o(14),this.synchronizeOnce(),_o(15)}synchronizeOnce(){if(16&this.dirtyFlags&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),7&this.dirtyFlags){let e=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:t,notifyErrorHandler:i}of this.allViews)Gg(t,i,e,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),23&this.dirtyFlags)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some((({_lView:e})=>Oo(e)))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(e){let t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){let t=e;Bg(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Lg,[]).forEach((t=>t(e)))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach((e=>e())),this._views.slice().forEach((e=>e.destroy()))}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>Bg(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new $n(406,!1);let e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}static ɵfac=function(t){return new(t||e)};static ɵprov=ir({token:e,factory:e.ɵfac,providedIn:"root"})}return e})();function Bg(e,t){let i=e.indexOf(t);i>-1&&e.splice(i,1)}function Gg(e,t,i,n){(i||Oo(e))&&kh(e,t,i&&!n?0:1)}function $g(e,t,i,n){let r=$o();return xg(r,ta(),t)&&(Wo(),function(e,t,i,n,r,s){let o=bo(e,t);!function(e,t,i,n,r,s,o){if(null==s)e.removeAttribute(t,r,i);else{let a=null==o?_r(s):o(s,n||"",r);e.setAttribute(t,r,a,i)}}(t[Ls],o,s,e.value,i,n,r)}(va(),r,e,t,i,n)),$g}function Wg(e,t,i,n){return xg(e,ta(),i)?t+_r(i)+n:Ic}function Kg(e,t,i,n,r,s){let o=_g(e,Ho.lFrame.bindingIndex,i,r);return ia(2),o?t+_r(i)+n+_r(r)+s:Ic}function jg(e,t){return e<<17|t<<2}function Ug(e){return e>>17&32767}function qg(e){return 2|e}function Yg(e){return(131068&e)>>2}function Zg(e,t){return-131069&e|t<<2}function Xg(e){return 1|e}function Qg(e,t,i,n){let r=e[i+1],s=null===t,o=n?Ug(r):Yg(r),a=!1;for(;0!==o&&(!1===a||s);){let i=e[o],r=e[o+1];Jg(i,t)&&(a=!0,e[o+1]=n?Xg(r):qg(r)),o=n?Ug(r):Yg(r)}a&&(e[i+1]=n?qg(r):Xg(r))}function Jg(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Yr(e,t)>=0}var ep={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function tp(e){return e.substring(ep.key,ep.keyEnd)}function ip(e,t){let i=ep.textEnd;return i===t?-1:(t=ep.keyEnd=function(e,t,i){for(;t<i&&e.charCodeAt(t)>32;)t++;return t}(e,ep.key=t,i),np(e,t,i))}function np(e,t,i){for(;t<i&&e.charCodeAt(t)<=32;)t++;return t}function rp(e,t,i){let n=$o();return xg(n,ta(),t)&&qc(Wo(),va(),n,e,t,n[Ls],i,!1),rp}function sp(e,t,i,n,r){Qc(t,e,i,r?"class":"style",n)}function op(e,t,i){return cp(e,t,i,!1),op}function ap(e,t){return cp(e,t,null,!0),ap}function lp(e){hp(fp,dp,e,!0)}function dp(e,t){for(let i=function(e){return function(e){ep.key=0,ep.keyEnd=0,ep.value=0,ep.valueEnd=0,ep.textEnd=e.length}(e),ip(e,np(e,0,ep.textEnd))}(t);i>=0;i=ip(t,i))Ur(e,tp(t),!0)}function cp(e,t,i,n){let r=$o(),s=Wo(),o=ia(2);s.firstUpdatePass&&gp(s,e,o,n),t!==Ic&&xg(r,o,t)&&vp(s,s.data[ma()],r,r[Ls],e,r[o+1]=function(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Zn(Fd(e)))),e}(t,i),n,o)}function hp(e,t,i,n){let r=Wo(),s=ia(2);r.firstUpdatePass&&gp(r,null,s,n);let o=$o();if(i!==Ic&&xg(o,s,i)){let a=r.data[ma()];if(_p(a,n)&&!up(r,s)){let e=n?a.classesWithoutHost:a.stylesWithoutHost;null!==e&&(i=Xn(e,i||"")),sp(r,a,o,i,n)}else!function(e,t,i,n,r,s,o,a){r===Ic&&(r=Xr);let l=0,d=0,c=0<r.length?r[0]:null,h=0<s.length?s[0]:null;for(;null!==c||null!==h;){let u,g=l<r.length?r[l+1]:void 0,p=d<s.length?s[d+1]:void 0,m=null;c===h?(l+=2,d+=2,g!==p&&(m=h,u=p)):null===h||null!==c&&c<h?(l+=2,m=c):(d+=2,m=h,u=p),null!==m&&vp(e,t,i,n,m,u,o,a),c=l<r.length?r[l]:null,h=d<s.length?s[d]:null}}(r,a,o,o[Ls],o[s+1],o[s+1]=function(e,t,i){if(null==i||""===i)return Xr;let n=[],r=Fd(i);if(Array.isArray(r))for(let t=0;t<r.length;t++)e(n,r[t],!0);else if("object"==typeof r)for(let t in r)r.hasOwnProperty(t)&&e(n,t,r[t]);else"string"==typeof r&&t(n,r);return n}(e,t,i),n,s)}}function up(e,t){return t>=e.expandoStartIndex}function gp(e,t,i,n){let r=e.data;if(null===r[i+1]){let s=r[ma()],o=up(e,i);_p(s,n)&&null===t&&!o&&(t=!1),t=function(e,t,i,n){let r=function(e){let t=Ho.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e),s=n?t.residualClasses:t.residualStyles;if(null===r)0===(n?t.classBindings:t.styleBindings)&&(i=mp(i=pp(null,e,t,i,n),t.attrs,n),s=null);else{let o=t.directiveStylingLast;if(-1===o||e[o]!==r)if(i=pp(r,e,t,i,n),null===s){let i=function(e,t,i){let n=i?t.classBindings:t.styleBindings;if(0!==Yg(n))return e[Ug(n)]}(e,t,n);void 0!==i&&Array.isArray(i)&&(i=pp(null,e,t,i[1],n),i=mp(i,t.attrs,n),function(e,t,i,n){e[Ug(i?t.classBindings:t.styleBindings)]=n}(e,t,n,i))}else s=function(e,t,i){let n,r=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<r;s++)n=mp(n,e[s].hostAttrs,i);return mp(n,t.attrs,i)}(e,t,n)}return void 0!==s&&(n?t.residualClasses=s:t.residualStyles=s),i}(r,s,t,n),function(e,t,i,n,r,s){let o=s?t.classBindings:t.styleBindings,a=Ug(o),l=Yg(o);e[n]=i;let d,c=!1;if(Array.isArray(i)){let e=i;d=e[1],(null===d||Yr(e,d)>0)&&(c=!0)}else d=i;if(r)if(0!==l){let t=Ug(e[a+1]);e[n+1]=jg(t,a),0!==t&&(e[t+1]=Zg(e[t+1],n)),e[a+1]=function(e,t){return 131071&e|t<<17}(e[a+1],n)}else e[n+1]=jg(a,0),0!==a&&(e[a+1]=Zg(e[a+1],n)),a=n;else e[n+1]=jg(l,0),0===a?a=n:e[l+1]=Zg(e[l+1],n),l=n;c&&(e[n+1]=qg(e[n+1])),Qg(e,d,n,!0),Qg(e,d,n,!1),function(e,t,i,n,r){let s=r?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof t&&Yr(s,t)>=0&&(i[n+1]=Xg(i[n+1]))}(t,d,e,n,s),o=jg(a,l),s?t.classBindings=o:t.styleBindings=o}(r,s,t,i,o,n)}}function pp(e,t,i,n,r){let s=null,o=i.directiveEnd,a=i.directiveStylingLast;for(-1===a?a=i.directiveStart:a++;a<o&&(s=t[a],n=mp(n,s.hostAttrs,r),s!==e);)a++;return null!==e&&(i.directiveStylingLast=a),n}function mp(e,t,i){let n=i?1:2,r=-1;if(null!==t)for(let s=0;s<t.length;s++){let o=t[s];"number"==typeof o?r=o:r===n&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Ur(e,o,!!i||t[++s]))}return void 0===e?null:e}function fp(e,t,i){let n=String(t);""!==n&&!n.includes(" ")&&Ur(e,n,i)}function vp(e,t,i,n,r,s,o,a){if(!(3&t.type))return;let l=e.data,d=l[a+1],c=function(e){return 1==(1&e)}(d)?yp(l,t,i,r,Yg(d),o):void 0;xp(c)||(xp(s)||function(e){return 2==(2&e)}(d)&&(s=yp(l,null,i,r,a,o)),function(e,t,i,n,r){if(t)r?e.addClass(i,n):e.removeClass(i,n);else{let t=-1===n.indexOf("-")?void 0:rh.DashCase;null==r?e.removeStyle(i,n,t):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),t|=rh.Important),e.setStyle(i,n,r,t))}}(n,o,So(ma(),i),r,s))}function yp(e,t,i,n,r,s){let o,a=null===t;for(;r>0;){let t=e[r],s=Array.isArray(t),l=s?t[1]:t,d=null===l,c=i[r+1];c===Ic&&(c=d?Xr:void 0);let h=d?qr(c,n):l===n?c:void 0;if(s&&!xp(h)&&(h=qr(t,n)),xp(h)&&(o=h,a))return o;let u=e[r+1];r=a?Ug(u):Yg(u)}if(null!==t){let e=s?t.residualClasses:t.residualStyles;null!=e&&(o=qr(e,n))}return o}function xp(e){return void 0!==e}function _p(e,t){return 0!=(e.flags&(t?8:16))}function wp(e,t,i){hp(Ur,dp,Wg($o(),e,t,i),!0)}var Cp=class{destroy(e){}updateValue(e,t){}swap(e,t){let i=Math.min(e,t),n=Math.max(e,t),r=this.detach(n);if(n-i>1){let e=this.detach(i);this.attach(i,r),this.attach(n,e)}else this.attach(i,r)}move(e,t){this.attach(t,this.detach(e))}};function Sp(e,t,i,n,r){return e===i&&Object.is(t,n)?1:Object.is(r(e,t),r(i,n))?-1:0}function bp(e,t,i,n){return!(void 0===t||!t.has(n)||(e.attach(i,t.get(n)),t.delete(n),0))}function Dp(e,t,i,n,r){if(bp(e,t,n,i(n,r)))e.updateValue(n,r);else{let t=e.create(n,r);e.attach(n,t)}}function Ep(e,t,i,n){let r=new Set;for(let s=t;s<=i;s++)r.add(n(s,e.at(s)));return r}var Tp=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return void 0!==this._vMap&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let i=this.kvMap.get(e);void 0===this._vMap&&(this._vMap=new Map);let n=this._vMap;for(;n.has(i);)i=n.get(i);n.set(i,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,i]of this.kvMap)if(e(i,t),void 0!==this._vMap){let n=this._vMap;for(;n.has(i);)i=n.get(i),e(i,t)}}};function Ip(e,t){md("NgControlFlow");let i=$o(),n=ta(),r=i[n]!==Ic?i[n]:-1,s=-1!==r?Vp(i,Qs+r):void 0;if(xg(i,n,e)){let n=ut(null);try{if(void 0!==s&&Gh(s,0),-1!==e){let n=Qs+e,r=Vp(i,n),s=Mp(i[Ts],n),o=Jh(r,s.tView.ssrId);Bh(r,th(i,s,t,{dehydratedView:o}),0,ih(s,o))}}finally{ut(n)}}else if(void 0!==s){let e=zh(s,0);void 0!==e&&(e[Ps]=t)}}function Rp(e){return e}function Ap(e,t){return t}var kp=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,t,i){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=i}};function Op(e,t,i,n,r,s,o,a,l,d,c,h,u){md("NgControlFlow");let g=$o(),p=Wo(),m=void 0!==l,f=$o(),v=a?o.bind(f[Bs][Ps]):o,y=new kp(m,v);f[Qs+e]=y,Sg(g,p,e+1,t,i,n,r,Ro(p.consts,s)),m&&Sg(g,p,e+2,l,d,c,h,Ro(p.consts,u))}var Fp=class extends Cp{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,t,i){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=i}get length(){return this.lContainer.length-io}at(e){return this.getLView(e)[Ps].$implicit}attach(e,t){let i=t[Os];this.needsIndexUpdate||=e!==this.length,Bh(this.lContainer,t,e,ih(this.templateTNode,i))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,function(e,t){return $h(e,t)}(this.lContainer,e)}create(e,t){let i=Jh(this.lContainer,this.templateTNode.tView.ssrId),n=th(this.hostLView,this.templateTNode,new class{lContainer;$implicit;$index;constructor(e,t,i){this.lContainer=e,this.$implicit=t,this.$index=i}get $count(){return this.lContainer.length-io}}(this.lContainer,t,e),{dehydratedView:i});return this.operationsCounter?.recordCreate(),n}destroy(e){dh(e[Ts],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[Ps].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Ps].$index=e}getLView(e){return function(e,t){return zh(e,t)}(this.lContainer,e)}};function Pp(e){let t=ut(null),i=ma();try{let t=$o(),n=t[Ts],r=t[i],s=i+1,o=Vp(t,s);if(void 0===r.liveCollection){let e=Mp(n,s);r.liveCollection=new Fp(o,t,e)}else r.liveCollection.reset();let a=r.liveCollection;if(function(e,t,i){let n,r,s=0,o=e.length-1;if(Array.isArray(t)){let a=t.length-1;for(;s<=o&&s<=a;){let l=e.at(s),d=t[s],c=Sp(s,l,s,d,i);if(0!==c){c<0&&e.updateValue(s,d),s++;continue}let h=e.at(o),u=t[a],g=Sp(o,h,a,u,i);if(0!==g){g<0&&e.updateValue(o,u),o--,a--;continue}let p=i(s,l),m=i(o,h),f=i(s,d);if(Object.is(f,m)){let t=i(a,u);Object.is(t,p)?(e.swap(s,o),e.updateValue(o,u),a--,o--):e.move(o,s),e.updateValue(s,d),s++}else if(n??=new Tp,r??=Ep(e,s,o,i),bp(e,n,s,f))e.updateValue(s,d),s++,o++;else if(r.has(f))n.set(p,e.detach(s)),o--;else{let i=e.create(s,t[s]);e.attach(s,i),s++,o++}}for(;s<=a;)Dp(e,n,i,s,t[s]),s++}else if(null!=t){let a=t[Symbol.iterator](),l=a.next();for(;!l.done&&s<=o;){let t=e.at(s),d=l.value,c=Sp(s,t,s,d,i);if(0!==c)c<0&&e.updateValue(s,d),s++,l=a.next();else{n??=new Tp,r??=Ep(e,s,o,i);let c=i(s,d);if(bp(e,n,s,c))e.updateValue(s,d),s++,o++,l=a.next();else if(r.has(c)){let r=i(s,t);n.set(r,e.detach(s)),o--}else e.attach(s,e.create(s,d)),s++,o++,l=a.next()}}for(;!l.done;)Dp(e,n,i,e.length,l.value),l=a.next()}for(;s<=o;)e.destroy(e.detach(o--));n?.forEach((t=>{e.destroy(t)}))}(a,e,r.trackByFn),a.updateIndexes(),r.hasEmptyBlock){let e=ta(),r=0===a.length;if(xg(t,e,r)){let e=i+2,s=Vp(t,e);if(r){let i=Mp(n,e),r=Jh(s,i.tView.ssrId);Bh(s,th(t,i,void 0,{dehydratedView:r}),0,ih(i,r))}else Gh(s,0)}}}finally{ut(t)}}function Vp(e,t){return e[t]}function Mp(e,t){return Do(e,t)}function Lp(e,t,i,n){let r=$o(),s=Wo(),o=Qs+e,a=r[Ls],l=s.firstCreatePass?yu(o,s,r,t,Zc,Bo(),i,n):s.data[o],d=zp(s,r,l,a,t,e);r[o]=d;let c=ao(l);return Yo(l,!0),Fc(a,d,l),!sh(l)&&_a()&&mh(s,r,d,l),(0===Ho.lFrame.elementDepthCount||c)&&ed(d,r),Ho.lFrame.elementDepthCount++,c&&(Wc(s,r,l),wd(s,l,r)),null!==n&&Kc(r,l),Lp}function Np(){let e=Uo();Zo()?Xo():(e=e.parent,Yo(e,!1));let t=e;(function(e){return Ho.skipHydrationRootTNode===e})(t)&&(Ho.skipHydrationRootTNode=null),Ho.lFrame.elementDepthCount--;let i=Wo();return i.firstCreatePass&&xu(i,t),null!=t.classesWithoutHost&&function(e){return 0!=(8&e.flags)}(t)&&sp(i,t,$o(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&sp(i,t,$o(),t.stylesWithoutHost,!1),Np}function Hp(e,t,i,n){return Lp(e,t,i,n),Np(),Hp}var zp=(e,t,i,n,r,s)=>(wa(!0),Rc(n,r,Ho.lFrame.currentNamespace));function Bp(e,t,i){let n=$o(),r=Wo(),s=e+Qs,o=r.firstCreatePass?function(e,t,i,n,r){let s=t.consts,o=Ro(s,n),a=Xh(t,e,8,"ng-container",o);null!==o&&au(a,o,!0);let l=Ro(s,r);return Bo()&&du(t,i,a,l,Zc),a.mergedAttrs=Fa(a.mergedAttrs,a.attrs),null!==t.queries&&t.queries.elementStart(t,a),a}(s,r,n,t,i):r.data[s];Yo(o,!0);let a=Wp(r,n,o,e);return n[s]=a,_a()&&mh(r,n,a,o),ed(a,n),ao(o)&&(Wc(r,n,o),wd(r,o,n)),null!=i&&Kc(n,o),Bp}function Gp(){let e=Uo(),t=Wo();return Zo()?Xo():(e=e.parent,Yo(e,!1)),t.firstCreatePass&&(Ca(t,e),so(e)&&t.queries.elementEnd(e)),Gp}function $p(e,t,i){return Bp(e,t,i),Gp(),$p}var Wp=(e,t,i,n)=>(wa(!0),function(e,t){return e.createComment(function(e){return e.replace(pc,(e=>e.replace(mc,"​$1​")))}(t))}(t[Ls],""));function Kp(){return $o()}function jp(e,t,i){let n=$o();return xg(n,ta(),t)&&qc(Wo(),va(),n,e,t,n[Ls],i,!0),jp}var Up=void 0,qp=["en",[["a","p"],["AM","PM"],Up],[["AM","PM"],Up,Up],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Up,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Up,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Up,"{1} 'at' {0}",Up],[".",",",";","%","+","-","E","×","‰","∞","NaN",":"],["#,##0.###","#,##0%","¤#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){let t=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===i?1:5}],Yp={};function Zp(e){let t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e),i=Xp(t);if(i)return i;let n=t.split("-")[0];if(i=Xp(n),i)return i;if("en"===n)return qp;throw new $n(701,!1)}function Xp(e){return e in Yp||(Yp[e]=Un.ng&&Un.ng.common&&Un.ng.common.locales&&Un.ng.common.locales[e]),Yp[e]}var Qp=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Qp||{}),Jp="en-US";function em(e,t,i){return function n(r){if(r===Function)return i;Nh(oo(e)?To(e.index,t):t,5);let s=t[Ps],o=tm(t,s,i,r),a=n.__ngNextListenerFn__;for(;a;)o=tm(t,s,a,r)&&o,a=a.__ngNextListenerFn__;return o}}function tm(e,t,i,n){let r=ut(null);try{return _o(6,t,i),!1!==i(n)}catch(t){return function(e,t){let i=e[Vs],n=i?i.get(Ml,null):null;n&&n.handleError(t)}(e,t),!1}finally{_o(7,t,i),ut(r)}}function im(e,t,i,n,r,s){let o=t[i],a=t[Ts],l=o[a.data[i].outputs[n]],d=a.firstCreatePass?No(a):null,c=Lo(t),h=l.subscribe(s),u=c.length;c.push(s,h),d&&d.push(r,e.index,u,-(u+1))}var nm=(e,t,i)=>{};function rm(e,t,i,n){let r=$o(),s=Wo(),o=Uo();return sm(s,r,r[Ls],o,e,t,n),rm}function sm(e,t,i,n,r,s,o){let a=ao(n),l=e.firstCreatePass?No(e):null,d=Lo(t),c=!0;if(3&n.type||o){let h=bo(n,t),u=o?o(h):h,g=d.length,p=o?e=>o(Co(e[n.index])):n.index,m=null;if(!o&&a&&(m=function(e,t,i,n){let r=e.cleanup;if(null!=r)for(let e=0;e<r.length-1;e+=2){let s=r[e];if(s===i&&r[e+1]===n){let i=t[Fs],n=r[e+2];return i.length>n?i[n]:null}"string"==typeof s&&(e+=2)}return null}(e,t,r,n.index)),null!==m)(m.__ngLastListenerFn__||m).__ngNextListenerFn__=s,m.__ngLastListenerFn__=s,c=!1;else{s=em(n,t,s),nm(u,r,s);let e=i.listen(u,r,s);d.push(s,e),l&&l.push(r,p,g,g+1)}}else s=em(n,t,s);if(c){let e=n.outputs?.[r],i=n.hostDirectiveOutputs?.[r];if(i&&i.length)for(let e=0;e<i.length;e+=2){let o=i[e],a=i[e+1];im(n,t,o,a,r,s)}if(e&&e.length)for(let i of e)im(n,t,i,r,r,s)}}function om(e=1){return function(e){return(Ho.lFrame.contextLView=function(e,t){for(;e>0;)t=t[zs],e--;return t}(e,Ho.lFrame.contextLView))[Ps]}(e)}function am(e,t){let i=null,n=function(e){let t=e.attrs;if(null!=t){let e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(e);for(let r=0;r<t.length;r++){let s=t[r];if("*"!==s){if(null===n?bc(e,s,!0):Dc(n,s))return r}else i=r}return i}function lm(e){let t=$o()[Bs][ks];if(!t.projection){let i=e?e.length:1,n=t.projection=function(e,t){let i=[];for(let t=0;t<e;t++)i.push(null);return i}(i),r=n.slice(),s=t.child;for(;null!==s;){if(128!==s.type){let t=e?am(s,e):0;null!==t&&(r[t]?r[t].projectionNext=s:n[t]=s,r[t]=s)}s=s.next}}}function dm(e,t=0,i,n,r,s){let o=$o(),a=Wo(),l=n?e+1:null;null!==l&&Sg(o,a,l,n,r,s,null,i);let d=Xh(a,Qs+e,16,null,i||null);null===d.projection&&(d.projection=t),Xo();let c=!o[Os]||Go();null===o[Bs][ks].projection[d.projection]&&null!==l?function(e,t,i){let n=Qs+i,r=t.data[n],s=e[n],o=Jh(s,r.tView.ssrId);Bh(s,th(e,r,void 0,{dehydratedView:o}),0,ih(r,o))}(o,a,l):c&&!sh(d)&&function(e,t,i){wh(t[Ls],0,t,i,hh(e,i,t),uh(i.parent||t[ks],i,t))}(a,o,d)}function cm(e,t,i){return hm(e,"",t,"",i),cm}function hm(e,t,i,n,r){let s=$o(),o=Wg(s,t,i,n);return o!==Ic&&qc(Wo(),va(),s,e,o,s[Ls],r,!1),hm}function um(e,t,i,n,r,s,o){let a=$o(),l=Kg(a,t,i,n,r,s);return l!==Ic&&qc(Wo(),va(),a,e,l,a[Ls],o,!1),um}function gm(e,t,i,n){!function(e,t,i,n){let r=Wo();if(r.firstCreatePass){let s=Uo();Gu(r,new Pu(t,i,n),s.index),function(e,t){let i=e.contentQueries||(e.contentQueries=[]);t!==(i.length?i[i.length-1]:-1)&&i.push(e.queries.length-1,t)}(r,e),2==(2&i)&&(r.staticContentQueries=!0)}Bu(r,$o(),i)}(e,t,i,n)}function pm(e,t,i){!function(e,t,i){let n=Wo();n.firstCreatePass&&(Gu(n,new Pu(e,t,i),-1),2==(2&t)&&(n.staticViewQueries=!0)),Bu(n,$o(),t)}(e,t,i)}function mm(e){let t=$o(),i=Wo(),n=sa();oa(n+1);let r=$u(i,n);if(e.dirty&&function(e){return 4==(4&e[Is])}(t)===(2==(2&r.metadata.flags))){if(null===r.matches)e.reset([]);else{let i=Wu(t,n);e.reset(i,Bl),e.notifyOnChanges()}return!0}return!1}function fm(){return function(e,t){return e[Ws].queries[t].queryList}($o(),sa())}function vm(e){return Eo(Ho.lFrame.contextLView,Qs+e)}function ym(e,t=""){let i=$o(),n=Wo(),r=e+Qs,s=n.firstCreatePass?Xh(n,r,1,t,null):n.data[r],o=xm(n,i,s,t,e);i[r]=o,_a()&&mh(n,i,o,s),Yo(s,!1)}var xm=(e,t,i,n,r)=>(wa(!0),function(e,t){return e.createText(t)}(t[Ls],n));function _m(e){return wm("",e,""),_m}function wm(e,t,i){let n=$o(),r=Wg(n,e,t,i);return r!==Ic&&Sm(n,ma(),r),wm}function Cm(e,t,i,n,r){let s=$o(),o=Kg(s,e,t,i,n,r);return o!==Ic&&Sm(s,ma(),o),Cm}function Sm(e,t,i){let n=So(t,e);!function(e,t,i){e.setValue(t,i)}(e[Ls],n,i)}function bm(e,t,i){Wl(t)&&(t=t());let n=$o();return xg(n,ta(),t)&&qc(Wo(),va(),n,e,t,n[Ls],i,!1),bm}function Dm(e,t){let i=Wl(e);return i&&e.set(t),i}function Em(e,t){let i=$o(),n=Wo(),r=Uo();return sm(n,i,i[Ls],r,e,t),Em}function Tm(e,t,i,n,r){if(e=er(e),Array.isArray(e))for(let s=0;s<e.length;s++)Tm(e[s],t,i,n,r);else{let s=Wo(),o=$o(),a=Uo(),l=hs(e)?e:er(e.provide),d=_s(e),c=1048575&a.providerIndexes,h=a.directiveStart,u=a.providerIndexes>>20;if(hs(e)||!e.multi){let n=new Aa(d,r,lu),g=Am(l,t,r?c:c+u,h);-1===g?(qa(Wa(a,o),s,l),Im(s,e,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),i.push(n),o.push(n)):(i[g]=n,o[g]=n)}else{let g=Am(l,t,c+u,h),p=Am(l,t,c,c+u),m=g>=0&&i[g],f=p>=0&&i[p];if(r&&!f||!r&&!m){qa(Wa(a,o),s,l);let c=function(e,t,i,n,r){let s=new Aa(e,i,lu);return s.multi=[],s.index=t,s.componentProviders=0,Rm(s,r,n&&!i),s}(r?Om:km,i.length,r,n,d);!r&&f&&(i[p].providerFactory=c),Im(s,e,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),i.push(c),o.push(c)}else Im(s,e,g>-1?g:p,Rm(i[r?p:g],d,!r&&n));!r&&n&&f&&i[p].componentProviders++}}}function Im(e,t,i,n){let r=hs(t),s=function(e){return!!e.useClass}(t);if(r||s){let o=(s?er(t.useClass):t).prototype.ngOnDestroy;if(o){let s=e.destroyHooks||(e.destroyHooks=[]);if(!r&&t.multi){let e=s.indexOf(i);-1===e?s.push(i,[n,o]):s[e+1].push(n,o)}else s.push(i,o)}}}function Rm(e,t,i){return i&&e.componentProviders++,e.multi.push(t)-1}function Am(e,t,i,n){for(let r=i;r<n;r++)if(t[r]===e)return r;return-1}function km(e,t,i,n){return Fm(this.multi,[])}function Om(e,t,i,n){let r,s=this.multi;if(this.providerFactory){let e=this.providerFactory.componentProviders,t=tl(i,i[Ts],this.providerFactory.index,n);r=t.slice(0,e),Fm(s,r);for(let i=e;i<t.length;i++)r.push(t[i])}else r=[],Fm(s,r);return r}function Fm(e,t){for(let i=0;i<e.length;i++){let n=e[i];t.push(n())}return t}function Pm(e,t=[]){return i=>{i.providersResolver=(i,n)=>function(e,t,i){let n=Wo();if(n.firstCreatePass){let r=lo(e);Tm(i,n.data,n.blueprint,r,!0),Tm(t,n.data,n.blueprint,r,!1)}}(i,n?n(e):e,t)}}function Vm(e,t,i){let n=ea()+e,r=$o();return r[n]===Ic?vg(r,n,i?t.call(i):t()):yg(r,n)}function Mm(e,t,i,n){return jm($o(),ea(),e,t,i,n)}function Lm(e,t,i,n,r){return Um($o(),ea(),e,t,i,n,r)}function Nm(e,t,i,n,r,s){return qm($o(),ea(),e,t,i,n,r,s)}function Hm(e,t,i,n,r,s,o){return Ym($o(),ea(),e,t,i,n,r,s,o)}function zm(e,t,i,n,r,s,o,a){let l=ea()+e,d=$o(),c=Cg(d,l,i,n,r,s);return xg(d,l+4,o)||c?vg(d,l+5,a?t.call(a,i,n,r,s,o):t(i,n,r,s,o)):yg(d,l+5)}function Bm(e,t,i,n,r,s,o,a,l){let d=ea()+e,c=$o(),h=Cg(c,d,i,n,r,s);return _g(c,d+4,o,a)||h?vg(c,d+6,l?t.call(l,i,n,r,s,o,a):t(i,n,r,s,o,a)):yg(c,d+6)}function Gm(e,t,i,n,r,s,o,a,l,d){let c=ea()+e,h=$o(),u=Cg(h,c,i,n,r,s);return wg(h,c+4,o,a,l)||u?vg(h,c+7,d?t.call(d,i,n,r,s,o,a,l):t(i,n,r,s,o,a,l)):yg(h,c+7)}function $m(e,t,i,n,r,s,o,a,l,d,c){let h=ea()+e,u=$o(),g=Cg(u,h,i,n,r,s);return Cg(u,h+4,o,a,l,d)||g?vg(u,h+8,c?t.call(c,i,n,r,s,o,a,l,d):t(i,n,r,s,o,a,l,d)):yg(u,h+8)}function Wm(e,t,i,n){return Zm($o(),ea(),e,t,i,n)}function Km(e,t){let i=e[t];return i===Ic?void 0:i}function jm(e,t,i,n,r,s){let o=t+i;return xg(e,o,r)?vg(e,o+1,s?n.call(s,r):n(r)):Km(e,o+1)}function Um(e,t,i,n,r,s,o){let a=t+i;return _g(e,a,r,s)?vg(e,a+2,o?n.call(o,r,s):n(r,s)):Km(e,a+2)}function qm(e,t,i,n,r,s,o,a){let l=t+i;return wg(e,l,r,s,o)?vg(e,l+3,a?n.call(a,r,s,o):n(r,s,o)):Km(e,l+3)}function Ym(e,t,i,n,r,s,o,a,l){let d=t+i;return Cg(e,d,r,s,o,a)?vg(e,d+4,l?n.call(l,r,s,o,a):n(r,s,o,a)):Km(e,d+4)}function Zm(e,t,i,n,r,s){let o=t+i,a=!1;for(let t=0;t<r.length;t++)xg(e,o++,r[t])&&(a=!0);return a?vg(e,o,n.apply(s,r)):Km(e,o)}function Xm(e,t){let i,n=Wo(),r=e+Qs;n.firstCreatePass?(i=function(e,t){if(t)for(let i=t.length-1;i>=0;i--){let n=t[i];if(e===n.name)return n}}(t,n.pipeRegistry),n.data[r]=i,i.onDestroy&&(n.destroyHooks??=[]).push(r,i.onDestroy)):i=n.data[r];let s=i.factory||(i.factory=$r(i.type)),o=Er(lu);try{let e=Ha(!1),t=s();return Ha(e),function(e,t,i,n){i>=e.data.length&&(e.data[i]=null,e.blueprint[i]=null),t[i]=n}(n,$o(),r,t),t}finally{Er(o)}}function Qm(e,t,i){let n=e+Qs,r=$o(),s=Eo(r,n);return rf(r,n)?jm(r,ea(),t,s.transform,i,s):s.transform(i)}function Jm(e,t,i,n){let r=e+Qs,s=$o(),o=Eo(s,r);return rf(s,r)?Um(s,ea(),t,o.transform,i,n,o):o.transform(i,n)}function ef(e,t,i,n,r){let s=e+Qs,o=$o(),a=Eo(o,s);return rf(o,s)?qm(o,ea(),t,a.transform,i,n,r,a):a.transform(i,n,r)}function tf(e,t,i,n,r,s){let o=e+Qs,a=$o(),l=Eo(a,o);return rf(a,o)?Ym(a,ea(),t,l.transform,i,n,r,s,l):l.transform(i,n,r,s)}function nf(e,t,i){let n=e+Qs,r=$o(),s=Eo(r,n);return rf(r,n)?Zm(r,ea(),t,s.transform,i,s):s.transform.apply(s,i)}function rf(e,t){return e[Ts].data[t].pure}function sf(e,t){return Zh(e,t)}new hr("");var of=(()=>{class e{zone=Mr(Il);changeDetectionScheduler=Mr(fl);applicationRef=Mr(zg);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run((()=>{this.applicationRef.tick()}))}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static ɵfac=function(t){return new(t||e)};static ɵprov=ir({token:e,factory:e.ɵfac,providedIn:"root"})}return e})(),af=new hr("",{factory:()=>!1});function lf({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:i}){return e??=()=>new Il(Je(Qe({},df()),{scheduleInRootZone:i})),[{provide:Il,useFactory:e},{provide:Qr,multi:!0,useFactory:()=>{let e=Mr(of,{optional:!0});return()=>e.initialize()}},{provide:Qr,multi:!0,useFactory:()=>{let e=Mr(cf);return()=>{e.initialize()}}},!0===t?{provide:yl,useValue:!0}:[],{provide:xl,useValue:i??ul}]}function df(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var cf=(()=>{class e{subscription=new Ut;initialized=!1;zone=Mr(Il);pendingTasks=Mr(_l);initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular((()=>{this.subscription.add(this.zone.onStable.subscribe((()=>{Il.assertNotInAngularZone(),queueMicrotask((()=>{null!==e&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)}))})))})),this.subscription.add(this.zone.onUnstable.subscribe((()=>{Il.assertInAngularZone(),e??=this.pendingTasks.add()})))}ngOnDestroy(){this.subscription.unsubscribe()}static ɵfac=function(t){return new(t||e)};static ɵprov=ir({token:e,factory:e.ɵfac,providedIn:"root"})}return e})(),hf=(()=>{class e{appRef=Mr(zg);taskService=Mr(_l);ngZone=Mr(Il);zonelessEnabled=Mr(vl);tracing=Mr(gd,{optional:!0});disableScheduling=Mr(yl,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ut;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(El):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(Mr(xl,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe((()=>{this.runningTick||this.cleanup()}))),this.subscriptions.add(this.ngZone.onUnstable.subscribe((()=>{this.runningTick||this.cleanup()}))),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Pl||!this.zoneIsDefined)}notify(e){if(!this.zonelessEnabled&&5===e)return;let t=!1;switch(e){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 6:case 13:this.appRef.dirtyFlags|=2,t=!0;break;case 12:this.appRef.dirtyFlags|=16,t=!0;break;case 11:t=!0;break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(t))return;let i=this.useMicrotaskScheduler?bl:Sl;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run((()=>i((()=>this.tick())))):this.cancelScheduledCallback=this.ngZone.runOutsideAngular((()=>i((()=>this.tick()))))}shouldScheduleTick(e){return!(this.disableScheduling&&!e||this.appRef.destroyed||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(El+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(0===this.appRef.dirtyFlags)return void this.cleanup();!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);let e=this.taskService.add();try{this.ngZone.run((()=>{this.runningTick=!0,this.appRef._tick()}),void 0,this.schedulerTickApplyArgs)}catch(t){throw this.taskService.remove(e),t}finally{this.cleanup()}this.useMicrotaskScheduler=!0,bl((()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(e)}))}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){let e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static ɵfac=function(t){return new(t||e)};static ɵprov=ir({token:e,factory:e.ɵfac,providedIn:"root"})}return e})(),uf=new hr("",{providedIn:"root",factory:()=>Mr(uf,br.Optional|br.SkipSelf)||typeof $localize<"u"&&$localize.locale||Jp}),gf=new hr("",{providedIn:"root",factory:()=>"USD"}),pf=new hr(""),mf=new hr("");function ff(e){return!e.moduleRef}var vf=(()=>{class e{_injector;_modules=[];_destroyListeners=[];_destroyed=!1;constructor(e){this._injector=e}bootstrapModuleFactory(e,t){let i=t?.scheduleInRootZone,n=t?.ignoreChangesOutsideZone,r=[lf({ngZoneFactory:()=>function(e="zone.js",t){return"noop"===e?new Pl:"zone.js"===e?new Il(t):e}(t?.ngZone,Je(Qe({},df({eventCoalescing:t?.ngZoneEventCoalescing,runCoalescing:t?.ngZoneRunCoalescing})),{scheduleInRootZone:i})),ignoreChangesOutsideZone:n}),{provide:fl,useExisting:hf}],s=function(e,t,i){return new Uu(e,t,i,!1)}(e.moduleType,this.injector,r);return function(e){let t=ff(e)?e.r3Injector:e.moduleRef.injector,i=t.get(Il);return i.run((()=>{ff(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let n,r=t.get(Ml,null);if(i.runOutsideAngular((()=>{n=i.onError.subscribe({next:e=>{r.handleError(e)}})})),ff(e)){let i=()=>t.destroy(),r=e.platformInjector.get(pf);r.add(i),t.onDestroy((()=>{n.unsubscribe(),r.delete(i)}))}else{let t=()=>e.moduleRef.destroy(),i=e.platformInjector.get(pf);i.add(t),e.moduleRef.onDestroy((()=>{Bg(e.allPlatformModules,e.moduleRef),n.unsubscribe(),i.delete(t)}))}return function(e,t,i){try{let n=i();return Fg(n)?n.catch((i=>{throw t.runOutsideAngular((()=>e.handleError(i))),i})):n}catch(i){throw t.runOutsideAngular((()=>e.handleError(i))),i}}(r,i,(()=>{let i=t.get(Mg);return i.runInitializers(),i.donePromise.then((()=>{if(function(e){"string"==typeof e&&e.toLowerCase().replace(/_/g,"-")}(t.get(uf,Jp)||Jp),!t.get(mf,!0))return ff(e)?t.get(zg):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(ff(e)){let i=t.get(zg);return void 0!==e.rootComponent&&i.bootstrap(e.rootComponent),i}return function(e,t){let i=e.injector.get(zg);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach((e=>i.bootstrap(e)));else{if(!e.instance.ngDoBootstrap)throw new $n(-403,!1);e.instance.ngDoBootstrap(i)}t.push(e)}(e.moduleRef,e.allPlatformModules),e.moduleRef}))}))}))}({moduleRef:s,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(e,t=[]){let i=Hg({},t);return function(e,t,i){let n=new qu(i);return Promise.resolve(n)}(this.injector,0,e).then((e=>this.bootstrapModuleFactory(e,i)))}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new $n(404,!1);this._modules.slice().forEach((e=>e.destroy())),this._destroyListeners.forEach((e=>e()));let e=this._injector.get(pf,null);e&&(e.forEach((e=>e())),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static ɵfac=function(t){return new(t||e)(Vr(hl))};static ɵprov=ir({token:e,factory:e.ɵfac,providedIn:"platform"})}return e})(),yf=null,xf=new hr("");function _f(e,t,i=[]){let n=`Platform: ${t}`,r=new hr(n);return(t=[])=>{let s=wf();if(!s||s.injector.get(xf,!1)){let s=[...i,...t,{provide:r,useValue:!0}];e?e(s):function(e){if(yf&&!yf.get(xf,!1))throw new $n(400,!1);Ng(),yf=e;let t=e.get(vf);(function(e){let t=e.get(ad,null);bs(e,(()=>{t?.forEach((e=>e()))}))})(e)}(function(e=[],t){return hl.create({name:t,providers:[{provide:gs,useValue:"platform"},{provide:pf,useValue:new Set([()=>yf=null])},...e]})}(s,n))}return function(e){let t=wf();if(!t)throw new $n(401,!1);return t}()}}function wf(){return yf?.get(vf)??null}var Cf=(()=>class{static __NG_ELEMENT_ID__=Sf})();function Sf(e){return function(e,t,i){if(oo(e)&&!i){let i=To(e.index,t);return new Kh(i,i)}if(175&e.type){let e=t[Bs];return new Kh(e,t)}return null}(Uo(),$o(),16==(16&e))}var bf=class{constructor(){}supports(e){return mg(e)}create(e){return new Ef(e)}},Df=(e,t)=>t,Ef=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||Df}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,n=0,r=null;for(;t||i;){let s=!i||t&&t.currentIndex<Rf(i,n,r)?t:i,o=Rf(s,n,r),a=s.currentIndex;if(s===i)n--,i=i._nextRemoved;else if(t=t._next,null==s.previousIndex)n++;else{r||(r=[]);let e=o-n,t=a-n;if(e!=t){for(let i=0;i<e;i++){let n=i<r.length?r[i]:r[i]=0,s=n+i;t<=s&&s<e&&(r[i]=n+1)}r[s.previousIndex]=t-e}}o!==a&&e(s,o,a)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!mg(e))throw new $n(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,i,n,r=this._itHead,s=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)i=e[t],n=this._trackByFn(t,i),null!==r&&Object.is(r.trackById,n)?(s&&(r=this._verifyReinsertion(r,i,n,t)),Object.is(r.item,i)||this._addIdentityChange(r,i)):(r=this._mismatch(r,i,n,t),s=!0),r=r._next}else t=0,function(e,t){if(Array.isArray(e))for(let i=0;i<e.length;i++)t(e[i]);else{let i,n=e[Symbol.iterator]();for(;!(i=n.next()).done;)t(i.value)}}(e,(e=>{n=this._trackByFn(t,e),null!==r&&Object.is(r.trackById,n)?(s&&(r=this._verifyReinsertion(r,e,n,t)),Object.is(r.item,e)||this._addIdentityChange(r,e)):(r=this._mismatch(r,e,n,t),s=!0),r=r._next,t++})),this.length=t;return this._truncate(r),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,n){let r;return null===e?r=this._itTail:(r=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,r,n)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,n))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,r,n)):e=this._addAfter(new Tf(t,i),r,n),e}_verifyReinsertion(e,t,i,n){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==r?e=this._reinsertAfter(r,e._prev,n):e.currentIndex!=n&&(e.currentIndex=n,this._addToMoves(e,n)),e}_truncate(e){for(;null!==e;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);let n=e._prevRemoved,r=e._nextRemoved;return null===n?this._removalsHead=r:n._nextRemoved=r,null===r?this._removalsTail=n:r._prevRemoved=n,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),null===this._additionsTail?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){let n=null===t?this._itHead:t._next;return e._next=n,e._prev=t,null===n?this._itTail=e:n._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new If),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);let t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(null===this._movesTail?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new If),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,null===this._identityChangesTail?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Tf=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},If=class{map=new Map;put(e){let t=e.trackById,i=this.map.get(t);i||(i=new class{_head=null;_tail=null;add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}},this.map.set(t,i)),i.add(e)}get(e,t){let i=e,n=this.map.get(i);return n?n.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}};function Rf(e,t,i){let n=e.previousIndex;if(null===n)return n;let r=0;return i&&n<i.length&&(r=i[n]),n+t+r}var Af=class{constructor(){}supports(e){return e instanceof Map||fg(e)}create(){return new kf}},kf=class{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||fg(e)))throw new $n(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,((e,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{let n=this._getOrCreateRecordForKey(i,e);t=this._insertBeforeOrAppend(t,n)}})),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){let i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,t);let n=i._prev,r=i._next;return n&&(n._next=r),r&&(r._prev=n),i._next=null,i._prev=null,i}let i=new Of(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach((i=>t(e[i],i)))}},Of=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(e){this.key=e}};function Ff(){return new Pf([new bf])}var Pf=(()=>{class e{factories;static ɵprov=ir({token:e,providedIn:"root",factory:Ff});constructor(e){this.factories=e}static create(t,i){if(null!=i){let e=i.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:i=>e.create(t,i||Ff()),deps:[[e,new Gr,new Br]]}}find(e){let t=this.factories.find((t=>t.supports(e)));if(null!=t)return t;throw new $n(901,!1)}}return e})();function Vf(){return new Mf([new Af])}var Mf=(()=>{class e{static ɵprov=ir({token:e,providedIn:"root",factory:Vf});factories;constructor(e){this.factories=e}static create(t,i){if(i){let e=i.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:i=>e.create(t,i||Vf()),deps:[[e,new Gr,new Br]]}}find(e){let t=this.factories.find((t=>t.supports(e)));if(t)return t;throw new $n(901,!1)}}return e})(),Lf=_f(null,"core",[]),Nf=(()=>{class e{constructor(e){}static ɵfac=function(t){return new(t||e)(Vr(zg))};static ɵmod=tg({type:e});static ɵinj=nr({})}return e})();function Hf(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function zf(e){return function(e){let t=ut(null);try{return e()}finally{ut(t)}}(e)}function Bf(e,t){return function(e,t){let i=Object.create(Ft);i.computation=e,void 0!==t&&(i.equal=t);let n=()=>{if(mt(i),pt(i),i.value===Ot)throw i.error;return i.value};return n[ht]=i,n}(e,t?.equal)}function Gf(e,t){let i=is(e),n=t.elementInjector||fs();return new wu(i).create(n,t.projectableNodes,t.hostElement,t.environmentInjector)}function $f(e){let t=is(e);if(!t)return null;let i=new wu(t);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var Wf=(()=>{class e{constructor(){this.navs={}}add(e,t){this.navs[e]=t}remove(e){delete this.navs[e]}get(e){if(e)return this.navs[e]}toggle(e,...t){if(this.navs[e])return this.navs[e].toggle(...t)}open(e,...t){if(this.navs[e])return this.navs[e].open(...t)}close(e,...t){if(this.navs[e])return this.navs[e].close(...t)}static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵprov=ir({token:e,factory:e.ɵfac,providedIn:"root"})}}return e})(),Kf=new hr(""),jf=null;function Uf(){return jf}var qf=class{},Yf={ADP:[void 0,void 0,0],AFN:[void 0,"؋",0],ALL:[void 0,void 0,0],AMD:[void 0,"֏",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"₼"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"৳"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN¥","¥"],COP:[void 0,"$",2],CRC:[void 0,"₡",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"Kč",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E£"],ESP:[void 0,"₧",0],EUR:["€"],FJD:[void 0,"$"],FKP:[void 0,"£"],GBP:["£"],GEL:[void 0,"₾"],GHS:[void 0,"GH₵"],GIP:[void 0,"£"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["₪"],INR:["₹"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["¥",void 0,0],KHR:[void 0,"៛"],KMF:[void 0,"CF",0],KPW:[void 0,"₩",0],KRW:["₩",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"₸"],LAK:[void 0,"₭",0],LBP:[void 0,"L£",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"₮",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"₦"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["₱"],PKR:[void 0,"Rs",2],PLN:[void 0,"zł"],PYG:[void 0,"₲",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"₽"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"£"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"£"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"£",0],THB:[void 0,"฿"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"₺"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"₴"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["₫",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F CFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["¤"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},Zf=function(e){return e[e.Decimal=0]="Decimal",e[e.Percent=1]="Percent",e[e.Currency=2]="Currency",e[e.Scientific=3]="Scientific",e}(Zf||{}),Xf=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}(Xf||{}),Qf=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}(Qf||{}),Jf=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}(Jf||{}),ev={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function tv(e){return Zp(e)[Qp.FirstDayOfWeek]}function iv(e,t){return dv(Zp(e)[Qp.DateFormat],t)}function nv(e,t){return dv(Zp(e)[Qp.TimeFormat],t)}function rv(e,t){return dv(Zp(e)[Qp.DateTimeFormat],t)}function sv(e,t){let i=Zp(e),n=i[Qp.NumberSymbols][t];if(typeof n>"u"){if(t===ev.CurrencyDecimal)return i[Qp.NumberSymbols][ev.Decimal];if(t===ev.CurrencyGroup)return i[Qp.NumberSymbols][ev.Group]}return n}function ov(e,t){return Zp(e)[Qp.NumberFormats][t]}function av(e){return function(e){return Zp(e)[Qp.CurrencyCode]||null}(e)}function lv(e){if(!e[Qp.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[Qp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function dv(e,t){for(let i=t;i>-1;i--)if(typeof e[i]<"u")return e[i];throw new Error("Locale data API: locale data undefined")}function cv(e){let[t,i]=e.split(":");return{hours:+t,minutes:+i}}function hv(e,t,i="en"){let n=function(e){return Zp(e)[Qp.Currencies]}(i)[e]||Yf[e]||[],r=n[1];return"narrow"===t&&"string"==typeof r?r:n[0]||e}var uv=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,gv={},pv=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function mv(e,t,i,n){let r=function(e){if(Av(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){let[t,i=1,n=1]=e.split("-").map((e=>+e));return fv(t,i-1,n)}let t,i=parseFloat(e);if(!isNaN(e-i))return new Date(i);if(t=e.match(uv))return function(e){let t=new Date(0),i=0,n=0,r=e[8]?t.setUTCFullYear:t.setFullYear,s=e[8]?t.setUTCHours:t.setHours;e[9]&&(i=Number(e[9]+e[10]),n=Number(e[9]+e[11])),r.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));let o=Number(e[4]||0)-i,a=Number(e[5]||0)-n,l=Number(e[6]||0),d=Math.floor(1e3*parseFloat("0."+(e[7]||0)));return s.call(t,o,a,l,d),t}(t)}let t=new Date(e);if(!Av(t))throw new Error(`Unable to convert "${e}" into a date`);return t}(e);t=vv(i,t)||t;let s,o=[];for(;t;){if(s=pv.exec(t),!s){o.push(t);break}{o=o.concat(s.slice(1));let e=o.pop();if(!e)break;t=e}}let a=r.getTimezoneOffset();n&&(a=Rv(n,a),r=function(e,t,i){let n=e.getTimezoneOffset();return function(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,-1*(Rv(t,n)-n))}(r,n));let l="";return o.forEach((e=>{let t=function(e){if(Iv[e])return Iv[e];let t;switch(e){case"G":case"GG":case"GGG":t=wv(3,Qf.Abbreviated);break;case"GGGG":t=wv(3,Qf.Wide);break;case"GGGGG":t=wv(3,Qf.Narrow);break;case"y":t=_v(0,1,0,!1,!0);break;case"yy":t=_v(0,2,0,!0,!0);break;case"yyy":t=_v(0,3,0,!1,!0);break;case"yyyy":t=_v(0,4,0,!1,!0);break;case"Y":t=Tv(1);break;case"YY":t=Tv(2,!0);break;case"YYY":t=Tv(3);break;case"YYYY":t=Tv(4);break;case"M":case"L":t=_v(1,1,1);break;case"MM":case"LL":t=_v(1,2,1);break;case"MMM":t=wv(2,Qf.Abbreviated);break;case"MMMM":t=wv(2,Qf.Wide);break;case"MMMMM":t=wv(2,Qf.Narrow);break;case"LLL":t=wv(2,Qf.Abbreviated,Xf.Standalone);break;case"LLLL":t=wv(2,Qf.Wide,Xf.Standalone);break;case"LLLLL":t=wv(2,Qf.Narrow,Xf.Standalone);break;case"w":t=Ev(1);break;case"ww":t=Ev(2);break;case"W":t=Ev(1,!0);break;case"d":t=_v(2,1);break;case"dd":t=_v(2,2);break;case"c":case"cc":t=_v(7,1);break;case"ccc":t=wv(1,Qf.Abbreviated,Xf.Standalone);break;case"cccc":t=wv(1,Qf.Wide,Xf.Standalone);break;case"ccccc":t=wv(1,Qf.Narrow,Xf.Standalone);break;case"cccccc":t=wv(1,Qf.Short,Xf.Standalone);break;case"E":case"EE":case"EEE":t=wv(1,Qf.Abbreviated);break;case"EEEE":t=wv(1,Qf.Wide);break;case"EEEEE":t=wv(1,Qf.Narrow);break;case"EEEEEE":t=wv(1,Qf.Short);break;case"a":case"aa":case"aaa":t=wv(0,Qf.Abbreviated);break;case"aaaa":t=wv(0,Qf.Wide);break;case"aaaaa":t=wv(0,Qf.Narrow);break;case"b":case"bb":case"bbb":t=wv(0,Qf.Abbreviated,Xf.Standalone,!0);break;case"bbbb":t=wv(0,Qf.Wide,Xf.Standalone,!0);break;case"bbbbb":t=wv(0,Qf.Narrow,Xf.Standalone,!0);break;case"B":case"BB":case"BBB":t=wv(0,Qf.Abbreviated,Xf.Format,!0);break;case"BBBB":t=wv(0,Qf.Wide,Xf.Format,!0);break;case"BBBBB":t=wv(0,Qf.Narrow,Xf.Format,!0);break;case"h":t=_v(3,1,-12);break;case"hh":t=_v(3,2,-12);break;case"H":t=_v(3,1);break;case"HH":t=_v(3,2);break;case"m":t=_v(4,1);break;case"mm":t=_v(4,2);break;case"s":t=_v(5,1);break;case"ss":t=_v(5,2);break;case"S":t=_v(6,1);break;case"SS":t=_v(6,2);break;case"SSS":t=_v(6,3);break;case"Z":case"ZZ":case"ZZZ":t=Cv(0);break;case"ZZZZZ":t=Cv(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Cv(1);break;case"OOOO":case"ZZZZ":case"zzzz":t=Cv(2);break;default:return null}return Iv[e]=t,t}(e);l+=t?t(r,i,a):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")})),l}function fv(e,t,i){let n=new Date(0);return n.setFullYear(e,t,i),n.setHours(0,0,0),n}function vv(e,t){let i=function(e){return Zp(e)[Qp.LocaleId]}(e);if(gv[i]??={},gv[i][t])return gv[i][t];let n="";switch(t){case"shortDate":n=iv(e,Jf.Short);break;case"mediumDate":n=iv(e,Jf.Medium);break;case"longDate":n=iv(e,Jf.Long);break;case"fullDate":n=iv(e,Jf.Full);break;case"shortTime":n=nv(e,Jf.Short);break;case"mediumTime":n=nv(e,Jf.Medium);break;case"longTime":n=nv(e,Jf.Long);break;case"fullTime":n=nv(e,Jf.Full);break;case"short":let t=vv(e,"shortTime"),i=vv(e,"shortDate");n=yv(rv(e,Jf.Short),[t,i]);break;case"medium":let r=vv(e,"mediumTime"),s=vv(e,"mediumDate");n=yv(rv(e,Jf.Medium),[r,s]);break;case"long":let o=vv(e,"longTime"),a=vv(e,"longDate");n=yv(rv(e,Jf.Long),[o,a]);break;case"full":let l=vv(e,"fullTime"),d=vv(e,"fullDate");n=yv(rv(e,Jf.Full),[l,d])}return n&&(gv[i][t]=n),n}function yv(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,(function(e,i){return null!=t&&i in t?t[i]:e}))),e}function xv(e,t,i="-",n,r){let s="";(e<0||r&&e<=0)&&(r?e=1-e:(e=-e,s=i));let o=String(e);for(;o.length<t;)o="0"+o;return n&&(o=o.slice(o.length-t)),s+o}function _v(e,t,i=0,n=!1,r=!1){return function(s,o){let a=function(e,t){switch(e){case 0:return t.getFullYear();case 1:return t.getMonth();case 2:return t.getDate();case 3:return t.getHours();case 4:return t.getMinutes();case 5:return t.getSeconds();case 6:return t.getMilliseconds();case 7:return t.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}(e,s);if((i>0||a>-i)&&(a+=i),3===e)0===a&&-12===i&&(a=12);else if(6===e)return function(e,t){return xv(e,3).substring(0,t)}(a,t);let l=sv(o,ev.MinusSign);return xv(a,t,l,n,r)}}function wv(e,t,i=Xf.Format,n=!1){return function(r,s){return function(e,t,i,n,r,s){switch(i){case 2:return function(e,t,i){let n=Zp(e),r=dv([n[Qp.MonthsFormat],n[Qp.MonthsStandalone]],t);return dv(r,i)}(t,r,n)[e.getMonth()];case 1:return function(e,t,i){let n=Zp(e),r=dv([n[Qp.DaysFormat],n[Qp.DaysStandalone]],t);return dv(r,i)}(t,r,n)[e.getDay()];case 0:let o=e.getHours(),a=e.getMinutes();if(s){let e=function(e){let t=Zp(e);return lv(t),(t[Qp.ExtraData][2]||[]).map((e=>"string"==typeof e?cv(e):[cv(e[0]),cv(e[1])]))}(t),i=function(e,t,i){let n=Zp(e);lv(n);let r=dv([n[Qp.ExtraData][0],n[Qp.ExtraData][1]],t)||[];return dv(r,i)||[]}(t,r,n),s=e.findIndex((e=>{if(Array.isArray(e)){let[t,i]=e,n=o>=t.hours&&a>=t.minutes,r=o<i.hours||o===i.hours&&a<i.minutes;if(t.hours<i.hours){if(n&&r)return!0}else if(n||r)return!0}else if(e.hours===o&&e.minutes===a)return!0;return!1}));if(-1!==s)return i[s]}return function(e,t,i){let n=Zp(e),r=dv([n[Qp.DayPeriodsFormat],n[Qp.DayPeriodsStandalone]],t);return dv(r,i)}(t,r,n)[o<12?0:1];case 3:return function(e,t){return dv(Zp(e)[Qp.Eras],t)}(t,n)[e.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${i}`)}}(r,s,e,t,i,n)}}function Cv(e){return function(t,i,n){let r=-1*n,s=sv(i,ev.MinusSign),o=r>0?Math.floor(r/60):Math.ceil(r/60);switch(e){case 0:return(r>=0?"+":"")+xv(o,2,s)+xv(Math.abs(r%60),2,s);case 1:return"GMT"+(r>=0?"+":"")+xv(o,1,s);case 2:return"GMT"+(r>=0?"+":"")+xv(o,2,s)+":"+xv(Math.abs(r%60),2,s);case 3:return 0===n?"Z":(r>=0?"+":"")+xv(o,2,s)+":"+xv(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${e}"`)}}}var Sv=0,bv=4;function Dv(e){let t=e.getDay(),i=0===t?-3:bv-t;return fv(e.getFullYear(),e.getMonth(),e.getDate()+i)}function Ev(e,t=!1){return function(i,n){let r;if(t){let e=new Date(i.getFullYear(),i.getMonth(),1).getDay()-1,t=i.getDate();r=1+Math.floor((t+e)/7)}else{let e=Dv(i),t=function(e){let t=fv(e,Sv,1).getDay();return fv(e,0,1+(t<=bv?bv:bv+7)-t)}(e.getFullYear()),n=e.getTime()-t.getTime();r=1+Math.round(n/6048e5)}return xv(r,e,sv(n,ev.MinusSign))}}function Tv(e,t=!1){return function(i,n){return xv(Dv(i).getFullYear(),e,sv(n,ev.MinusSign),t)}}var Iv={};function Rv(e,t){e=e.replace(/:/g,"");let i=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(i)?t:i}function Av(e){return e instanceof Date&&!isNaN(e.valueOf())}var kv=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Ov=22,Fv=".",Pv="0",Vv=";",Mv=",",Lv="#";function Nv(e,t,i,n,r,s,o=!1){let a="",l=!1;if(isFinite(e)){let d=function(e){let t,i,n,r,s,o=Math.abs(e)+"",a=0;for((i=o.indexOf(Fv))>-1&&(o=o.replace(Fv,"")),(n=o.search(/e/i))>0?(i<0&&(i=n),i+=+o.slice(n+1),o=o.substring(0,n)):i<0&&(i=o.length),n=0;o.charAt(n)===Pv;n++);if(n===(s=o.length))t=[0],i=1;else{for(s--;o.charAt(s)===Pv;)s--;for(i-=n,t=[],r=0;n<=s;n++,r++)t[r]=Number(o.charAt(n))}return i>Ov&&(t=t.splice(0,Ov-1),a=i-1,i=1),{digits:t,exponent:a,integerLen:i}}(e);o&&(d=function(e){if(0===e.digits[0])return e;let t=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(0===t?e.digits.push(0,0):1===t&&e.digits.push(0),e.integerLen+=2),e}(d));let c=t.minInt,h=t.minFrac,u=t.maxFrac;if(s){let e=s.match(kv);if(null===e)throw new Error(`${s} is not a valid digit info`);let t=e[1],i=e[3],n=e[5];null!=t&&(c=$v(t)),null!=i&&(h=$v(i)),null!=n?u=$v(n):null!=i&&h>u&&(u=h)}!function(e,t,i){if(t>i)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${i}).`);let n=e.digits,r=n.length-e.integerLen,s=Math.min(Math.max(t,r),i),o=s+e.integerLen,a=n[o];if(o>0){n.splice(Math.max(e.integerLen,o));for(let e=o;e<n.length;e++)n[e]=0}else{r=Math.max(0,r),e.integerLen=1,n.length=Math.max(1,o=s+1),n[0]=0;for(let e=1;e<o;e++)n[e]=0}if(a>=5)if(o-1<0){for(let t=0;t>o;t--)n.unshift(0),e.integerLen++;n.unshift(1),e.integerLen++}else n[o-1]++;for(;r<Math.max(0,s);r++)n.push(0);let l=0!==s,d=t+e.integerLen,c=n.reduceRight((function(e,t,i,n){return t+=e,n[i]=t<10?t:t-10,l&&(0===n[i]&&i>=d?n.pop():l=!1),t>=10?1:0}),0);c&&(n.unshift(c),e.integerLen++)}(d,h,u);let g=d.digits,p=d.integerLen,m=d.exponent,f=[];for(l=g.every((e=>!e));p<c;p++)g.unshift(0);for(;p<0;p++)g.unshift(0);p>0?f=g.splice(p,g.length):(f=g,g=[0]);let v=[];for(g.length>=t.lgSize&&v.unshift(g.splice(-t.lgSize,g.length).join(""));g.length>t.gSize;)v.unshift(g.splice(-t.gSize,g.length).join(""));g.length&&v.unshift(g.join("")),a=v.join(sv(i,n)),f.length&&(a+=sv(i,r)+f.join("")),m&&(a+=sv(i,ev.Exponential)+"+"+m)}else a=sv(i,ev.Infinity);return a=e<0&&!l?t.negPre+a+t.negSuf:t.posPre+a+t.posSuf,a}function Hv(e,t,i,n,r){let s=Gv(ov(t,Zf.Currency),sv(t,ev.MinusSign));return s.minFrac=function(e){let t,i=Yf[e];return i&&(t=i[2]),"number"==typeof t?t:2}(n),s.maxFrac=s.minFrac,Nv(e,s,t,ev.CurrencyGroup,ev.CurrencyDecimal,r).replace("¤",i).replace("¤","").trim()}function zv(e,t,i){return Nv(e,Gv(ov(t,Zf.Percent),sv(t,ev.MinusSign)),t,ev.Group,ev.Decimal,i,!0).replace(new RegExp("%","g"),sv(t,ev.PercentSign))}function Bv(e,t,i){return Nv(e,Gv(ov(t,Zf.Decimal),sv(t,ev.MinusSign)),t,ev.Group,ev.Decimal,i)}function Gv(e,t="-"){let i={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},n=e.split(Vv),r=n[0],s=n[1],o=-1!==r.indexOf(Fv)?r.split(Fv):[r.substring(0,r.lastIndexOf(Pv)+1),r.substring(r.lastIndexOf(Pv)+1)],a=o[0],l=o[1]||"";i.posPre=a.substring(0,a.indexOf(Lv));for(let e=0;e<l.length;e++){let t=l.charAt(e);t===Pv?i.minFrac=i.maxFrac=e+1:t===Lv?i.maxFrac=e+1:i.posSuf+=t}let d=a.split(Mv);if(i.gSize=d[1]?d[1].length:0,i.lgSize=d[2]||d[1]?(d[2]||d[1]).length:0,s){let e=r.length-i.posPre.length-i.posSuf.length,t=s.indexOf(Lv);i.negPre=s.substring(0,t).replace(/'/g,""),i.negSuf=s.slice(t+e).replace(/'/g,"")}else i.negPre=t+i.posPre,i.negSuf=i.posSuf;return i}function $v(e){let t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}var Wv=/\s+/,Kv=[],jv=(()=>{class e{_ngEl;_renderer;initialClasses=Kv;rawClass;stateMap=new Map;constructor(e,t){this._ngEl=e,this._renderer=t}set klass(e){this.initialClasses=null!=e?e.trim().split(Wv):Kv}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(Wv):e}ngDoCheck(){for(let e of this.initialClasses)this._updateState(e,!0);let e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(let t of e)this._updateState(t,!0);else if(null!=e)for(let t of Object.keys(e))this._updateState(t,!!e[t]);this._applyStateDiff()}_updateState(e,t){let i=this.stateMap.get(e);void 0!==i?(i.enabled!==t&&(i.changed=!0,i.enabled=t),i.touched=!0):this.stateMap.set(e,{enabled:t,changed:!0,touched:!0})}_applyStateDiff(){for(let e of this.stateMap){let t=e[0],i=e[1];i.changed?(this._toggleClass(t,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(t,!1),this.stateMap.delete(t)),i.touched=!1}}_toggleClass(e,t){(e=e.trim()).length>0&&e.split(Wv).forEach((e=>{t?this._renderer.addClass(this._ngEl.nativeElement,e):this._renderer.removeClass(this._ngEl.nativeElement,e)}))}static ɵfac=function(t){return new(t||e)(lu(zl),lu(ru))};static ɵdir=rg({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})(),Uv=(()=>{class e{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(e,t,i){this._ngEl=e,this._differs=t,this._renderer=i}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){let e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,t){let[i,n]=e.split("."),r=-1===i.indexOf("-")?void 0:rh.DashCase;null!=t?this._renderer.setStyle(this._ngEl.nativeElement,i,n?`${t}${n}`:t,r):this._renderer.removeStyle(this._ngEl.nativeElement,i,r)}_applyChanges(e){e.forEachRemovedItem((e=>this._setStyle(e.key,null))),e.forEachAddedItem((e=>this._setStyle(e.key,e.currentValue))),e.forEachChangedItem((e=>this._setStyle(e.key,e.currentValue)))}static ɵfac=function(t){return new(t||e)(lu(zl),lu(Mf),lu(ru))};static ɵdir=rg({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return e})(),qv=(()=>{class e{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(e){this._viewContainerRef=e}ngOnChanges(e){if(this._shouldRecreateView(e)){let e=this._viewContainerRef;if(this._viewRef&&e.remove(e.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);let t=this._createContextForwardProxy();this._viewRef=e.createEmbeddedView(this.ngTemplateOutlet,t,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(e){return!!e.ngTemplateOutlet||!!e.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(e,t,i)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,t,i),get:(e,t,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,t,i)}})}static ɵfac=function(t){return new(t||e)(lu(Su))};static ɵdir=rg({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[po]})}return e})();function Yv(e,t){return new $n(2100,!1)}var Zv=new class{createSubscription(e,t){return e.then(t,(e=>{throw e}))}dispose(e){}},Xv=new class{createSubscription(e,t){return zf((()=>e.subscribe({next:t,error:e=>{throw e}})))}dispose(e){zf((()=>e.unsubscribe()))}},Qv=(()=>{class e{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(e){this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){if(!this._obj){if(e)try{this.markForCheckOnValueUpdate=!1,this._subscribe(e)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,(t=>this._updateLatestValue(e,t)))}_selectStrategy(e){if(Fg(e))return Zv;if(Pg(e))return Xv;throw Yv()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,t){e===this._obj&&(this._latestValue=t,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static ɵfac=function(t){return new(t||e)(lu(Cf,16))};static ɵpipe=sg({name:"async",type:e,pure:!1})}return e})(),Jv=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,ey=(()=>{class e{transform(e){if(null==e)return null;if("string"!=typeof e)throw Yv();return e.replace(Jv,(e=>e[0].toUpperCase()+e.slice(1).toLowerCase()))}static ɵfac=function(t){return new(t||e)};static ɵpipe=sg({name:"titlecase",type:e,pure:!0})}return e})(),ty=new hr(""),iy=new hr(""),ny=(()=>{class e{locale;defaultTimezone;defaultOptions;constructor(e,t,i){this.locale=e,this.defaultTimezone=t,this.defaultOptions=i}transform(e,t,i,n){if(null==e||""===e||e!=e)return null;try{let r=t??this.defaultOptions?.dateFormat??"mediumDate",s=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return mv(e,r,n||this.locale,s)}catch(e){throw Yv(0,e.message)}}static ɵfac=function(t){return new(t||e)(lu(uf,16),lu(ty,24),lu(iy,24))};static ɵpipe=sg({name:"date",type:e,pure:!0})}return e})(),ry=(()=>{class e{_locale;constructor(e){this._locale=e}transform(e,t,i){if(!ay(e))return null;i||=this._locale;try{return Bv(ly(e),i,t)}catch(e){throw Yv(0,e.message)}}static ɵfac=function(t){return new(t||e)(lu(uf,16))};static ɵpipe=sg({name:"number",type:e,pure:!0})}return e})(),sy=(()=>{class e{_locale;constructor(e){this._locale=e}transform(e,t,i){if(!ay(e))return null;i||=this._locale;try{return zv(ly(e),i,t)}catch(e){throw Yv(0,e.message)}}static ɵfac=function(t){return new(t||e)(lu(uf,16))};static ɵpipe=sg({name:"percent",type:e,pure:!0})}return e})(),oy=(()=>{class e{_locale;_defaultCurrencyCode;constructor(e,t="USD"){this._locale=e,this._defaultCurrencyCode=t}transform(e,t=this._defaultCurrencyCode,i="symbol",n,r){if(!ay(e))return null;r||=this._locale,"boolean"==typeof i&&(i=i?"symbol":"code");let s=t||this._defaultCurrencyCode;"code"!==i&&(s="symbol"===i||"symbol-narrow"===i?hv(s,"symbol"===i?"wide":"narrow",r):i);try{return Hv(ly(e),r,s,t,n)}catch(e){throw Yv(0,e.message)}}static ɵfac=function(t){return new(t||e)(lu(uf,16),lu(gf,16))};static ɵpipe=sg({name:"currency",type:e,pure:!0})}return e})();function ay(e){return!(null==e||""===e||e!=e)}function ly(e){if("string"==typeof e&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if("number"!=typeof e)throw new Error(`${e} is not a number`);return e}var dy=(()=>{class e{static ɵfac=function(t){return new(t||e)};static ɵmod=tg({type:e});static ɵinj=nr({})}return e})(),cy="browser";function hy(e){return e===cy}function uy(e){return"server"===e}var gy=(()=>{class e{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,t){this._renderer=e,this._elementRef=t}setProperty(e,t){this._renderer.setProperty(this._elementRef.nativeElement,e,t)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static ɵfac=function(t){return new(t||e)(lu(ru),lu(zl))};static ɵdir=rg({type:e})}return e})(),py=(()=>{class e extends gy{static ɵfac=(()=>{let t;return function(i){return(t||(t=ol(e)))(i||e)}})();static ɵdir=rg({type:e,features:[dg]})}return e})(),my=new hr(""),fy={provide:my,useExisting:Jn((()=>yy)),multi:!0},vy=new hr(""),yy=(()=>{class e extends gy{_compositionMode;_composing=!1;constructor(e,t,i){super(e,t),this._compositionMode=i,null==this._compositionMode&&(this._compositionMode=!function(){let e=Uf()?Uf().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(e){let t=e??"";this.setProperty("value",t)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static ɵfac=function(t){return new(t||e)(lu(ru),lu(zl),lu(vy,8))};static ɵdir=rg({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&rm("input",(function(e){return t._handleInput(e.target.value)}))("blur",(function(){return t.onTouched()}))("compositionstart",(function(){return t._compositionStart()}))("compositionend",(function(e){return t._compositionEnd(e.target.value)}))},standalone:!1,features:[Pm([fy]),dg]})}return e})();function xy(e){return null==e||0===_y(e)}function _y(e){return null==e?null:Array.isArray(e)||"string"==typeof e?e.length:e instanceof Set?e.size:null}var wy=new hr(""),Cy=new hr(""),Sy=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,by=class{static min(e){return function(e){return t=>{if(null==t.value||null==e)return null;let i=parseFloat(t.value);return!isNaN(i)&&i<e?{min:{min:e,actual:t.value}}:null}}(e)}static max(e){return function(e){return t=>{if(null==t.value||null==e)return null;let i=parseFloat(t.value);return!isNaN(i)&&i>e?{max:{max:e,actual:t.value}}:null}}(e)}static required(e){return function(e){return xy(e.value)?{required:!0}:null}(e)}static requiredTrue(e){return function(e){return!0===e.value?null:{required:!0}}(e)}static email(e){return function(e){return xy(e.value)||Sy.test(e.value)?null:{email:!0}}(e)}static minLength(e){return function(e){return t=>{let i=t.value?.length??_y(t.value);return null===i||0===i?null:i<e?{minlength:{requiredLength:e,actualLength:i}}:null}}(e)}static maxLength(e){return function(e){return t=>{let i=t.value?.length??_y(t.value);return null!==i&&i>e?{maxlength:{requiredLength:e,actualLength:i}}:null}}(e)}static pattern(e){return function(e){if(!e)return Dy;let t,i;return"string"==typeof e?(i="","^"!==e.charAt(0)&&(i+="^"),i+=e,"$"!==e.charAt(e.length-1)&&(i+="$"),t=new RegExp(i)):(i=e.toString(),t=e),e=>{if(xy(e.value))return null;let n=e.value;return t.test(n)?null:{pattern:{requiredPattern:i,actualValue:n}}}}(e)}static nullValidator(e){return null}static compose(e){return ky(e)}static composeAsync(e){return Fy(e)}};function Dy(e){return null}function Ey(e){return null!=e}function Ty(e){return Fg(e)?sn(e):e}function Iy(e){let t={};return e.forEach((e=>{t=null!=e?Qe(Qe({},t),e):t})),0===Object.keys(t).length?null:t}function Ry(e,t){return t.map((t=>t(e)))}function Ay(e){return e.map((e=>function(e){return!e.validate}(e)?e:t=>e.validate(t)))}function ky(e){if(!e)return null;let t=e.filter(Ey);return 0==t.length?null:function(e){return Iy(Ry(e,t))}}function Oy(e){return null!=e?ky(Ay(e)):null}function Fy(e){if(!e)return null;let t=e.filter(Ey);return 0==t.length?null:function(e){return xn(Ry(e,t).map(Ty)).pipe(cn(Iy))}}function Py(e){return null!=e?Fy(Ay(e)):null}function Vy(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function My(e){return e._rawValidators}function Ly(e){return e._rawAsyncValidators}function Ny(e){return e?Array.isArray(e)?e:[e]:[]}function Hy(e,t){return Array.isArray(e)?e.includes(t):e===t}function zy(e,t){let i=Ny(t);return Ny(e).forEach((e=>{Hy(i,e)||i.push(e)})),i}function By(e,t){return Ny(t).filter((t=>!Hy(e,t)))}var Gy=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Oy(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Py(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach((e=>e())),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}},$y=class extends Gy{name;get formDirective(){return null}get path(){return null}},Wy=class extends Gy{_parent=null;name=null;valueAccessor=null},Ky=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},jy=(Je(Qe({},{"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"}),{"[class.ng-submitted]":"isSubmitted"}),(()=>{class e extends Ky{constructor(e){super(e)}static ɵfac=function(t){return new(t||e)(lu(Wy,2))};static ɵdir=rg({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&ap("ng-untouched",t.isUntouched)("ng-touched",t.isTouched)("ng-pristine",t.isPristine)("ng-dirty",t.isDirty)("ng-valid",t.isValid)("ng-invalid",t.isInvalid)("ng-pending",t.isPending)},standalone:!1,features:[dg]})}return e})()),Uy=(()=>{class e extends Ky{constructor(e){super(e)}static ɵfac=function(t){return new(t||e)(lu($y,10))};static ɵdir=rg({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,t){2&e&&ap("ng-untouched",t.isUntouched)("ng-touched",t.isTouched)("ng-pristine",t.isPristine)("ng-dirty",t.isDirty)("ng-valid",t.isValid)("ng-invalid",t.isInvalid)("ng-pending",t.isPending)("ng-submitted",t.isSubmitted)},standalone:!1,features:[dg]})}return e})(),qy="VALID",Yy="INVALID",Zy="PENDING",Xy="DISABLED",Qy=class{},Jy=class extends Qy{value;source;constructor(e,t){super(),this.value=e,this.source=t}},ex=class extends Qy{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},tx=class extends Qy{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},ix=class extends Qy{status;source;constructor(e,t){super(),this.status=e,this.source=t}},nx=class extends Qy{source;constructor(e){super(),this.source=e}},rx=class extends Qy{source;constructor(e){super(),this.source=e}};function sx(e){return(ax(e)?e.validators:e)||null}function ox(e,t){return(ax(t)?t.asyncValidators:e)||null}function ax(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}var lx=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return zf(this.statusReactive)}set status(e){zf((()=>this.statusReactive.set(e)))}_status=Bf((()=>this.statusReactive()));statusReactive=Gl(void 0);get valid(){return this.status===qy}get invalid(){return this.status===Yy}get pending(){return this.status==Zy}get disabled(){return this.status===Xy}get enabled(){return this.status!==Xy}errors;get pristine(){return zf(this.pristineReactive)}set pristine(e){zf((()=>this.pristineReactive.set(e)))}_pristine=Bf((()=>this.pristineReactive()));pristineReactive=Gl(!0);get dirty(){return!this.pristine}get touched(){return zf(this.touchedReactive)}set touched(e){zf((()=>this.touchedReactive.set(e)))}_touched=Bf((()=>this.touchedReactive()));touchedReactive=Gl(!1);get untouched(){return!this.touched}_events=new Ci;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(zy(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(zy(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(By(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(By(e,this._rawAsyncValidators))}hasValidator(e){return Hy(this._rawValidators,e)}hasAsyncValidator(e){return Hy(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=!1===this.touched;this.touched=!0;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(Je(Qe({},e),{sourceControl:i})),t&&!1!==e.emitEvent&&this._events.next(new tx(!0,i))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild((t=>t.markAllAsTouched(e)))}markAsUntouched(e={}){let t=!0===this.touched;this.touched=!1,this._pendingTouched=!1;let i=e.sourceControl??this;this._forEachChild((t=>{t.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:i})})),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i),t&&!1!==e.emitEvent&&this._events.next(new tx(!1,i))}markAsDirty(e={}){let t=!0===this.pristine;this.pristine=!1;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(Je(Qe({},e),{sourceControl:i})),t&&!1!==e.emitEvent&&this._events.next(new ex(!1,i))}markAsPristine(e={}){let t=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;let i=e.sourceControl??this;this._forEachChild((t=>{t.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})})),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),t&&!1!==e.emitEvent&&this._events.next(new ex(!0,i))}markAsPending(e={}){this.status=Zy;let t=e.sourceControl??this;!1!==e.emitEvent&&(this._events.next(new ix(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(Je(Qe({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Xy,this.errors=null,this._forEachChild((t=>{t.disable(Je(Qe({},e),{onlySelf:!0}))})),this._updateValue();let i=e.sourceControl??this;!1!==e.emitEvent&&(this._events.next(new Jy(this.value,i)),this._events.next(new ix(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Je(Qe({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach((e=>e(!0)))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=qy,this._forEachChild((t=>{t.enable(Je(Qe({},e),{onlySelf:!0}))})),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Je(Qe({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach((e=>e(!1)))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let t=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===qy||this.status===Zy)&&this._runAsyncValidator(t,e.emitEvent)}let t=e.sourceControl??this;!1!==e.emitEvent&&(this._events.next(new Jy(this.value,t)),this._events.next(new ix(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(Je(Qe({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild((t=>t._updateTreeValidity(e))),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Xy:qy}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Zy,this._hasOwnPendingAsyncValidator={emitEvent:!1!==t};let i=Ty(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe((i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})}))}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent,this,t.shouldHaveEmitted)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce(((e,t)=>e&&e._find(t)),this)}getError(e,t){let i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,i){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||i)&&this._events.next(new ix(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,i)}_initObservables(){this.valueChanges=new wl,this.statusChanges=new wl}_calculateStatus(){return this._allControlsDisabled()?Xy:this.errors?Yy:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Zy)?Zy:this._anyControlsHaveStatus(Yy)?Yy:qy}_anyControlsHaveStatus(e){return this._anyControls((t=>t.status===e))}_anyControlsDirty(){return this._anyControls((e=>e.dirty))}_anyControlsTouched(){return this._anyControls((e=>e.touched))}_updatePristine(e,t){let i=!this._anyControlsDirty(),n=this.pristine!==i;this.pristine=i,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),n&&this._events.next(new ex(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new tx(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ax(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function(e){return Array.isArray(e)?Oy(e):e||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function(e){return Array.isArray(e)?Py(e):e||null}(this._rawAsyncValidators)}},dx=class extends lx{constructor(e,t,i){super(sx(t),ox(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange((()=>{})),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange((()=>{})),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function(e,t,i){e._forEachChild(((e,t)=>{if(void 0===i[t])throw new $n(1002,"")}))})(this,0,e),Object.keys(e).forEach((i=>{(function(e,t,i){let n=e.controls;if(!Object.keys(n).length)throw new $n(1e3,"");if(!n[i])throw new $n(1001,"")})(this,0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})})),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach((i=>{let n=this.controls[i];n&&n.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})})),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild(((i,n)=>{i.reset(e?e[n]:null,{onlySelf:!0,emitEvent:t.emitEvent})})),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},((e,t,i)=>(e[i]=t.getRawValue(),e)))}_syncPendingControls(){let e=this._reduceChildren(!1,((e,t)=>!!t._syncPendingControls()||e));return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach((t=>{let i=this.controls[t];i&&e(i,t)}))}_setUpControls(){this._forEachChild((e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}))}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},((e,t,i)=>((t.enabled||this.disabled)&&(e[i]=t.value),e)))}_reduceChildren(e,t){let i=e;return this._forEachChild(((e,n)=>{i=t(i,e,n)})),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}},cx=new hr("",{providedIn:"root",factory:()=>hx}),hx="always";function ux(e,t,i=hx){mx(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||"always"===i)&&t.valueAccessor.setDisabledState?.(e.disabled),function(e,t){t.valueAccessor.registerOnChange((i=>{e._pendingValue=i,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&vx(e,t)}))}(e,t),function(e,t){let i=(e,i)=>{t.valueAccessor.writeValue(e),i&&t.viewToModelUpdate(e)};e.registerOnChange(i),t._registerOnDestroy((()=>{e._unregisterOnChange(i)}))}(e,t),function(e,t){t.valueAccessor.registerOnTouched((()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&vx(e,t),"submit"!==e.updateOn&&e.markAsTouched()}))}(e,t),function(e,t){if(t.valueAccessor.setDisabledState){let i=e=>{t.valueAccessor.setDisabledState(e)};e.registerOnDisabledChange(i),t._registerOnDestroy((()=>{e._unregisterOnDisabledChange(i)}))}}(e,t)}function gx(e,t,i=!0){let n=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n)),fx(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange((()=>{})))}function px(e,t){e.forEach((e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)}))}function mx(e,t){let i=My(e);null!==t.validator?e.setValidators(Vy(i,t.validator)):"function"==typeof i&&e.setValidators([i]);let n=Ly(e);null!==t.asyncValidator?e.setAsyncValidators(Vy(n,t.asyncValidator)):"function"==typeof n&&e.setAsyncValidators([n]);let r=()=>e.updateValueAndValidity();px(t._rawValidators,r),px(t._rawAsyncValidators,r)}function fx(e,t){let i=!1;if(null!==e){if(null!==t.validator){let n=My(e);if(Array.isArray(n)&&n.length>0){let r=n.filter((e=>e!==t.validator));r.length!==n.length&&(i=!0,e.setValidators(r))}}if(null!==t.asyncValidator){let n=Ly(e);if(Array.isArray(n)&&n.length>0){let r=n.filter((e=>e!==t.asyncValidator));r.length!==n.length&&(i=!0,e.setAsyncValidators(r))}}}let n=()=>{};return px(t._rawValidators,n),px(t._rawAsyncValidators,n),i}function vx(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function yx(e,t){if(!e.hasOwnProperty("model"))return!1;let i=e.model;return!!i.isFirstChange()||!Object.is(t,i.currentValue)}function xx(e,t){if(!t)return null;let i,n,r;return Array.isArray(t),t.forEach((e=>{e.constructor===yy?i=e:function(e){return Object.getPrototypeOf(e.constructor)===py}(e)?n=e:r=e})),r||n||i||null}function _x(e,t){let i=e.indexOf(t);i>-1&&e.splice(i,1)}function wx(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}var Cx=class extends lx{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,i){super(sx(t),ox(i,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ax(t)&&(t.nonNullable||t.initialValueIsDefault)&&(wx(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach((e=>e(this.value,!1!==t.emitViewToModelChange))),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){_x(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){_x(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){wx(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Sx={provide:Wy,useExisting:Jn((()=>Dx))},bx=Promise.resolve(),Dx=(()=>{class e extends Wy{_changeDetectorRef;callSetDisabledState;control=new Cx;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new wl;constructor(e,t,i,n,r,s){super(),this._changeDetectorRef=r,this.callSetDisabledState=s,this._parent=e,this._setValidators(t),this._setAsyncValidators(i),this.valueAccessor=xx(0,n)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let t=e.name.previousValue;this.formDirective.removeControl({name:t,path:this._getPath(t)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),yx(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ux(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){bx.then((()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()}))}_updateDisabled(e){let t=e.isDisabled.currentValue,i=0!==t&&Hf(t);bx.then((()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()}))}_getPath(e){return this._parent?function(e,t){return[...t.path,e]}(e,this._parent):[e]}static ɵfac=function(t){return new(t||e)(lu($y,9),lu(wy,10),lu(Cy,10),lu(my,10),lu(Cf,8),lu(cx,8))};static ɵdir=rg({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Pm([Sx]),dg,po]})}return e})(),Ex={provide:my,useExisting:Jn((()=>Tx)),multi:!0},Tx=(()=>{class e extends py{writeValue(e){let t=e??"";this.setProperty("value",t)}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}static ɵfac=(()=>{let t;return function(i){return(t||(t=ol(e)))(i||e)}})();static ɵdir=rg({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,t){1&e&&rm("input",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},standalone:!1,features:[Pm([Ex]),dg]})}return e})(),Ix=new hr(""),Rx={provide:Wy,useExisting:Jn((()=>Ax))},Ax=(()=>{class e extends Wy{_ngModelWarningConfig;callSetDisabledState;viewModel;form;set isDisabled(e){}model;update=new wl;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,t,i,n,r){super(),this._ngModelWarningConfig=n,this.callSetDisabledState=r,this._setValidators(e),this._setAsyncValidators(t),this.valueAccessor=xx(0,i)}ngOnChanges(e){if(this._isControlChanged(e)){let t=e.form.previousValue;t&&gx(t,this,!1),ux(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}yx(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&gx(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}static ɵfac=function(t){return new(t||e)(lu(wy,10),lu(Cy,10),lu(my,10),lu(Ix,8),lu(cx,8))};static ɵdir=rg({type:e,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],standalone:!1,features:[Pm([Rx]),dg,po]})}return e})(),kx={provide:$y,useExisting:Jn((()=>Ox))},Ox=(()=>{class e extends $y{callSetDisabledState;get submitted(){return zf(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}_submitted=Bf((()=>this._submittedReactive()));_submittedReactive=Gl(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new wl;constructor(e,t,i){super(),this.callSetDisabledState=i,this._setValidators(e),this._setAsyncValidators(t)}ngOnChanges(e){e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(fx(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange((()=>{})))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let t=this.form.get(e.path);return ux(t,e,this.callSetDisabledState),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}getControl(e){return this.form.get(e.path)}removeControl(e){gx(e.control||null,e,!1),function(e,t){let i=e.indexOf(t);i>-1&&e.splice(i,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,t){this.form.get(e.path).setValue(t)}onSubmit(e){return this._submittedReactive.set(!0),function(e,t){e._syncPendingControls(),t.forEach((e=>{let t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)}))}(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new nx(this.control)),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this._submittedReactive.set(!1),this.form._events.next(new rx(this.form))}_updateDomValue(){this.directives.forEach((e=>{let t=e.control,i=this.form.get(e.path);t!==i&&(gx(t||null,e),(e=>e instanceof Cx)(i)&&(ux(i,e,this.callSetDisabledState),e.control=i))})),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let t=this.form.get(e.path);(function(e,t){mx(e,t)})(t,e),t.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let t=this.form.get(e.path);t&&function(e,t){return fx(e,t)}(t,e)&&t.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange((()=>{}))}_updateValidators(){mx(this.form,this),this._oldForm&&fx(this._oldForm,this)}static ɵfac=function(t){return new(t||e)(lu(wy,10),lu(Cy,10),lu(cx,8))};static ɵdir=rg({type:e,selectors:[["","formGroup",""]],hostBindings:function(e,t){1&e&&rm("submit",(function(e){return t.onSubmit(e)}))("reset",(function(){return t.onReset()}))},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Pm([kx]),dg,po]})}return e})(),Fx=(()=>{class e{static ɵfac=function(t){return new(t||e)};static ɵmod=tg({type:e});static ɵinj=nr({})}return e})(),Px=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:cx,useValue:t.callSetDisabledState??hx}]}}static ɵfac=function(t){return new(t||e)};static ɵmod=tg({type:e});static ɵinj=nr({imports:[Fx]})}return e})(),Vx=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:Ix,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:cx,useValue:t.callSetDisabledState??hx}]}}static ɵfac=function(t){return new(t||e)};static ɵmod=tg({type:e});static ɵinj=nr({imports:[Fx]})}return e})(),Mx=(()=>{class e{constructor(){this.highlightGroupsMap=new Map,this.onActiveElementChanged=new wl}setActiveHighlight(e,t){this.highlightGroupsMap.set(e,t),this.onActiveElementChanged.emit(e)}clearActiveHighlight(e){this.highlightGroupsMap.set(e,{index:-1}),this.onActiveElementChanged.emit(e)}destroyGroup(e){this.highlightGroupsMap.delete(e)}static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵprov=ir({token:e,factory:e.ɵfac,providedIn:"root"})}}return e})(),Lx="object"==typeof i.g&&i.g&&i.g.Object===Object&&i.g,Nx="object"==typeof self&&self&&self.Object===Object&&self,Hx=Lx||Nx||Function("return this")(),zx=Hx.Symbol,Bx=Object.prototype,Gx=Bx.hasOwnProperty,$x=Bx.toString,Wx=zx?zx.toStringTag:void 0,Kx=Object.prototype.toString,jx=zx?zx.toStringTag:void 0,Ux=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":jx&&jx in Object(e)?function(e){var t=Gx.call(e,Wx),i=e[Wx];try{e[Wx]=void 0;var n=!0}catch{}var r=$x.call(e);return n&&(t?e[Wx]=i:delete e[Wx]),r}(e):function(e){return Kx.call(e)}(e)},qx=function(e){return null!=e&&"object"==typeof e},Yx=Array.isArray,Zx=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},Xx=function(e){return e},Qx=function(e){if(!Zx(e))return!1;var t=Ux(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},Jx=Hx["__core-js_shared__"],e_=function(){var e=/[^.]+$/.exec(Jx&&Jx.keys&&Jx.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),t_=Function.prototype.toString,i_=function(e){if(null!=e){try{return t_.call(e)}catch{}try{return e+""}catch{}}return""},n_=/^\[object .+?Constructor\]$/,r_=Function.prototype,s_=Object.prototype,o_=r_.toString,a_=s_.hasOwnProperty,l_=RegExp("^"+o_.call(a_).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),d_=function(e){return!(!Zx(e)||function(e){return!!e_&&e_ in e}(e))&&(Qx(e)?l_:n_).test(i_(e))},c_=function(e,t){var i=function(e,t){return e?.[t]}(e,t);return d_(i)?i:void 0},h_=c_(Hx,"WeakMap"),u_=Object.create,g_=function(){function e(){}return function(t){if(!Zx(t))return{};if(u_)return u_(t);e.prototype=t;var i=new e;return e.prototype=void 0,i}}(),p_=g_,m_=Date.now,f_=function(e){return function(){return e}},v_=function(){try{var e=c_(Object,"defineProperty");return e({},"",{}),e}catch{}}(),y_=v_,x_=y_?function(e,t){return y_(e,"toString",{configurable:!0,enumerable:!1,value:f_(t),writable:!0})}:Xx,__=function(e){var t=0,i=0;return function(){var n=m_(),r=16-(n-i);if(i=n,r>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(x_),w_=/^(?:0|[1-9]\d*)$/,C_=function(e,t){var i=typeof e;return!!(t=t??9007199254740991)&&("number"==i||"symbol"!=i&&w_.test(e))&&e>-1&&e%1==0&&e<t},S_=function(e,t,i){"__proto__"==t&&y_?y_(e,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[t]=i},b_=function(e,t){return e===t||e!=e&&t!=t},D_=Object.prototype.hasOwnProperty,E_=function(e,t,i){var n=e[t];(!D_.call(e,t)||!b_(n,i)||void 0===i&&!(t in e))&&S_(e,t,i)},T_=Math.max,I_=function(e,t){return __(function(e,t,i){return t=T_(void 0===t?e.length-1:t,0),function(){for(var n=arguments,r=-1,s=T_(n.length-t,0),o=Array(s);++r<s;)o[r]=n[t+r];r=-1;for(var a=Array(t+1);++r<t;)a[r]=n[r];return a[t]=i(o),function(e,t,i){switch(i.length){case 0:return e.call(t);case 1:return e.call(t,i[0]);case 2:return e.call(t,i[0],i[1]);case 3:return e.call(t,i[0],i[1],i[2])}return e.apply(t,i)}(e,this,a)}}(e,t,Xx),e+"")},R_=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},A_=function(e){return null!=e&&R_(e.length)&&!Qx(e)},k_=Object.prototype,O_=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||k_)},F_=function(e){return qx(e)&&"[object Arguments]"==Ux(e)},P_=Object.prototype,V_=P_.hasOwnProperty,M_=P_.propertyIsEnumerable,L_=F_(function(){return arguments}())?F_:function(e){return qx(e)&&V_.call(e,"callee")&&!M_.call(e,"callee")},N_=L_,H_="object"==typeof exports&&exports&&!exports.nodeType&&exports,z_=H_&&e&&!e.nodeType&&e,B_=z_&&z_.exports===H_?Hx.Buffer:void 0,G_=(B_?B_.isBuffer:void 0)||function(){return!1},$_={};$_["[object Float32Array]"]=$_["[object Float64Array]"]=$_["[object Int8Array]"]=$_["[object Int16Array]"]=$_["[object Int32Array]"]=$_["[object Uint8Array]"]=$_["[object Uint8ClampedArray]"]=$_["[object Uint16Array]"]=$_["[object Uint32Array]"]=!0,$_["[object Arguments]"]=$_["[object Array]"]=$_["[object ArrayBuffer]"]=$_["[object Boolean]"]=$_["[object DataView]"]=$_["[object Date]"]=$_["[object Error]"]=$_["[object Function]"]=$_["[object Map]"]=$_["[object Number]"]=$_["[object Object]"]=$_["[object RegExp]"]=$_["[object Set]"]=$_["[object String]"]=$_["[object WeakMap]"]=!1;var W_="object"==typeof exports&&exports&&!exports.nodeType&&exports,K_=W_&&e&&!e.nodeType&&e,j_=K_&&K_.exports===W_&&Lx.process,U_=function(){try{return K_&&K_.require&&K_.require("util").types||j_&&j_.binding&&j_.binding("util")}catch{}}(),q_=U_&&U_.isTypedArray,Y_=q_?function(e){return function(t){return e(t)}}(q_):function(e){return qx(e)&&R_(e.length)&&!!$_[Ux(e)]},Z_=Object.prototype.hasOwnProperty,X_=function(e,t){var i=Yx(e),n=!i&&N_(e),r=!i&&!n&&G_(e),s=!i&&!n&&!r&&Y_(e),o=i||n||r||s,a=o?function(e,t){for(var i=-1,n=Array(e);++i<e;)n[i]=t(i);return n}(e.length,String):[],l=a.length;for(var d in e)(t||Z_.call(e,d))&&(!o||!("length"==d||r&&("offset"==d||"parent"==d)||s&&("buffer"==d||"byteLength"==d||"byteOffset"==d)||C_(d,l)))&&a.push(d);return a},Q_=function(e,t){return function(i){return e(t(i))}},J_=Q_(Object.keys,Object),ew=Object.prototype.hasOwnProperty,tw=function(e){return A_(e)?X_(e):function(e){if(!O_(e))return J_(e);var t=[];for(var i in Object(e))ew.call(e,i)&&"constructor"!=i&&t.push(i);return t}(e)},iw=Object.prototype.hasOwnProperty,nw=function(e){if(!Zx(e))return function(e){var t=[];if(null!=e)for(var i in Object(e))t.push(i);return t}(e);var t=O_(e),i=[];for(var n in e)"constructor"==n&&(t||!iw.call(e,n))||i.push(n);return i},rw=function(e){return A_(e)?X_(e,!0):nw(e)},sw=c_(Object,"create"),ow=Object.prototype.hasOwnProperty,aw=Object.prototype.hasOwnProperty;function lw(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}lw.prototype.clear=function(){this.__data__=sw?sw(null):{},this.size=0},lw.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},lw.prototype.get=function(e){var t=this.__data__;if(sw){var i=t[e];return"__lodash_hash_undefined__"===i?void 0:i}return ow.call(t,e)?t[e]:void 0},lw.prototype.has=function(e){var t=this.__data__;return sw?void 0!==t[e]:aw.call(t,e)},lw.prototype.set=function(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=sw&&void 0===t?"__lodash_hash_undefined__":t,this};var dw=lw,cw=function(e,t){for(var i=e.length;i--;)if(b_(e[i][0],t))return i;return-1},hw=Array.prototype.splice;function uw(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}uw.prototype.clear=function(){this.__data__=[],this.size=0},uw.prototype.delete=function(e){var t=this.__data__,i=cw(t,e);return!(i<0||(i==t.length-1?t.pop():hw.call(t,i,1),--this.size,0))},uw.prototype.get=function(e){var t=this.__data__,i=cw(t,e);return i<0?void 0:t[i][1]},uw.prototype.has=function(e){return cw(this.__data__,e)>-1},uw.prototype.set=function(e,t){var i=this.__data__,n=cw(i,e);return n<0?(++this.size,i.push([e,t])):i[n][1]=t,this};var gw=uw,pw=c_(Hx,"Map"),mw=function(e,t){var i=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?i["string"==typeof t?"string":"hash"]:i.map};function fw(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}fw.prototype.clear=function(){this.size=0,this.__data__={hash:new dw,map:new(pw||gw),string:new dw}},fw.prototype.delete=function(e){var t=mw(this,e).delete(e);return this.size-=t?1:0,t},fw.prototype.get=function(e){return mw(this,e).get(e)},fw.prototype.has=function(e){return mw(this,e).has(e)},fw.prototype.set=function(e,t){var i=mw(this,e),n=i.size;return i.set(e,t),this.size+=i.size==n?0:1,this};var vw=fw,yw=Q_(Object.getPrototypeOf,Object),xw=Function.prototype,_w=Object.prototype,ww=xw.toString,Cw=_w.hasOwnProperty,Sw=ww.call(Object);function bw(e){var t=this.__data__=new gw(e);this.size=t.size}bw.prototype.clear=function(){this.__data__=new gw,this.size=0},bw.prototype.delete=function(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i},bw.prototype.get=function(e){return this.__data__.get(e)},bw.prototype.has=function(e){return this.__data__.has(e)},bw.prototype.set=function(e,t){var i=this.__data__;if(i instanceof gw){var n=i.__data__;if(!pw||n.length<199)return n.push([e,t]),this.size=++i.size,this;i=this.__data__=new vw(n)}return i.set(e,t),this.size=i.size,this};var Dw=bw,Ew="object"==typeof exports&&exports&&!exports.nodeType&&exports,Tw=Ew&&e&&!e.nodeType&&e,Iw=Tw&&Tw.exports===Ew?Hx.Buffer:void 0,Rw=Iw?Iw.allocUnsafe:void 0,Aw=Object.prototype.propertyIsEnumerable,kw=Object.getOwnPropertySymbols,Ow=kw?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var i=-1,n=null==e?0:e.length,r=0,s=[];++i<n;){var o=e[i];t(o,i,e)&&(s[r++]=o)}return s}(kw(e),(function(t){return Aw.call(e,t)})))}:function(){return[]},Fw=Ow,Pw=function(e){return function(e,t,i){var n=t(e);return Yx(e)?n:function(e,t){for(var i=-1,n=t.length,r=e.length;++i<n;)e[r+i]=t[i];return e}(n,i(e))}(e,tw,Fw)},Vw=c_(Hx,"DataView"),Mw=c_(Hx,"Promise"),Lw=c_(Hx,"Set"),Nw="[object Map]",Hw="[object Promise]",zw="[object Set]",Bw="[object WeakMap]",Gw="[object DataView]",$w=i_(Vw),Ww=i_(pw),Kw=i_(Mw),jw=i_(Lw),Uw=i_(h_),qw=Ux;(Vw&&qw(new Vw(new ArrayBuffer(1)))!=Gw||pw&&qw(new pw)!=Nw||Mw&&qw(Mw.resolve())!=Hw||Lw&&qw(new Lw)!=zw||h_&&qw(new h_)!=Bw)&&(qw=function(e){var t=Ux(e),i="[object Object]"==t?e.constructor:void 0,n=i?i_(i):"";if(n)switch(n){case $w:return Gw;case Ww:return Nw;case Kw:return Hw;case jw:return zw;case Uw:return Bw}return t});var Yw=qw,Zw=Hx.Uint8Array,Xw=function(e,t){var i=t?function(e){var t=new e.constructor(e.byteLength);return new Zw(t).set(new Zw(e)),t}(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.length)};function Qw(e){var t=-1,i=null==e?0:e.length;for(this.__data__=new vw;++t<i;)this.add(e[t])}Qw.prototype.add=Qw.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Qw.prototype.has=function(e){return this.__data__.has(e)};var Jw=Qw,eC=function(e,t){for(var i=-1,n=null==e?0:e.length;++i<n;)if(t(e[i],i,e))return!0;return!1},tC=function(e,t){return e.has(t)},iC=function(e,t,i,n,r,s){var o=1&i,a=e.length,l=t.length;if(a!=l&&!(o&&l>a))return!1;var d=s.get(e),c=s.get(t);if(d&&c)return d==t&&c==e;var h=-1,u=!0,g=2&i?new Jw:void 0;for(s.set(e,t),s.set(t,e);++h<a;){var p=e[h],m=t[h];if(n)var f=o?n(m,p,h,t,e,s):n(p,m,h,e,t,s);if(void 0!==f){if(f)continue;u=!1;break}if(g){if(!eC(t,(function(e,t){if(!tC(g,t)&&(p===e||r(p,e,i,n,s)))return g.push(t)}))){u=!1;break}}else if(p!==m&&!r(p,m,i,n,s)){u=!1;break}}return s.delete(e),s.delete(t),u},nC=function(e){var t=-1,i=Array(e.size);return e.forEach((function(e,n){i[++t]=[n,e]})),i},rC=function(e){var t=-1,i=Array(e.size);return e.forEach((function(e){i[++t]=e})),i},sC=zx?zx.prototype:void 0,oC=sC?sC.valueOf:void 0,aC=Object.prototype.hasOwnProperty,lC="[object Arguments]",dC="[object Array]",cC="[object Object]",hC=Object.prototype.hasOwnProperty,uC=function(e,t,i,n,r,s){var o=Yx(e),a=Yx(t),l=o?dC:Yw(e),d=a?dC:Yw(t),c=(l=l==lC?cC:l)==cC,h=(d=d==lC?cC:d)==cC,u=l==d;if(u&&G_(e)){if(!G_(t))return!1;o=!0,c=!1}if(u&&!c)return s||(s=new Dw),o||Y_(e)?iC(e,t,i,n,r,s):function(e,t,i,n,r,s,o){switch(i){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!s(new Zw(e),new Zw(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return b_(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var a=nC;case"[object Set]":var l=1&n;if(a||(a=rC),e.size!=t.size&&!l)return!1;var d=o.get(e);if(d)return d==t;n|=2,o.set(e,t);var c=iC(a(e),a(t),n,r,s,o);return o.delete(e),c;case"[object Symbol]":if(oC)return oC.call(e)==oC.call(t)}return!1}(e,t,l,i,n,r,s);if(!(1&i)){var g=c&&hC.call(e,"__wrapped__"),p=h&&hC.call(t,"__wrapped__");if(g||p){var m=g?e.value():e,f=p?t.value():t;return s||(s=new Dw),r(m,f,i,n,s)}}return!!u&&(s||(s=new Dw),function(e,t,i,n,r,s){var o=1&i,a=Pw(e),l=a.length;if(l!=Pw(t).length&&!o)return!1;for(var d=l;d--;){var c=a[d];if(!(o?c in t:aC.call(t,c)))return!1}var h=s.get(e),u=s.get(t);if(h&&u)return h==t&&u==e;var g=!0;s.set(e,t),s.set(t,e);for(var p=o;++d<l;){var m=e[c=a[d]],f=t[c];if(n)var v=o?n(f,m,c,t,e,s):n(m,f,c,e,t,s);if(!(void 0===v?m===f||r(m,f,i,n,s):v)){g=!1;break}p||(p="constructor"==c)}if(g&&!p){var y=e.constructor,x=t.constructor;y!=x&&"constructor"in e&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof x&&x instanceof x)&&(g=!1)}return s.delete(e),s.delete(t),g}(e,t,i,n,r,s))},gC=function e(t,i,n,r,s){return t===i||(null==t||null==i||!qx(t)&&!qx(i)?t!=t&&i!=i:uC(t,i,n,r,e,s))},pC=function(e){return function(t,i,n){for(var r=-1,s=Object(t),o=n(t),a=o.length;a--;){var l=o[e?a:++r];if(!1===i(s[l],l,s))break}return t}}(),mC=function(e,t,i){(void 0!==i&&!b_(e[t],i)||void 0===i&&!(t in e))&&S_(e,t,i)},fC=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]},vC=function(e){return function(e,t,i,n){var r=!i;i||(i={});for(var s=-1,o=t.length;++s<o;){var a=t[s],l=n?n(i[a],e[a],a,i,e):void 0;void 0===l&&(l=e[a]),r?S_(i,a,l):E_(i,a,l)}return i}(e,rw(e))},yC=function(e,t,i,n,r,s,o){var a=fC(e,i),l=fC(t,i),d=o.get(l);if(d)mC(e,i,d);else{var c=s?s(a,l,i+"",e,t,o):void 0,h=void 0===c;if(h){var u=Yx(l),g=!u&&G_(l),p=!u&&!g&&Y_(l);c=l,u||g||p?Yx(a)?c=a:function(e){return qx(e)&&A_(e)}(a)?c=function(e,t){var i=-1,n=e.length;for(t||(t=Array(n));++i<n;)t[i]=e[i];return t}(a):g?(h=!1,c=function(e,t){if(t)return e.slice();var i=e.length,n=Rw?Rw(i):new e.constructor(i);return e.copy(n),n}(l,!0)):p?(h=!1,c=Xw(l,!0)):c=[]:function(e){if(!qx(e)||"[object Object]"!=Ux(e))return!1;var t=yw(e);if(null===t)return!0;var i=Cw.call(t,"constructor")&&t.constructor;return"function"==typeof i&&i instanceof i&&ww.call(i)==Sw}(l)||N_(l)?(c=a,N_(a)?c=vC(a):(!Zx(a)||Qx(a))&&(c=function(e){return"function"!=typeof e.constructor||O_(e)?{}:p_(yw(e))}(l))):h=!1}h&&(o.set(l,c),r(c,l,n,s,o),o.delete(l)),mC(e,i,c)}},xC=function e(t,i,n,r,s){t!==i&&pC(i,(function(o,a){if(s||(s=new Dw),Zx(o))yC(t,i,a,n,e,r,s);else{var l=r?r(fC(t,a),o,a+"",t,i,s):void 0;void 0===l&&(l=o),mC(t,a,l)}}),rw)},_C=function(e){return I_((function(t,i){var n=-1,r=i.length,s=r>1?i[r-1]:void 0,o=r>2?i[2]:void 0;for(s=e.length>3&&"function"==typeof s?(r--,s):void 0,o&&function(e,t,i){if(!Zx(i))return!1;var n=typeof t;return!!("number"==n?A_(i)&&C_(t,i.length):"string"==n&&t in i)&&b_(i[t],e)}(i[0],i[1],o)&&(s=r<3?void 0:s,r=1),t=Object(t);++n<r;){var a=i[n];a&&e(t,a,n,s)}return t}))}((function(e,t,i,n){xC(e,t,i,n)})),wC=_C,CC=function(e,t){return gC(e,t)},SC={},bC=0,DC=!1,EC=e=>(e=>{if(SC.hasOwnProperty(e)){let t=SC[e];delete SC[e],t()}})(e.data),TC=new hr("elements environment"),IC=()=>globalThis.window?.ResizeObserver;function RC(e,t=!1){return t?(e??[]).map(FC):(e??[]).slice()}var AC=(e,t)=>{let i=[];if(!e)return i;for(let n of e){let e=FC(n);Array.isArray(n[t])&&(e[t]=AC(e[t],t)),i.push(e)}return i},kC=e=>{if(e)return Object.create(Object.getPrototypeOf(e),Object.getOwnPropertyDescriptors(e))},OC=(e,t)=>wC(e,t,((e,t)=>{if(Array.isArray(t))return t})),FC=e=>{if(MC(e))return new Date(e.getTime());if(Array.isArray(e))return e.slice();if(e instanceof Map||e instanceof Set)return e;if(VC(e)){let t={};for(let i of Object.keys(e))"externalObject"!==i&&(t[i]=FC(e[i]));return t}return e},PC=e=>MC(e)?isNaN(e.getTime())?null:e:e?new Date(e):null,VC=e=>!(!e||"[object Object]"!==e.toString()),MC=e=>"[object Date]"===Object.prototype.toString.call(e),LC=(e,t)=>MC(e)&&MC(t)?e.getTime()===t.getTime():e===t,NC=(()=>{class e{constructor(e){this.platformId=e,this.isBrowser=hy(this.platformId),this.isIOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.isSafari=this.isBrowser&&/Safari[\/\s](\d+\.\d+)/.test(navigator.userAgent),this.isFirefox=this.isBrowser&&/Firefox[\/\s](\d+\.\d+)/.test(navigator.userAgent),this.isEdge=this.isBrowser&&/Edge[\/\s](\d+\.\d+)/.test(navigator.userAgent),this.isChromium=this.isBrowser&&(/Chrom|e?ium/g.test(navigator.userAgent)||/Google Inc/g.test(navigator.vendor))&&!/Edge/g.test(navigator.userAgent),this.browserVersion=this.isBrowser?parseFloat(navigator.userAgent.match(/Version\/([\d.]+)/)?.at(1)):0,this.isElements=Mr(TC,{optional:!0}),this.KEYMAP={ENTER:"Enter",SPACE:" ",ESCAPE:"Escape",ARROW_DOWN:"ArrowDown",ARROW_UP:"ArrowUp",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",END:"End",HOME:"Home",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",F2:"F2",TAB:"Tab",SEMICOLON:";",DELETE:"Delete",BACKSPACE:"Backspace",CONTROL:"Control",X:"x",Y:"y",Z:"z"}}getNodeSizeViaRange(e,t,i){let n,r=null;if(this.isFirefox||(r=t.style.overflow,t.style.overflow="visible"),i){let e=i.style;n=[e.width,e.minWidth,e.flexBasis],e.width="",e.minWidth="",e.flexBasis=""}e.selectNodeContents(t);let s=t.getBoundingClientRect().width/t.offsetWidth,o=e.getBoundingClientRect().width/s;return this.isFirefox||(t.style.overflow=r),i&&(i.style.width=n[0],i.style.minWidth=n[1],i.style.flexBasis=n[2]),o}isActivationKey(e){return e.key===this.KEYMAP.ENTER||e.key===this.KEYMAP.SPACE}isFilteringKeyCombo(e){return e.key===this.KEYMAP.ESCAPE||e.ctrlKey&&e.shiftKey&&"l"===e.key.toLowerCase()}isLeftClick(e){return 0===e.button}isNavigationKey(e){return[this.KEYMAP.HOME,this.KEYMAP.END,this.KEYMAP.SPACE,this.KEYMAP.ARROW_DOWN,this.KEYMAP.ARROW_LEFT,this.KEYMAP.ARROW_RIGHT,this.KEYMAP.ARROW_UP].includes(e)}static{this.ɵfac=function(t){return new(t||e)(Vr(ld))}}static{this.ɵprov=ir({token:e,factory:e.ɵfac,providedIn:"root"})}}return e})(),HC=e=>{let t=[];return e.forEach((e=>{if(t.push(e),e.children){let i=Array.isArray(e.children)?e.children:e.children.toArray();t=t.concat(HC(i))}})),t},zC=new Set(["arrowleft","left","arrowright","right","home","end"]),BC=new Set(["down","up","left","right","arrowdown","arrowup","arrowleft","arrowright","home","end","space","spacebar"," "]),GC=new Set("up down arrowup arrowdown home end".split(" ")),$C=new Set("right down arrowright arrowdown".split(" ")),WC=new Set("left up arrowleft arrowup".split(" ")),KC=new Set(["+","add","≠","±","="]),jC=new Set([...Array.from(BC),...Array.from(KC),"enter","f2","escape","esc","pagedown","pageup"]),UC=new Set([...Array.from(BC),"escape","esc","l","¬"]),qC=e=>{let t=IC();return t?new mi((i=>{let n=new t((e=>{i.next(e)}));return n.observe(e),()=>n.disconnect()})):In},YC=(e,t)=>{if(!t)return!e;if(e.size!==t.size)return!1;let i=!0,n=Array.from(t.keys());for(let r of n)if(i=!!e.has(r)&&e.get(r)===t.get(r),!i)break;return i};function ZC(e){return null!=e&&"object"==typeof e}function XC(e){return e?.split(".")??[]}function QC(e,t,i){if(!ZC(e)||t.length<1)return i;let n=e;for(let e of t){if(!ZC(n)||!(e in n))return i;n=n[e]}return n}var JC=(e,t,i,n)=>{let r=0,s=()=>{let o=Math.min(r+t,e);for(;r<o;++r)i(r);r<e?function(e,...t){if(window.setImmediate)return window.setImmediate(e);DC||(DC=!0,window.addEventListener("message",EC,!1)),SC[++bC]=()=>{e.apply(void 0,t)};let i=window.location;window.postMessage(bC+"",i.protocol+"//"+i.host)}(s):n()};s()},eS=(e,t,i,n)=>null==e||""===e?"":mv(e,t,i,n),tS=new oy(void 0).transform,iS=e=>{let t=parseFloat(globalThis.window?.getComputedStyle(globalThis.document?.documentElement).getPropertyValue("--ig-base-font-size"));return Number(e)/t};function nS(e){return e.at(0)}function rS(e){return e.at(-1)}function sS(e){return globalThis.window?.getComputedStyle(e).getPropertyValue("--theme").trim()}function oS(e){return e}var aS=function(e){return e[e.None=0]="None",e[e.IncorrectPageIndex=1]="IncorrectPageIndex",e[e.IncorrectRecordsPerPage=2]="IncorrectRecordsPerPage",e}(aS||{}),lS=function(e){return e.ADD="add",e.DELETE="delete",e.UPDATE="update",e}(lS||{}),dS=function(e){return e.UNDO="undo",e.REDO="redo",e.CLEAR="clear",e.ADD="add",e.END="endPending",e}(dS||{}),cS=function(e){return e[e.None=0]="None",e[e.Asc=1]="Asc",e[e.Desc=2]="Desc",e}(cS||{}),hS=(()=>{class e{static{this._instance=null}constructor(){}static instance(){return this._instance||(this._instance=new this)}sort(e,t,i,n,r,s,o){let a=t,l=i===cS.Desc?-1:1;return this.arraySort(e,((e,t)=>this.compareObjects(e,t,a,l,n,r,s,o)))}compareValues(e,t){let i=null==t;return null==e?i?0:-1:i||e>t?1:e<t?-1:0}compareObjects(e,t,i,n,r,s,o,a){let l=s.call(this,e,i,o,a),d=s.call(this,t,i,o,a);return r&&(l=l&&l.toLowerCase?l.toLowerCase():l,d=d&&d.toLowerCase?d.toLowerCase():d),n*this.compareValues(l,d)}arraySort(e,t){return e.sort(t)}}return e})(),uS=(e,t,i)=>e.length===t.length&&e.every(((e,n)=>{let r=i.find((t=>t.fieldName===e.fieldName)).groupingComparer||hS.instance().compareValues;return e.fieldName===t[n].fieldName&&0===r(e.value,t[n].value)})),gS=e=>{let t=[];if(void 0!==e&&e.expression)for(t.push({fieldName:e.expression.fieldName,value:e.value});e.groupParent;)e=e.groupParent,t.unshift({fieldName:e.expression.fieldName,value:e.value});return t},pS="date",mS="time",fS="dateTime",vS="string",yS=class{sort(e,t,i){return this.sortDataRecursive(e,t,0,i)}groupDataRecursive(e,t,i,n,r,s=null,o=[],a={data:[],metadata:[]}){let l=t.expressions,d=t.expansion,c=0,h=[];for(;c<e.length;){let u=s?s.getColumnByName(l[i].fieldName):null,g=u?.dataType===pS||u?.dataType===fS,p=u?.dataType===mS||u?.dataType===fS,m=u?.dataType===vS,f=this.groupedRecordsByExpression(e,c,l[i],g,p,m),v={expression:l[i],level:i,records:RC(f),value:this.getFieldValue(f[0],l[i].fieldName,g,p),groupParent:n,groups:[],height:s?s.renderedRowHeight:null,column:u};n?n.groups.push(v):o.push(v);let y,x=gS(v),_=d.find((e=>uS(e.hierarchy||[{fieldName:v.expression.fieldName,value:v.value}],x,l))),w=_?_.expanded:t.defaultExpanded;if(h.push(v),r.push(null),a.data.push(v),a.metadata.push(null),i<l.length-1)y=this.groupDataRecursive(f,t,i+1,v,[],s,o,a),w&&(h=h.concat(y.data),r=r.concat(y.metadata));else{for(let e of f)a.metadata.push(v),a.data.push(e);w&&(r=r.concat(a.metadata.slice(a.metadata.length-f.length)),h=h.concat(a.data.slice(a.data.length-f.length)))}c+=f.length}return{data:h,metadata:r}}getFieldValue(e,t,i=!1,n=!1){let r=QC(e,XC(t)),s=PC(r);return s&&i&&n?r=s:s&&i&&!n?r=new Date(s.getFullYear(),s.getMonth(),s.getDate(),0,0,0,0):s&&n&&!i&&(r=new Date((new Date).setHours(s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()))),r}groupedRecordsByExpression(e,t,i,n=!1,r=!1,s,o){let a=[],l=i.fieldName,d=e.length,c=e[t],h=this.getFieldValue(c,l,n,r);a.push(c),t++;let u=i.groupingComparer||o||hS.instance().compareValues;for(let o=t;o<d;o++){let t=e[o],d=this.getFieldValue(t,l,n,r);if(i.ignoreCase&&s&&(d=d?.toString().toLowerCase(),h=h?.toString().toLowerCase()),0!==u(d,h,t,c))break;a.push(t)}return a}sortDataRecursive(e,t,i=0,n){let r,s,o,a,l=t.length,d=e.length;if((i=i||0)>=l||d<=1)return e;let c=t[i];c.strategy||(c.strategy=hS.instance());let h=n?.getColumnByName(c.fieldName),u=h?.dataType===pS||h?.dataType===fS,g=h?.dataType===mS||h?.dataType===fS,p=h?.dataType===vS;if(e=c.strategy.sort(e,c.fieldName,c.dir,c.ignoreCase,this.getFieldValue,u,g,n),i===l-1)return e;for(r=0;r<d;r++){for(o=this.groupedRecordsByExpression(e,r,c,u,g,p,h?.groupingComparer),a=o.length,a>1&&(o=this.sortDataRecursive(o,t,i+1,n)),s=0;s<a;s++)e[r+s]=o[s];r+=a-1}return e}},xS=class extends yS{groupBy(e,t,i,n,r={data:[],metadata:[]}){let s=this.groupDataRecursive(e,t,0,null,[],i,n,r);return i?.groupingPerformedSubject.next(),{data:s.data,metadata:s.metadata}}},_S=(()=>{class e{static{this._instance=null}constructor(){}static instance(){return this._instance||(this._instance=new e)}sort(e){return e}}return e})(),wS=class extends yS{getFieldValue(e,t,i=!1,n=!1){return super.getFieldValue(e.data,t,i,n)}},CS=class{clone(e){return FC(e)}},SS={String:"string",Number:"number",Boolean:"boolean",Date:"date",DateTime:"dateTime",Time:"time",Currency:"currency",Percent:"percent",Image:"image"},bS=SS,DS=class e{static sort(e,t,i=new yS,n){return i.sort(e,t,n)}static treeGridSort(t,i,n=new wS,r,s){let o=[];return t.forEach((t=>{let a=e.cloneTreeGridRecord(t);a.parent=r,a.children&&(a.children=e.treeGridSort(a.children,i,n,a,s)),o.push(a)})),o=e.sort(o,i,n,s),o}static cloneTreeGridRecord(e){return{key:e.key,data:e.data,children:e.children,isFilteredOutParent:e.isFilteredOutParent,level:e.level,expanded:e.expanded}}static group(e,t,i=new xS,n=null,r=[],s={data:[],metadata:[]}){return r.splice(0,r.length),i.groupBy(e,t,n,r,s)}static page(e,t,i){if(!t)return e;let n=void 0!==i?i:e.length,r=t.index,s=[],o=void 0!==i&&t.recordsPerPage>i?i:t.recordsPerPage;return t.metadata={countPages:0,countRecords:n,error:aS.None},r<0||isNaN(r)?(t.metadata.error=aS.IncorrectPageIndex,s):o<=0||isNaN(o)?(t.metadata.error=aS.IncorrectRecordsPerPage,s):(t.metadata.countPages=Math.ceil(n/o),n?r>=t.metadata.countPages?(t.metadata.error=aS.IncorrectPageIndex,s):e.slice(r*o,(r+1)*o):e)}static correctPagingState(e,t){let i=Math.ceil(t/e.recordsPerPage)-1;!isNaN(i)&&e.index>i&&(e.index=i)}static getHierarchy(e){return gS(e)}static isHierarchyMatch(e,t,i){return uS(e,t,i)}static mergeTransactions(e,t,i,n=new CS,r=!1){return e.forEach(((r,s)=>{let o=i?r[i]:r,a=t.find((e=>e.id===o));a&&a.type===lS.UPDATE&&(e[s]=OC(n.clone(e[s]),a.newValue))})),r&&t.filter((e=>e.type===lS.DELETE)).forEach((t=>{let n=i?e.findIndex((e=>e[i]===t.id)):e.findIndex((e=>e===t.id));0<=n&&n<e.length&&e.splice(n,1)})),e.push(...t.filter((e=>e.type===lS.ADD)).map((e=>e.newValue))),e}static mergeHierarchicalTransactions(e,t,i,n,r=new CS,s=!1){for(let o of t)if(o.path){let t=this.findParentFromPath(e,n,i,o.path),a=t?t[i]:e;switch(o.type){case lS.ADD:t&&!t[i]&&(t[i]=a=[]),a.push(o.newValue);break;case lS.UPDATE:let e=a.findIndex((e=>e[n]===o.id));-1!==e&&(a[e]=OC(r.clone(a[e]),o.newValue));break;case lS.DELETE:if(s){let e=a.findIndex((e=>e[n]===o.id));-1!==e&&a.splice(e,1)}}}else e.push(o.newValue);return e}static parseValue(e,t){return(e===bS.Number||e===bS.Currency||e===bS.Percent)&&(t=parseFloat(t)),t}static findParentFromPath(e,t,i,n){let r,s=e;for(let e of n){if(r=s&&s.find((i=>i[t]===e)),!r)break;s=r[i]}return r}},ES=class e{static getKeysFromData(t){let i=t.length;if(0===i)return[];let n=t[0],r=t[Math.floor(i/2)],s=t[i-1],o=Object.keys(n),a=Object.keys(r),l=Object.keys(s),d=new Set(o.concat(a).concat(l));return e.isSpecialData(n)?["Column 1"]:Array.from(d)}static saveBlobToFile(e,t){let i=globalThis.document,n=i.createElement("a"),r=window.URL.createObjectURL(e);n.download=t,n.href=r,i.body.appendChild(n),n.click(),i.body.removeChild(n),window.URL.revokeObjectURL(r)}static stringToArrayBuffer(e){let t=new ArrayBuffer(e.length),i=new Uint8Array(t);for(let t=0;t!==e.length;++t)i[t]=255&e.charCodeAt(t);return t}static isSpecialData(e){return"string"==typeof e||"number"==typeof e||e instanceof Date}static hasValue(e){return null!=e}static isNullOrWhitespaces(e){return null==e||!e.trim()}static sanitizeValue(e){return this.hasValue(e)?String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/\x00/g,""):""}},TS=function(e){return e.Date="date",e.Month="month",e.Year="year",e.Hours="hours",e.Minutes="minutes",e.Seconds="seconds",e.FractionalSeconds="fractionalSeconds",e.AmPm="ampm",e.Literal="literal",e}(TS||{}),IS=["h","H","m","s","S","t","T","a"],RS=["d","D","M","y","Y"],AS=new Map([["short",["month","day","year","hour","minute"]],["shortDate",["month","day","year"]],["shortTime",["hour","minute"]],["mediumTime",["hour","minute","second"]]]),kS=new Set(["medium","long","full","mediumDate","longDate","fullDate","longTime","fullTime"]),OS=(()=>{class e{static{this.DEFAULT_INPUT_FORMAT="MM/dd/yyyy"}static{this.DEFAULT_TIME_INPUT_FORMAT="hh:mm tt"}static{this.SEPARATOR="literal"}static{this.DEFAULT_LOCALE="en"}static parseValueFromMask(t,i,n){let r={};if(i.forEach((i=>{let s=parseInt(e.getCleanVal(t,i,n),10);s||(s=i.type===TS.Date||i.type===TS.Month?1:0),r[i.type]=s})),r[TS.Month]-=1,r[TS.Month]<0||11<r[TS.Month]||(r[TS.Year]<50&&(r[TS.Year]+=2e3),r[TS.Date]>e.daysInMonth(r[TS.Year],r[TS.Month]))||r[TS.Hours]>23||r[TS.Minutes]>59||r[TS.Seconds]>59||r[TS.FractionalSeconds]>999)return null;let s=i.find((e=>e.type===TS.AmPm));if(s&&(r[TS.Hours]%=12),s){let i=e.getCleanVal(t,s,n);e.isPm(i)&&(r[TS.Hours]+=12)}return new Date(r[TS.Year]||2e3,r[TS.Month]||0,r[TS.Date]||1,r[TS.Hours]||0,r[TS.Minutes]||0,r[TS.Seconds]||0,r[TS.FractionalSeconds]||0)}static parseDateTimeFormat(t,i){let n=t||e.getDefaultInputFormat(i),r=[],s=Array.from(n),o=null,a=0,l=!1;for(let t=0;t<s.length;t++,a++){let i=e.determineDatePart(s[t]);if(o){if(o.type===i&&(o.format+=s[t],t<s.length-1))continue;o.type===TS.AmPm&&-1!==o.format.indexOf("a")&&(o=e.simplifyAmPmFormat(o)),e.addCurrentPart(o,r),l=!0,a=o.end,t===s.length-1&&o.type!==i&&(l=!1)}o={start:a,end:a+s[t].length,type:i,format:s[t]}}l||(o.type===TS.AmPm&&(o=e.simplifyAmPmFormat(o)),e.addCurrentPart(o,r));let d=r.filter((e=>e.type===TS.Year))[0];return d&&"yy"!==d.format&&(d.end+=4-d.format.length,d.format="yyyy"),r}static simplifyAmPmFormat(e){return e.format=5===e.format.length?"a":"aa",e.end=e.start+e.format.length,Qe({},e)}static getPartValue(t,i,n){let r;switch(i.type){case TS.Date:r=t.getDate();break;case TS.Month:r=t.getMonth()+1;break;case TS.Year:r=2===n?this.prependValue(parseInt(t.getFullYear().toString().slice(-2),10),n,"0"):t.getFullYear();break;case TS.Hours:r=-1!==i.format.indexOf("h")?this.prependValue(this.toTwelveHourFormat(t.getHours().toString()),n,"0"):t.getHours();break;case TS.Minutes:r=t.getMinutes();break;case TS.Seconds:r=t.getSeconds();break;case TS.FractionalSeconds:r=t.getMilliseconds();break;case TS.AmPm:r=e.getAmPmValue(n,t.getHours()<12)}return i.type!==TS.AmPm&&i.type!==TS.Literal?this.prependValue(r,n,"0"):r}static getAmPmValue(e,t){return t?1===e?"a":"AM":1===e?"p":"PM"}static isAm(e){return(e=e.toLowerCase())==="AM".toLowerCase()||e==="a".toLowerCase()}static isPm(e){return(e=e.toLowerCase())==="PM".toLowerCase()||e==="p".toLowerCase()}static getDefaultInputFormat(t,i=SS.Date){if(t=t||e.DEFAULT_LOCALE,!Intl||!Intl.DateTimeFormat||!Intl.DateTimeFormat.prototype.formatToParts)return e.DEFAULT_INPUT_FORMAT;let n=e.getDefaultLocaleMask(t,i);return n.forEach((t=>{t.type!==TS.Year&&t.type!==e.SEPARATOR&&t.type!==TS.AmPm&&(t.formatType="2-digit")})),e.getMask(n)}static formatDate(t,i,n,r){let s;try{s=mv(t,i,n,r)}catch{e.logMissingLocaleSettings(n),s=new Intl.DateTimeFormat(n).format(t)}return s}static getLocaleDateFormat(t,i){let n,r=Object.keys(Jf).find((e=>e.toLowerCase()===i?.toLowerCase().replace("date","")));if(!r)return i;try{n=iv(t,Jf[r])}catch{e.logMissingLocaleSettings(t),n=e.getDefaultInputFormat(t)}return n}static isDateOrTimeChar(e){return-1!==RS.indexOf(e)||-1!==IS.indexOf(e)}static spinDate(t,i,n){let r=e.daysInMonth(i.getFullYear(),i.getMonth()),s=i.getDate()+t;s>r?s=n?s%r:r:s<1&&(s=n?r+s%r:1),i.setDate(s)}static spinMonth(t,i,n){let r=e.daysInMonth(i.getFullYear(),i.getMonth()+t);i.getDate()>r&&i.setDate(r);let s=i.getMonth()+t;s>11?s=n?s%11-1:11:s<0&&(s=n?11+s%11+1:0),i.setMonth(s)}static spinYear(t,i){let n=e.daysInMonth(i.getFullYear()+t,i.getMonth());i.getDate()>n&&i.setDate(n),i.setFullYear(i.getFullYear()+t)}static spinHours(e,t,i){let n=t.getHours()+e;n>23?n=i?n%23-1:23:n<0&&(n=i?23+n%23+1:0),t.setHours(n)}static spinMinutes(e,t,i){let n=t.getMinutes()+e;n>59?n=i?n%59-1:59:n<0&&(n=i?59+n%59+1:0),t.setMinutes(n)}static spinSeconds(e,t,i){let n=t.getSeconds()+e;n>59?n=i?n%59-1:59:n<0&&(n=i?59+n%59+1:0),t.setSeconds(n)}static spinFractionalSeconds(e,t,i){let n=t.getMilliseconds()+e;n>999?n=i?n%999-1:999:n<0&&(n=i?999+n%999+1:0),t.setMilliseconds(n)}static spinAmPm(t,i,n){return e.isAm(n)?t=new Date(t.setHours(t.getHours()+12)):e.isPm(n)&&(t=new Date(t.setHours(t.getHours()-12))),t.getDate()!==i.getDate()?i:t}static greaterThanMaxValue(e,t,i=!0,n=!0){if(i&&n)return e.getTime()>t.getTime();let r=new Date(e.getTime()),s=new Date(t.getTime());return i||(r.setHours(0,0,0,0),s.setHours(0,0,0,0)),n||(r.setFullYear(0,0,0),s.setFullYear(0,0,0)),r.getTime()>s.getTime()}static lessThanMinValue(e,t,i=!0,n=!0){if(i&&n)return e.getTime()<t.getTime();let r=new Date(e.getTime()),s=new Date(t.getTime());return i||(r.setHours(0,0,0,0),s.setHours(0,0,0,0)),n||(r.setFullYear(0,0,0),s.setFullYear(0,0,0)),r.getTime()<s.getTime()}static validateMinMax(t,i,n,r=!0,s=!0){if(!t)return null;let o={},a=e.isValidDate(i)?i:e.parseIsoDate(i),l=e.isValidDate(n)?n:e.parseIsoDate(n);return a&&t&&e.lessThanMinValue(t,a,r,s)&&Object.assign(o,{minValue:!0}),l&&t&&e.greaterThanMaxValue(t,l,r,s)&&Object.assign(o,{maxValue:!0}),o}static parseIsoDate(e){let t=/^\d{4}/g;if(t.test(e))return new Date(e+""+(-1===e.indexOf("T")?"T00:00:00":""));if(t=/^\d{2}/g,t.test(e)){let t=(new Date).toISOString(),[i,n]=t.split("T");return new Date(`${i}T${e}`)}return null}static isValidDate(e){return!!MC(e)&&!isNaN(e.getTime())}static isFormatNumeric(t,i){let n=e.parseDateTimeFormat(i);if(kS.has(i)||n.every((e=>e.type===TS.Literal)))return!1;for(let e=0;e<n.length;e++){if(n[e].type===TS.AmPm||n[e].type===TS.Literal)continue;let i=mv(new Date,n[e].format,t);if(new RegExp("\\p{L}+","gu").test(i))return!1}return!0}static getNumericInputFormat(t,i){let n="";return i&&(AS.has(i)?n=e.getLocaleInputFormatFromParts(t,AS.get(i)):e.isFormatNumeric(t,i)&&(n=i)),n}static getLocaleInputFormatFromParts(t,i){let n={};i.forEach((e=>{"year"===e?n[e]="numeric":"dayPeriod"!==e&&(n[e]="2-digit")}));let r=new Intl.DateTimeFormat(t,n),s=e.getDateStructFromParts(r.formatToParts(new Date),r);return e.fillDatePartsPositions(s),e.getMask(s)}static addCurrentPart(t,i){e.ensureLeadingZero(t),t.end=t.start+t.format.length,i.push(t)}static daysInMonth(e,t){return new Date(e,t+1,0).getDate()}static trimEmptyPlaceholders(e,t){return e.replace(new RegExp(t||"_","g"),"")}static getMask(t){let i=[];for(let n of t){if("numeric"===n.formatType)switch(n.type){case"day":i.push("d");break;case"month":i.push("M");break;case"year":i.push("yyyy");break;case"hour":i.push(n.hour12?"h":"H");break;case"minute":i.push("m");break;case"second":i.push("s")}else if("2-digit"===n.formatType)switch(n.type){case"day":i.push("dd");break;case"month":i.push("MM");break;case"year":i.push("yy");break;case"hour":i.push(n.hour12?"hh":"HH");break;case"minute":i.push("mm");break;case"second":i.push("ss")}"dayPeriod"===n.type&&i.push("tt"),n.type===e.SEPARATOR&&i.push(n.value)}return i.join("")}static logMissingLocaleSettings(e){console.warn(`Missing locale data for the locale ${e}. Please refer to https://angular.io/guide/i18n#i18n-pipes`),console.warn("Using default browser locale settings.")}static prependValue(e,t,i){return(i+e.toString()).slice(-t)}static toTwelveHourFormat(e,t="_"){let i=parseInt(e.replace(new RegExp(t,"g"),"0"),10);return i>12?i-=12:0===i&&(i=12),i}static ensureLeadingZero(e){switch(e.type){case TS.Date:case TS.Month:case TS.Hours:case TS.Minutes:case TS.Seconds:1===e.format.length&&(e.format=e.format.repeat(2));break;case TS.FractionalSeconds:e.format=e.format[0].repeat(3)}}static getCleanVal(t,i,n){return e.trimEmptyPlaceholders(t.substring(i.start,i.end),n)}static determineDatePart(e){switch(e){case"d":case"D":return TS.Date;case"M":return TS.Month;case"y":case"Y":return TS.Year;case"h":case"H":return TS.Hours;case"m":return TS.Minutes;case"s":return TS.Seconds;case"S":return TS.FractionalSeconds;case"a":case"t":case"T":return TS.AmPm;default:return TS.Literal}}static getFormatOptions(e){let t={day:"2-digit",month:"2-digit",year:"numeric"},i={hour:"2-digit",minute:"2-digit"};switch(e){case SS.Date:return t;case SS.Time:return i;case SS.DateTime:return Je(Qe(Qe({},t),i),{second:"2-digit"});default:return{}}}static getDefaultLocaleMask(t,i=SS.Date){let n=e.getFormatOptions(i),r=new Intl.DateTimeFormat(t,n),s=r.formatToParts(new Date),o=e.getDateStructFromParts(s,r);return e.fillDatePartsPositions(o),o}static getDateStructFromParts(t,i){let n=[];for(let i of t)i.type===e.SEPARATOR?n.push({type:e.SEPARATOR,value:i.value}):n.push({type:i.type});let r=i.resolvedOptions();for(let e of n)switch(e.type){case"day":e.formatType=r.day;break;case"month":e.formatType=r.month;break;case"year":e.formatType=r.year;break;case"hour":e.formatType=r.hour,r.hour12&&(e.hour12=!0);break;case"minute":e.formatType=r.minute;break;case"second":e.formatType=r.second;break;case"dayPeriod":e.formatType=r.dayPeriod}return n}static fillDatePartsPositions(t){let i=0;for(let n of t)if("day"===n.type||"month"===n.type||"hour"===n.type||"minute"===n.type||"second"===n.type||"dayPeriod"===n.type)n.position=[i,i+2],i+=2;else if("year"===n.type)switch(n.formatType){case"numeric":n.position=[i,i+4],i+=4;break;case"2-digit":n.position=[i,i+2],i+=2}else n.type===e.SEPARATOR&&(n.position=[i,i+1],i++)}}return e})(),FS=(()=>{class e{static{this._instance=null}constructor(){this.operations=[{name:"null",isUnary:!0,iconName:"filter_null",logic:e=>null===e},{name:"notNull",isUnary:!0,iconName:"filter_not_null",logic:e=>null!==e},{name:"in",isUnary:!1,iconName:"filter_in",hidden:!0,logic:(e,t)=>this.findValueInSet(e,t)},{name:"inQuery",isUnary:!1,isNestedQuery:!0,iconName:"in",logic:(e,t)=>this.findValueInSet(e,t)},{name:"notInQuery",isUnary:!1,isNestedQuery:!0,iconName:"not-in",logic:(e,t)=>!this.findValueInSet(e,t)}]}static instance(){return this._instance||(this._instance=new this)}conditionList(){return this.operations.filter((e=>!e.hidden&&!e.isNestedQuery)).map((e=>e.name))}extendedConditionList(){return this.operations.filter((e=>!e.hidden)).map((e=>e.name))}condition(e){return this.operations.find((t=>t.name===e))}append(e){this.operations.push(e)}findValueInSet(e,t){return t.has(e)}}return e})(),PS=class extends FS{constructor(){super(),this.operations=[{name:"all",isUnary:!0,iconName:"filter_all",logic:e=>!0},{name:"true",isUnary:!0,iconName:"filter_true",logic:e=>!(!e||null==e)},{name:"false",isUnary:!0,iconName:"filter_false",logic:e=>!e&&null!=e},{name:"empty",isUnary:!0,iconName:"filter_empty",logic:e=>null==e},{name:"notEmpty",isUnary:!0,iconName:"filter_not_empty",logic:e=>null!=e}].concat(this.operations)}},VS=class extends FS{constructor(){super(),this.operations=[{name:"empty",isUnary:!0,iconName:"filter_empty",logic:e=>null==e},{name:"notEmpty",isUnary:!0,iconName:"filter_not_empty",logic:e=>null!=e}].concat(this.operations)}static getDateParts(e,t){let i={day:null,hours:null,milliseconds:null,minutes:null,month:null,seconds:null,year:null};return!e||!t||(t.indexOf("y")>=0&&(i.year=e.getFullYear()),t.indexOf("M")>=0&&(i.month=e.getMonth()),t.indexOf("d")>=0&&(i.day=e.getDate()),t.indexOf("h")>=0&&(i.hours=e.getHours()),t.indexOf("m")>=0&&(i.minutes=e.getMinutes()),t.indexOf("s")>=0&&(i.seconds=e.getSeconds()),t.indexOf("f")>=0&&(i.milliseconds=e.getMilliseconds())),i}findValueInSet(e,t){return!!e&&t.has(e instanceof Date?e.toISOString():e)}validateInputData(e){if(!(e instanceof Date))throw new Error("Could not perform filtering on 'date' column because the datasource object type is not 'Date'.")}},MS=class e extends VS{constructor(){super();let t=[{name:"equals",isUnary:!1,iconName:"filter_equal",logic:(t,i)=>{if(!t)return!1;this.validateInputData(t);let n=e.getDateParts(t,"yMd"),r=e.getDateParts(i,"yMd");return n.year===r.year&&n.month===r.month&&n.day===r.day}},{name:"doesNotEqual",isUnary:!1,iconName:"filter_not_equal",logic:(t,i)=>{if(!t)return!0;this.validateInputData(t);let n=e.getDateParts(t,"yMd"),r=e.getDateParts(i,"yMd");return n.year!==r.year||n.month!==r.month||n.day!==r.day}},{name:"before",isUnary:!1,iconName:"filter_before",logic:(e,t)=>!!e&&(this.validateInputData(e),e<t)},{name:"after",isUnary:!1,iconName:"filter_after",logic:(e,t)=>!!e&&(this.validateInputData(e),e>t)},{name:"today",isUnary:!0,iconName:"filter_today",logic:t=>{if(!t)return!1;this.validateInputData(t);let i=e.getDateParts(t,"yMd"),n=e.getDateParts(new Date,"yMd");return i.year===n.year&&i.month===n.month&&i.day===n.day}},{name:"yesterday",isUnary:!0,iconName:"filter_yesterday",logic:t=>{if(!t)return!1;this.validateInputData(t);let i=e.getDateParts(t,"yMd"),n=(s=new Date,new Date(s.setDate(s.getDate()-1))),r=e.getDateParts(n,"yMd");var s;return i.year===r.year&&i.month===r.month&&i.day===r.day}},{name:"thisMonth",isUnary:!0,iconName:"filter_this_month",logic:t=>{if(!t)return!1;this.validateInputData(t);let i=e.getDateParts(t,"yM"),n=e.getDateParts(new Date,"yM");return i.year===n.year&&i.month===n.month}},{name:"lastMonth",isUnary:!0,iconName:"filter_last_month",logic:t=>{if(!t)return!1;this.validateInputData(t);let i=e.getDateParts(t,"yM"),n=e.getDateParts(new Date,"yM");return n.month?n.month--:(n.month=11,n.year-=1),i.year===n.year&&i.month===n.month}},{name:"nextMonth",isUnary:!0,iconName:"filter_next_month",logic:t=>{if(!t)return!1;this.validateInputData(t);let i=e.getDateParts(t,"yM"),n=e.getDateParts(new Date,"yM");return 11===n.month?(n.month=0,n.year+=1):n.month++,i.year===n.year&&i.month===n.month}},{name:"thisYear",isUnary:!0,iconName:"filter_this_year",logic:t=>{if(!t)return!1;this.validateInputData(t);let i=e.getDateParts(t,"y"),n=e.getDateParts(new Date,"y");return i.year===n.year}},{name:"lastYear",isUnary:!0,iconName:"filter_last_year",logic:t=>{if(!t)return!1;this.validateInputData(t);let i=e.getDateParts(t,"y"),n=e.getDateParts(new Date,"y");return i.year===n.year-1}},{name:"nextYear",isUnary:!0,iconName:"filter_next_year",logic:t=>{if(!t)return!1;this.validateInputData(t);let i=e.getDateParts(t,"y"),n=e.getDateParts(new Date,"y");return i.year===n.year+1}}];this.operations=t.concat(this.operations)}findValueInSet(e,t){return!!e&&(e=e.toDateString(),t.has(e))}},LS=class e extends VS{constructor(){super();let t=[{name:"equals",isUnary:!1,iconName:"filter_equal",logic:(t,i)=>{if(!t)return!1;this.validateInputData(t);let n=e.getDateParts(t,"yMdhms"),r=e.getDateParts(i,"yMdhms");return n.year===r.year&&n.month===r.month&&n.day===r.day&&n.hours===r.hours&&n.minutes===r.minutes&&n.seconds===r.seconds}},{name:"doesNotEqual",isUnary:!1,iconName:"filter_not_equal",logic:(t,i)=>{if(!t)return!0;this.validateInputData(t);let n=e.getDateParts(t,"yMdhms"),r=e.getDateParts(i,"yMdhms");return n.year!==r.year||n.month!==r.month||n.day!==r.day||n.hours!==r.hours||n.minutes!==r.minutes||n.seconds!==r.seconds}},{name:"before",isUnary:!1,iconName:"filter_before",logic:(e,t)=>!!e&&(this.validateInputData(e),e<t)},{name:"after",isUnary:!1,iconName:"filter_after",logic:(e,t)=>!!e&&(this.validateInputData(e),e>t)},{name:"today",isUnary:!0,iconName:"filter_today",logic:t=>{if(!t)return!1;this.validateInputData(t);let i=e.getDateParts(t,"yMd"),n=e.getDateParts(new Date,"yMd");return i.year===n.year&&i.month===n.month&&i.day===n.day}},{name:"yesterday",isUnary:!0,iconName:"filter_yesterday",logic:t=>{if(!t)return!1;this.validateInputData(t);let i=e.getDateParts(t,"yMd"),n=(s=new Date,new Date(s.setDate(s.getDate()-1))),r=e.getDateParts(n,"yMd");var s;return i.year===r.year&&i.month===r.month&&i.day===r.day}},{name:"thisMonth",isUnary:!0,iconName:"filter_this_month",logic:t=>{if(!t)return!1;this.validateInputData(t);let i=e.getDateParts(t,"yM"),n=e.getDateParts(new Date,"yM");return i.year===n.year&&i.month===n.month}},{name:"lastMonth",isUnary:!0,iconName:"filter_last_month",logic:t=>{if(!t)return!1;this.validateInputData(t);let i=e.getDateParts(t,"yM"),n=e.getDateParts(new Date,"yM");return n.month?n.month--:(n.month=11,n.year-=1),i.year===n.year&&i.month===n.month}},{name:"nextMonth",isUnary:!0,iconName:"filter_next_month",logic:t=>{if(!t)return!1;this.validateInputData(t);let i=e.getDateParts(t,"yM"),n=e.getDateParts(new Date,"yM");return 11===n.month?(n.month=0,n.year+=1):n.month++,i.year===n.year&&i.month===n.month}},{name:"thisYear",isUnary:!0,iconName:"filter_this_year",logic:t=>{if(!t)return!1;this.validateInputData(t);let i=e.getDateParts(t,"y"),n=e.getDateParts(new Date,"y");return i.year===n.year}},{name:"lastYear",isUnary:!0,iconName:"filter_last_year",logic:t=>{if(!t)return!1;this.validateInputData(t);let i=e.getDateParts(t,"y"),n=e.getDateParts(new Date,"y");return i.year===n.year-1}},{name:"nextYear",isUnary:!0,iconName:"filter_next_year",logic:t=>{if(!t)return!1;this.validateInputData(t);let i=e.getDateParts(t,"y"),n=e.getDateParts(new Date,"y");return i.year===n.year+1}}];this.operations=t.concat(this.operations)}},NS=class e extends VS{constructor(){super();let t=[{name:"at",isUnary:!1,iconName:"filter_equal",logic:(t,i)=>{if(!t)return!1;this.validateInputData(t);let n=e.getDateParts(t,"hms"),r=e.getDateParts(i,"hms");return n.hours===r.hours&&n.minutes===r.minutes&&n.seconds===r.seconds}},{name:"not_at",isUnary:!1,iconName:"filter_not_equal",logic:(t,i)=>{if(!t)return!0;this.validateInputData(t);let n=e.getDateParts(t,"hms"),r=e.getDateParts(i,"hms");return n.hours!==r.hours||n.minutes!==r.minutes||n.seconds!==r.seconds}},{name:"before",isUnary:!1,iconName:"filter_before",logic:(t,i)=>{if(!t)return!1;this.validateInputData(t);let n=e.getDateParts(t,"hms"),r=e.getDateParts(i,"hms");return n.hours<r.hours||n.hours===r.hours&&n.minutes<r.minutes||n.hours===r.hours&&n.minutes===r.minutes&&n.seconds<r.seconds}},{name:"after",isUnary:!1,iconName:"filter_after",logic:(t,i)=>{if(!t)return!1;this.validateInputData(t);let n=e.getDateParts(t,"hms"),r=e.getDateParts(i,"hms");return n.hours>r.hours||n.hours===r.hours&&n.minutes>r.minutes||n.hours===r.hours&&n.minutes===r.minutes&&n.seconds>r.seconds}},{name:"at_before",isUnary:!1,iconName:"filter_before",logic:(t,i)=>{if(!t)return!1;this.validateInputData(t);let n=e.getDateParts(t,"hms"),r=e.getDateParts(i,"hms");return n.hours===r.hours&&n.minutes===r.minutes&&n.seconds===r.seconds||n.hours<r.hours||n.hours===r.hours&&n.minutes<r.minutes||n.hours===r.hours&&n.minutes===r.minutes&&n.seconds<r.seconds}},{name:"at_after",isUnary:!1,iconName:"filter_after",logic:(t,i)=>{if(!t)return!1;this.validateInputData(t);let n=e.getDateParts(t,"hms"),r=e.getDateParts(i,"hms");return n.hours===r.hours&&n.minutes===r.minutes&&n.seconds===r.seconds||n.hours>r.hours||n.hours===r.hours&&n.minutes>r.minutes||n.hours===r.hours&&n.minutes===r.minutes&&n.seconds>r.seconds}}];this.operations=t.concat(this.operations)}findValueInSet(e,t){return!!e&&t.has(e.toLocaleTimeString())}},HS=class extends FS{constructor(){super();let e=[{name:"equals",isUnary:!1,iconName:"filter_equal",logic:(e,t)=>e===t},{name:"doesNotEqual",isUnary:!1,iconName:"filter_not_equal",logic:(e,t)=>e!==t},{name:"greaterThan",isUnary:!1,iconName:"filter_greater_than",logic:(e,t)=>e>t},{name:"lessThan",isUnary:!1,iconName:"filter_less_than",logic:(e,t)=>e<t},{name:"greaterThanOrEqualTo",isUnary:!1,iconName:"filter_greater_than_or_equal",logic:(e,t)=>e>=t},{name:"lessThanOrEqualTo",isUnary:!1,iconName:"filter_less_than_or_equal",logic:(e,t)=>e<=t},{name:"empty",isUnary:!0,iconName:"filter_empty",logic:e=>null==e||isNaN(e)},{name:"notEmpty",isUnary:!0,iconName:"filter_not_empty",logic:e=>null!=e&&!isNaN(e)}];this.operations=e.concat(this.operations)}},zS=class e extends FS{constructor(){super();let t=[{name:"contains",isUnary:!1,iconName:"filter_contains",logic:(t,i,n)=>{let r=e.applyIgnoreCase(i,n);return-1!==(t=e.applyIgnoreCase(t,n)).indexOf(r)}},{name:"doesNotContain",isUnary:!1,iconName:"filter_does_not_contain",logic:(t,i,n)=>{let r=e.applyIgnoreCase(i,n);return-1===(t=e.applyIgnoreCase(t,n)).indexOf(r)}},{name:"startsWith",isUnary:!1,iconName:"filter_starts_with",logic:(t,i,n)=>{let r=e.applyIgnoreCase(i,n);return(t=e.applyIgnoreCase(t,n)).startsWith(r)}},{name:"endsWith",isUnary:!1,iconName:"filter_ends_with",logic:(t,i,n)=>{let r=e.applyIgnoreCase(i,n);return(t=e.applyIgnoreCase(t,n)).endsWith(r)}},{name:"equals",isUnary:!1,iconName:"filter_equal",logic:(t,i,n)=>{let r=e.applyIgnoreCase(i,n);return(t=e.applyIgnoreCase(t,n))===r}},{name:"doesNotEqual",isUnary:!1,iconName:"filter_not_equal",logic:(t,i,n)=>{let r=e.applyIgnoreCase(i,n);return(t=e.applyIgnoreCase(t,n))!==r}},{name:"empty",isUnary:!0,iconName:"filter_empty",logic:e=>null==e||0===e.length},{name:"notEmpty",isUnary:!0,iconName:"filter_not_empty",logic:e=>null!=e&&e.length>0}];this.operations=t.concat(this.operations)}static applyIgnoreCase(e,t){return e=e??"",t?(""+e).toLowerCase():e}},BS=class{static find(e,t){let i=this.findIndex(e,t);return i>-1?e.filteringOperands[i]:null}static findIndex(e,t){for(let i=0;i<e.filteringOperands.length;i++){let n=e.filteringOperands[i];if(void 0!==n.operator){if(this.isFilteringExpressionsTreeForColumn(n,t))return i}else if(n.fieldName===t)return i}return-1}static isFilteringExpressionsTreeForColumn(e,t){if(e.fieldName===t)return!0;for(let i of e.filteringOperands){if(void 0!==i.operator)return this.isFilteringExpressionsTreeForColumn(i,t);if(i.fieldName===t)return!0}return!1}};function GS(e,t){let i=t?.find((t=>t.field===e.fieldName));if(i&&!e.condition?.logic&&(i.filters?e.condition=i.filters.condition(e.conditionName||e.condition?.name):e.condition=function(e,t){return e.condition?.logic?e.condition:function(e,t){let i;switch(e){case bS.Boolean:i=PS.instance();break;case bS.Number:case bS.Currency:case bS.Percent:i=HS.instance();break;case bS.Date:i=MS.instance();break;case bS.Time:i=NS.instance();break;case bS.DateTime:i=LS.instance();break;case bS.String:default:i=zS.instance()}return i.condition(t)}(t,e.conditionName||e.condition?.name)}(e,i.dataType)),!e.condition&&e.conditionName)throw Error("Wrong `conditionName`, `condition` or `field` provided! It is possible that there is a type mismatch between the condition type and field type.");return e.conditionName||(e.conditionName=e.condition?.name),e.searchVal=function(e,t){return t||Array.isArray(e)?Array.isArray(e)?new Set(e):!t.toLowerCase().includes("date")&&!t.toLowerCase().includes("time")||e instanceof Date?e:OS.parseIsoDate(e)??e:e}(e.searchVal,i?.dataType),e}function $S(e){return"operator"in e}function WS(e,t,i=!1){let n=i?t[0]:t.find((t=>t.name===e.entity));if(!n)return e;for(let i=0;i<e.filteringOperands.length;i++){let r=e.filteringOperands[i];$S(r)?e.filteringOperands[i]=WS(r,t):(r.searchTree&&(r.searchTree=WS(r.searchTree,t[0].childEntities??t)),e.filteringOperands[i]=GS(r,n?.fields))}return e}function KS(e,t){for(let i=0;i<e.filteringOperands.length;i++){let n=e.filteringOperands[i];$S(n)?e.filteringOperands[i]=KS(n,t):(n.searchTree&&(n.searchTree=KS(n.searchTree,t)),e.filteringOperands[i]=GS(n,t))}return e}var jS=function(e){return e[e.Regular=0]="Regular",e[e.Advanced=1]="Advanced",e}(jS||{}),US=class{constructor(e,t,i,n){this.filteringOperands=[],this.operator=e,this.entity=i,this.returnFields=n,this.fieldName=t}static empty(e){return!e||!e.filteringOperands||!e.filteringOperands.length}find(e){return BS.find(this,e)}findIndex(e){return BS.findIndex(this,e)}},qS=function(e){return e[e.And=0]="And",e[e.Or=1]="Or",e}(qS||{}),YS=class{static filter(e,t,i){return t.strategy||(t.strategy=new QS),t.strategy.filter(e,t.expressionsTree,t.advancedExpressionsTree,i)}},ZS=class{findMatchByExpression(e,t,i,n,r){if(t.searchTree){let i=e[t.searchTree.entity],n="inQuery"===t.conditionName;if(!i)return!0;for(let e=0;e<i.length;e++){let s=i[e];if(n&&this.matchRecord(s,t.searchTree,r,t.searchTree.entity)||!n&&!this.matchRecord(s,t.searchTree,r,t.searchTree.entity))return!0}return!1}let s=this.getFieldValue(e,t.fieldName,i,n,r);if(t.condition?.logic)return t.condition.logic(s,t.searchVal,t.ignoreCase)}matchRecord(e,t,i,n){if(t){if($S(t)){let r,s=t,o=s.operator;if(s.filteringOperands?.length){for(let t of s.filteringOperands){if(r=this.matchRecord(e,t,i,n),!r&&o===qS.And)return!1;if(r&&o===qS.Or)return!0}return r}return!0}{let r=t,s=null;if(n){if("hierarchical"===i.type){let e=i.schema;s=this.findEntityByName(e,n)?.fields.find((e=>e.field===r.fieldName))?.dataType}}else s=(i&&i.getColumnByName(r.fieldName))?.dataType;let o=!!s&&("date"===s||"dateTime"===s),a=!!s&&"time"===s;return this.findMatchByExpression(e,r,o,a,i)}}return!0}findEntityByName(e,t){for(let i of e){if(i.name===t)return i;if(i.childEntities&&i.childEntities.length>0){let e=this.findEntityByName(i.childEntities,t);if(e)return e}}return null}getFilterItems(e,t){let i=e.formatter&&this.shouldFormatFilterValues(e),n=e.grid.gridAPI.filterDataByExpressions(t);n=e.grid.gridAPI.sortDataByExpressions(n,[{fieldName:e.field,dir:cS.Asc,ignoreCase:e.sortingIgnoreCase}]);let r=XC(e.field),s=n.map((t=>{let n=i?e.formatter(QC(t,r),t):QC(t,r);return{value:n,label:this.getFilterItemLabel(e,n,!i,t)}}));return s=this.getUniqueFilterItems(e,s),Promise.resolve(s)}getFilterItemLabel(e,t,i,n){if(e.formatter)return i?e.formatter(t,n):t;let{display:r,format:s,digitsInfo:o,currencyCode:a,timezone:l}=e.pipeArgs,d=e.grid.locale;switch(e.dataType){case bS.Date:case bS.DateTime:case bS.Time:return eS(t,s,d,l);case bS.Currency:return tS(t,a||av(d),r,o,d);case bS.Number:return Bv(t,d,o);case bS.Percent:return zv(t,d,o);default:return t}}getUniqueFilterItems(e,t){let i=t.reduce(((t,i)=>{let n=i.value;if(e.dataType===bS.String&&e.filteringIgnoreCase)n=n?.toString().toLowerCase();else if(e.dataType===bS.DateTime)n=i.value?.toString(),i.value=n&&new Date(n);else if(e.dataType===bS.Time){let e=n&&new Date(n);n=e?(new Date).setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()):n,i.value=n&&new Date(n)}else if(e.dataType===bS.Date){let e=n&&new Date(n);n=e?new Date(e.getFullYear(),e.getMonth(),e.getDate()).toISOString():n,i.value=e}return t.has(n)?t:t.set(n,i)}),new Map);return Array.from(i.values())}shouldFormatFilterValues(e){return!1}},XS=(()=>{class e extends ZS{getFieldValue(e,t){return e}static{this._instance=null}static instance(){return this._instance||(this._instance=new e)}filter(e,t,i){return e}}return e})(),QS=(()=>{class e extends ZS{static{this._instance=null}static instance(){return this._instance||(this._instance=new this)}filter(e,t,i,n){return US.empty(t)&&US.empty(i)?e:e.filter((e=>this.matchRecord(e,t,n)&&this.matchRecord(e,i,n)))}getFieldValue(e,t,i=!1,n=!1,r){let s=r?.getColumnByName(t),o=QC(e,XC(t));return o=s?.formatter&&this.shouldFormatFilterValues(s)?s.formatter(o,e):o&&(i||n)?PC(o):o,o}}return e})(),JS=class extends ZS{constructor(e){super(),this.hierarchicalFilterFields=e}filter(e,t,i,n){return this.filterImpl(e,t,i,void 0,n)}getFieldValue(e,t,i=!1,n=!1,r){let s=r?.getColumnByName(t),o=e,a=this.isHierarchicalFilterField(t)?this.getHierarchicalFieldValue(o,t):QC(o.data,XC(t));return a=s?.formatter&&this.shouldFormatFilterValues(s)?s.formatter(a,e.data):a&&(i||n)?PC(a):a,a}getHierarchicalFieldValue(e,t){let i=QC(e.data,XC(t));return e.parent?`${this.getHierarchicalFieldValue(e.parent,t)}${i?`.[${i}]`:""}`:`[${i}]`}filterImpl(e,t,i,n,r){let s,o,a=e.length,l=[];if(US.empty(t)&&US.empty(i)||!a)return e;for(s=0;s<a;s++){if(o=DS.cloneTreeGridRecord(e[s]),o.parent=n,o.children){let e=this.filterImpl(o.children,t,i,o,r);o.children=e.length>0?e:null}this.matchRecord(o,t,r)&&this.matchRecord(o,i,r)?l.push(o):o.children&&o.children.length>0&&(o.isFilteredOutParent=!0,l.push(o))}return l}isHierarchicalFilterField(e){return this.hierarchicalFilterFields&&-1!==this.hierarchicalFilterFields.indexOf(e)}getFilterItems(e,t){if(!this.isHierarchicalFilterField(e.field))return super.getFilterItems(e,t);let i=e.grid.gridAPI.filterTreeDataByExpressions(t);i=DS.treeGridSort(i,[{fieldName:e.field,dir:cS.Asc,ignoreCase:e.sortingIgnoreCase}],e.grid.sortStrategy,null,e.grid);let n=this.getHierarchicalFilterItems(i,e);return Promise.resolve(n)}getHierarchicalFilterItems(e,t,i){let n=XC(t.field);return e?.map((e=>{let r=QC(e.data,n),s=t.formatter&&this.shouldFormatFilterValues(t);r=s?t.formatter(r,e.data):r;let o={value:i?r||0===r?`${i.value}.[${r}]`:r:`[${r}]`};return o.label=this.getFilterItemLabel(t,r,!s,e.data),o.children=this.getHierarchicalFilterItems(e.children,t,o),o}))}},eb="quickFilter",tb="excelStyleFilter",ib="top",nb="bottom",rb="rootLevelOnly",sb="childLevelsOnly",ob="rootAndChildLevels",ab="none",lb="single",db="multiple",cb="multipleCascade",hb="Alphabetical",ub="DisplayOrder",gb=function(e){return e[e.Start=0]="Start",e[e.End=1]="End",e}(gb||{}),pb=function(e){return e[e.Top=0]="Top",e[e.Bottom=1]="Bottom",e}(pb||{}),mb={Local:"local",Remote:"remote"},fb="1",vb="2",yb="3",xb=function(e){return e.GroupedRecord="GroupedRecord",e.TreeGridRecord="TreeGridRecord",e.DataRecord="DataRecord",e.HierarchicalGridRecord="HierarchicalGridRecord",e.HeaderRecord="HeaderRecord",e.SummaryRecord="SummaryRecord",e.PivotGridRecord="PivotGridRecord",e}(xb||{}),_b=function(e){return e.RowHeader="RowHeader",e.ColumnHeader="ColumnHeader",e.MultiRowHeader="MultiRowHeader",e.MultiColumnHeader="MultiColumnHeader",e.PivotRowHeader="PivotRowHeader",e.PivotMergedHeader="PivotMergedHeader",e}(_b||{}),wb=class{get columnIndex(){return this._columnIndex}set columnIndex(e){this._columnIndex=e,this.userSetIndex=!0}constructor(e){this.userSetIndex=!1,this.header=e.header,this.field=e.field,this.cancel=e.cancel,this.skipFormatter=e.skipFormatter,this.grid=e.grid,this.owner=e.owner,this._columnIndex=e.columnIndex}},Cb="default",Sb="igxGridRootSummary",bb="grid-parent",Db="GRID_LEVEL_COL",Eb=8.43,Tb="grid-child-",Ib=class{constructor(){this.exportEnded=new wl,this.rowExporting=new wl,this.columnExporting=new wl,this._sort=null,this._ownersMap=new Map,this._setChildSummaries=!1,this.summaries=new Map,this.rowIslandCounter=-1,this.flatRecords=[],this.pivotGridColumns=[],this.pivotGridKeyValueMap=new Map}export(e,t){if(null==t)throw Error("No options provided!");this.options=t,this.locale=e.locale,this.ownerGrid=e;let i=e.columns;this.options.ignoreMultiColumnHeaders&&(i=i.filter((e=>void 0===e.children)));let n=this.getColumns(i);if("hierarchical"===e.type){this._ownersMap.set(e,n);let t=e.childLayoutList;for(let i of t)this.mapHierarchicalGridColumns(i,e.data[0])}else"pivot"===e.type?(this.pivotGridColumns=[],this.isPivotGridExport=!0,this.pivotGridKeyValueMap=new Map,this.pivotGridRowDimensionsMap=new Map,e.visibleRowDimensions.filter((e=>e.enabled)).forEach((e=>{this.addToRowDimensionsMap(e,e.memberName)})),this._ownersMap.set(Cb,n)):this._ownersMap.set(Cb,n);this.summaries=this.prepareSummaries(e),this._setChildSummaries=this.summaries.size>1&&e.summaryCalculationMode!==rb,this.addLevelColumns(),this.prepareData(e),this.addLevelData(),this.addPivotGridColumns(e),this.addPivotRowHeaders(e),this.exportGridRecordsData(this.flatRecords,e)}exportData(e,t){if(null==t)throw Error("No options provided!");this.options=t;let i=e.map((e=>({data:e,type:xb.DataRecord,level:0})));this.exportGridRecordsData(i)}addToRowDimensionsMap(e,t){this.pivotGridRowDimensionsMap[e.memberName]=t,e.childLevel&&this.addToRowDimensionsMap(e.childLevel,t)}exportGridRecordsData(e,t){if(0===this._ownersMap.size){let t=e.filter((e=>e.type!==xb.SummaryRecord)).map((e=>e.data)),i=ES.getKeysFromData(t),n={columns:i.map((e=>({header:e,field:e,skip:!1,headerType:_b.ColumnHeader,level:0,columnSpan:1}))),columnWidths:new Array(i.length).fill(Eb),indexOfLastPinnedColumn:-1,maxLevel:0};this._ownersMap.set(Cb,n)}let i=!1;for(let[e,n]of this._ownersMap){let r=0,s=1,o=n.indexOfLastPinnedColumn;n.columns.forEach(((a,l)=>{if(!a.skip){let d={header:ES.isNullOrWhitespaces(a.header)?"Column"+s++:a.header,field:a.field,columnIndex:l,cancel:!1,skipFormatter:!1,grid:e===Cb?t:e},c=new wb(d);if(this.columnExporting.emit(c),a.header=c.header,a.skip=c.cancel,a.skipFormatter=c.skipFormatter,c.userSetIndex&&(a.exportIndex=c.columnIndex,i=!0),a.skip){l<=o&&r++,this.calculateColumnSpans(a,n,a.columnSpan);let t=n.columns.filter((e=>!e.skip));t.length>0&&(this._ownersMap.get(e).maxLevel=t.sort(((e,t)=>t.level-e.level))[0].level)}this._sort&&this._sort.fieldName===a.field&&(a.skip?this._sort=null:this._sort.fieldName=a.header)}})),o-=r,i&&(n.columns=this.reorderColumns(n.columns))}let n=new Array,r=e[0]?.data,s=ES.isSpecialData(r);JC(e.length,100,(t=>{let i=e[t];this.exportRow(n,i,t,s)}),(()=>{this.exportDataImplementation(n,this.options,(()=>{this.resetDefaults()}))}))}calculateColumnSpans(e,t,i){e.headerType===_b.MultiColumnHeader&&e.skip&&t.columns.filter((t=>t.columnGroupParent===e.columnGroup)).forEach((e=>{e.headerType===_b.MultiColumnHeader?(e.columnSpan=0,e.columnGroupParent=null,e.skip=!0,this.calculateColumnSpans(e,t,e.columnSpan)):e.skip=!0}));let n=t.columns.filter((t=>null!==e.columnGroupParent&&void 0!==e.columnGroupParent&&t.columnGroup===e.columnGroupParent))[0];void 0!==n&&(n.columnSpan-=i,null!==n.columnGroupParent&&this.calculateColumnSpans(n,t,i),0===n.columnSpan&&(n.skip=!0))}exportRow(e,t,i,n){if(!n){let e=void 0===t.owner?Cb:t.owner,i=this._ownersMap.get(e).columns,n=i.some((e=>e.headerType===_b.RowHeader));if(t.type!==xb.HeaderRecord){let e=i.filter((e=>e.headerType===_b.ColumnHeader&&!e.skip)).sort(((e,t)=>e.startIndex-t.startIndex)).sort(((e,t)=>e.pinnedIndex-t.pinnedIndex));n&&(t.rawData=t.data),t.data=e.reduce(((e,i)=>{if(!i.skip){let n=QC(t.data,XC(i.field)),r=i.formatter&&!i.skipFormatter&&t.type!==xb.GroupedRecord;"date"!==i.dataType&&"dateTime"!==i.dataType&&"time"!==i.dataType||t.type===xb.SummaryRecord||t.type===xb.GroupedRecord||n instanceof Date||r||null==n?"string"===i.dataType&&n instanceof Date&&(n=n.toString()):n=new Date(n);let s=r?i.formatter(n,t.data):n;this.isPivotGridExport&&!isNaN(parseFloat(s))&&(s=parseFloat(s)),e[i.field]=s}return e}),{})}else t.data=t.data.filter(((e,i)=>!t.references[i].skip))}let r={rowData:t.data,rowIndex:i,cancel:!1,owner:t.owner??this.ownerGrid};this.rowExporting.emit(r),r.cancel||e.push(t)}reorderColumns(e){let t=e.filter((e=>!e.skip)),i=t.length,n=t.filter((e=>!isNaN(e.exportIndex))).sort(((e,t)=>e.exportIndex-t.exportIndex)),r=n.map((e=>e.exportIndex));n.forEach((e=>{t.splice(t.indexOf(e),1)}));let s=new Array(i);if(n.length>Math.max(...r))return n.concat(t);r.forEach(((e,r)=>{if(e<0||e>=i)t.push(n[r]);else{let t=e;for(;t<i&&void 0!==s[t];)++t;s[t]=n[r]}}));for(let e=0;e<i;e++)void 0===s[e]&&(s[e]=t.splice(0,1)[0]);return s}prepareData(e){this.flatRecords=[];let t=e.filteringExpressionsTree&&e.filteringExpressionsTree.filteringOperands.length>0||e.advancedFilteringExpressionsTree&&e.advancedFilteringExpressionsTree.filteringOperands.length>0,i=e.groupingExpressions?e.groupingExpressions.concat(e.sortingExpressions||[]):e.sortingExpressions,n=i&&i.length>0,r=!1;switch(e.type){case"pivot":this.preparePivotGridData(e);break;case"hierarchical":this.prepareHierarchicalGridData(e,t,n),r=!0;break;case"tree":this.prepareTreeGridData(e,t,n);break;default:this.prepareGridData(e,t,n)}this.summaries.size>0&&e.summaryCalculationMode!==sb&&(r?this.setSummaries(Sb,0,!1,e):this.setSummaries(Sb))}preparePivotGridData(e){for(let t of e.filteredSortedData){let e=Object.fromEntries(t.aggregationValues);t.dimensionValues.forEach(((t,i)=>{let n=this.pivotGridRowDimensionsMap[i];e[n]=t}));let i={data:e,level:t.level,type:xb.PivotGridRecord};this.flatRecords.push(i)}this.flatRecords.length&&(this.flatRecords[0].dimensionKeys=Object.values(this.pivotGridRowDimensionsMap))}prepareHierarchicalGridData(e,t,i){if(t&&this.options.ignoreFiltering||i&&this.options.ignoreSorting){let n=e.data;if(t&&!this.options.ignoreFiltering){let t={expressionsTree:e.filteringExpressionsTree,advancedExpressionsTree:e.advancedFilteringExpressionsTree,strategy:e.filterStrategy};n=YS.filter(n,t,e)}i&&!this.options.ignoreSorting&&(this._sort=FC(e.sortingExpressions[0]),n=DS.sort(n,e.sortingExpressions,e.sortStrategy,e)),this.addHierarchicalGridData(e,n)}else{let t=e.filteredSortedData;this.addHierarchicalGridData(e,t)}}addHierarchicalGridData(e,t){let i=e.childLayoutList,n=this._ownersMap.get(e).columns.map((e=>e.field));for(let r of t){let t=!!e.expansionStates.has(r)&&e.expansionStates.get(r),s={data:Object.keys(r).filter((e=>n.includes(e))).reduce(((e,t)=>(e[t]=r[t],e)),{}),level:0,type:xb.HierarchicalGridRecord,owner:e,hierarchicalOwner:bb};this.flatRecords.push(s);for(let n of i){let i={rowID:n.primaryKey?r[n.primaryKey]:r,rowKey:n.primaryKey?r[n.primaryKey]:r,rowIslandKey:n.key},s=e?.gridAPI.getChildGrid([i]),o=this.prepareIslandData(n,s,r[n.key])||[];this.getAllChildColumnsAndData(n,o,t,s)}}}prepareSummaries(e){let t=new Map;if(this.options.exportSummaries&&e.summaryService.summaryCacheMap.size>0){let i=e.summaryService.summaryCacheMap;switch(e.summaryCalculationMode){case sb:i.delete(Sb);break;case rb:for(let e of i.keys())e!==Sb&&i.delete(e)}t=i}return t}prepareIslandData(e,t,i){if(void 0!==t){let e=t.filteringExpressionsTree&&t.filteringExpressionsTree.filteringOperands.length>0||t.advancedFilteringExpressionsTree&&t.advancedFilteringExpressionsTree.filteringOperands.length>0,n=t.sortingExpressions&&t.sortingExpressions.length>0;if(e&&this.options.ignoreFiltering||n&&this.options.ignoreSorting){if(e&&!this.options.ignoreFiltering){let e={expressionsTree:t.filteringExpressionsTree,advancedExpressionsTree:t.advancedFilteringExpressionsTree,strategy:t.filterStrategy};i=YS.filter(i,e,t)}n&&!this.options.ignoreSorting&&(this._sort=FC(t.sortingExpressions[0]),i=DS.sort(i,t.sortingExpressions,t.sortStrategy,t))}else i=t.filteredSortedData}else{let t=e.filteringExpressionsTree&&e.filteringExpressionsTree.filteringOperands.length>0||e.advancedFilteringExpressionsTree&&e.advancedFilteringExpressionsTree.filteringOperands.length>0,n=e.sortingExpressions&&e.sortingExpressions.length>0;if(t&&!this.options.ignoreFiltering||n&&!this.options.ignoreSorting){if(t&&!this.options.ignoreFiltering){let t={expressionsTree:e.filteringExpressionsTree,advancedExpressionsTree:e.advancedFilteringExpressionsTree,strategy:e.filterStrategy};i=YS.filter(i,t,e)}n&&!this.options.ignoreSorting&&(this._sort=FC(e.sortingExpressions[0]),i=DS.sort(i,e.sortingExpressions,e.sortStrategy,e))}}return i}getAllChildColumnsAndData(e,t,i,n){let r=`${Tb}${++this.rowIslandCounter}`,s=this._ownersMap.get(e).columns.filter((e=>e.headerType===_b.ColumnHeader)),o={data:s.map((e=>e.header?e.header:e.field)),level:e.level,type:xb.HeaderRecord,owner:e,hidden:!i,references:s,hierarchicalOwner:r};if(t&&t.length>0){this.flatRecords.push(o);for(let s of t){let t={data:s,level:e.level,type:xb.HierarchicalGridRecord,owner:e,hidden:!i,hierarchicalOwner:r};if(t.summaryKey=e.key,this.flatRecords.push(t),e.children.length>0){let t=void 0!==n&&!!n.expansionStates.has(s)&&n.expansionStates.get(s);for(let i of e.children){let r={rowID:i.primaryKey?s[i.primaryKey]:s,rowKey:i.primaryKey?s[i.primaryKey]:s,rowIslandKey:i.key},o=n?.gridAPI.getChildGrid([r]),a=this.prepareIslandData(e,o,s[i.key])||[];this.getAllChildColumnsAndData(i,a,t,o)}}}if(n){let t=this.prepareSummaries(n);for(let n of t.keys()){let s=t.get(n);this.setSummaries(e.key,e.level,!i,e,s,r)}}}}prepareGridData(e,t,i){let n={expressions:e.groupingExpressions,expansion:e.groupingExpansionState,defaultExpanded:e.groupsExpanded},r=e.groupingExpressions&&e.groupingExpressions.length>0;if(t&&this.options.ignoreFiltering||i&&this.options.ignoreSorting||r&&this.options.ignoreGrouping){let s=e.data;if(t&&!this.options.ignoreFiltering){let t={expressionsTree:e.filteringExpressionsTree,advancedExpressionsTree:e.advancedFilteringExpressionsTree,strategy:e.filterStrategy};s=YS.filter(s,t,e)}if(i&&!this.options.ignoreSorting){let t=e.groupingExpressions?e.groupingExpressions.concat(e.sortingExpressions||[]):e.sortingExpressions;s=DS.sort(s,t,e.sortStrategy,e)}if(r&&!this.options.ignoreGrouping){let t=[];DS.group(RC(s),n,e.groupStrategy,e,t),s=t}r&&!this.options.ignoreGrouping?this.addGroupedData(e,s,n,!0):this.addFlatData(s)}else r?this.addGroupedData(e,e.groupsRecords,n,!0):this.addFlatData(e.filteredSortedData)}prepareTreeGridData(e,t,i){if(t&&this.options.ignoreFiltering||i&&this.options.ignoreSorting){let n=e.rootRecords;if(t&&!this.options.ignoreFiltering){let t={expressionsTree:e.filteringExpressionsTree,advancedExpressionsTree:e.advancedFilteringExpressionsTree,strategy:e.filterStrategy?e.filterStrategy:new JS};n=t.strategy.filter(n,t.expressionsTree,t.advancedExpressionsTree)}i&&!this.options.ignoreSorting&&(this._sort=FC(e.sortingExpressions[0]),n=DS.treeGridSort(n,e.sortingExpressions,e.sortStrategy)),this.addTreeGridData(n)}else this.addTreeGridData(e.processedRootRecords)}addTreeGridData(e,t=!0,i){if(e)for(let n of e){let e={data:n.data,level:n.level,hidden:!t,type:xb.TreeGridRecord,summaryKey:n.key,hierarchicalOwner:0===n.level?bb:i};this.flatRecords.push(e),n.children&&this.getTreeGridChildData(n.children,n.key,n.level,n.expanded&&t)}}getTreeGridChildData(e,t,i,n=!0){let r=`${Tb}${++this.rowIslandCounter}`,s=i,o=!n;for(let i of e)if(i.children&&i.children.length>0)this.addTreeGridData([i],n,r),s=i.level;else{let e={data:i.data,level:i.level,hidden:!n,type:xb.DataRecord,hierarchicalOwner:r};this._setChildSummaries&&(e.summaryKey=t),this.flatRecords.push(e),s=i.level,o=!n}this._setChildSummaries&&this.setSummaries(t,s,o,null,null,r)}addFlatData(e){if(e)for(let t of e){let e={data:t,type:xb.DataRecord,level:0};this.flatRecords.push(e)}}setSummaries(e,t=0,i=!1,n,r,s){let o=r??this.summaries.get(e);if(o){let r=[...o.values()].sort(((e,t)=>t.length-e.length))[0];for(let a=0;a<r.length;a++){let r={};for(let[e,t]of o){let i=t.map((e=>({label:e.label,value:e.summaryResult})));r[e]=i[a]}let l={data:r,type:xb.SummaryRecord,level:t,hidden:i,summaryKey:e,hierarchicalOwner:s};n&&(l.owner=n),this.flatRecords.push(l)}}}addGroupedData(e,t,i,n,r=!0,s=[]){if(!t)return;let o="",a=this._ownersMap.get(Cb).columns.filter((e=>e.headerType===_b.ColumnHeader&&!e.skip)).sort(((e,t)=>e.startIndex-t.startIndex)).sort(((e,t)=>e.pinnedIndex-t.pinnedIndex))[0].field;for(let l of t){let t=l.value,d=n?bb:`${Tb}${++this.rowIslandCounter}`,c=gS(l),h=i.expansion.find((i=>uS(i.hierarchy||[{fieldName:l.expression.fieldName,value:t}],c,e.groupingExpressions))),u=h?h.expanded:i.defaultExpanded;if(t instanceof Date){let i=6e4*t.getTimezoneOffset(),n=new Date(t-i).toISOString();t=new ny(e.locale).transform(n)}let g=l.column&&l.column.header?l.column.header:l.expression.fieldName;t=null!==t?t:"";let p={data:{[a]:`${g}: ${t??"(Blank)"} (${l.records.length})`},level:l.level,hidden:!r,type:xb.GroupedRecord,hierarchicalOwner:d};this.flatRecords.push(p);let m="",f="";if(this._setChildSummaries&&(m=`'${l.expression.fieldName}': '${t}'`,s=s.filter((e=>e!==o)),o=m,s.push(m),f=`{ ${s.join(", ")} }`,p.summaryKey=f),l.groups.length>0)this.addGroupedData(e,l.groups,i,!1,u&&r,s);else{let e=l.records;for(let t of e){let e={data:t,level:l.level+1,hidden:!(u&&r),type:xb.DataRecord,hierarchicalOwner:d};f&&(e.summaryKey=f),this.flatRecords.push(e)}}this._setChildSummaries&&(this.setSummaries(f,l.level+1,!(u&&r),null,null,d),s.pop())}}getColumns(e){let t=[],i=[],n=[],r=-1,s=-1,o=0;return e.forEach((e=>{let a=ES.isNullOrWhitespaces(e.header)?e.field:e.header,l=!e.hidden||this.options.ignoreColumnsVisibility,d=this.options.ignoreColumnsOrder||this.options.ignoreColumnsVisibility?e.index:e.visibleIndex,c=Number(e.width?.slice(0,-2))||Eb,h=this.options.ignoreMultiColumnHeaders?0:e.level,u=e.columnGroup,g=u?e.allChildren.filter((e=>!(e.columnGroup||!this.options.ignoreColumnsVisibility&&e.hidden))).length:1,p={header:ES.sanitizeValue(a),dataType:e.dataType,field:e.field,skip:!l,formatter:e.formatter,skipFormatter:!1,headerType:u?_b.MultiColumnHeader:_b.ColumnHeader,columnSpan:g,level:h,startIndex:d,pinnedIndex:e.pinned?e.hidden?NaN:e.grid.pinnedColumns.indexOf(e):Number.MAX_VALUE,columnGroupParent:e.parent?e.parent:null,columnGroup:u?e:null};"currency"===e.dataType&&(p.currencyCode=e.pipeArgs.currencyCode?e.pipeArgs.currencyCode:av(this.locale),p.displayFormat=e.pipeArgs.display?e.pipeArgs.display:"symbol",p.digitsInfo=e.pipeArgs.digitsInfo?e.pipeArgs.digitsInfo:"1.0-2"),"date"===e.dataType&&(p.dateFormat=iv(this.locale,Jf.Medium)),"dateTime"===e.dataType&&(p.dateFormat=rv(this.locale,Jf.Medium)),this.options.ignoreColumnsOrder&&p.startIndex!==p.pinnedIndex&&(p.pinnedIndex=Number.MAX_VALUE),e.level>o&&!this.options.ignoreMultiColumnHeaders&&(o=e.level),-1!==d?(t.push(p),i.push(c),s=Math.max(s,t.indexOf(p))):n.push(p),e.pinned&&l&&p.headerType===_b.ColumnHeader&&r++})),n.forEach((e=>{t[++s]=e})),{columns:t,columnWidths:i,indexOfLastPinnedColumn:r,maxLevel:o}}mapHierarchicalGridColumns(e,t){let i,n;if(e.autoGenerate){n=t[e.key];let r=e.children.map((e=>e.key)),s=n.map((e=>{let t={};return Object.keys(e).map((i=>{r.includes(i)||(t[i]=e[i])})),t}));i=this.getAutoGeneratedColumns(s)}else{let t=e.columns;i=this.getColumns(t)}if(this._ownersMap.set(e,i),e.children.length>0)for(let t of e.children){let e=void 0!==n?n[0]:{};this.mapHierarchicalGridColumns(t,e)}}getAutoGeneratedColumns(e){let t=[],i=[];return Object.keys(e[0]).forEach(((e,n)=>{let r={header:e,field:e,dataType:"string",skip:!1,headerType:_b.ColumnHeader,columnSpan:1,level:0,startIndex:n,pinnedIndex:Number.MAX_VALUE};t.push(r),i.push(Eb)})),{columns:t,columnWidths:i,indexOfLastPinnedColumn:-1,maxLevel:0}}addPivotRowHeaders(e){if(e?.pivotUI?.showRowHeaders){let t=this._ownersMap.get(Cb),i=e.visibleRowDimensions.filter((e=>e.enabled)).map(((e,t)=>({name:e.displayName||e.memberName,level:t}))),n=0;i.forEach((e=>{t.columns.unshift({rowSpan:t.maxLevel+1,field:e.name,header:e.name,startIndex:n,skip:!1,pinnedIndex:0,level:e.level,dataType:"string",headerType:_b.PivotRowHeader}),n+=1})),t.columnWidths.unshift(...Array(i.length).fill(200))}}addPivotGridColumns(e){if("pivot"!==e.type)return;let t=e.visibleRowDimensions.map(((e,t)=>({name:e.memberName,level:t})));this.preparePivotGridColumns(t),this.pivotGridFilterFieldsCount=t.length;let i=this._ownersMap.get(Cb);i.columns.unshift(...this.pivotGridColumns),i.columnWidths.unshift(...Array(this.pivotGridColumns.length).fill(200)),i.indexOfLastPinnedColumn=t.length-1,i.maxRowLevel=t.length,this._ownersMap.set(Cb,i)}preparePivotGridColumns(e,t){if(0===e.length)return;let i=this.flatRecords.map((e=>e.data)),n=this.groupByKeys(i,e);this.createRowDimension(n,e,t)}groupByKeys(e,t){let i=(e,t)=>{if(0===t.length)return e;let n=[...t],r=n.shift().name,s=new Map;for(let t of e){let e=t[r];s.has(e)||s.set(e,[]),s.get(e).push(t)}for(let[e,t]of s)s.set(e,i(t,n));return s};return i(e,t)}calculateRowSpan(e){return e instanceof Map?Array.from(e.values()).reduce(((e,t)=>e+this.calculateRowSpan(t)),0):Array.isArray(e)?e.length:0}createRowDimension(e,t,i){if(!(e instanceof Map))return;let n=t[0],r=t.filter((e=>e.level>n.level)),s=0;for(let t of e.keys()){let r=t,o=this.calculateRowSpan(e.get(t)),a={columnSpan:1,rowSpan:o,field:r,header:r,startIndex:s,skip:!1,pinnedIndex:0,level:n.level,dataType:"string",headerType:o>1?_b.MultiRowHeader:_b.RowHeader};r||(a.headerType=_b.PivotMergedHeader,r=i),n.level>0?a.columnGroupParent=i:a.columnGroup=r,this.pivotGridColumns.push(a),s+=o}for(let t of e.keys())this.createRowDimension(e.get(t),r,i)}addLevelColumns(){this.options.exportSummaries&&this.summaries.size>0&&this._ownersMap.forEach((e=>{let t={header:Db,dataType:"number",field:Db,skip:!1,skipFormatter:!1,headerType:_b.ColumnHeader,columnSpan:1,level:0};e.columns.push(t),e.columnWidths.push(20)}))}addLevelData(){if(this.options.exportSummaries&&this.summaries.size>0)for(let e of this.flatRecords)(e.type===xb.DataRecord||e.type===xb.TreeGridRecord||e.type===xb.HierarchicalGridRecord)&&(e.data[Db]=e.level)}resetDefaults(){this._sort=null,this.flatRecords=[],this.options={},this._ownersMap.clear(),this.rowIslandCounter=0}},Rb=class{constructor(e,t,i=[]){this._data=e,this.columns=i,this._headerRecord="",this._dataRecords="",this._eor="\r\n",this._escapeCharacters=["\r","\n","\r\n"],this._delimiterLength=1,this._isSpecialData=!1,this.setDelimiter(t)}prepareData(e){if(!this._data||0===this._data.length)return"";let t=[];return t=e||ES.getKeysFromData(this._data),0===t.length?"":(this._isSpecialData=ES.isSpecialData(this._data[0]),this._escapeCharacters.push(this._delimiter),this._headerRecord=this.processHeaderRecord(t,this._data.length),this._dataRecords=this.processDataRecords(this._data,t),this._headerRecord+this._dataRecords)}prepareDataAsync(e){let t=this.columns?.filter((e=>!e.skip)).sort(((e,t)=>e.startIndex-t.startIndex)).sort(((e,t)=>e.pinnedIndex-t.pinnedIndex)),i=t&&t.length?t.map((e=>e.field)):ES.getKeysFromData(this._data);this._isSpecialData=ES.isSpecialData(this._data[0]),this._escapeCharacters.push(this._delimiter);let n=t&&t.length?t.map((e=>e.columnGroupParent?e.field:e.header??e.field)):i;this._headerRecord=this.processHeaderRecord(n,this._data.length),0!==i.length&&(this._data&&0!==this._data.length||0!==i.length)?this.processDataRecordsAsync(this._data,i,(t=>{e(this._headerRecord+t)})):e("")}processField(e,t){let i=ES.hasValue(e)?String(e):"";return t.some((e=>i.includes(e)))&&(i=`"${i}"`),i+this._delimiter}processHeaderRecord(e,t){let i="";for(let t of e)i+=this.processField(t,this._escapeCharacters);let n=i.slice(0,-this._delimiterLength);return t>0?n+this._eor:n}processRecord(e,t){let i=new Array(t.length);for(let n=0;n<t.length;n++){let r=void 0!==e[t[n]]?e[t[n]]:this._isSpecialData?e:"";i[n]=this.processField(r,this._escapeCharacters)}return i.join("").slice(0,-this._delimiterLength)+this._eor}processDataRecords(e,t){let i=new Array(e.length);for(let n=0;n<e.length;n++){let r=e[n];i[n]=this.processRecord(r,t)}return i.join("")}processDataRecordsAsync(e,t,i){let n=new Array(e.length);JC(e.length,1e3,(i=>{let r=e[i];n[i]=this.processRecord(r,t)}),(()=>{i(n.join(""))}))}setDelimiter(e){this._delimiter=e,this._delimiterLength=e.length}},Ab=class{constructor(e,t){this._fileExtension=t,this.ignoreColumnsVisibility=!1,this.ignoreFiltering=!1,this.ignoreColumnsOrder=!1,this.ignoreSorting=!1,this.ignoreGrouping=!1,this.ignoreMultiColumnHeaders=!1,this.exportSummaries=!0,this.freezeHeaders=!1,this.alwaysExportHeaders=!0,this.setFileName(e)}setFileName(e){this._fileName=e+(!1===e.endsWith(this._fileExtension)?this._fileExtension:"")}get fileName(){return this._fileName}set fileName(e){this.setFileName(e)}},kb=class e extends Ab{constructor(t,i){super(t,e.getExtensionFromFileType(i)),this.setFileType(i),this.setDelimiter()}static getExtensionFromFileType(e){let t="";switch(e){case Ob.CSV:t=".csv";break;case Ob.TSV:t=".tsv";break;case Ob.TAB:t=".tab";break;default:throw Error("Unsupported CSV file type!")}return t}get valueDelimiter(){return this._valueDelimiter}set valueDelimiter(e){this.setDelimiter(e)}get fileType(){return this._fileType}set fileType(e){this.setFileType(e)}setFileType(t){if(null!=t&&t!==this._fileType){this._fileType=t;let i=e.getExtensionFromFileType(t);if(!this.fileName.endsWith(i)){let e="."+this.fileName.split(".").pop(),t=this.fileName.replace(e,i);this._fileExtension=i,this.fileName=t}}}setDelimiter(e){if(void 0!==e&&""!==e&&null!==e)this._valueDelimiter=e;else switch(this.fileType){case Ob.CSV:this._valueDelimiter=",";break;case Ob.TSV:case Ob.TAB:this._valueDelimiter="\t"}}},Ob=function(e){return e[e.CSV=0]="CSV",e[e.TSV=1]="TSV",e[e.TAB=2]="TAB",e}(Ob||{}),Fb=(()=>{class e extends Ib{constructor(){super(...arguments),this.exportEnded=new wl}exportDataImplementation(e,t,i){let n=e[0]?.dimensionKeys;e=n?.length?e.map((e=>e.rawData)):e.map((e=>e.data));let r=this._ownersMap.get(Cb)?.columns.filter((e=>e.headerType===_b.ColumnHeader));if(n){let e=n.map((e=>({header:e,field:e,dataType:"string",skip:!1,headerType:_b.ColumnHeader,columnSpan:1,startIndex:0})));r.unshift(...e)}new Rb(e,t.valueDelimiter,r).prepareDataAsync((e=>{this._stringData=e,this.saveFile(t),this.exportEnded.emit({csvData:this._stringData}),i()}))}saveFile(e){switch(e.fileType){case Ob.CSV:this.exportFile(this._stringData,e.fileName,"text/csv;charset=utf-8;");break;case Ob.TSV:case Ob.TAB:this.exportFile(this._stringData,e.fileName,"text/tab-separated-values;charset=utf-8;")}}exportFile(e,t,i){let n=new Blob([e?"\ufeff":"",e],{type:i});ES.saveBlobToFile(n,t)}static{this.ɵfac=(()=>{let t;return function(i){return(t||(t=ol(e)))(i||e)}})()}static{this.ɵprov=ir({token:e,factory:e.ɵfac,providedIn:"root"})}}return e})(),Pb={},Vb=Uint8Array,Mb=Uint16Array,Lb=Int32Array,Nb=new Vb([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Hb=new Vb([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),zb=new Vb([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Bb=function(e,t){for(var i=new Mb(31),n=0;n<31;++n)i[n]=t+=1<<e[n-1];var r=new Lb(i[30]);for(n=1;n<30;++n)for(var s=i[n];s<i[n+1];++s)r[s]=s-i[n]<<5|n;return{b:i,r}},Gb=Bb(Nb,2),$b=Gb.b,Wb=Gb.r;$b[28]=258,Wb[258]=28;var Kb,jb=Bb(Hb,0),Ub=(jb.b,jb.r),qb=new Mb(32768);for(Xb=0;Xb<32768;++Xb)Kb=(61680&(Kb=(52428&(Kb=(43690&Xb)>>1|(21845&Xb)<<1))>>2|(13107&Kb)<<2))>>4|(3855&Kb)<<4,qb[Xb]=((65280&Kb)>>8|(255&Kb)<<8)>>1;var Yb=function(e,t,i){for(var n=e.length,r=0,s=new Mb(t);r<n;++r)e[r]&&++s[e[r]-1];var o,a=new Mb(t);for(r=1;r<t;++r)a[r]=a[r-1]+s[r-1]<<1;if(i){o=new Mb(1<<t);var l=15-t;for(r=0;r<n;++r)if(e[r])for(var d=r<<4|e[r],c=t-e[r],h=a[e[r]-1]++<<c,u=h|(1<<c)-1;h<=u;++h)o[qb[h]>>l]=d}else for(o=new Mb(n),r=0;r<n;++r)e[r]&&(o[r]=qb[a[e[r]-1]++]>>15-e[r]);return o},Zb=new Vb(288);for(Xb=0;Xb<144;++Xb)Zb[Xb]=8;for(Xb=144;Xb<256;++Xb)Zb[Xb]=9;for(Xb=256;Xb<280;++Xb)Zb[Xb]=7;for(Xb=280;Xb<288;++Xb)Zb[Xb]=8;var Xb,Qb=new Vb(32);for(Xb=0;Xb<32;++Xb)Qb[Xb]=5;var Jb=Yb(Zb,9,0),eD=Yb(Qb,5,0),tD=function(e){return(e+7)/8|0},iD=function(e,t,i){return(null==t||t<0)&&(t=0),(null==i||i>e.length)&&(i=e.length),new Vb(e.subarray(t,i))},nD=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],rD=function(e,t,i){var n=new Error(t||nD[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,rD),!i)throw n;return n},sD=function(e,t,i){i<<=7&t;var n=t/8|0;e[n]|=i,e[n+1]|=i>>8},oD=function(e,t,i){i<<=7&t;var n=t/8|0;e[n]|=i,e[n+1]|=i>>8,e[n+2]|=i>>16},aD=function(e,t){for(var i=[],n=0;n<e.length;++n)e[n]&&i.push({s:n,f:e[n]});var r=i.length,s=i.slice();if(!r)return{t:pD,l:0};if(1==r){var o=new Vb(i[0].s+1);return o[i[0].s]=1,{t:o,l:1}}i.sort((function(e,t){return e.f-t.f})),i.push({s:-1,f:25001});var a=i[0],l=i[1],d=0,c=1,h=2;for(i[0]={s:-1,f:a.f+l.f,l:a,r:l};c!=r-1;)a=i[i[d].f<i[h].f?d++:h++],l=i[d!=c&&i[d].f<i[h].f?d++:h++],i[c++]={s:-1,f:a.f+l.f,l:a,r:l};var u=s[0].s;for(n=1;n<r;++n)s[n].s>u&&(u=s[n].s);var g=new Mb(u+1),p=lD(i[c-1],g,0);if(p>t){n=0;var m=0,f=p-t,v=1<<f;for(s.sort((function(e,t){return g[t.s]-g[e.s]||e.f-t.f}));n<r;++n){var y=s[n].s;if(!(g[y]>t))break;m+=v-(1<<p-g[y]),g[y]=t}for(m>>=f;m>0;){var x=s[n].s;g[x]<t?m-=1<<t-g[x]++-1:++n}for(;n>=0&&m;--n){var _=s[n].s;g[_]==t&&(--g[_],++m)}p=t}return{t:new Vb(g),l:p}},lD=function(e,t,i){return-1==e.s?Math.max(lD(e.l,t,i+1),lD(e.r,t,i+1)):t[e.s]=i},dD=function(e){for(var t=e.length;t&&!e[--t];);for(var i=new Mb(++t),n=0,r=e[0],s=1,o=function(e){i[n++]=e},a=1;a<=t;++a)if(e[a]==r&&a!=t)++s;else{if(!r&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(r),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(r);s=1,r=e[a]}return{c:i.subarray(0,n),n:t}},cD=function(e,t){for(var i=0,n=0;n<t.length;++n)i+=e[n]*t[n];return i},hD=function(e,t,i){var n=i.length,r=tD(t+2);e[r]=255&n,e[r+1]=n>>8,e[r+2]=255^e[r],e[r+3]=255^e[r+1];for(var s=0;s<n;++s)e[r+s+4]=i[s];return 8*(r+4+n)},uD=function(e,t,i,n,r,s,o,a,l,d,c){sD(t,c++,i),++r[256];for(var h=aD(r,15),u=h.t,g=h.l,p=aD(s,15),m=p.t,f=p.l,v=dD(u),y=v.c,x=v.n,_=dD(m),w=_.c,C=_.n,S=new Mb(19),b=0;b<y.length;++b)++S[31&y[b]];for(b=0;b<w.length;++b)++S[31&w[b]];for(var D=aD(S,7),E=D.t,T=D.l,I=19;I>4&&!E[zb[I-1]];--I);var R,A,k,O,F=d+5<<3,P=cD(r,Zb)+cD(s,Qb)+o,V=cD(r,u)+cD(s,m)+o+14+3*I+cD(S,E)+2*S[16]+3*S[17]+7*S[18];if(l>=0&&F<=P&&F<=V)return hD(t,c,e.subarray(l,l+d));if(sD(t,c,1+(V<P)),c+=2,V<P){R=Yb(u,g,0),A=u,k=Yb(m,f,0),O=m;var M=Yb(E,T,0);for(sD(t,c,x-257),sD(t,c+5,C-1),sD(t,c+10,I-4),c+=14,b=0;b<I;++b)sD(t,c+3*b,E[zb[b]]);c+=3*I;for(var L=[y,w],N=0;N<2;++N){var H=L[N];for(b=0;b<H.length;++b){var z=31&H[b];sD(t,c,M[z]),c+=E[z],z>15&&(sD(t,c,H[b]>>5&127),c+=H[b]>>12)}}}else R=Jb,A=Zb,k=eD,O=Qb;for(b=0;b<a;++b){var B=n[b];if(B>255){oD(t,c,R[257+(z=B>>18&31)]),c+=A[z+257],z>7&&(sD(t,c,B>>23&31),c+=Nb[z]);var G=31&B;oD(t,c,k[G]),c+=O[G],G>3&&(oD(t,c,B>>5&8191),c+=Hb[G])}else oD(t,c,R[B]),c+=A[B]}return oD(t,c,R[256]),c+A[256]},gD=new Lb([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),pD=new Vb(0),mD=function(e,t,i,n,r,s){var o=s.z||e.length,a=new Vb(n+o+5*(1+Math.ceil(o/7e3))+r),l=a.subarray(n,a.length-r),d=s.l,c=7&(s.r||0);if(t){c&&(l[0]=s.r>>3);for(var h=gD[t-1],u=h>>13,g=8191&h,p=(1<<i)-1,m=s.p||new Mb(32768),f=s.h||new Mb(p+1),v=Math.ceil(i/3),y=2*v,x=function(t){return(e[t]^e[t+1]<<v^e[t+2]<<y)&p},_=new Lb(25e3),w=new Mb(288),C=new Mb(32),S=0,b=0,D=s.i||0,E=0,T=s.w||0,I=0;D+2<o;++D){var R=x(D),A=32767&D,k=f[R];if(m[A]=k,f[R]=A,T<=D){var O=o-D;if((S>7e3||E>24576)&&(O>423||!d)){c=uD(e,l,0,_,w,C,b,E,I,D-I,c),E=S=b=0,I=D;for(var F=0;F<286;++F)w[F]=0;for(F=0;F<30;++F)C[F]=0}var P=2,V=0,M=g,L=A-k&32767;if(O>2&&R==x(D-L))for(var N=Math.min(u,O)-1,H=Math.min(32767,D),z=Math.min(258,O);L<=H&&--M&&A!=k;){if(e[D+P]==e[D+P-L]){for(var B=0;B<z&&e[D+B]==e[D+B-L];++B);if(B>P){if(P=B,V=L,B>N)break;var G=Math.min(L,B-2),$=0;for(F=0;F<G;++F){var W=D-L+F&32767,K=W-m[W]&32767;K>$&&($=K,k=W)}}}L+=(A=k)-(k=m[A])&32767}if(V){_[E++]=268435456|Wb[P]<<18|Ub[V];var j=31&Wb[P],U=31&Ub[V];b+=Nb[j]+Hb[U],++w[257+j],++C[U],T=D+P,++S}else _[E++]=e[D],++w[e[D]]}}for(D=Math.max(D,T);D<o;++D)_[E++]=e[D],++w[e[D]];c=uD(e,l,d,_,w,C,b,E,I,D-I,c),d||(s.r=7&c|l[c/8|0]<<3,c-=7,s.h=f,s.p=m,s.i=D,s.w=T)}else{for(D=s.w||0;D<o+d;D+=65535){var q=D+65535;q>=o&&(l[c/8|0]=d,q=o),c=hD(l,c+1,e.subarray(D,q))}s.i=o}return iD(a,0,n+tD(c)+r)},fD=function(){for(var e=new Int32Array(256),t=0;t<256;++t){for(var i=t,n=9;--n;)i=(1&i&&-306674912)^i>>>1;e[t]=i}return e}(),vD=function(e,t,i,n,r){if(!r&&(r={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),o=new Vb(s.length+e.length);o.set(s),o.set(e,s.length),e=o,r.w=s.length}return mD(e,null==t.level?6:t.level,null==t.mem?r.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):20:12+t.mem,i,n,r)},yD=function(e,t){var i={};for(var n in e)i[n]=e[n];for(var n in t)i[n]=t[n];return i},xD=function(e,t,i){for(var n=e(),r=e.toString(),s=r.slice(r.indexOf("[")+1,r.lastIndexOf("]")).replace(/\s+/g,"").split(","),o=0;o<n.length;++o){var a=n[o],l=s[o];if("function"==typeof a){t+=";"+l+"=";var d=a.toString();if(a.prototype)if(-1!=d.indexOf("[native code]")){var c=d.indexOf(" ",8)+1;t+=d.slice(c,d.indexOf("(",c))}else for(var h in t+=d,a.prototype)t+=";"+l+".prototype."+h+"="+a.prototype[h].toString();else t+=d}else i[l]=a}return t},_D=[],wD=function(){return[Vb,Mb,Lb,Nb,Hb,zb,Wb,Ub,Jb,Zb,eD,Qb,qb,gD,pD,Yb,sD,oD,aD,lD,dD,cD,hD,uD,tD,iD,mD,vD,DD,CD]},CD=function(e){return postMessage(e,[e.buffer])},SD=function(e,t,i,n,r,s){var o=function(e,t,i,n){if(!_D[i]){for(var r="",s={},o=e.length-1,a=0;a<o;++a)r=xD(e[a],r,s);_D[i]={c:xD(e[o],r,s),e:s}}var l=yD({},_D[i].e);return function(e,t,i,n,r){var s=new Worker(Pb[t]||(Pb[t]=URL.createObjectURL(new Blob([e+';addEventListener("error",function(e){e=e.error;postMessage({$e$:[e.message,e.code,e.stack]})})'],{type:"text/javascript"}))));return s.onmessage=function(e){var t=e.data,i=t.$e$;if(i){var n=new Error(i[0]);n.code=i[1],n.stack=i[2],r(n,null)}else r(null,t)},s.postMessage(i,n),s}(_D[i].c+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+t.toString()+"}",i,l,function(e){var t=[];for(var i in e)e[i].buffer&&t.push((e[i]=new e[i].constructor(e[i])).buffer);return t}(l),n)}(i,n,r,(function(e,t){o.terminate(),s(e,t)}));return o.postMessage([e,t],t.consume?[e.buffer]:[]),function(){o.terminate()}},bD=function(e,t,i){for(;i;++t)e[t]=i,i>>>=8};function DD(e,t){return vD(e,t||{},0,0)}var ED=function(e,t,i,n){for(var r in e){var s=e[r],o=t+r,a=n;Array.isArray(s)&&(a=yD(n,s[1]),s=s[0]),s instanceof Vb?i[o]=[s,a]:(i[o+="/"]=[new Vb(0),a],ED(s,o,i,n))}},TD=typeof TextEncoder<"u"&&new TextEncoder,ID=typeof TextDecoder<"u"&&new TextDecoder;try{ID.decode(pD,{stream:!0})}catch{}function RD(e,t){if(t){for(var i=new Vb(e.length),n=0;n<e.length;++n)i[n]=e.charCodeAt(n);return i}if(TD)return TD.encode(e);var r=e.length,s=new Vb(e.length+(e.length>>1)),o=0,a=function(e){s[o++]=e};for(n=0;n<r;++n){if(o+5>s.length){var l=new Vb(o+8+(r-n<<1));l.set(s),s=l}var d=e.charCodeAt(n);d<128||t?a(d):d<2048?(a(192|d>>6),a(128|63&d)):d>55295&&d<57344?(a(240|(d=65536+(1047552&d)|1023&e.charCodeAt(++n))>>18),a(128|d>>12&63),a(128|d>>6&63),a(128|63&d)):(a(224|d>>12),a(128|d>>6&63),a(128|63&d))}return iD(s,0,o)}var AD=function(e){var t=0;if(e)for(var i in e){var n=e[i].length;n>65535&&rD(9),t+=n+4}return t},kD=function(e,t,i,n,r,s,o,a){var l=n.length,d=i.extra,c=a&&a.length,h=AD(d);bD(e,t,null!=o?33639248:67324752),t+=4,null!=o&&(e[t++]=20,e[t++]=i.os),e[t]=20,t+=2,e[t++]=i.flag<<1|(s<0&&8),e[t++]=r&&8,e[t++]=255&i.compression,e[t++]=i.compression>>8;var u=new Date(null==i.mtime?Date.now():i.mtime),g=u.getFullYear()-1980;if((g<0||g>119)&&rD(10),bD(e,t,g<<25|u.getMonth()+1<<21|u.getDate()<<16|u.getHours()<<11|u.getMinutes()<<5|u.getSeconds()>>1),t+=4,-1!=s&&(bD(e,t,i.crc),bD(e,t+4,s<0?-s-2:s),bD(e,t+8,i.size)),bD(e,t+12,l),bD(e,t+14,h),t+=16,null!=o&&(bD(e,t,c),bD(e,t+6,i.attrs),bD(e,t+10,o),t+=14),e.set(n,t),t+=l,h)for(var p in d){var m=d[p],f=m.length;bD(e,t,+p),bD(e,t+2,f),e.set(m,t+4),t+=4+f}return c&&(e.set(a,t),t+=c),t};var OD="function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout?setTimeout:function(e){e()},FD=function(e){return e[e.RootExcelFolder=0]="RootExcelFolder",e[e.RootRelsExcelFolder=1]="RootRelsExcelFolder",e[e.DocPropsExcelFolder=2]="DocPropsExcelFolder",e[e.XLExcelFolder=3]="XLExcelFolder",e[e.XLRelsExcelFolder=4]="XLRelsExcelFolder",e[e.ThemeExcelFolder=5]="ThemeExcelFolder",e[e.WorksheetsExcelFolder=6]="WorksheetsExcelFolder",e[e.WorksheetsRelsExcelFolder=7]="WorksheetsRelsExcelFolder",e[e.TablesExcelFolder=8]="TablesExcelFolder",e}(FD||{}),PD=function(e){return e[e.RootRelsFile=0]="RootRelsFile",e[e.AppFile=1]="AppFile",e[e.CoreFile=2]="CoreFile",e[e.WorkbookRelsFile=3]="WorkbookRelsFile",e[e.ThemeFile=4]="ThemeFile",e[e.WorksheetFile=5]="WorksheetFile",e[e.StyleFile=6]="StyleFile",e[e.WorkbookFile=7]="WorkbookFile",e[e.ContentTypesFile=8]="ContentTypesFile",e[e.SharedStringsFile=9]="SharedStringsFile",e[e.WorksheetRelsFile=10]="WorksheetRelsFile",e[e.TablesFile=11]="TablesFile",e}(PD||{}),VD=(()=>{class e{static{this.XML_STRING='<?xml version="1.0" encoding="UTF-8"?>\r\n'}static{this.SHARED_STRING_RELATIONSHIP='<Relationship Id="rId4" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings" Target="sharedStrings.xml" />'}static getRels(){return e.XML_STRING+'<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties" Target="docProps/app.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties" Target="docProps/core.xml"/><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/></Relationships>'}static getApp(t){return e.XML_STRING+`<Properties xmlns="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties" xmlns:vt="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"><Application>Microsoft Excel</Application><DocSecurity>0</DocSecurity><ScaleCrop>false</ScaleCrop><HeadingPairs><vt:vector size="2" baseType="variant"><vt:variant><vt:lpstr>Worksheets</vt:lpstr></vt:variant><vt:variant><vt:i4>1</vt:i4></vt:variant></vt:vector></HeadingPairs><TitlesOfParts><vt:vector size="1" baseType="lpstr"><vt:lpstr>${t}</vt:lpstr></vt:vector></TitlesOfParts><Company></Company><LinksUpToDate>false</LinksUpToDate><SharedDoc>false</SharedDoc><HyperlinksChanged>false</HyperlinksChanged><AppVersion>16.0300</AppVersion></Properties>`}static getCore(){return e.XML_STRING+'<cp:coreProperties xmlns:cp="http://schemas.openxmlformats.org/package/2006/metadata/core-properties" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:dcmitype="http://purl.org/dc/dcmitype/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><dc:creator></dc:creator><cp:lastModifiedBy></cp:lastModifiedBy><dcterms:created xsi:type="dcterms:W3CDTF">2015-06-05T18:17:20Z</dcterms:created><dcterms:modified xsi:type="dcterms:W3CDTF">2015-06-05T18:17:26Z</dcterms:modified></cp:coreProperties>'}static getTheme(){return e.XML_STRING+'<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"><a:themeElements><a:clrScheme name="Office"><a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1><a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1><a:dk2><a:srgbClr val="44546A"/></a:dk2><a:lt2><a:srgbClr val="E7E6E6"/></a:lt2><a:accent1><a:srgbClr val="5B9BD5"/></a:accent1><a:accent2><a:srgbClr val="ED7D31"/></a:accent2><a:accent3><a:srgbClr val="A5A5A5"/></a:accent3><a:accent4><a:srgbClr val="FFC000"/></a:accent4><a:accent5><a:srgbClr val="4472C4"/></a:accent5><a:accent6><a:srgbClr val="70AD47"/></a:accent6><a:hlink><a:srgbClr val="0563C1"/></a:hlink><a:folHlink><a:srgbClr val="954F72"/></a:folHlink></a:clrScheme><a:fontScheme name="Office"><a:majorFont><a:latin typeface="Calibri Light" panose="020F0302020204030204"/><a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface="游ゴシック Light"/><a:font script="Hang" typeface="맑은 고딕"/><a:font script="Hans" typeface="等线 Light"/><a:font script="Hant" typeface="新細明體"/><a:font script="Arab" typeface="Times New Roman"/><a:font script="Hebr" typeface="Times New Roman"/><a:font script="Thai" typeface="Tahoma"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="MoolBoran"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Times New Roman"/><a:font script="Uigh" typeface="Microsoft Uighur"/><a:font script="Geor" typeface="Sylfaen"/></a:majorFont><a:minorFont><a:latin typeface="Calibri" panose="020F0502020204030204"/><a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface="游ゴシック"/><a:font script="Hang" typeface="맑은 고딕"/><a:font script="Hans" typeface="等线"/><a:font script="Hant" typeface="新細明體"/><a:font script="Arab" typeface="Arial"/><a:font script="Hebr" typeface="Arial"/><a:font script="Thai" typeface="Tahoma"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="DaunPenh"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Arial"/><a:font script="Uigh" typeface="Microsoft Uighur"/><a:font script="Geor" typeface="Sylfaen"/></a:minorFont></a:fontScheme><a:fmtScheme name="Office"><a:fillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:lumMod val="110000"/><a:satMod val="105000"/><a:tint val="67000"/></a:schemeClr></a:gs><a:gs pos="50000"><a:schemeClr val="phClr"><a:lumMod val="105000"/><a:satMod val="103000"/><a:tint val="73000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:lumMod val="105000"/><a:satMod val="109000"/><a:tint val="81000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="5400000" scaled="0"/></a:gradFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:satMod val="103000"/><a:lumMod val="102000"/><a:tint val="94000"/></a:schemeClr></a:gs><a:gs pos="50000"><a:schemeClr val="phClr"><a:satMod val="110000"/><a:lumMod val="100000"/><a:shade val="100000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:lumMod val="99000"/><a:satMod val="120000"/><a:shade val="78000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="5400000" scaled="0"/></a:gradFill></a:fillStyleLst><a:lnStyleLst><a:ln w="6350" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/><a:miter lim="800000"/></a:ln><a:ln w="12700" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/><a:miter lim="800000"/></a:ln><a:ln w="19050" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/><a:miter lim="800000"/></a:ln></a:lnStyleLst><a:effectStyleLst><a:effectStyle><a:effectLst/></a:effectStyle><a:effectStyle><a:effectLst/></a:effectStyle><a:effectStyle><a:effectLst><a:outerShdw blurRad="57150" dist="19050" dir="5400000" algn="ctr" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="63000"/></a:srgbClr></a:outerShdw></a:effectLst></a:effectStyle></a:effectStyleLst><a:bgFillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:solidFill><a:schemeClr val="phClr"><a:tint val="95000"/><a:satMod val="170000"/></a:schemeClr></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="93000"/><a:satMod val="150000"/><a:shade val="98000"/><a:lumMod val="102000"/></a:schemeClr></a:gs><a:gs pos="50000"><a:schemeClr val="phClr"><a:tint val="98000"/><a:satMod val="130000"/><a:shade val="90000"/><a:lumMod val="103000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="63000"/><a:satMod val="120000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="5400000" scaled="0"/></a:gradFill></a:bgFillStyleLst></a:fmtScheme></a:themeElements><a:objectDefaults/><a:extraClrSchemeLst/><a:extLst><a:ext uri="{05A4C25C-085E-4340-85A3-A5531E510DB2}"><thm15:themeFamily xmlns:thm15="http://schemas.microsoft.com/office/thememl/2012/main" name="Office Theme" id="{62F939B6-93AF-4DB8-9C6B-D6C7DFDC589F}" vid="{4A3C46E8-61CC-4603-A589-7422A47A8E4A}"/></a:ext></a:extLst></a:theme>'}static getStyles(){return e.XML_STRING+'<styleSheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac x16r2" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac" xmlns:x16r2="http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"><numFmts count="5"><numFmt numFmtId="164" formatCode="&quot;$&quot;#,##0.00"/><numFmt numFmtId="165" formatCode="[$£-809]#,##0.00"/><numFmt numFmtId="166" formatCode="[$¥-804]#,##0.00"/><numFmt numFmtId="167" formatCode="#,##0.00 [$€-1]"/><numFmt numFmtId="168" formatCode="[$¥-411]#,##0.00"/></numFmts><fonts count="2" x14ac:knownFonts="1"><font><sz val="11"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font><font><b/><sz val="11"/><color theme="0"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts><fills count="3"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill><fill><patternFill patternType="solid"><fgColor theme="4"/><bgColor indexed="64"/></patternFill></fill></fills><borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders><cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs><cellXfs count="13"><xf numFmtId="0" fontId="0" fillId="0" borderId="0" xfId="0"/><xf numFmtId="0" fontId="0" fillId="0" borderId="0" xfId="0" applyNumberFormat="1"/><xf numFmtId="14" fontId="0" fillId="0" borderId="0" xfId="0" applyNumberFormat="1"/><xf numFmtId="0" fontId="1" fillId="2" borderId="0" xfId="0"/><xf numFmtId="0" fontId="0" fillId="0" borderId="0" xfId="0" applyAlignment="1"><alignment horizontal="center" vertical="center"/></xf><xf numFmtId="164" fontId="0" fillId="0" borderId="0" xfId="0" applyNumberFormat="1"/><xf numFmtId="165" fontId="0" fillId="0" borderId="0" xfId="0" applyNumberFormat="1"/><xf numFmtId="166" fontId="0" fillId="0" borderId="0" xfId="0" applyNumberFormat="1"/><xf numFmtId="167" fontId="0" fillId="0" borderId="0" xfId="0" applyNumberFormat="1"/><xf numFmtId="168" fontId="0" fillId="0" borderId="0" xfId="0" applyNumberFormat="1"/><xf numFmtId="21" fontId="0" fillId="0" borderId="0" xfId="0" applyNumberFormat="1"/><xf numFmtId="22" fontId="0" fillId="0" borderId="0" xfId="0" applyNumberFormat="1"/><xf numFmtId="10" fontId="0" fillId="0" borderId="0" xfId="0" applyNumberFormat="1"/></cellXfs><cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles><dxfs count="0"/><tableStyles count="0" defaultTableStyle="TableStyleMedium2" defaultPivotStyle="PivotStyleLight16"/><extLst><ext uri="{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}" xmlns:x14="http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"><x14:slicerStyles defaultSlicerStyle="SlicerStyleLight1"/></ext><ext uri="{9260A510-F301-46a8-8635-F512D64BE5F5}" xmlns:x15="http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"><x15:timelineStyles defaultTimelineStyle="TimeSlicerStyleLight1"/></ext></extLst></styleSheet>'}static getWorkbook(t){return e.XML_STRING+`<workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x15" xmlns:x15="http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"><fileVersion appName="xl" lastEdited="6" lowestEdited="6" rupBuild="14420"/><workbookPr filterPrivacy="1" defaultThemeVersion="164011"/><bookViews><workbookView xWindow="0" yWindow="0" windowWidth="22260" windowHeight="12645"/></bookViews><sheets><sheet name="${t}" sheetId="1" r:id="rId1"/></sheets><calcPr calcId="162913"/><extLst><ext uri="{140A7094-0E35-4892-8432-C4D2E57EDEB5}" xmlns:x15="http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"><x15:workbookPr chartTrackingRefBase="1"/></ext></extLst></workbook>`}static getWorksheetRels(){return e.XML_STRING+'<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/table" Target="../tables/table1.xml"/></Relationships>'}static getWorkbookRels(t){let i=e.XML_STRING+'<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme" Target="theme/theme1.xml"/><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/sheet1.xml"/>';return t&&(i+=e.SHARED_STRING_RELATIONSHIP),i+="</Relationships>",i}static getSheetXML(t,i,n,r,s,o=0,a){let l=o>0;return`${e.XML_STRING}\n<worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac">\n${l?'<sheetPr><outlinePr summaryBelow="0"/></sheetPr>':""}\n${a?"":`<dimension ref="${t}"/>`}\n<sheetViews><sheetView tabSelected="1" workbookViewId="0">${i}</sheetView></sheetViews>\n<sheetFormatPr defaultRowHeight="15" ${l?`outlineLevelRow="${o}"`:""} x14ac:dyDescent="0.25"/>\n${n}\n${r}\n<pageMargins left="0.7" right="0.7" top="0.75" bottom="0.75" header="0.3" footer="0.3"/>\n${s?'<tableParts count="1"><tablePart r:id="rId1"/></tableParts>':""}</worksheet>`}static getSharedStringXML(t,i,n){return e.XML_STRING+'<sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" count="'+t+'" uniqueCount="'+i+'">'+n+"</sst>"}static getContentTypesXML(t,i){let n=e.XML_STRING+'<Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types">\n            <Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml"/>\n            <Default Extension="xml" ContentType="application/xml"/>\n            <Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"/>\n            <Override PartName="/xl/worksheets/sheet1.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"/>\n            <Override PartName="/xl/theme/theme1.xml" ContentType="application/vnd.openxmlformats-officedocument.theme+xml"/>\n            <Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"/>\n            <Override PartName="/docProps/core.xml" ContentType="application/vnd.openxmlformats-package.core-properties+xml"/>\n            <Override PartName="/docProps/app.xml" ContentType="application/vnd.openxmlformats-officedocument.extended-properties+xml"/>';return n+=t?'\t<Override PartName="/xl/sharedStrings.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"/>':"",n+=i?'<Override PartName="/xl/tables/table1.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"/>':"",n+="</Types>",n}static getTablesXML(t,i,n,r){return`${e.XML_STRING}<table xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" id="1" name="Table1" displayName="Table1" ref="${i}" totalsRowShown="0">\n    <autoFilter ref="${t}"/>${r}${n}<tableStyleInfo name="TableStyleMedium2" showFirstColumn="0" showLastColumn="0" showRowStripes="1" showColumnStripes="0"/>\n</table>`}static getExcelColumn(e){let t="";for(;e>=0;){let i=e%26;t=String.fromCharCode(65+i)+t,e=Math.floor(e/26)-1}return t}}return e})(),MD=(()=>{class e{constructor(){this.maxOutlineLevel=0,this.sheetData="",this.dimension="",this.freezePane="",this.rowHeight="",this.mergeCellStr="",this.mergeCellsCounter=0,this.rowIndex=0,this.pivotGridRowHeadersMap=new Map,this.dimensionMap=new Map,this.hierarchicalDimensionMap=new Map,this.currentSummaryOwner="",this.currentHierarchicalOwner="",this.firstColumn=Number.MAX_VALUE,this.firstDataRow=Number.MAX_VALUE,this.currencyStyleMap=new Map([["USD",{styleXf:5,symbol:"$"}],["GBP",{styleXf:6,symbol:"£"}],["CNY",{styleXf:7,symbol:"¥"}],["EUR",{styleXf:8,symbol:"€"}],["JPY",{styleXf:9,symbol:"¥"}]])}static{this.MIN_WIDTH=8.43}writeElement(){}writeElementAsync(e,t){return st(this,null,(function*(){return new Promise((i=>{this.prepareDataAsync(t,((n,r)=>{let s=(!t.isEmpty||t.options.alwaysExportHeaders)&&t.options.exportAsTable;e["sheet1.xml"]=RD(VD.getSheetXML(this.dimension,this.freezePane,n,r,s,this.maxOutlineLevel,t.isHierarchical)),i()}))}))}))}prepareDataAsync(t,i){this.sheetData="";let n="",r=t.dataDictionary;if(this.rowIndex=0,!t.isEmpty||t.options.alwaysExportHeaders&&0!==t.owner.columns.length){let s=t.owner,o=t.isHierarchical,a=t.hasMultiColumnHeader,l=t.hasMultiRowHeader,d=s.columns.some((e=>void 0!==e.exportIndex)),c=t.options.rowHeight;this.isValidGrid=t.isHierarchical||t.isTreeGrid||t.isGroupedGrid,this.rowHeight=c?` ht="${c}" customHeight="1"`:"",this.sheetData+="<sheetData>";let h=[];for(let e=0;e<=s.maxRowLevel;e++)h=s.columns.filter((t=>t.level===e&&t.rowSpan>0&&!t.skip)),this.printHeaders(t,h,e,!0),this.rowIndex++;this.rowIndex=0;for(let e=0;e<=s.maxLevel;e++){this.rowIndex++;let i=this.pivotGridRowHeadersMap.get(this.rowIndex)??"";this.sheetData+=`<row r="${this.rowIndex}"${this.rowHeight}>${i}`;let n=s.columns.filter((e=>e.headerType!==_b.RowHeader&&e.headerType!==_b.MultiRowHeader&&e.headerType!==_b.PivotRowHeader&&e.headerType!==_b.PivotMergedHeader));h=a?n.filter((t=>(t.level<e&&t.headerType!==_b.MultiColumnHeader||t.level===e)&&t.columnSpan>0&&!t.skip)).sort(((e,t)=>e.startIndex-t.startIndex)).sort(((e,t)=>e.pinnedIndex-t.pinnedIndex)):d?n.filter((e=>!e.skip)):n.filter((e=>!e.skip)).sort(((e,t)=>e.startIndex-t.startIndex)).sort(((e,t)=>e.pinnedIndex-t.pinnedIndex)),this.printHeaders(t,h,e,!1),this.sheetData+="</row>"}let u=t.options.ignoreMultiColumnHeaders?0:s.maxLevel,g=t.options.freezeHeaders?2+u:1;if(o){let e=t.options.columnWidth?t.options.columnWidth:20;if(n+=`<cols><col min="1" max="${t.columnCount}" width="${e}" customWidth="1"/>`,t.options.freezeHeaders){let e=VD.getExcelColumn(0)+g;this.freezePane=`<pane xSplit="0" ySplit="${g-1}"\n                         topLeftCell="${e}" activePane="topRight" state="frozen"/>`}}else{let i=t.hasSummaries?t.columnCount+1:t.columnCount-1;if(this.dimension="A1:"+VD.getExcelColumn(i)+t.rowCount,n+="<cols>",a)n+=`<col min="1" max="${t.columnCount}" width="15" customWidth="1"/>`;else for(let i=0;i<t.columnCount;i++){let s=r.columnWidths[i],o=void 0!==t.options.columnWidth?t.options.columnWidth:Math.max(s/96*14.4,e.MIN_WIDTH);o>0||(o=e.MIN_WIDTH),n+=`<col min="${i+1}" max="${i+1}" width="${o}" customWidth="1"/>`}let s=t.indexOfLastPinnedColumn,o=s+1,l=VD.getExcelColumn(o)+g;void 0===s||-1===s||t.options.ignorePinning||t.options.ignoreColumnsOrder?t.options.freezeHeaders&&(l=VD.getExcelColumn(0)+g,this.freezePane=`<pane xSplit="0" ySplit="${g-1}"\n                         topLeftCell="${l}" activePane="topRight" state="frozen"/>`):this.freezePane=`<pane xSplit="${o}" ySplit="${g-1}"\n                         topLeftCell="${l}" activePane="topRight" state="frozen"/>`}t.hasSummaries&&(n+=`<col min="${t.columnCount+2}" max="${t.columnCount+2}" hidden="1"/>`),n+="</cols>",this.processDataRecordsAsync(t,(e=>{this.sheetData+=e,this.sheetData+="</sheetData>",(a||l)&&this.mergeCellsCounter>0&&(this.sheetData+=`<mergeCells count="${this.mergeCellsCounter}">${this.mergeCellStr}</mergeCells>`),i(n,this.sheetData)}))}else this.sheetData+="<sheetData/>",this.dimension="A1",i("",this.sheetData)}processDataRecordsAsync(e,t){let i=[],n=e.options.rowHeight;this.rowHeight=n?' ht="'+n+'" customHeight="1"':"";let r=e.isHierarchical,s=e.owner.columns.some((e=>void 0!==e.exportIndex)),o=[];JC(e.rowCount-e.multiColumnHeaderRows-1,1e3,(t=>{if(!e.isEmpty){if(r){let n=e.data[t];if(n.type===xb.HeaderRecord){let t=e.owners.get(n.owner);t.columns.some((e=>!e.skip&&e.headerType===_b.MultiColumnHeader))&&this.hGridPrintMultiColHeaders(e,i,n,t)}o=Object.keys(e.data[t].data)}else o=s?e.rootKeys:e.owner.columns.filter((e=>e.headerType===_b.ColumnHeader&&!e.skip)).sort(((e,t)=>e.startIndex-t.startIndex)).sort(((e,t)=>e.pinnedIndex-t.pinnedIndex)).map((e=>e.field));i.push(this.processRow(e,t,o,r))}}),(()=>{t(i.join(""))}))}hGridPrintMultiColHeaders(e,t,i,n){for(let r=0;r<n.maxLevel;r++){let s=i.level,o=s>0?` outlineLevel="${s}"`:"";this.maxOutlineLevel=this.maxOutlineLevel<s?s:this.maxOutlineLevel;let a=i.hidden?' hidden="1"':"";this.rowIndex++;let l=`<row r="${this.rowIndex}"${this.rowHeight}${o}${a}>`,d=n.columns.filter((e=>(e.level<r&&e.headerType!==_b.MultiColumnHeader||e.level===r)&&e.columnSpan>0&&!e.skip)).sort(((e,t)=>e.startIndex-t.startIndex)).sort(((e,t)=>e.pinnedIndex-t.pinnedIndex)),c=0+i.level;for(let t of d){if(t.level===r){let i;if(i=VD.getExcelColumn(c)+this.rowIndex,l+=`<c r="${i}" s="3" t="s"><v>${e.dataDictionary.saveValue(t.header,!0)}</v></c>`,r!==n.maxLevel){if(this.mergeCellsCounter++,this.mergeCellStr+=` <mergeCell ref="${i}:`,t.headerType===_b.ColumnHeader)i=VD.getExcelColumn(c)+(this.rowIndex+n.maxLevel-t.level);else for(let e=1;e<t.columnSpan;e++)i=VD.getExcelColumn(c+e)+this.rowIndex,l+=`<c r="${i}" s="3" />`;this.mergeCellStr+=`${i}" />`}}c+=t.columnSpan}l+="</row>",t.push(l)}}processRow(e,t,i,n){let r=e.data[t],s=new Array(e.columnCount+2),o=r.level,a=o>0?` outlineLevel="${o}"`:"";this.maxOutlineLevel=this.maxOutlineLevel<o?o:this.maxOutlineLevel;let l=r.hidden?' hidden="1"':"";this.rowIndex++;let d=this.pivotGridRowHeadersMap.get(this.rowIndex)??"";s[0]=`<row r="${this.rowIndex}"${this.rowHeight}${a}${l}>${d}`;let c=e.isSpecialData?[r.data]:i,h=r.type===xb.HierarchicalGridRecord||r.type===xb.DataRecord||r.type===xb.GroupedRecord||r.type===xb.TreeGridRecord;(h||r.type===xb.SummaryRecord)&&e.hasSummaries&&this.resolveSummaryDimensions(r,h,e.isGroupedGrid);for(let i=0;i<c.length;i++){let r=i+(n?o:e.isPivotGrid?e.owner.maxRowLevel:0),a=this.getCellData(e,t,r,c[i]);s[i+1]=a}return s[c.length+1]="</row>",s.join("")}getCellData(e,t,i,n){let r=e.dataDictionary,s=VD.getExcelColumn(i)+this.rowIndex,o=e.data[t],a=o.type===xb.HeaderRecord,l=o.type===xb.SummaryRecord,d=o.type===xb.GroupedRecord||o.type===xb.DataRecord||o.type===xb.HierarchicalGridRecord||o.type===xb.TreeGridRecord;this.firstDataRow=this.firstDataRow>this.rowIndex?this.rowIndex:this.firstDataRow;let c=e.isSpecialData?o.data:o.data[n];(c===Db||n===Db)&&(s=VD.getExcelColumn(e.columnCount+1)+this.rowIndex),e.hasSummaries&&(d||e.isGroupedGrid&&l)&&this.setSummaryCoordinates(s,n,o.hierarchicalOwner,e.isGroupedGrid&&l),o.summaryKey&&o.summaryKey===Sb&&n!==Db&&e.isGroupedGrid&&(this.setRootSummaryStartCoordinate(i,n),this.firstColumn>i&&(this.setRootSummaryStartCoordinate(e.columnCount+1,Db),this.firstColumn=i));let h=Array.from(e.owners.values()).map((e=>e.columns)).find((e=>e.some((e=>e.field===n)))),u=h?h.find((e=>e.field===n)):void 0;if(null==c&&!e.hasSummaries)return`<c r="${s}" s="1"/>`;if(e.hasSummaries&&(d||a)||!e.hasSummaries){let e=r.saveValue(c,a),t=-1!==e,i=!t&&c instanceof Date,n=t?e:c;if(i){let e=6e4*n.getTimezoneOffset(),t=new Date(n-e).toISOString();n=t.substring(0,t.indexOf("."))}let o=t?' t="s"':i?' t="d"':"",l="time"===u?.dataType,d="dateTime"===u?.dataType;return`<c r="${s}"${o}${"percent"===u?.dataType?' s="12"':d?' s="11"':l?' s="10"':a?' s="3"':t?"":i?' s="2"':"currency"===u?.dataType?` s="${this.currencyStyleMap.get(u.currencyCode)?.styleXf||0}"`:' s="1"'}><v>${n}</v></c>`}{let t=`"${c??""}"`;if(l&&c){let i=this.isValidGrid?o.hierarchicalOwner??bb:null,a=e.isGroupedGrid?e.maxLevel:o.level;if(t=this.getSummaryFunction(c.label,n,i,a,u),!t){let e,t=c.label?.toString(),i=c.value?.toString();t&&i?e=`${c.label}: ${c.value}`:t?e=c.label:i&&(e=c.value);let n=r.saveValue(e,!1),o=-1!==n,a=!o&&e instanceof Date;if(a){let t=6e4*e.getTimezoneOffset(),i=new Date(e-t).toISOString();e=i.substring(0,i.indexOf("."))}return`<c r="${s}" ${o?'t="s"':a?'t="d"':""} ${a?'s="2"':'s="1"'}><v>${o?n:e}</v></c>`}return`<c r="${s}"><f t="array" ref="${s}">${t}</f></c>`}return`<c r="${s}" s="1"><f>${t}</f></c>`}}resolveSummaryDimensions(e,t,i){this.isValidGrid&&""!==this.currentHierarchicalOwner&&this.currentHierarchicalOwner!==e.owner&&!this.hierarchicalDimensionMap.get(this.currentHierarchicalOwner)&&this.hierarchicalDimensionMap.set(this.currentHierarchicalOwner,new Map(this.dimensionMap)),t&&((this.currentSummaryOwner!==e.summaryKey||this.currentHierarchicalOwner!==e.hierarchicalOwner)&&this.dimensionMap.clear(),this.currentSummaryOwner=e.summaryKey,i&&""!==this.currentHierarchicalOwner&&e.hierarchicalOwner===bb&&this.hierarchicalDimensionMap.delete(bb),this.currentHierarchicalOwner=e.hierarchicalOwner)}setSummaryCoordinates(e,t,i,n){let r=this.hierarchicalDimensionMap.get(i)??this.dimensionMap;if(r.get(t))n?this.setEndCoordinates(r,!0):(r.get(t).endCoordinate=e,this.lastValidRow=r.get(t).endCoordinate.match(/[a-z]+|[^a-z]+/gi)[1]);else{let i={startCoordinate:e,endCoordinate:e};r.set(t,i)}if(this.isValidGrid&&!n&&i!==bb){let e=this.hierarchicalDimensionMap.get(bb);this.setEndCoordinates(e)}}setEndCoordinates(e,t=!1){for(let i of e.values()){let e=i.endCoordinate.match(/[a-z]+|[^a-z]+/gi)[0];i.endCoordinate=`${e}${t?this.lastValidRow:this.rowIndex}`}}getSummaryFunction(e,t,i,n,r){let s=i?this.hierarchicalDimensionMap.get(i):this.dimensionMap,o=s.get(t),a=s.get(Db),l="",d="",c="",h=this.currencyStyleMap.get(r.currencyCode);switch(e?.toString().toLowerCase()){case"count":return`"Count: "&amp;_xlfn.COUNTIF(${a.startCoordinate}:${a.endCoordinate}, ${n})`;case"min":return l=`_xlfn.MIN(_xlfn.IF(${a.startCoordinate}:${a.endCoordinate}=${n}, ${o.startCoordinate}:${o.endCoordinate}))`,d='"Min: "&amp;',c=d+("currency"===r.dataType&&h?`_xlfn.TEXT(${l}, "${h.symbol}#,##0.00")`:`${l}`),c;case"max":return l=`_xlfn.MAX(_xlfn.IF(${a.startCoordinate}:${a.endCoordinate}=${n}, ${o.startCoordinate}:${o.endCoordinate}))`,d='"Max: "&amp;',c=d+("currency"===r.dataType&&h?`_xlfn.TEXT(${l}, "${h.symbol}#,##0.00")`:`${l}`),c;case"sum":return l=`_xlfn.SUMIF(${a.startCoordinate}:${a.endCoordinate}, ${n}, ${o.startCoordinate}:${o.endCoordinate})`,d='"Sum: "&amp;',c=d+("currency"===r.dataType&&h?`_xlfn.TEXT(${l}, "${h.symbol}#,##0.00")`:`${l}`),c;case"avg":return l=`_xlfn.AVERAGEIF(${a.startCoordinate}:${a.endCoordinate}, ${n}, ${o.startCoordinate}:${o.endCoordinate})`,d='"Avg: "&amp;',c=d+("currency"===r.dataType&&h?`_xlfn.TEXT(${l}, "${h.symbol}#,##0.00")`:`${l}`),c;case"earliest":return`"Earliest: "&amp;_xlfn.TEXT(_xlfn.MIN(_xlfn.IF(${a.startCoordinate}:${a.endCoordinate}=${n}, ${o.startCoordinate}:${o.endCoordinate})), "m/d/yyyy")`;case"latest":return`"Latest: "&amp;_xlfn.TEXT(_xlfn.MAX(_xlfn.IF(${a.startCoordinate}:${a.endCoordinate}=${n}, ${o.startCoordinate}:${o.endCoordinate})), "m/d/yyyy")`}}setRootSummaryStartCoordinate(e,t){let i=VD.getExcelColumn(e)+this.firstDataRow,n=this.hierarchicalDimensionMap.get(bb);n.get(t).startCoordinate!==i&&(n.get(t).startCoordinate=i)}printHeaders(e,t,i,n){let r=0,s="",o=e.isHierarchical?' s="3"':"",a=e.dataDictionary,l=e.owner,d=n?l.maxRowLevel:l.maxLevel;for(let c of t){let t=n?c.rowSpan:c.columnSpan;if(c.level===i){let h,u=n?this.rowIndex:r+(l.maxRowLevel??0),g=n?r+l.maxLevel+2:this.rowIndex;c.headerType===_b.PivotRowHeader&&(g=r+1);let p=c.headerType===_b.PivotMergedHeader?a.saveValue(c.field,!0,!0):a.saveValue(c.header,!0,!1);if(h=(c.field===Db?VD.getExcelColumn(e.columnCount+1):VD.getExcelColumn(u))+g,o=n&&c.rowSpan>1?' s="4"':o,s=`<c r="${h}"${o} t="s"><v>${p}</v></c>`,n?this.pivotGridRowHeadersMap.has(g)?this.pivotGridRowHeadersMap.set(g,this.pivotGridRowHeadersMap.get(g)+s):this.pivotGridRowHeadersMap.set(g,s):this.sheetData+=s,i!==d){if(this.mergeCellsCounter++,this.mergeCellStr+=` <mergeCell ref="${h}:`,c.headerType===_b.ColumnHeader){let e=n?d:r+(l.maxRowLevel??0),t=n?g:l.maxLevel+1;h=VD.getExcelColumn(e)+t}else for(let e=1;e<t;e++){let t=n?u:u+e,i=n?g+e:this.rowIndex;h=VD.getExcelColumn(t)+i,s=`<c r="${h}"${o} />`,n?this.pivotGridRowHeadersMap.set(i,s):this.sheetData+=s}(c.headerType===_b.RowHeader||c.headerType===_b.MultiRowHeader)&&c.columnSpan&&c.columnSpan>1&&(h=VD.getExcelColumn(u+c.columnSpan-1)+(g+t-1)),this.mergeCellStr+=`${h}" />`}}c.headerType!==_b.PivotRowHeader&&(r+=t)}}}return e})(),LD=class{static getExcelFolder(e){switch(e){case FD.RootExcelFolder:return new class{get folderName(){return""}childFiles(){return[PD.ContentTypesFile]}childFolders(){return[FD.RootRelsExcelFolder,FD.DocPropsExcelFolder,FD.XLExcelFolder]}};case FD.RootRelsExcelFolder:return new class{get folderName(){return"_rels"}childFiles(){return[PD.RootRelsFile]}childFolders(){return[]}};case FD.DocPropsExcelFolder:return new class{get folderName(){return"docProps"}childFiles(){return[PD.AppFile,PD.CoreFile]}childFolders(){return[]}};case FD.XLExcelFolder:return new class{get folderName(){return"xl"}childFiles(e){let t=[PD.StyleFile,PD.WorkbookFile];return(!e.isEmpty||e.options.alwaysExportHeaders)&&t.push(PD.SharedStringsFile),t}childFolders(e){let t=[FD.XLRelsExcelFolder,FD.ThemeExcelFolder,FD.WorksheetsExcelFolder];return(!e.isEmpty||e.options.alwaysExportHeaders)&&e.options.exportAsTable&&t.push(FD.TablesExcelFolder),t}};case FD.XLRelsExcelFolder:return new class{get folderName(){return"_rels"}childFiles(){return[PD.WorkbookRelsFile]}childFolders(){return[]}};case FD.ThemeExcelFolder:return new class{get folderName(){return"theme"}childFiles(){return[PD.ThemeFile]}childFolders(){return[]}};case FD.WorksheetsExcelFolder:return new class{get folderName(){return"worksheets"}childFiles(){return[PD.WorksheetFile]}childFolders(e){return e.isEmpty&&!e.options.alwaysExportHeaders||!e.options.exportAsTable?[]:[FD.WorksheetsRelsExcelFolder]}};case FD.WorksheetsRelsExcelFolder:return new class{get folderName(){return"_rels"}childFiles(){return[PD.WorksheetRelsFile]}childFolders(){return[]}};case FD.TablesExcelFolder:return new class{get folderName(){return"tables"}childFiles(){return[PD.TablesFile]}childFolders(){return[]}};default:throw new Error("Unknown excel folder type!")}}static getExcelFile(e){switch(e){case PD.RootRelsFile:return new class{writeElement(e){e[".rels"]=RD(VD.getRels())}};case PD.AppFile:return new class{writeElement(e,t){e["app.xml"]=RD(VD.getApp(t.options.worksheetName))}};case PD.CoreFile:return new class{writeElement(e){e["core.xml"]=RD(VD.getCore())}};case PD.WorkbookRelsFile:return new class{writeElement(e,t){let i=!t.isEmpty||t.options.alwaysExportHeaders;e["workbook.xml.rels"]=RD(VD.getWorkbookRels(i))}};case PD.ThemeFile:return new class{writeElement(e){e["theme1.xml"]=RD(VD.getTheme())}};case PD.WorksheetFile:return new MD;case PD.StyleFile:return new class{writeElement(e){e["styles.xml"]=RD(VD.getStyles())}};case PD.WorkbookFile:return new class{writeElement(e,t){e["workbook.xml"]=RD(VD.getWorkbook(t.options.worksheetName))}};case PD.ContentTypesFile:return new class{writeElement(e,t){let i=!t.isEmpty||t.options.alwaysExportHeaders;e["[Content_Types].xml"]=RD(VD.getContentTypesXML(i,t.options.exportAsTable))}};case PD.SharedStringsFile:return new class{writeElement(e,t){let i=t.dataDictionary,n=i.getKeys(),r=new Array(n.length);for(let e of n)r[i.getSanitizedValue(e)]="<si><t>"+e+"</t></si>";e["sharedStrings.xml"]=RD(VD.getSharedStringXML(i.stringsCount,n.length,r.join("")))}};case PD.WorksheetRelsFile:return new class{writeElement(e){e["sheet1.xml.rels"]=RD(VD.getWorksheetRels())}};case PD.TablesFile:return new class{writeElement(e,t){let i=t.columnCount,n=VD.getExcelColumn(i-1)+t.rowCount,r="A1:"+n,s=t.isEmpty?"A1:"+VD.getExcelColumn(i-1)+(t.rowCount+1):r,o=t.owner.columns.some((e=>void 0!==e.exportIndex))?t.rootKeys:t.owner.columns.filter((e=>!e.skip)).sort(((e,t)=>e.startIndex-t.startIndex)).sort(((e,t)=>e.pinnedIndex-t.pinnedIndex)).map((e=>e.header)),a="",l='<tableColumns count="'+i+'">';for(let e=0;e<i;e++)l+='<tableColumn id="'+(e+1)+'" name="'+o[e]+'"/>';if(l+="</tableColumns>",t.sort){let e=t.sort,i=VD.getExcelColumn(o.indexOf(e.fieldName));a=`<sortState ref="A2:${n}"><sortCondition descending="${e.dir-1}" ref="${i}1:${i}15"/></sortState>`}e["table1.xml"]=RD(VD.getTablesXML(r,s,l,a))}};default:throw Error("Unknown excel file type!")}}},ND=(()=>{class e{static{this.DEFAULT_FONT="11pt Calibri"}static{this.TEXT_PADDING=5}constructor(e,t,i){this.hasNumberValues=!1,this.hasDateValues=!1,this._dictionary={},this._widthsDictionary={},this._counter=0,this.dirtyKeyCollections(),this._columnWidths=new Array(e),t?this._columnWidths.fill(t):this._columnWidths=i,this.stringsCount=0}get columnWidths(){return this._columnWidths}saveValue(e,t,i=!0){let n="",r=e instanceof Date,s=t||"number"!=typeof e&&e!==Number(e)&&!Number.isFinite(e)&&!r;return s?(n=i?ES.sanitizeValue(e):e,void 0===this._dictionary[n]&&(this._dictionary[n]=this._counter++,this.dirtyKeyCollections()),this.stringsCount++):r?this.hasDateValues=!0:this.hasNumberValues=!0,s?this.getSanitizedValue(n):-1}getValue(e){return this.getSanitizedValue(ES.sanitizeValue(e))}getSanitizedValue(e){return this._dictionary[e]}getKeys(){return this._keysAreValid||(this._keys=Object.keys(this._dictionary),this._keysAreValid=!0),this._keys}getTextWidth(t){if(void 0===this._widthsDictionary[t]){let i=this.getContext().measureText(t);this._widthsDictionary[t]=i.width+e.TEXT_PADDING}return this._widthsDictionary[t]}getContext(){if(!this._context){let t=globalThis.document?.createElement("canvas");this._context=t.getContext("2d"),this._context.font=e.DEFAULT_FONT}return this._context}dirtyKeyCollections(){this._keysAreValid=!1}}return e})(),HD=(()=>{class e extends Ib{constructor(){super(...arguments),this.exportEnded=new wl}static populateZipFileConfig(t,i,n){return st(this,null,(function*(){for(let r of i.childFolders(n)){let i=LD.getExcelFolder(r),s=t[i.folderName]={};yield e.populateZipFileConfig(s,i,n)}for(let e of i.childFiles(n)){let i=LD.getExcelFile(e);i instanceof MD?yield i.writeElementAsync(t,n):i.writeElement(t,n)}}))}exportDataImplementation(t,i,n){let r,s,o,a,l,d=t[0],c=d?.type===xb.HierarchicalGridRecord,h=d?.type===xb.PivotGridRecord,u=typeof d<"u"&&(c?t.some((e=>Object.keys(e.data).length>16384)):Object.keys(d.data).length>16384);if(t.length>1048576||u)throw Error("The Excel file can contain up to 1,048,576 rows and 16,384 columns.");if(typeof d<"u"){let e=0;if(t.forEach((t=>{e=Math.max(e,t.level)})),e>7)throw Error("Can create an outline of up to eight levels!");if(c)s=t.map((e=>this._ownersMap.get(e.owner).columns.filter((e=>!e.skip)).length+e.level)).sort(((e,t)=>t-e))[0],r=this._ownersMap.get(d.owner).columns.filter((e=>!e.skip)).map((e=>e.field)),l=this._ownersMap.get(d.owner);else{l=this._ownersMap.get(Cb);let e=l.columns.filter((e=>e.field!==Db&&!e.skip&&e.headerType===_b.ColumnHeader));o=l.columnWidths,a=l.indexOfLastPinnedColumn,s=h?e.length+this.pivotGridFilterFieldsCount:e.length,r=e.map((e=>e.field))}}else{let e=Array.from(this._ownersMap.keys());l=this._ownersMap.get(e[0]),o=l.columnWidths,s=l.columns.filter((e=>e.field!==Db&&!e.skip&&e.headerType===_b.ColumnHeader)).length}let g=new class{constructor(e,t,i,n,r,s,o,a,l){this._data=e,this.options=t,this.sort=i,this.columnCount=n,this.rootKeys=r,this.indexOfLastPinnedColumn=s,this.columnWidths=o,this.owner=a,this.owners=l,this.initializeData()}get data(){return this._data}get rowCount(){return this._rowCount}get isEmpty(){return!this.rowCount||this.rowCount===this.owner.maxLevel+1||!this.columnCount||this.owner.columns.every((e=>e.skip))}get isSpecialData(){return this._isSpecialData}get dataDictionary(){return this._dataDictionary}get hasMultiColumnHeader(){return this._hasMultiColumnHeader}get hasSummaries(){return this._hasSummaries}get hasMultiRowHeader(){return this._hasMultiRowHeader}get isHierarchical(){return this._isHierarchical}get isTreeGrid(){return this._isTreeGrid}get isPivotGrid(){return this._isPivotGrid}get isGroupedGrid(){return this._data.some((e=>e.type===xb.GroupedRecord))}get maxLevel(){return[...new Set(this._data.map((e=>e.level)))].sort(((e,t)=>e>t?-1:1))[0]}get multiColumnHeaderRows(){return this.options.ignoreMultiColumnHeaders?0:Array.from(this.owners.values()).map((e=>e.maxLevel)).reduce(((e,t)=>e+t))}initializeData(){this._dataDictionary=new ND(this.columnCount,this.options.columnWidth,this.columnWidths),this._hasMultiColumnHeader=Array.from(this.owners.values()).some((e=>e.columns.some((e=>!e.skip&&e.headerType===_b.MultiColumnHeader)))),this._hasMultiRowHeader=Array.from(this.owners.values()).some((e=>e.columns.some((e=>!e.skip&&e.headerType===_b.MultiRowHeader)))),this._isHierarchical=this.data[0]?.type===xb.HierarchicalGridRecord||"string"!=typeof Array.from(this.owners.keys())[0],this._hasSummaries=this._data.filter((e=>e.type===xb.SummaryRecord)).length>0,this._isTreeGrid=this._data.filter((e=>e.type===xb.TreeGridRecord)).length>0,this._isPivotGrid=this.data[0]?.type===xb.PivotGridRecord;let e=this._hasMultiColumnHeader&&!this.options.ignoreMultiColumnHeaders;(this._isHierarchical||e||this._isPivotGrid)&&(this.options.exportAsTable=!1),this._data&&0!==this._data.length?(this._isSpecialData=ES.isSpecialData(this._data[0].data),this._rowCount=this._data.length+this.multiColumnHeaderRows+1):this._isHierarchical||(this._rowCount=this.owner.maxLevel+1)}}(t,i,this._sort,s,r,a,o,l,this._ownersMap),p=LD.getExcelFolder(FD.RootExcelFolder),m={};e.populateZipFileConfig(m,p,g).then((()=>{!function(e,t,i){i||(i=t,t={}),"function"!=typeof i&&rD(7);var n={};ED(e,"",n,t);var r=Object.keys(n),s=r.length,o=0,a=0,l=s,d=new Array(s),c=[],h=function(){for(var e=0;e<c.length;++e)c[e]()},u=function(e,t){OD((function(){i(e,t)}))};OD((function(){u=i}));var g=function(){var e=new Vb(a+22),t=o,i=a-o;a=0;for(var n=0;n<l;++n){var r=d[n];try{var s=r.c.length;kD(e,a,r,r.f,r.u,s);var c=30+r.f.length+AD(r.extra),h=a+c;e.set(r.c,h),kD(e,o,r,r.f,r.u,s,a,r.m),o+=16+c+(r.m?r.m.length:0),a=h+s}catch(e){return u(e,null)}}(function(e,t,i,n,r){bD(e,t,101010256),bD(e,t+8,i),bD(e,t+10,i),bD(e,t+12,n),bD(e,t+16,r)})(e,o,d.length,i,t),u(null,e)};s||g();for(var p=function(e){var t=r[e],i=n[t],l=i[0],p=i[1],m=function(){var e=-1;return{p:function(t){for(var i=e,n=0;n<t.length;++n)i=fD[255&i^t[n]]^i>>>8;e=i},d:function(){return~e}}}(),f=l.length;m.p(l);var v=RD(t),y=v.length,x=p.comment,_=x&&RD(x),w=_&&_.length,C=AD(p.extra),S=0==p.level?0:8,b=function(i,n){if(i)h(),u(i,null);else{var r=n.length;d[e]=yD(p,{size:f,crc:m.d(),c:n,f:v,m:_,u:y!=t.length||_&&x.length!=w,compression:S}),o+=30+y+C+r,a+=76+2*(y+C)+(w||0)+r,--s||g()}};if(y>65535&&b(rD(11,0,1),null),S)if(f<16e4)try{b(null,DD(l,p))}catch(e){b(e,null)}else c.push(function(e,t,i){return i||(i=t,t={}),"function"!=typeof i&&rD(7),SD(e,t,[wD],(function(e){return CD(DD(e.data[0],e.data[1]))}),0,i)}(l,p,b));else b(null,l)},m=0;m<l;++m)p(m)}(m,((e,t)=>{this.saveFile(t,i.fileName),this.exportEnded.emit({xlsx:m}),n()}))}))}saveFile(e,t){let i=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});ES.saveBlobToFile(i,t)}static{this.ɵfac=(()=>{let t;return function(i){return(t||(t=ol(e)))(i||e)}})()}static{this.ɵprov=ir({token:e,factory:e.ɵfac,providedIn:"root"})}}return e})(),zD=class extends Ab{constructor(e){super(e,".xlsx"),this.ignorePinning=!1,this.exportAsTable=!0}get columnWidth(){return this._columnWidth}set columnWidth(e){if(e<0)throw Error("Invalid value for column width!");this._columnWidth=e}get rowHeight(){return this._rowHeight}set rowHeight(e){if(e<0)throw Error("Invalid value for row height!");this._rowHeight=e}get worksheetName(){return void 0===this._worksheetName||null===this._worksheetName?"Sheet1":this._worksheetName}set worksheetName(e){this._worksheetName=e}},BD=function(e){return e[e.State=0]="State",e[e.Transition=1]="Transition",e[e.Sequence=2]="Sequence",e[e.Group=3]="Group",e[e.Animate=4]="Animate",e[e.Keyframes=5]="Keyframes",e[e.Style=6]="Style",e[e.Trigger=7]="Trigger",e[e.Reference=8]="Reference",e[e.AnimateChild=9]="AnimateChild",e[e.AnimateRef=10]="AnimateRef",e[e.Query=11]="Query",e[e.Stagger=12]="Stagger",e}(BD||{}),GD="*";function $D(e,t=null){return{type:BD.Animate,styles:t,timings:e}}function WD(e,t=null){return{type:BD.Sequence,steps:e,options:t}}function KD(e){return{type:BD.Style,styles:e,offset:null}}function jD(e){return{type:BD.Keyframes,steps:e}}function UD(e,t=null){return{type:BD.Reference,animation:e,options:t}}function qD(e,t=null){return{type:BD.AnimateRef,animation:e,options:t}}var YD=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(e=0,t=0){this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach((e=>e())),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask((()=>this._onFinish()))}_onStart(){this._onStartFns.forEach((e=>e())),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach((e=>e())),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((e=>e())),t.length=0}},ZD=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(e){this.players=e;let t=0,i=0,n=0,r=this.players.length;0==r?queueMicrotask((()=>this._onFinish())):this.players.forEach((e=>{e.onDone((()=>{++t==r&&this._onFinish()})),e.onDestroy((()=>{++i==r&&this._onDestroy()})),e.onStart((()=>{++n==r&&this._onStart()}))})),this.totalTime=this.players.reduce(((e,t)=>Math.max(e,t.totalTime)),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach((e=>e())),this._onDoneFns=[])}init(){this.players.forEach((e=>e.init()))}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach((e=>e())),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach((e=>e.play()))}pause(){this.players.forEach((e=>e.pause()))}restart(){this.players.forEach((e=>e.restart()))}finish(){this._onFinish(),this.players.forEach((e=>e.finish()))}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach((e=>e.destroy())),this._onDestroyFns.forEach((e=>e())),this._onDestroyFns=[])}reset(){this.players.forEach((e=>e.reset())),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach((e=>{let i=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(i)}))}getPosition(){let e=this.players.reduce(((e,t)=>null===e||t.totalTime>e.totalTime?t:e),null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach((e=>{e.beforeDestroy&&e.beforeDestroy()}))}triggerCallback(e){let t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((e=>e())),t.length=0}},XD=(()=>{class e{static ɵfac=function(t){return new(t||e)};static ɵprov=ir({token:e,factory:()=>Mr(JD),providedIn:"root"})}return e})(),QD=class{},JD=(()=>{class e extends XD{animationModuleType=Mr(dd,{optional:!0});_nextAnimationId=0;_renderer;constructor(e,t){super();let i={id:"0",encapsulation:bd.None,styles:[],data:{animation:[]}};if(this._renderer=e.createRenderer(t.body,i),null===this.animationModuleType&&!function(e){let t=e.ɵtype;return 0===t||1===t}(this._renderer))throw new $n(3600,!1)}build(e){let t=this._nextAnimationId;this._nextAnimationId++;let i=Array.isArray(e)?WD(e):e;return iE(this._renderer,null,t,"register",[i]),new eE(t,this._renderer)}static ɵfac=function(t){return new(t||e)(Vr(nu),Vr(Kf))};static ɵprov=ir({token:e,factory:e.ɵfac,providedIn:"root"})}return e})(),eE=class extends QD{_id;_renderer;constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new tE(this._id,e,t||{},this._renderer)}},tE=class{id;element;_renderer;parentPlayer=null;_started=!1;constructor(e,t,i,n){this.id=e,this.element=t,this._renderer=n,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){iE(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return function(e){let t=e.ɵtype;return 0===t?e:1===t?e.animationRenderer:null}(this._renderer)?.engine?.players[this.id]?.getPosition()??0}totalTime=0};function iE(e,t,i,n,r){e.setProperty(t,`@@${i}:${n}`,r)}var nE=[KD({opacity:"{{startOpacity}}"}),$D("{{duration}} {{delay}} {{easing}}",KD({opacity:"{{endOpacity}}"}))],rE=UD(nE,{params:{delay:"0s",duration:"350ms",easing:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",endOpacity:1,startOpacity:0}}),sE=UD(nE,{params:{delay:"0s",duration:"350ms",easing:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",endOpacity:0,startOpacity:1}}),oE=[KD({backfaceVisibility:"hidden",transformStyle:"preserve-3d"}),$D("{{duration}} {{delay}} {{easing}}",jD([KD({offset:0,transform:"translateZ({{startDistance}})\n                rotate3d({{rotateX}}, {{rotateY}}, {{rotateZ}}, {{startAngle}}deg)"}),KD({offset:1,transform:"translateZ({{endDistance}})\n                rotate3d({{rotateX}}, {{rotateY}}, {{rotateZ}}, {{endAngle}}deg)"})]))],aE=UD(oE,{params:{delay:"0s",duration:"600ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endAngle:180,endDistance:"0px",rotateX:1,rotateY:0,rotateZ:0,startAngle:0,startDistance:"0px"}}),lE=UD(oE,{params:{delay:"0s",duration:"600ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endDistance:"0px",rotateX:1,rotateY:0,rotateZ:0,startAngle:0,startDistance:"0px",endAngle:-180}}),dE=UD(oE,{params:{delay:"0s",duration:"600ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endAngle:180,endDistance:"0px",rotateZ:0,startAngle:0,startDistance:"0px",rotateX:0,rotateY:1}}),cE=UD(oE,{params:{delay:"0s",duration:"600ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endDistance:"0px",rotateZ:0,startAngle:0,startDistance:"0px",endAngle:-180,rotateX:0,rotateY:1}}),hE=UD(oE,{params:{delay:"0s",duration:"600ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endAngle:180,rotateX:1,rotateY:0,rotateZ:0,startAngle:0,startDistance:"0px",endDistance:"170px"}}),uE=UD(oE,{params:{delay:"0s",duration:"600ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endAngle:180,rotateX:1,rotateY:0,rotateZ:0,startAngle:0,startDistance:"0px",endDistance:"-170px"}}),gE=UD(oE,{params:{delay:"0s",duration:"600ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endAngle:180,rotateZ:0,startAngle:0,startDistance:"0px",endDistance:"170px",rotateX:0,rotateY:1}}),pE=UD(oE,{params:{delay:"0s",duration:"600ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endAngle:180,rotateZ:0,startAngle:0,startDistance:"0px",endDistance:"-170px",rotateX:0,rotateY:1}}),mE=[KD({opacity:"{{ startOpacity }}",height:"{{ startHeight }}",paddingBlock:"{{ startPadding }}"}),$D("{{duration}} {{delay}} {{easing}}",KD({opacity:"{{ endOpacity }}",height:"{{ endHeight }}",paddingBlock:"{{ endPadding }}"}))],fE=UD(mE,{params:{delay:"0s",duration:"350ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",startOpacity:0,endOpacity:1,startHeight:"0px",endHeight:"*",startPadding:"0px",endPadding:"*"}}),vE=UD(mE,{params:{delay:"0s",duration:"350ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",startOpacity:1,endOpacity:0,startHeight:"*",endHeight:"0px",startPadding:"*",endPadding:"0px"}}),yE=[$D("{{duration}} {{delay}} {{easing}}",jD([KD({offset:0,transform:"rotate(0deg) translate{{direction}}(0)",transformOrigin:"{{xPos}} {{yPos}}"}),KD({offset:.1,transform:"rotate({{endAngle}}deg) translate{{direction}}(-{{startDistance}})"}),KD({offset:.2,transform:"rotate(-{{startAngle}}deg) translate{{direction}}({{startDistance}})"}),KD({offset:.3,transform:"rotate({{startAngle}}deg) translate{{direction}}(-{{startDistance}})"}),KD({offset:.4,transform:"rotate(-{{startAngle}}deg) translate{{direction}}({{startDistance}})"}),KD({offset:.5,transform:"rotate({{startAngle}}deg) translate{{direction}}(-{{startDistance}})"}),KD({offset:.6,transform:"rotate(-{{startAngle}}deg) translate{{direction}}({{startDistance}})"}),KD({offset:.7,transform:"rotate({{startAngle}}deg) translate{{direction}}(-{{startDistance}})"}),KD({offset:.8,transform:"rotate(-{{endAngle}}deg) translate{{direction}}({{endDistance}})"}),KD({offset:.9,transform:"rotate({{endAngle}}deg) translate{{direction}}(-{{endDistance}})"}),KD({offset:1,transform:"rotate(0deg) translate{{direction}}(0)",transformOrigin:"{{xPos}} {{yPos}}"})]))],xE=UD(yE,{params:{delay:"0s",direction:"X",duration:"800ms",easing:"cubic-bezier(0.455, 0.030, 0.515, 0.955)",endAngle:0,endDistance:"8px",startAngle:0,startDistance:"10px",xPos:"center",yPos:"center"}}),_E=UD(yE,{params:{delay:"0s",direction:"Y",duration:"800ms",easing:"cubic-bezier(0.455, 0.030, 0.515, 0.955)",endAngle:0,endDistance:"8px",startAngle:0,startDistance:"10px",xPos:"center",yPos:"center"}}),wE=UD(yE,{params:{delay:"0s",direction:"X",duration:"800ms",easing:"cubic-bezier(0.455, 0.030, 0.515, 0.955)",xPos:"center",endAngle:2,endDistance:"0",startAngle:4,startDistance:"0",yPos:"top"}}),CE=UD(yE,{params:{delay:"0s",duration:"800ms",easing:"cubic-bezier(0.455, 0.030, 0.515, 0.955)",xPos:"center",direction:"Y",endAngle:2,endDistance:"0",startAngle:4,startDistance:"0",yPos:"bottom"}}),SE=UD(yE,{params:{delay:"0s",duration:"800ms",easing:"cubic-bezier(0.455, 0.030, 0.515, 0.955)",direction:"Y",endAngle:2,endDistance:"0",startAngle:4,startDistance:"0",xPos:"right",yPos:"center"}}),bE=UD(yE,{params:{delay:"0s",duration:"800ms",easing:"cubic-bezier(0.455, 0.030, 0.515, 0.955)",direction:"Y",endAngle:2,endDistance:"0",startAngle:4,startDistance:"0",xPos:"left",yPos:"center"}}),DE=UD(yE,{params:{delay:"0s",duration:"800ms",easing:"cubic-bezier(0.455, 0.030, 0.515, 0.955)",direction:"Y",endAngle:8,endDistance:"0",startAngle:10,startDistance:"0",xPos:"center",yPos:"center"}}),EE=UD(yE,{params:{delay:"0s",duration:"800ms",easing:"cubic-bezier(0.455, 0.030, 0.515, 0.955)",direction:"Y",endAngle:2,endDistance:"0",startAngle:4,startDistance:"0",xPos:"right",yPos:"top"}}),TE=UD(yE,{params:{delay:"0s",duration:"800ms",easing:"cubic-bezier(0.455, 0.030, 0.515, 0.955)",direction:"Y",endAngle:2,endDistance:"0",startAngle:4,startDistance:"0",xPos:"right",yPos:"bottom"}}),IE=UD(yE,{params:{delay:"0s",duration:"800ms",easing:"cubic-bezier(0.455, 0.030, 0.515, 0.955)",direction:"Y",endAngle:2,endDistance:"0",startAngle:4,startDistance:"0",xPos:"left",yPos:"bottom"}}),RE=UD(yE,{params:{delay:"0s",duration:"800ms",easing:"cubic-bezier(0.455, 0.030, 0.515, 0.955)",direction:"Y",endAngle:2,endDistance:"0",startAngle:4,startDistance:"0",xPos:"left",yPos:"top"}}),AE=[KD({animationTimingFunction:"ease-out",transform:"scale(1)",transformOrigin:"center center"}),$D("{{duration}} {{delay}} {{easing}}",jD([KD({animationTimingFunction:"ease-in",offset:.1,transform:"scale(0.91)"}),KD({animationTimingFunction:"ease-out",offset:.17,transform:"scale(0.98)"}),KD({animationTimingFunction:"ease-in",offset:.33,transform:"scale(0.87)"}),KD({animationTimingFunction:"ease-out",offset:.45,transform:"scale(1)"})]))],kE=[$D("{{duration}} {{delay}} {{easing}}",jD([KD({offset:0,transform:"scale({{fromScale}})"}),KD({offset:.5,transform:"scale({{toScale}})"}),KD({offset:1,transform:"scale({{fromScale}})"})]))],OE=[$D("{{duration}} {{delay}} {{easing}}",jD([KD({offset:0,opacity:.8,transform:"scale({{fromScale}})"}),KD({offset:.8,opacity:0,transform:"scale({{midScale}})"}),KD({offset:1,opacity:0,transform:"scale({{toScale}})"})]))],FE=UD(kE,{params:{delay:"0s",duration:".5s",easing:"ease-in-out",fromScale:1,toScale:1.1}}),PE=UD(kE,{params:{delay:"0s",duration:".5s",easing:"ease-in-out",fromScale:1,toScale:.9}}),VE=UD(AE,{params:{delay:"0s",duration:"1.5s",easing:"ease-in-out"}}),ME=UD(OE,{params:{delay:"0s",duration:".8s",easing:"ease-in-out",fromScale:.2,midScale:1.2,toScale:2.2}}),LE=[KD({opacity:"{{startOpacity}}",transform:"rotate3d({{rotateX}},{{rotateY}},{{rotateZ}},{{startAngle}}deg)",transformOrigin:"{{xPos}} {{yPos}}"}),$D("{{duration}} {{delay}} {{easing}}",KD({offset:0,opacity:"{{endOpacity}}",transform:"rotate3d({{rotateX}},{{rotateY}},{{rotateZ}},{{endAngle}}deg)",transformOrigin:"{{xPos}} {{yPos}}"}))],NE=UD(LE,{params:{delay:"0s",duration:"600ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endAngle:0,endOpacity:1,rotateX:0,rotateY:0,rotateZ:1,startAngle:-360,startOpacity:0,xPos:"center",yPos:"center"}}),HE=UD(LE,{params:{delay:"0s",duration:"600ms",endAngle:0,rotateX:0,rotateY:0,rotateZ:1,startAngle:-360,xPos:"center",yPos:"center",easing:"cubic-bezier(0.550, 0.085, 0.680, 0.530)",endOpacity:0,startOpacity:1}}),zE=UD(LE,{params:{delay:"0s",duration:"600ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endAngle:0,endOpacity:1,rotateX:0,rotateY:0,rotateZ:1,startAngle:-360,startOpacity:0,yPos:"center",xPos:"top"}}),BE=UD(LE,{params:{delay:"0s",duration:"600ms",endAngle:0,rotateX:0,rotateY:0,rotateZ:1,startAngle:-360,yPos:"center",easing:"cubic-bezier(0.550, 0.085, 0.680, 0.530)",endOpacity:0,startOpacity:1,xPos:"top"}}),GE=UD(LE,{params:{delay:"0s",duration:"600ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endAngle:0,endOpacity:1,rotateX:0,rotateY:0,rotateZ:1,startAngle:-360,startOpacity:0,yPos:"center",xPos:"right"}}),$E=UD(LE,{params:{delay:"0s",duration:"600ms",endAngle:0,rotateX:0,rotateY:0,rotateZ:1,startAngle:-360,yPos:"center",easing:"cubic-bezier(0.550, 0.085, 0.680, 0.530)",endOpacity:0,startOpacity:1,xPos:"right"}}),WE=UD(LE,{params:{delay:"0s",duration:"600ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endAngle:0,endOpacity:1,rotateX:0,rotateY:0,rotateZ:1,startAngle:-360,startOpacity:0,yPos:"center",xPos:"bottom"}}),KE=UD(LE,{params:{delay:"0s",duration:"600ms",endAngle:0,rotateX:0,rotateY:0,rotateZ:1,startAngle:-360,yPos:"center",easing:"cubic-bezier(0.550, 0.085, 0.680, 0.530)",endOpacity:0,startOpacity:1,xPos:"bottom"}}),jE=UD(LE,{params:{delay:"0s",duration:"600ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endAngle:0,endOpacity:1,rotateX:0,rotateY:0,rotateZ:1,startAngle:-360,startOpacity:0,yPos:"center",xPos:"left"}}),UE=UD(LE,{params:{delay:"0s",duration:"600ms",endAngle:0,rotateX:0,rotateY:0,rotateZ:1,startAngle:-360,yPos:"center",easing:"cubic-bezier(0.550, 0.085, 0.680, 0.530)",endOpacity:0,startOpacity:1,xPos:"left"}}),qE=UD(LE,{params:{delay:"0s",duration:"600ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endAngle:0,endOpacity:1,rotateX:0,rotateY:0,rotateZ:1,startAngle:-360,startOpacity:0,xPos:"right",yPos:"top"}}),YE=UD(LE,{params:{delay:"0s",duration:"600ms",endAngle:0,rotateX:0,rotateY:0,rotateZ:1,startAngle:-360,easing:"cubic-bezier(0.550, 0.085, 0.680, 0.530)",endOpacity:0,startOpacity:1,xPos:"right",yPos:"top"}}),ZE=UD(LE,{params:{delay:"0s",duration:"600ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endAngle:0,endOpacity:1,rotateX:0,rotateY:0,rotateZ:1,startAngle:-360,startOpacity:0,xPos:"right",yPos:"bottom"}}),XE=UD(LE,{params:{delay:"0s",duration:"600ms",endAngle:0,rotateX:0,rotateY:0,rotateZ:1,startAngle:-360,easing:"cubic-bezier(0.550, 0.085, 0.680, 0.530)",endOpacity:0,startOpacity:1,xPos:"right",yPos:"bottom"}}),QE=UD(LE,{params:{delay:"0s",duration:"600ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endAngle:0,endOpacity:1,rotateX:0,rotateY:0,rotateZ:1,startAngle:-360,startOpacity:0,xPos:"left",yPos:"bottom"}}),JE=UD(LE,{params:{delay:"0s",duration:"600ms",endAngle:0,rotateX:0,rotateY:0,rotateZ:1,startAngle:-360,easing:"cubic-bezier(0.550, 0.085, 0.680, 0.530)",endOpacity:0,startOpacity:1,xPos:"left",yPos:"bottom"}}),eT=UD(LE,{params:{delay:"0s",duration:"600ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endAngle:0,endOpacity:1,rotateX:0,rotateY:0,rotateZ:1,startAngle:-360,startOpacity:0,xPos:"left",yPos:"top"}}),tT=UD(LE,{params:{delay:"0s",duration:"600ms",endAngle:0,rotateX:0,rotateY:0,rotateZ:1,startAngle:-360,easing:"cubic-bezier(0.550, 0.085, 0.680, 0.530)",endOpacity:0,startOpacity:1,xPos:"left",yPos:"top"}}),iT=UD(LE,{params:{delay:"0s",duration:"600ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endAngle:0,endOpacity:1,startAngle:-360,startOpacity:0,xPos:"center",yPos:"center",rotateX:1,rotateY:1,rotateZ:0}}),nT=UD(LE,{params:{delay:"0s",duration:"600ms",endAngle:0,startAngle:-360,xPos:"center",yPos:"center",easing:"cubic-bezier(0.550, 0.085, 0.680, 0.530)",endOpacity:0,startOpacity:1,rotateX:1,rotateY:1,rotateZ:0}}),rT=UD(LE,{params:{delay:"0s",duration:"600ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endAngle:0,endOpacity:1,startAngle:-360,startOpacity:0,xPos:"center",yPos:"center",rotateX:-1,rotateY:1,rotateZ:0}}),sT=UD(LE,{params:{delay:"0s",duration:"600ms",endAngle:0,startAngle:-360,xPos:"center",yPos:"center",easing:"cubic-bezier(0.550, 0.085, 0.680, 0.530)",endOpacity:0,startOpacity:1,rotateX:-1,rotateY:1,rotateZ:0}}),oT=UD(LE,{params:{delay:"0s",duration:"600ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endAngle:0,endOpacity:1,startAngle:-360,startOpacity:0,xPos:"center",yPos:"center",rotateX:0,rotateY:1,rotateZ:0}}),aT=UD(LE,{params:{delay:"0s",duration:"600ms",endAngle:0,startAngle:-360,xPos:"center",yPos:"center",easing:"cubic-bezier(0.550, 0.085, 0.680, 0.530)",endOpacity:0,startOpacity:1,rotateX:0,rotateY:1,rotateZ:0}}),lT=UD(LE,{params:{delay:"0s",duration:"600ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endAngle:0,endOpacity:1,startAngle:-360,startOpacity:0,xPos:"center",yPos:"center",rotateX:1,rotateY:0,rotateZ:0}}),dT=UD(LE,{params:{delay:"0s",duration:"600ms",endAngle:0,startAngle:-360,xPos:"center",yPos:"center",easing:"cubic-bezier(0.550, 0.085, 0.680, 0.530)",endOpacity:0,startOpacity:1,rotateX:1,rotateY:0,rotateZ:0}}),cT=[KD({opacity:"{{startOpacity}}",transform:"scale{{direction}}({{fromScale}})",transformOrigin:"{{xPos}} {{yPos}}"}),$D("{{duration}} {{delay}} {{easing}}",KD({opacity:"{{endOpacity}}",transform:"scale{{direction}}({{toScale}})",transformOrigin:"{{xPos}} {{yPos}}"}))],hT=UD(cT,{params:{delay:"0s",direction:"",duration:"350ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endOpacity:1,fromScale:.5,startOpacity:0,toScale:1,xPos:"50%",yPos:"50%"}}),uT=UD(cT,{params:{delay:"0s",direction:"",duration:"350ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endOpacity:1,fromScale:.5,startOpacity:0,toScale:1,xPos:"0",yPos:"100%"}}),gT=UD(cT,{params:{delay:"0s",duration:"350ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endOpacity:1,startOpacity:0,toScale:1,xPos:"50%",yPos:"50%",direction:"Y",fromScale:.4}}),pT=UD(cT,{params:{delay:"0s",direction:"",duration:"350ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endOpacity:1,fromScale:.5,startOpacity:0,toScale:1,xPos:"50%",yPos:"0"}}),mT=UD(cT,{params:{delay:"0s",direction:"",duration:"350ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endOpacity:1,fromScale:.5,startOpacity:0,toScale:1,xPos:"0",yPos:"50%"}}),fT=UD(cT,{params:{delay:"0s",duration:"350ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endOpacity:1,startOpacity:0,toScale:1,direction:"Y",fromScale:.4,xPos:"100%",yPos:"0"}}),vT=UD(cT,{params:{delay:"0s",direction:"",duration:"350ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endOpacity:1,fromScale:.5,startOpacity:0,toScale:1,xPos:"100%",yPos:"0"}}),yT=UD(cT,{params:{delay:"0s",direction:"",duration:"350ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endOpacity:1,fromScale:.5,startOpacity:0,toScale:1,xPos:"0",yPos:"0"}}),xT=UD(cT,{params:{delay:"0s",duration:"350ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endOpacity:1,startOpacity:0,toScale:1,direction:"Y",fromScale:.4,xPos:"0",yPos:"100%"}}),_T=UD(cT,{params:{delay:"0s",direction:"",duration:"350ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endOpacity:1,fromScale:.5,startOpacity:0,toScale:1,xPos:"100%",yPos:"50%"}}),wT=UD(cT,{params:{delay:"0s",duration:"350ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endOpacity:1,startOpacity:0,toScale:1,xPos:"50%",yPos:"50%",direction:"X",fromScale:.4}}),CT=UD(cT,{params:{delay:"0s",direction:"",duration:"350ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endOpacity:1,fromScale:.5,startOpacity:0,toScale:1,xPos:"100%",yPos:"100%"}}),ST=UD(cT,{params:{delay:"0s",duration:"350ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endOpacity:1,startOpacity:0,toScale:1,direction:"X",fromScale:.4,xPos:"0",yPos:"0"}}),bT=UD(cT,{params:{delay:"0s",direction:"",duration:"350ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endOpacity:1,fromScale:.5,startOpacity:0,toScale:1,xPos:"50%",yPos:"100%"}}),DT=UD(cT,{params:{delay:"0s",duration:"350ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endOpacity:1,startOpacity:0,toScale:1,direction:"X",fromScale:.4,xPos:"100%",yPos:"100%"}}),ET=UD(cT,{params:{delay:"0s",direction:"",duration:"350ms",xPos:"50%",yPos:"50%",easing:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",endOpacity:0,fromScale:1,startOpacity:1,toScale:.5}}),TT=UD(cT,{params:{delay:"0s",direction:"",duration:"350ms",easing:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",endOpacity:0,fromScale:1,startOpacity:1,toScale:.5,xPos:"0",yPos:"100%"}}),IT=UD(cT,{params:{delay:"0s",direction:"",duration:"350ms",easing:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",endOpacity:0,fromScale:1,startOpacity:1,toScale:.5,xPos:"100%",yPos:"100%"}}),RT=UD(cT,{params:{delay:"0s",duration:"350ms",xPos:"50%",yPos:"50%",easing:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",endOpacity:0,fromScale:1,startOpacity:1,direction:"Y",toScale:.3}}),AT=UD(cT,{params:{delay:"0s",duration:"350ms",easing:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",endOpacity:0,fromScale:1,startOpacity:1,direction:"Y",toScale:.3,xPos:"100%",yPos:"0"}}),kT=UD(cT,{params:{delay:"0s",duration:"350ms",easing:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",endOpacity:0,fromScale:1,startOpacity:1,direction:"Y",toScale:.3,xPos:"0",yPos:"100%"}}),OT=UD(cT,{params:{delay:"0s",direction:"",duration:"350ms",easing:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",endOpacity:0,fromScale:1,startOpacity:1,toScale:.5,xPos:"50%",yPos:"0"}}),FT=UD(cT,{params:{delay:"0s",direction:"",duration:"350ms",easing:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",endOpacity:0,fromScale:1,startOpacity:1,toScale:.5,xPos:"0",yPos:"50%"}}),PT=UD(cT,{params:{delay:"0s",direction:"",duration:"350ms",easing:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",endOpacity:0,fromScale:1,startOpacity:1,toScale:.5,xPos:"100%",yPos:"0"}}),VT=UD(cT,{params:{delay:"0s",direction:"",duration:"350ms",easing:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",endOpacity:0,fromScale:1,startOpacity:1,toScale:.5,xPos:"0",yPos:"0"}}),MT=UD(cT,{params:{delay:"0s",direction:"",duration:"350ms",easing:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",endOpacity:0,fromScale:1,startOpacity:1,toScale:.5,xPos:"100%",yPos:"50%"}}),LT=UD(cT,{params:{delay:"0s",direction:"",duration:"350ms",easing:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",endOpacity:0,fromScale:1,startOpacity:1,toScale:.5,xPos:"50%",yPos:"100%"}}),NT=UD(cT,{params:{delay:"0s",duration:"350ms",xPos:"50%",yPos:"50%",easing:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",endOpacity:0,fromScale:1,startOpacity:1,direction:"X",toScale:.3}}),HT=UD(cT,{params:{delay:"0s",duration:"350ms",easing:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",endOpacity:0,fromScale:1,startOpacity:1,direction:"X",toScale:.3,xPos:"0",yPos:"0"}}),zT=UD(cT,{params:{delay:"0s",duration:"350ms",easing:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",endOpacity:0,fromScale:1,startOpacity:1,direction:"X",toScale:.3,xPos:"100%",yPos:"100%"}}),BT=[KD({opacity:"{{startOpacity}}",transform:"{{fromPosition}}"}),$D("{{duration}} {{delay}} {{easing}}",KD({opacity:"{{endOpacity}}",transform:"{{toPosition}}"}))],GT=UD(BT,{params:{delay:"0s",duration:"350ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endOpacity:1,fromPosition:"translateY(-500px)",startOpacity:0,toPosition:"translateY(0)"}}),$T=UD(BT,{params:{delay:"0s",duration:"350ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endOpacity:1,fromPosition:"translateX(-500px)",startOpacity:0,toPosition:"translateY(0)"}}),WT=UD(BT,{params:{delay:"0s",duration:"350ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endOpacity:1,fromPosition:"translateX(500px)",startOpacity:0,toPosition:"translateY(0)"}}),KT=UD(BT,{params:{delay:"0s",duration:"350ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endOpacity:1,fromPosition:"translateY(500px)",startOpacity:0,toPosition:"translateY(0)"}}),jT=UD(BT,{params:{delay:"0s",duration:"350ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endOpacity:1,startOpacity:0,fromPosition:"translateY(-500px) translateX(500px)",toPosition:"translateY(0) translateX(0)"}}),UT=UD(BT,{params:{delay:"0s",duration:"350ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endOpacity:1,startOpacity:0,fromPosition:"translateY(-500px) translateX(-500px)",toPosition:"translateY(0) translateX(0)"}}),qT=UD(BT,{params:{delay:"0s",duration:"350ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endOpacity:1,startOpacity:0,fromPosition:"translateY(500px) translateX(500px)",toPosition:"translateY(0) translateX(0)"}}),YT=UD(BT,{params:{delay:"0s",duration:"350ms",easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",endOpacity:1,startOpacity:0,fromPosition:"translateY(500px) translateX(-500px)",toPosition:"translateY(0) translateX(0)"}}),ZT=UD(BT,{params:{delay:"0s",duration:"350ms",easing:"cubic-bezier(0.550, 0.085, 0.680, 0.530)",endOpacity:0,fromPosition:"translateY(0)",startOpacity:1,toPosition:"translateY(-500px)"}}),XT=UD(BT,{params:{delay:"0s",duration:"350ms",easing:"cubic-bezier(0.550, 0.085, 0.680, 0.530)",endOpacity:0,fromPosition:"translateY(0)",startOpacity:1,toPosition:"translateX(500px)"}}),QT=UD(BT,{params:{delay:"0s",duration:"350ms",easing:"cubic-bezier(0.550, 0.085, 0.680, 0.530)",endOpacity:0,fromPosition:"translateY(0)",startOpacity:1,toPosition:"translateY(500px)"}}),JT=UD(BT,{params:{delay:"0s",duration:"350ms",easing:"cubic-bezier(0.550, 0.085, 0.680, 0.530)",endOpacity:0,fromPosition:"translateY(0)",startOpacity:1,toPosition:"translateX(-500px)"}}),eI=UD(BT,{params:{delay:"0s",duration:"350ms",easing:"cubic-bezier(0.550, 0.085, 0.680, 0.530)",endOpacity:0,startOpacity:1,fromPosition:"translateY(0) translateX(0)",toPosition:"translateY(-500px) translateX(500px)"}}),tI=UD(BT,{params:{delay:"0s",duration:"350ms",easing:"cubic-bezier(0.550, 0.085, 0.680, 0.530)",endOpacity:0,startOpacity:1,fromPosition:"translateY(0) translateX(0)",toPosition:"translateY(500px) translateX(500px)"}}),iI=UD(BT,{params:{delay:"0s",duration:"350ms",easing:"cubic-bezier(0.550, 0.085, 0.680, 0.530)",endOpacity:0,startOpacity:1,fromPosition:"translateY(0) translateX(0)",toPosition:"translateY(500px) translateX(-500px)"}}),nI=UD(BT,{params:{delay:"0s",duration:"350ms",easing:"cubic-bezier(0.550, 0.085, 0.680, 0.530)",endOpacity:0,startOpacity:1,fromPosition:"translateY(0) translateX(0)",toPosition:"translateY(-500px) translateX(-500px)"}}),rI=[KD({opacity:"{{startOpacity}}",transform:"rotate{{direction}}({{startAngle}}deg)",transformOrigin:"{{xPos}} {{yPos}}"}),$D("{{duration}} {{delay}} {{easing}}",KD({opacity:"{{endOpacity}}",transform:"rotate{{direction}}({{endAngle}}deg)",transformOrigin:"{{xPos}} {{yPos}}"}))],sI=UD(rI,{params:{delay:"0s",direction:"X",duration:".5s",easing:"cubic-bezier(0.175, 0.885, 0.320, 1.275)",endAngle:0,endOpacity:1,startAngle:-100,startOpacity:0,xPos:"top",yPos:"center"}}),oI=UD(rI,{params:{delay:"0s",duration:".5s",easing:"cubic-bezier(0.175, 0.885, 0.320, 1.275)",endAngle:0,endOpacity:1,startAngle:-100,startOpacity:0,direction:"Y",xPos:"center",yPos:"right"}}),aI=UD(rI,{params:{delay:"0s",direction:"X",duration:".5s",easing:"cubic-bezier(0.175, 0.885, 0.320, 1.275)",endAngle:0,endOpacity:1,startOpacity:0,yPos:"center",startAngle:100,xPos:"bottom"}}),lI=UD(rI,{params:{delay:"0s",duration:".5s",easing:"cubic-bezier(0.175, 0.885, 0.320, 1.275)",endAngle:0,endOpacity:1,startOpacity:0,direction:"Y",startAngle:100,xPos:"center",yPos:"left"}}),dI=UD(rI,{params:{delay:"0s",direction:"X",easing:"cubic-bezier(0.175, 0.885, 0.320, 1.275)",endAngle:0,endOpacity:1,startOpacity:0,xPos:"top",yPos:"center",duration:".6s",startAngle:70}}),cI=UD(rI,{params:{delay:"0s",easing:"cubic-bezier(0.175, 0.885, 0.320, 1.275)",endAngle:0,endOpacity:1,startOpacity:0,direction:"Y",duration:".6s",startAngle:70,xPos:"center",yPos:"right"}}),hI=UD(rI,{params:{delay:"0s",direction:"X",easing:"cubic-bezier(0.175, 0.885, 0.320, 1.275)",endAngle:0,endOpacity:1,startOpacity:0,yPos:"center",duration:".6s",startAngle:-70,xPos:"bottom"}}),uI=UD(rI,{params:{delay:"0s",easing:"cubic-bezier(0.175, 0.885, 0.320, 1.275)",endAngle:0,endOpacity:1,startOpacity:0,direction:"Y",duration:".6s",startAngle:-70,xPos:"center",yPos:"left"}}),gI=UD(rI,{params:{delay:"0s",direction:"X",xPos:"top",yPos:"center",duration:".55s",easing:"cubic-bezier(0.600, -0.280, 0.735, 0.045)",endAngle:70,endOpacity:0,startAngle:0,startOpacity:1}}),pI=UD(rI,{params:{delay:"0s",duration:".55s",easing:"cubic-bezier(0.600, -0.280, 0.735, 0.045)",endAngle:70,endOpacity:0,startAngle:0,startOpacity:1,direction:"Y",xPos:"center",yPos:"right"}}),mI=UD(rI,{params:{delay:"0s",direction:"X",yPos:"center",duration:".55s",easing:"cubic-bezier(0.600, -0.280, 0.735, 0.045)",endOpacity:0,startAngle:0,startOpacity:1,endAngle:-70,xPos:"bottom"}}),fI=UD(rI,{params:{delay:"0s",duration:".55s",easing:"cubic-bezier(0.600, -0.280, 0.735, 0.045)",endOpacity:0,startAngle:0,startOpacity:1,direction:"Y",endAngle:-70,xPos:"center",yPos:"left"}}),vI=UD(rI,{params:{delay:"0s",direction:"X",xPos:"top",yPos:"center",easing:"cubic-bezier(0.600, -0.280, 0.735, 0.045)",endOpacity:0,startAngle:0,startOpacity:1,duration:".45s",endAngle:-100}}),yI=UD(rI,{params:{delay:"0s",easing:"cubic-bezier(0.600, -0.280, 0.735, 0.045)",endOpacity:0,startAngle:0,startOpacity:1,direction:"Y",duration:".45s",endAngle:-100,xPos:"center",yPos:"right"}}),xI=UD(rI,{params:{delay:"0s",direction:"X",yPos:"center",easing:"cubic-bezier(0.600, -0.280, 0.735, 0.045)",endOpacity:0,startAngle:0,startOpacity:1,duration:".45s",endAngle:100,xPos:"bottom"}}),_I=UD(rI,{params:{delay:"0s",easing:"cubic-bezier(0.600, -0.280, 0.735, 0.045)",endOpacity:0,startAngle:0,startOpacity:1,direction:"Y",duration:".45s",endAngle:100,xPos:"center",yPos:"left"}}),wI=class{constructor(){this.oppositeAnimation=new Map([[rE,rE],[sE,sE],[aE,lE],[lE,aE],[cE,dE],[dE,cE],[hE,uE],[uE,hE],[gE,pE],[pE,gE],[fE,fE],[vE,vE],[VE,VE],[FE,PE],[PE,FE],[ME,ME],[xE,xE],[_E,_E],[wE,wE],[CE,CE],[SE,SE],[bE,bE],[DE,DE],[EE,EE],[TE,TE],[IE,IE],[RE,RE],[NE,NE],[HE,HE],[zE,WE],[BE,KE],[GE,jE],[$E,UE],[jE,GE],[UE,$E],[WE,zE],[KE,BE],[qE,QE],[YE,JE],[ZE,eT],[XE,tT],[QE,qE],[JE,YE],[eT,ZE],[tT,XE],[iT,iT],[nT,nT],[rT,rT],[sT,sT],[oT,oT],[aT,aT],[lT,lT],[dT,dT],[pT,bT],[OT,LT],[_T,mT],[MT,FT],[bT,pT],[LT,OT],[mT,_T],[FT,MT],[hT,hT],[ET,ET],[vT,uT],[PT,TT],[CT,yT],[IT,VT],[uT,vT],[TT,PT],[yT,CT],[VT,IT],[fT,xT],[AT,kT],[xT,fT],[kT,AT],[gT,gT],[RT,RT],[wT,wT],[NT,NT],[ST,DT],[HT,zT],[DT,ST],[zT,HT],[GT,KT],[ZT,QT],[WT,$T],[XT,JT],[KT,GT],[QT,ZT],[$T,WT],[JT,XT],[jT,YT],[eI,iI],[qT,UT],[tI,nI],[YT,jT],[iI,eI],[UT,qT],[nI,tI],[sI,aI],[gI,mI],[oI,lI],[pI,fI],[lI,oI],[fI,pI],[aI,sI],[mI,gI],[dI,hI],[vI,xI],[cI,uI],[yI,_I],[hI,dI],[xI,vI],[uI,cI],[_I,yI]]),this.horizontalAnimations=[cE,dE,gE,pE,GE,$E,jE,UE,qE,YE,ZE,XE,QE,JE,eT,tT,_T,MT,mT,FT,vT,PT,CT,IT,uT,TT,yT,VT,ST,HT,DT,zT,WT,XT,$T,JT,jT,eI,qT,tI,YT,iI,UT,nI,oI,pI,lI,fI,cI,yI,uI,_I],this.verticalAnimations=[aE,lE,hE,uE,fE,vE,zE,BE,WE,KE,qE,YE,ZE,XE,QE,JE,eT,tT,pT,OT,bT,LT,vT,PT,CT,IT,uT,TT,yT,VT,fT,AT,xT,kT,GT,ZT,KT,QT,jT,eI,qT,tI,YT,iI,UT,nI,sI,gI,aI,mI,dI,vI,hI,xI]}static instance(){return this._instance||(this._instance=new this)}reverseAnimationResolver(e){return this.oppositeAnimation.get(e)??e}isHorizontalAnimation(e){return this.horizontalAnimations.includes(e)}isVerticalAnimation(e){return this.verticalAnimations.includes(e)}},CI=(()=>{class e{constructor(e){this.builder=e}buildAnimation(e,t){if(!e)return null;let i=this.builder.build(e);return new class{get position(){return this._innerPlayer.getPosition()}set position(e){this.internalPlayer.setPosition(e)}constructor(e){this.internalPlayer=e,this.animationStart=new wl,this.animationEnd=new wl,this.internalPlayer.onDone((()=>this.onDone()));let t=this.internalPlayer._renderer,i=t.engine||t.delegate.engine;this._innerPlayer=i.players[i.players.length-1]}init(){this.internalPlayer.init()}play(){this.animationStart.emit({owner:this}),this.internalPlayer.play()}finish(){this.internalPlayer.finish()}reset(){this.internalPlayer.reset(),this.internalPlayer._started=!1}destroy(){this.internalPlayer.destroy()}hasStarted(){return this.internalPlayer.hasStarted()}onDone(){this.animationEnd.emit({owner:this})}}(i.create(t))}static{this.ɵfac=function(t){return new(t||e)(Vr(XD))}}static{this.ɵprov=ir({token:e,factory:e.ɵfac,providedIn:"root"})}}return e})(),SI=function(e){return e[e.Left=-1]="Left",e[e.Center=-.5]="Center",e[e.Right=0]="Right",e}(SI||{}),bI=function(e){return e[e.Top=-1]="Top",e[e.Middle=-.5]="Middle",e[e.Bottom=0]="Bottom",e}(bI||{}),DI=function(e){return e.Connected="connected",e.Auto="auto",e.Elastic="elastic",e}(DI||{}),EI=function(e){return e.Above="above",e.Below="below",e.Before="before",e.After="after",e.Default="default",e}(EI||{}),TI=function(e){return e.Bottom="bottom",e.Top="top",e.Center="center",e}(TI||{}),II=function(e){return e[e.Add=0]="Add",e[e.Set=1]="Set",e}(II||{}),RI=class{constructor(e,t){this.x=e,this.y=t}},AI=class e{static getTargetRect(e){let t={bottom:0,height:0,left:0,right:0,top:0,width:0};if(e instanceof HTMLElement)t=e.getBoundingClientRect();else if(e instanceof RI){let i=e;t={bottom:i.y,height:0,left:i.x,right:i.x,top:i.y,width:0}}return t}static getViewportRect(t){let i=t.documentElement.clientWidth,n=t.documentElement.clientHeight,r=e.getViewportScrollPosition(t);return{top:r.y,left:r.x,right:r.x+i,bottom:r.y+n,width:i,height:n}}static getViewportScrollPosition(e){let t=e.documentElement,i=t.getBoundingClientRect(),n=-i.left||e.body.scrollLeft||window.scrollX||t.scrollLeft||0,r=-i.top||e.body.scrollTop||window.scrollY||t.scrollTop||0;return new RI(n,r)}static cloneInstance(e){let t=Object.assign(Object.create(Object.getPrototypeOf(e)),e);return t.settings=FC(t.settings),t}},kI=class{constructor(e){this._defaultSettings={horizontalDirection:SI.Right,verticalDirection:bI.Bottom,horizontalStartPoint:SI.Left,verticalStartPoint:bI.Bottom,openAnimation:fT,closeAnimation:AT,minSize:{width:0,height:0}},this.settings=Object.assign({},this._defaultSettings,e)}position(e,t,i,n,r){let s=this.calculateElementRectangles(e,r);this.setStyle(e,s.targetRect,s.elementRect,{})}clone(){return AI.cloneInstance(this)}calculateElementRectangles(e,t){return{targetRect:AI.getTargetRect(t),elementRect:e.getBoundingClientRect()}}setStyle(e,t,i,n){let r=n.horizontalOffset?n.horizontalOffset:0,s=n.verticalOffset?n.verticalOffset:0,o=t.right+t.width*this.settings.horizontalStartPoint+r,a=t.bottom+t.height*this.settings.verticalStartPoint+s,l=e.parentElement.getBoundingClientRect();switch(e.style.right="",e.style.left="",e.style.bottom="",e.style.top="",this.settings.horizontalDirection){case SI.Left:e.style.right=`${Math.round(l.right-o)}px`;break;case SI.Center:e.style.left=`${Math.round(o-l.left-i.width/2)}px`;break;case SI.Right:e.style.left=`${Math.round(o-l.left)}px`}switch(this.settings.verticalDirection){case bI.Top:e.style.bottom=`${Math.round(l.bottom-a)}px`;break;case bI.Middle:e.style.top=`${Math.round(a-l.top-i.height/2)}px`;break;case bI.Bottom:e.style.top=`${Math.round(a-l.top)}px`}}},OI=class extends kI{position(e,t,i,n,r){let s=super.calculateElementRectangles(e,r),o={};n&&(o.targetRect=s.targetRect,o.contentElementRect=s.elementRect,this._initialSettings=this._initialSettings||Object.assign({},this.settings),this.settings=Object.assign({},this._initialSettings),o.viewPortRect=AI.getViewportRect(i),this.updateViewPortFit(o),this.shouldFitInViewPort(o)&&this.fitInViewport(e,o)),this.setStyle(e,s.targetRect,s.elementRect,o)}updateViewPortFit(e){e.left=this.calculateLeft(e.targetRect,e.contentElementRect,this.settings.horizontalStartPoint,this.settings.horizontalDirection,e.horizontalOffset?e.horizontalOffset:0),e.right=e.left+e.contentElementRect.width,e.fitHorizontal={back:Math.round(e.left),forward:Math.round(e.viewPortRect.width-e.right)},e.top=this.calculateTop(e.targetRect,e.contentElementRect,this.settings.verticalStartPoint,this.settings.verticalDirection,e.verticalOffset?e.verticalOffset:0),e.bottom=e.top+e.contentElementRect.height,e.fitVertical={back:Math.round(e.top),forward:Math.round(e.viewPortRect.height-e.bottom)}}calculateLeft(e,t,i,n,r){return e.right+e.width*i+t.width*n+r}calculateTop(e,t,i,n,r){return e.bottom+e.height*i+t.height*n+r}shouldFitInViewPort(e){return e.fitHorizontal.back<0||e.fitHorizontal.forward<0||e.fitVertical.back<0||e.fitVertical.forward<0}},FI=class extends OI{fitInViewport(e,t){let i=[];if(t.fitHorizontal.back<0||t.fitHorizontal.forward<0)if(this.canFlipHorizontal(t))this.flipHorizontal(),this.flipAnimation(PI.Horizontal);else{let e=this.horizontalPush(t);i.push(`translateX(${e}px)`)}if(t.fitVertical.back<0||t.fitVertical.forward<0)if(this.canFlipVertical(t))this.flipVertical(),this.flipAnimation(PI.Vertical);else{let e=this.verticalPush(t);i.push(`translateY(${e}px)`)}e.style.transform=i.join(" ").trim()}canFlipHorizontal(e){let t=-1*(this.settings.horizontalStartPoint+1),i=-1*(this.settings.horizontalDirection+1),n=this.calculateLeft(e.targetRect,e.contentElementRect,t,i,0),r=n+e.contentElementRect.width;return 0<n&&r<e.viewPortRect.width}canFlipVertical(e){let t=-1*(this.settings.verticalStartPoint+1),i=-1*(this.settings.verticalDirection+1),n=this.calculateTop(e.targetRect,e.contentElementRect,t,i,0),r=n+e.contentElementRect.height;return 0<n&&r<e.viewPortRect.height}flipHorizontal(){switch(this.settings.horizontalDirection){case SI.Left:this.settings.horizontalDirection=SI.Right;break;case SI.Right:this.settings.horizontalDirection=SI.Left}switch(this.settings.horizontalStartPoint){case SI.Left:this.settings.horizontalStartPoint=SI.Right;break;case SI.Right:this.settings.horizontalStartPoint=SI.Left}}flipVertical(){switch(this.settings.verticalDirection){case bI.Top:this.settings.verticalDirection=bI.Bottom;break;case bI.Bottom:this.settings.verticalDirection=bI.Top}switch(this.settings.verticalStartPoint){case bI.Top:this.settings.verticalStartPoint=bI.Bottom;break;case bI.Bottom:this.settings.verticalStartPoint=bI.Top}}horizontalPush(e){let t=e.left,i=e.right-e.viewPortRect.width;return t<0?Math.abs(t):i>0?-Math.min(i,t):0}verticalPush(e){let t=e.top,i=e.bottom-e.viewPortRect.height;return t<0?Math.abs(t):i>0?-Math.min(i,t):0}flipAnimation(e){this.settings.openAnimation&&(this.settings.openAnimation=this.updateAnimation(this.settings.openAnimation,e)),this.settings.closeAnimation&&(this.settings.closeAnimation=this.updateAnimation(this.settings.closeAnimation,e))}updateAnimation(e,t){switch(t){case PI.Horizontal:if(wI.instance().isHorizontalAnimation(e))return wI.instance().reverseAnimationResolver(e);break;case PI.Vertical:if(wI.instance().isVerticalAnimation(e))return wI.instance().reverseAnimationResolver(e)}return e}},PI=function(e){return e[e.Horizontal=0]="Horizontal",e[e.Vertical=1]="Vertical",e}(PI||{}),VI=class{constructor(e){this._defaultSettings={horizontalDirection:SI.Center,verticalDirection:bI.Middle,horizontalStartPoint:SI.Center,verticalStartPoint:bI.Middle,openAnimation:rE,closeAnimation:sE,minSize:{width:0,height:0}},this.settings=Object.assign({},this._defaultSettings,e)}position(e){e.classList.add("igx-overlay__content--relative"),e.parentElement.classList.add("igx-overlay__wrapper--flex"),this.setPosition(e)}clone(){return AI.cloneInstance(this)}setPosition(e){switch(this.settings.horizontalDirection){case SI.Left:e.parentElement.style.justifyContent="flex-start";break;case SI.Center:e.parentElement.style.justifyContent="center";break;case SI.Right:e.parentElement.style.justifyContent="flex-end"}switch(this.settings.verticalDirection){case bI.Top:e.parentElement.style.alignItems="flex-start";break;case bI.Middle:e.parentElement.style.alignItems="center";break;case bI.Bottom:e.parentElement.style.alignItems="flex-end"}}},MI=class extends VI{constructor(e){super(e)}position(e){e.classList.add("igx-overlay__content--relative"),e.parentElement.classList.add("igx-overlay__wrapper--flex-container"),this.setPosition(e)}},LI=class extends OI{fitInViewport(e,t){e.classList.add("igx-overlay__content--elastic");let i=[];if(t.fitHorizontal.back<0||t.fitHorizontal.forward<0){let n=Math.max(0,t.contentElementRect.width-this.settings.minSize.width),r=Math.max(0,-t.fitHorizontal.back),s=Math.max(0,-t.fitHorizontal.forward),o=Math.min(n,r+s);if(e.style.width=t.contentElementRect.width-o+"px",this.settings.horizontalDirection===SI.Center){let e=r*o/(r+s);e>0&&i.push(`translateX(${e}px)`)}}if(t.fitVertical.back<0||t.fitVertical.forward<0){let n=Math.max(0,t.contentElementRect.height-this.settings.minSize.height),r=Math.max(0,-t.fitVertical.back),s=Math.max(0,-t.fitVertical.forward),o=Math.min(n,r+s);if(e.style.height=t.contentElementRect.height-o+"px",this.settings.verticalDirection===bI.Middle){let e=r*o/(r+s);e>0&&i.push(`translateY(${e}px)`)}}e.style.transform=i.join(" ").trim()}},NI=class{constructor(){}},HI=class extends NI{constructor(){super()}initialize(){}attach(){}detach(){}},zI=(()=>{class e{constructor(e,t,i,n,r){this._appRef=e,this.document=t,this._zone=i,this.platformUtil=n,this.animationService=r,this.opening=new wl,this.opened=new wl,this.closing=new wl,this.closed=new wl,this.contentAppending=new wl,this.contentAppended=new wl,this.animationStarting=new wl,this._componentId=0,this._overlayInfos=[],this.destroy$=new Ci,this._cursorStyleIsSet=!1,this._defaultSettings={excludeFromOutsideClick:[],positionStrategy:new VI,scrollStrategy:new HI,modal:!0,closeOnOutsideClick:!0,closeOnEscape:!1},this.repositionAll=()=>{for(let e=this._overlayInfos.length;e--;)this.reposition(this._overlayInfos[e].id)},this.documentClicked=e=>{for(let t=this._overlayInfos.length;t--;){let i=this._overlayInfos[t];if(i.settings.modal)return;if(i.settings.closeOnOutsideClick){let t=e.composed?e.composedPath()[0]:e.target,n=i.elementRef.nativeElement;if((i.settings.excludeFromOutsideClick?[...i.settings.excludeFromOutsideClick,n]:[n]).some((e=>e.contains(t))))return;i.closeAnimationPlayer?.hasStarted()||this._hide(i.id,e)}}},this._document=this.document}static createAbsoluteOverlaySettings(e,t){let i=this.createAbsolutePositionSettings(e);return{positionStrategy:t?new MI(i):new VI(i),scrollStrategy:new HI,modal:!1,closeOnOutsideClick:!0,outlet:t}}static createRelativeOverlaySettings(e,t,i){let n=this.createRelativePositionSettings(t);return{target:e,positionStrategy:this.createPositionStrategy(i,n),scrollStrategy:new HI,modal:!1,closeOnOutsideClick:!0}}static createAbsolutePositionSettings(e){let t;switch(e){case TI.Bottom:t={horizontalDirection:SI.Center,verticalDirection:bI.Bottom,openAnimation:KT,closeAnimation:QT};break;case TI.Top:t={horizontalDirection:SI.Center,verticalDirection:bI.Top,openAnimation:GT,closeAnimation:ZT};break;case TI.Center:default:t={horizontalDirection:SI.Center,verticalDirection:bI.Middle,openAnimation:rE,closeAnimation:sE}}return t}static createRelativePositionSettings(e){let t;switch(e){case EI.Above:t={horizontalStartPoint:SI.Center,verticalStartPoint:bI.Top,horizontalDirection:SI.Center,verticalDirection:bI.Top,openAnimation:xT,closeAnimation:kT};break;case EI.Below:t={horizontalStartPoint:SI.Center,verticalStartPoint:bI.Bottom,horizontalDirection:SI.Center,verticalDirection:bI.Bottom,openAnimation:fT,closeAnimation:AT};break;case EI.After:t={horizontalStartPoint:SI.Right,verticalStartPoint:bI.Middle,horizontalDirection:SI.Right,verticalDirection:bI.Middle,openAnimation:ST,closeAnimation:HT};break;case EI.Before:t={horizontalStartPoint:SI.Left,verticalStartPoint:bI.Middle,horizontalDirection:SI.Left,verticalDirection:bI.Middle,openAnimation:DT,closeAnimation:zT};break;case EI.Default:default:t={horizontalStartPoint:SI.Left,verticalStartPoint:bI.Bottom,horizontalDirection:SI.Right,verticalDirection:bI.Bottom,openAnimation:fT,closeAnimation:AT}}return t}static createPositionStrategy(e,t){switch(e){case DI.Connected:return new kI(t);case DI.Elastic:return new LI(t);case DI.Auto:default:return new FI(t)}}attach(e,t,i){let n=this.getOverlayInfo(e,t,i);if(!n)return console.warn("Overlay was not able to attach provided component!"),null;n.id=(this._componentId++).toString(),n.visible=!1;let r={id:n.id,elementRef:n.elementRef,componentRef:n.componentRef,settings:n.settings};this.contentAppending.emit(r),n.settings=r.settings,this._overlayInfos.push(n),n.hook=this.placeElementHook(n.elementRef.nativeElement);let s=n.elementRef.nativeElement.getBoundingClientRect();return n.initialSize={width:s.width,height:s.height},this.getComponentSize(n),this.moveElementToOverlay(n),n.size&&n.elementRef.nativeElement.parentElement.style.setProperty("--ig-size",n.size),this.contentAppended.emit({id:n.id,componentRef:n.componentRef}),n.settings.scrollStrategy.initialize(this._document,this,n.id),n.settings.scrollStrategy.attach(),this.addOutsideClickListener(n),this.addResizeHandler(),this.addCloseOnEscapeListener(n),this.buildAnimationPlayers(n),n.id}detach(e){let t=this.getOverlayById(e);t?(t.detached=!0,this.finishAnimations(t),t.settings.scrollStrategy.detach(),this.removeOutsideClickListener(t),this.removeResizeHandler(),this.cleanUp(t)):console.warn("igxOverlay.detach was called with wrong id: ",e)}detachAll(){for(let e=this._overlayInfos.length;e--;)this.detach(this._overlayInfos[e].id)}show(e,t){let i=this.getOverlayById(e);if(!i)return void console.warn("igxOverlay.show was called with wrong id: ",e);let n={id:e,componentRef:i.componentRef,cancel:!1};if(this.opening.emit(n),!n.cancel){if(t){let e=t.scrollStrategy&&i.settings.scrollStrategy!==t.scrollStrategy;e&&i.settings.scrollStrategy&&i.settings.scrollStrategy.detach(),t.positionStrategy??=i.settings.positionStrategy,t.scrollStrategy??=i.settings.scrollStrategy,i.settings=Qe(Qe({},i.settings),t),e&&(i.settings.scrollStrategy.initialize(this._document,this,i.id),i.settings.scrollStrategy.attach())}this.updateSize(i),i.settings.positionStrategy.position(i.elementRef.nativeElement.parentElement,{width:i.initialSize.width,height:i.initialSize.height},this._document,!0,i.settings.target),this.addModalClasses(i),i.settings.positionStrategy.settings.openAnimation?this.playOpenAnimation(i):(i.wrapperElement.style.visibility="",i.visible=!0,this.opened.emit({id:i.id,componentRef:i.componentRef}))}}hide(e,t){this._hide(e,t)}hideAll(){for(let e=this._overlayInfos.length;e--;)this.hide(this._overlayInfos[e].id)}reposition(e){let t=this.getOverlayById(e);if(!t||!t.settings)return void console.warn("Wrong id provided in overlay.reposition method. Id: ",e);if(!t.visible)return;let i=t.elementRef.nativeElement.parentElement,n=i.getBoundingClientRect();t.settings.positionStrategy.position(i,{width:n.width,height:n.height},this._document,!1,t.settings.target)}setOffset(e,t,i,n){let r=this.getOverlayById(e);if(!r)return;switch(n){case II.Set:r.transformX=t,r.transformY=i;break;case II.Add:default:r.transformX+=t,r.transformY+=i}let s=`translate(${r.transformX}px, ${r.transformY}px)`;r.elementRef.nativeElement.parentElement.style.transform=s}ngOnDestroy(){this.detachAll(),this.removeCloseOnEscapeListener(),this.destroy$.next(!0),this.destroy$.complete()}getOverlayById(e){return e?this._overlayInfos.find((t=>t.id===e)):null}_hide(e,t){let i=this.getOverlayById(e);if(!i)return void console.warn("igxOverlay.hide was called with wrong id: ",e);let n={id:e,componentRef:i.componentRef,cancel:!1,event:t};this.closing.emit(n),!n.cancel&&(this.removeModalClasses(i),i.settings.positionStrategy.settings.closeAnimation?this.playCloseAnimation(i,t):this.closeDone(i))}getOverlayInfo(e,t,i){var n;let r={ngZone:this._zone,transformX:0,transformY:0},s=i;if(e instanceof zl)r.elementRef=e,s=t;else{let i;if(t instanceof Su)i=t.createComponent(e);else{let r,o=this._appRef.injector;t&&(n=t,({injector:r}=n),s=et(n,["injector"])),i=Gf(e,{environmentInjector:o,elementInjector:r}),this._appRef.attachView(i.hostView)}i.onDestroy&&i.onDestroy((()=>{!r.detached&&-1!==this._overlayInfos.indexOf(r)&&this.detach(r.id)}));let o=i.location.nativeElement;r.elementRef={nativeElement:o},r.componentRef=i}return r.settings=Object.assign({},this._defaultSettings,s),r}placeElementHook(e){if(!e.parentElement)return null;let t=this._document.createElement("div");return t.style.display="none",e.parentElement.insertBefore(t,e),t}moveElementToOverlay(e){e.wrapperElement=this.getWrapperElement();let t=this.getContentElement(e.wrapperElement,e.settings.modal);this.getOverlayElement(e).appendChild(e.wrapperElement),t.appendChild(e.elementRef.nativeElement)}getWrapperElement(){let e=this._document.createElement("div");return e.classList.add("igx-overlay__wrapper"),e}getContentElement(e,t){let i=this._document.createElement("div");return t?(i.classList.add("igx-overlay__content--modal"),i.addEventListener("click",(e=>{e.stopPropagation()}))):i.classList.add("igx-overlay__content"),i.addEventListener("scroll",(e=>{e.stopPropagation()})),e.style.visibility="hidden",e.appendChild(i),i}getOverlayElement(e){return e.settings.outlet?e.settings.outlet.nativeElement||e.settings.outlet:(this._overlayElement||(this._overlayElement=this._document.createElement("div"),this._overlayElement.classList.add("igx-overlay"),this._document.body.appendChild(this._overlayElement)),this._overlayElement)}updateSize(e){e.componentRef&&(e.componentRef.changeDetectorRef.detectChanges(),e.initialSize=e.elementRef.nativeElement.getBoundingClientRect()),0!==e.initialSize.width&&(e.elementRef.nativeElement.parentElement.style.width=e.initialSize.width+"px")}closeDone(e){e.visible=!1,e.wrapperElement&&(e.wrapperElement.style.visibility="hidden"),e.closeAnimationDetaching||this.closed.emit({id:e.id,componentRef:e.componentRef,event:e.event}),delete e.event}cleanUp(e){let t=e.elementRef.nativeElement,i=this.getOverlayElement(e);i.contains(t)&&i.removeChild(t.parentNode.parentNode),e.componentRef&&(this._appRef.detachView(e.componentRef.hostView),e.componentRef.destroy(),delete e.componentRef),e.hook&&(e.hook.parentElement.insertBefore(e.elementRef.nativeElement,e.hook),e.hook.parentElement.removeChild(e.hook),delete e.hook);let n=this._overlayInfos.indexOf(e);this._overlayInfos.splice(n,1),0===this._overlayInfos.length&&(this._overlayElement&&this._overlayElement.parentElement&&(this._overlayElement.parentElement.removeChild(this._overlayElement),this._overlayElement=null),this.removeCloseOnEscapeListener()),delete e.elementRef,delete e.settings,delete e.initialSize,e.openAnimationDetaching=!0,e.openAnimationPlayer?.destroy(),delete e.openAnimationPlayer,e.closeAnimationDetaching=!0,e.closeAnimationPlayer?.destroy(),delete e.closeAnimationPlayer,delete e.ngZone,delete e.wrapperElement,e=null}playOpenAnimation(e){if(!e.openAnimationPlayer?.hasStarted()){if(e.closeAnimationPlayer?.hasStarted()){let t=e.closeAnimationPlayer.position;e.closeAnimationPlayer.reset(),e.openAnimationPlayer.init(),e.openAnimationPlayer.position=1-t}this.animationStarting.emit({id:e.id,animationPlayer:e.openAnimationPlayer,animationType:"open"}),e.wrapperElement.style.visibility="",e.visible=!0,e.openAnimationPlayer.play()}}playCloseAnimation(e,t){if(!e.closeAnimationPlayer?.hasStarted()){if(e.openAnimationPlayer?.hasStarted()){let t=e.openAnimationPlayer.position;e.openAnimationPlayer.reset(),e.closeAnimationPlayer.init(),e.closeAnimationPlayer.position=1-t}this.animationStarting.emit({id:e.id,animationPlayer:e.closeAnimationPlayer,animationType:"close"}),e.event=t,e.closeAnimationPlayer.play()}}applyAnimationParams(e,t){if(!t)return void(e.style.transitionDuration="0ms");if(!t.options||!t.options.params)return;let i=t.options.params;i.duration&&(e.style.transitionDuration=i.duration),i.easing&&(e.style.transitionTimingFunction=i.easing)}addOutsideClickListener(e){e.settings.closeOnOutsideClick&&(e.settings.modal?Sn(e.elementRef.nativeElement.parentElement.parentElement,"click").pipe(Nn(this.destroy$)).subscribe((t=>this._hide(e.id,t))):this._overlayInfos.filter((e=>e.settings.closeOnOutsideClick&&!e.settings.modal)).length-this._overlayInfos.filter((e=>e.settings.closeOnOutsideClick&&!e.settings.modal&&e.closeAnimationPlayer?.hasStarted())).length==1&&(this.platformUtil.isIOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=this._document.body.style.cursor,this._document.body.style.cursor="pointer",this._cursorStyleIsSet=!0),this._document.addEventListener("click",this.documentClicked,!0)))}removeOutsideClickListener(e){if(!1===e.settings.modal){let t=!0;this._overlayInfos.forEach((i=>{!1===i.settings.modal&&i.id!==e.id&&(t=!1)})),t&&(this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorOriginalValue="",this._cursorStyleIsSet=!1),this._document.removeEventListener("click",this.documentClicked,!0))}}addResizeHandler(){let e=this._overlayInfos.filter((e=>e.closeAnimationPlayer?.hasStarted())).length;this._overlayInfos.length-e==1&&this._document.defaultView.addEventListener("resize",this.repositionAll)}removeResizeHandler(){let e=this._overlayInfos.filter((e=>e.closeAnimationPlayer?.hasStarted())).length;this._overlayInfos.length-e==1&&this._document.defaultView.removeEventListener("resize",this.repositionAll)}addCloseOnEscapeListener(e){e.settings.closeOnEscape&&!this._keyPressEventListener&&(this._keyPressEventListener=Sn(this._document,"keydown").pipe(Rn((e=>"Escape"===e.key||"Esc"===e.key))).subscribe((e=>{let t=this._overlayInfos.filter((e=>e.visible));if(t.length<1)return;let i=t[t.length-1];i.visible&&i.settings.closeOnEscape&&this.hide(i.id,e)})))}removeCloseOnEscapeListener(){this._keyPressEventListener&&(this._keyPressEventListener.unsubscribe(),this._keyPressEventListener=null)}addModalClasses(e){if(e.settings.modal){let t=e.elementRef.nativeElement.parentElement.parentElement;t.classList.remove("igx-overlay__wrapper"),this.applyAnimationParams(t,e.settings.positionStrategy.settings.openAnimation),requestAnimationFrame((()=>{t.classList.add("igx-overlay__wrapper--modal")}))}}removeModalClasses(e){if(e.settings.modal){let t=e.elementRef.nativeElement.parentElement.parentElement;this.applyAnimationParams(t,e.settings.positionStrategy.settings.closeAnimation),t.classList.remove("igx-overlay__wrapper--modal"),t.classList.add("igx-overlay__wrapper")}}buildAnimationPlayers(e){e.settings.positionStrategy.settings.openAnimation&&(e.openAnimationPlayer=this.animationService.buildAnimation(e.settings.positionStrategy.settings.openAnimation,e.elementRef.nativeElement),e.openAnimationPlayer.animationEnd.pipe(Nn(this.destroy$)).subscribe((()=>this.openAnimationDone(e)))),e.settings.positionStrategy.settings.closeAnimation&&(e.closeAnimationPlayer=this.animationService.buildAnimation(e.settings.positionStrategy.settings.closeAnimation,e.elementRef.nativeElement),e.closeAnimationPlayer.animationEnd.pipe(Nn(this.destroy$)).subscribe((()=>this.closeAnimationDone(e))))}openAnimationDone(e){e.openAnimationDetaching||this.opened.emit({id:e.id,componentRef:e.componentRef}),e.openAnimationPlayer&&e.openAnimationPlayer.reset(),e.closeAnimationPlayer?.hasStarted()&&e.closeAnimationPlayer.reset()}closeAnimationDone(e){e.closeAnimationPlayer&&e.closeAnimationPlayer.reset(),e.openAnimationPlayer?.hasStarted()&&e.openAnimationPlayer.reset(),this.closeDone(e)}finishAnimations(e){e.openAnimationPlayer?.hasStarted()&&e.openAnimationPlayer.finish(),e.closeAnimationPlayer?.hasStarted()&&e.closeAnimationPlayer.finish()}getComponentSize(e){if(e.elementRef?.nativeElement instanceof Element){let t=this._document.defaultView.getComputedStyle(e.elementRef.nativeElement),i=t.getPropertyValue("--component-size"),n=t.getPropertyValue("--ig-size"),r=i||n;e.size=r}}static{this.ɵfac=function(t){return new(t||e)(Vr(zg),Vr(Kf),Vr(Il),Vr(NC),Vr(CI))}}static{this.ɵprov=ir({token:e,factory:e.ɵfac,providedIn:"root"})}}return e})(),BI=class extends NI{constructor(e){super(),this._initialized=!1,this.onScroll=e=>{let t=this._overlayService.getOverlayById(this._id);t&&(t.elementRef.nativeElement.contains(e.target)||this._overlayService.reposition(this._id))},this._scrollContainer=e}initialize(e,t,i){this._initialized||(this._overlayService=t,this._id=i,this._document=e,this._zone=t.getOverlayById(i).ngZone,this._initialized=!0)}attach(){this._zone?this._zone.runOutsideAngular((()=>{this.addScrollEventListener()})):this.addScrollEventListener()}detach(){this._scrollContainer?this._scrollContainer.removeEventListener("scroll",this.onScroll,!0):this._document?.removeEventListener("scroll",this.onScroll,!0),this._initialized=!1}addScrollEventListener(){this._scrollContainer?this._scrollContainer.addEventListener("scroll",this.onScroll,!0):this._document.addEventListener("scroll",this.onScroll,!0)}},GI=class extends NI{constructor(e){super(),this._initialized=!1,this.onScroll=e=>{this._sourceElement||(this._sourceElement=e.target,this.initialScrollTop=this._sourceElement.scrollTop,this.initialScrollLeft=this._sourceElement.scrollLeft),!this._overlayInfo.elementRef.nativeElement.contains(this._sourceElement)&&(Math.abs(this._sourceElement.scrollTop-this.initialScrollTop)>this._threshold||Math.abs(this._sourceElement.scrollLeft-this.initialScrollLeft)>this._threshold)&&this._overlayService.hide(this._id)},this._scrollContainer=e,this._threshold=10}initialize(e,t,i){this._initialized||(this._overlayService=t,this._id=i,this._document=e,this._initialized=!0,this._overlayInfo=t.getOverlayById(i))}attach(){this._scrollContainer?(this._scrollContainer.addEventListener("scroll",this.onScroll),this._sourceElement=this._scrollContainer):this._document.addEventListener("scroll",this.onScroll,!0)}detach(){this._scrollContainer?this._scrollContainer.removeEventListener("scroll",this.onScroll):this._document.removeEventListener("scroll",this.onScroll,!0),this._sourceElement=null,this._initialized=!1}},$I=class{constructor(){this.onStateUpdate=new wl,this._isPending=!1,this._pendingTransactions=[],this._pendingStates=new Map,this._cloneStrategy=new CS}get cloneStrategy(){return this._cloneStrategy}set cloneStrategy(e){e&&(this._cloneStrategy=e)}get canRedo(){return!1}get canUndo(){return!1}get enabled(){return this._isPending}add(e,t){this._isPending&&(this.updateState(this._pendingStates,e,t),this._pendingTransactions.push(e))}getTransactionLog(e){return[]}undo(){}redo(){}getAggregatedChanges(e){let t=[];return this._pendingStates.forEach(((i,n)=>{let r=e?this.getAggregatedValue(n,e):i.value;t.push({id:n,newValue:r,type:i.type})})),t}getState(e){return this._pendingStates.get(e)}getAggregatedValue(e,t){let i=this._pendingStates.get(e);return i?t&&i.recordRef?this.updateValue(i):i.value:null}commit(e,t){}clear(e){this._pendingStates.clear(),this._pendingTransactions=[]}startPending(){this._isPending=!0}endPending(e){this._isPending=!1,this._pendingStates.clear(),this._pendingTransactions=[]}updateState(e,t,i){let n=e.get(t.id);n?VC(n.value)?OC(n.value,t.newValue):n.value=t.newValue:(n={value:this.cloneStrategy.clone(t.newValue),recordRef:i,type:t.type},e.set(t.id,n)),this.cleanState(t.id,e)}updateValue(e){return this.mergeValues(e.recordRef,e.value)}mergeValues(e,t){return VC(e)||VC(t)?OC(this.cloneStrategy.clone(e),t):t||e}cleanState(e,t){let i=t.get(e);if(i&&i.value&&i.recordRef)if(VC(i.recordRef)){for(let e of Object.keys(i.value))JSON.stringify(i.recordRef[e])===JSON.stringify(i.value[e])&&delete i.value[e];i.type!==lS.DELETE&&0===Object.keys(i.value).length&&t.delete(e)}else i.recordRef===i.value&&t.delete(e)}},WI=class extends $I{constructor(){super(...arguments),this._transactions=[],this._redoStack=[],this._undoStack=[],this._states=new Map}get canUndo(){return this._undoStack.length>0}get canRedo(){return this._redoStack.length>0}add(e,t){let i=this._isPending?this._pendingStates:this._states;this.verifyAddedTransaction(i,e,t),this.addTransaction(e,i,t)}getTransactionLog(e){return void 0!==e?this._transactions.filter((t=>t.id===e)):[...this._transactions]}getAggregatedChanges(e){let t=[];return this._states.forEach(((i,n)=>{let r=e?this.mergeValues(i.recordRef,i.value):i.value;t.push({id:n,newValue:r,type:i.type})})),t}getState(e,t=!1){return t?this._pendingStates.get(e):this._states.get(e)}get enabled(){return!0}getAggregatedValue(e,t){let i=this._states.get(e),n=super.getState(e);if(!i&&!n)return null;let r=super.getAggregatedValue(e,!1),s=i&&i.value,o=this.mergeValues(s,r);if(t){let e=i?i.recordRef:n.recordRef;o=this.mergeValues(e,o)}return o}endPending(e){if(this._isPending=!1,e){let e=[];for(let t of this._pendingTransactions){let i=this._pendingStates.get(t.id);this._transactions.push(t),this.updateState(this._states,t,i.recordRef),e.push({transaction:t,recordRef:i.recordRef})}this._undoStack.push(e),this._redoStack=[],this.onStateUpdate.emit({origin:dS.END,actions:e})}super.endPending(e)}commit(e,t){if(void 0!==t){let i=this.getState(t);i&&this.updateRecord(e,i)}else this._states.forEach((t=>{this.updateRecord(e,t)}));this.clear(t)}clear(e){void 0!==e?(this._transactions=this._transactions.filter((t=>t.id!==e)),this._states.delete(e),this._undoStack=this._undoStack.map((t=>t.filter((t=>t.transaction.id!==e)))).filter((e=>e.length>0))):(this._transactions=[],this._states.clear(),this._undoStack=[]),this._redoStack=[],this.onStateUpdate.emit({origin:dS.CLEAR,actions:[]})}undo(){if(this._undoStack.length<=0)return;let e=this._undoStack.pop();this._transactions.splice(this._transactions.length-e.length),this._redoStack.push(e),this._states.clear();for(let e of this._undoStack)for(let t of e)this.updateState(this._states,t.transaction,t.recordRef);this.onStateUpdate.emit({origin:dS.UNDO,actions:e})}redo(){if(this._redoStack.length>0){let e=this._redoStack.pop();for(let t of e)this.updateState(this._states,t.transaction,t.recordRef),this._transactions.push(t.transaction);this._undoStack.push(e),this.onStateUpdate.emit({origin:dS.REDO,actions:e})}}addTransaction(e,t,i){if(this.updateState(t,e,i),(this._isPending?this._pendingTransactions:this._transactions).push(e),!this._isPending){let t=[{transaction:e,recordRef:i}];this._undoStack.push(t),this._redoStack=[],this.onStateUpdate.emit({origin:dS.ADD,actions:t})}}verifyAddedTransaction(e,t,i){let n=e.get(t.id);switch(t.type){case lS.ADD:if(n)throw new Error(`Cannot add this transaction. Transaction with id: ${t.id} has been already added.`);break;case lS.DELETE:case lS.UPDATE:if(n&&n.type===lS.DELETE)throw new Error(`Cannot add this transaction. Transaction with id: ${t.id} has been already deleted.`);if(!n&&!i&&!this._isPending)throw new Error(`Cannot add this transaction. This is first transaction of type ${t.type} for id ${t.id}. For first transaction of this type recordRef is mandatory.`)}}updateState(e,t,i){let n=e.get(t.id);if(n)switch(t.type){case lS.DELETE:n.type===lS.ADD?e.delete(t.id):n.type===lS.UPDATE&&(n.value=t.newValue,n.type=lS.DELETE);break;case lS.UPDATE:VC(n.value)?(n.type===lS.ADD&&(n.value=this.mergeValues(n.value,t.newValue)),n.type===lS.UPDATE&&OC(n.value,t.newValue)):n.value=t.newValue}else n={value:this.cloneStrategy.clone(t.newValue),recordRef:i,type:t.type},e.set(t.id,n);this.cleanState(t.id,e)}updateRecord(e,t){let i=e.findIndex((e=>JSON.stringify(e)===JSON.stringify(t.recordRef||{})));switch(t.type){case lS.ADD:e.push(t.value);break;case lS.DELETE:0<=i&&i<e.length&&e.splice(i,1);break;case lS.UPDATE:0<=i&&i<e.length&&(e[i]=this.updateValue(t))}}},KI=class extends WI{getAggregatedChanges(e){let t=[];return this._states.forEach(((i,n)=>{let r=e?this.mergeValues(i.recordRef,i.value):this.cloneStrategy.clone(i.value);this.clearArraysFromObject(r),t.push({id:n,path:i.path,newValue:r,type:i.type})})),t}commit(e,t,i,n){if(void 0!==i){let r=this.getAggregatedChanges(!0);void 0!==n&&(r=r.filter((e=>e.id===n))),DS.mergeHierarchicalTransactions(e,r,i,t,this.cloneStrategy,!0),this.clear(n)}else super.commit(e,t)}updateState(e,t,i){if(super.updateState(e,t,i),!t.path)return;let n=e.get(t.id);n&&(n.path=t.path),t.type===lS.DELETE&&e.forEach(((i,n)=>{if(i.path&&-1!==i.path.indexOf(t.id))switch(i.type){case lS.ADD:e.delete(n);break;case lS.UPDATE:e.get(n).type=lS.DELETE,e.get(n).value=null}}))}clearArraysFromObject(e){if(e)for(let t of Object.keys(e))Array.isArray(e[t])&&delete e[t]}},jI=(()=>{class e{create(e){return"Base"===e?new WI:new $I}static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵprov=ir({token:e,factory:e.ɵfac,providedIn:"root"})}}return e})(),UI=(()=>{class e extends jI{create(e){return"Base"===e?new KI:new $I}static{this.ɵfac=(()=>{let t;return function(i){return(t||(t=ol(e)))(i||e)}})()}static{this.ɵprov=ir({token:e,factory:e.ɵfac,providedIn:"root"})}}return e})(),qI=new hr("ThemeToken",{providedIn:"root",factory:()=>new class{constructor(e){this.t=e,this.document=Mr(Kf);let t=globalThis.window?.getComputedStyle(this.document.body).getPropertyValue("--ig-theme").trim()||"material",i=e??t;this.subject=new bi(i)}onChange(e){return this.subject.subscribe(e)}set(e){this.subject.next(e)}get theme(){return this.subject.getValue()}get preferToken(){return!!this.t}}}),YI=function(e){return e[e.Up=-1]="Up",e[e.Down=1]="Down",e}(YI||{}),ZI="escape",XI="enter",QI="space",JI=new hr("IgxDropDownBaseToken"),eR=(()=>{class e{constructor(e){this.dropdown=e,this._target=null}get target(){return this._target}set target(e){this._target=e||this.dropdown}handleKeyDown(e){if(e){let t=e.key.toLowerCase();if(this.target.collapsed)return;if(-1===["esc","escape","enter","space","spacebar"," ","arrowup","up","arrowdown","down","home","end"].indexOf(t))return;switch(e.preventDefault(),e.stopPropagation(),t){case"esc":case"escape":this.target.onItemActionKey(ZI,e);break;case"enter":this.target.onItemActionKey(XI,e);break;case"space":case"spacebar":case" ":this.target.onItemActionKey(QI,e);break;case"arrowup":case"up":this.onArrowUpKeyDown();break;case"arrowdown":case"down":this.onArrowDownKeyDown();break;case"home":this.onHomeKeyDown();break;case"end":this.onEndKeyDown();break;default:return}}}onArrowDownKeyDown(){this.target.navigateNext()}onArrowUpKeyDown(){this.target.navigatePrev()}onEndKeyDown(){this.target.navigateLast()}onHomeKeyDown(){this.target.navigateFirst()}static{this.ɵfac=function(t){return new(t||e)(lu(JI,10))}}static{this.ɵdir=rg({type:e,selectors:[["","igxDropDownItemNavigation",""]],hostBindings:function(e,t){1&e&&rm("keydown",(function(e){return t.handleKeyDown(e)}))},inputs:{target:[0,"igxDropDownItemNavigation","target"]}})}}return e})(),tR=function(e){return e[e.START=0]="START",e[e.END=1]="END",e}(tR||{}),iR=(()=>{class e{constructor(){this.isPositionStart=!1,this.isPositionEnd=!1,this._position=tR.START}set position(e){let t=tR[e.toUpperCase()];void 0!==t&&(this._position=t,this._applyPosition(this._position))}get position(){return this._position.toString()}ngOnInit(){this._applyPosition(this._position)}_applyPosition(e){switch(this.isPositionStart=this.isPositionEnd=!1,e){case tR.START:this.isPositionStart=!0;break;case tR.END:this.isPositionEnd=!0}}static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵdir=rg({type:e,selectors:[["igx-hint"],["","igxHint",""]],hostVars:4,hostBindings:function(e,t){2&e&&ap("igx-input-group__hint-item--start",t.isPositionStart)("igx-input-group__hint-item--end",t.isPositionEnd)},inputs:{position:"position"}})}}return e})(),nR=class{},rR=["required","pattern","minlength","maxlength","min","max","step"],sR=function(e){return e[e.INITIAL=0]="INITIAL",e[e.VALID=1]="VALID",e[e.INVALID=2]="INVALID",e}(sR||{}),oR=(()=>{class e{constructor(e,t,i,n,r,s){this.inputGroup=e,this.ngModel=t,this.formControl=i,this.element=n,this.cdr=r,this.renderer=s,this.isInput=!1,this.isTextArea=!1,this._valid=sR.INITIAL,this._disabled=!1}get ngControl(){return this.ngModel?this.ngModel:this.formControl}set value(e){this.nativeElement.value=e??"",this.updateValidityState()}get value(){return this.nativeElement.value}set disabled(e){this._disabled=this.inputGroup.disabled=e,this.focused&&this._disabled&&(this.inputGroup.isFocused=!1)}get disabled(){return this._disabled}set required(e){this.nativeElement.required=this.inputGroup.isRequired=e}get required(){let e;return this.ngControl&&(this.ngControl.control.validator||this.ngControl.control.asyncValidator)&&(e=this.ngControl.control.validator({})),e&&e.required||this.nativeElement.hasAttribute("required")}onFocus(){this.inputGroup.isFocused=!0}onBlur(){this.inputGroup.isFocused=!1,this.updateValidityState()}onInput(){this.checkNativeValidity()}change(e){if("file"===this.type){let t=e.target.files,i=[];if(t)for(let e of Array.from(t))i.push(e);this._fileNames=(i||[]).map((e=>e.name)).join(", "),this.required&&t?.length>0&&(this._valid=sR.INITIAL)}}get fileNames(){return this._fileNames}clear(){this.ngControl?.control?.setValue(""),this.nativeElement.value=null,this._fileNames=""}ngAfterViewInit(){this.inputGroup.hasPlaceholder=this.nativeElement.hasAttribute("placeholder"),this.ngControl&&null!==this.ngControl.disabled&&(this.disabled=this.ngControl.disabled),this.inputGroup.disabled=this.inputGroup.disabled||this.nativeElement.hasAttribute("disabled"),this.inputGroup.isRequired=this.nativeElement.hasAttribute("required"),this.ngControl||(this._valid=sR.INITIAL),this.required&&!this.inputGroup.isRequired&&(this.inputGroup.isRequired=this.required),this.renderer.setAttribute(this.nativeElement,"aria-required",this.required.toString()),"textarea"===this.nativeElement.tagName.toLowerCase()?this.isTextArea=!0:this.isInput=!0,this.ngControl&&(this._statusChanges$=this.ngControl.statusChanges.subscribe(this.onStatusChanged.bind(this)),this._valueChanges$=this.ngControl.valueChanges.subscribe(this.onValueChanged.bind(this))),this.cdr.detectChanges()}ngOnDestroy(){this._statusChanges$&&this._statusChanges$.unsubscribe(),this._valueChanges$&&this._valueChanges$.unsubscribe()}focus(){this.nativeElement.focus()}get nativeElement(){return this.element.nativeElement}onStatusChanged(){this.disabled!==this.ngControl.disabled&&(this.disabled=this.ngControl.disabled),this.updateValidityState()}onValueChanged(){this._fileNames&&!this.value&&(this._fileNames="")}updateValidityState(){if(this.ngControl){if(!this.disabled&&this.isTouchedOrDirty)if(this.hasValidators){let e=this.ngControl.control.validator({});this.inputGroup.isRequired=e&&e.required,this.focused?this._valid=this.ngControl.valid?sR.VALID:sR.INVALID:this._valid=this.ngControl.valid?sR.INITIAL:sR.INVALID}else this.inputGroup.isRequired=!1,this._valid=this.ngControl.valid?sR.INITIAL:sR.INVALID;else this._valid=sR.INITIAL;this.renderer.setAttribute(this.nativeElement,"aria-required",this.required.toString());let e=this.valid===sR.INVALID;this.renderer.setAttribute(this.nativeElement,"aria-invalid",e.toString())}else this.checkNativeValidity()}get isTouchedOrDirty(){return this.ngControl.control.touched||this.ngControl.control.dirty}get hasValidators(){return!!this.ngControl.control.validator||!!this.ngControl.control.asyncValidator}get hasPlaceholder(){return this.nativeElement.hasAttribute("placeholder")}get placeholder(){return this.nativeElement.placeholder}_hasValidators(){for(let e of rR)if(this.nativeElement.hasAttribute(e))return!0;return!1}get focused(){return this.inputGroup.isFocused}get valid(){return this._valid}set valid(e){this._valid=e}get isValid(){return this.valid!==sR.INVALID}checkNativeValidity(){!this.disabled&&this._hasValidators()&&(this._valid=this.nativeElement.checkValidity()?this.focused?sR.VALID:sR.INITIAL:sR.INVALID)}get type(){return this.nativeElement.type}static{this.ɵfac=function(t){return new(t||e)(lu(nR),lu(Dx,10),lu(Wy,10),lu(zl),lu(Cf),lu(ru))}}static{this.ɵdir=rg({type:e,selectors:[["","igxInput",""]],hostVars:5,hostBindings:function(e,t){1&e&&rm("focus",(function(){return t.onFocus()}))("blur",(function(){return t.onBlur()}))("input",(function(){return t.onInput()}))("change",(function(e){return t.change(e)})),2&e&&(jp("disabled",t.disabled),ap("igx-input-group__input",t.isInput)("igx-input-group__textarea",t.isTextArea))},inputs:{value:"value",disabled:[2,"disabled","disabled",Hf],required:[2,"required","required",Hf]},exportAs:["igxInput"]})}}return e})(),aR=0,lR=(()=>{class e{constructor(){this.defaultClass=!0,this.id="igx-label-"+aR++}static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵdir=rg({type:e,selectors:[["","igxLabel",""]],hostVars:3,hostBindings:function(e,t){2&e&&($g("id",t.id),ap("igx-input-group__label",t.defaultClass))},inputs:{id:"id"}})}}return e})(),dR=(()=>{class e{static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵdir=rg({type:e,selectors:[["igx-prefix"],["","igxPrefix",""],["","igxStart",""]]})}}return e})(),cR=(()=>{class e{static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵdir=rg({type:e,selectors:[["igx-suffix"],["","igxSuffix",""],["","igxEnd",""]]})}}return e})(),hR={igx_input_upload_button:"Upload File",igx_input_file_placeholder:"No file chosen"},uR={Flat:"flat",Contained:"contained",Outlined:"outlined"},gR=(()=>{class e{onClick(e){this.buttonClick.emit(e),this.focused=!1}onBlur(){this.focused=!1}get disabledAttribute(){return this.disabled||null}constructor(e){this.element=e,this.buttonClick=new wl,this.role="button",this.focused=!1,this.disabled=!1}updateOnKeyUp(e){"Tab"===e.key&&(this.focused=!0)}get nativeElement(){return this.element.nativeElement}static{this.ɵfac=function(t){return new(t||e)(lu(zl))}}static{this.ɵdir=rg({type:e,hostVars:6,hostBindings:function(e,t){1&e&&rm("click",(function(e){return t.onClick(e)}))("blur",(function(){return t.onBlur()}))("keyup",(function(e){return t.updateOnKeyUp(e)})),2&e&&($g("role",t.role)("disabled",t.disabledAttribute),ap("igx-button--focused",t.focused)("igx-button--disabled",t.disabled))},inputs:{disabled:[2,"disabled","disabled",Hf]},outputs:{buttonClick:"buttonClick"}})}}return e})(),pR=Je(Qe({},uR),{FAB:"fab"}),mR=(()=>{class e extends gR{emitSelected(){this.buttonSelected.emit({button:this})}set selected(e){this._selected!==e&&(this._selected=e,this._renderer.setAttribute(this.nativeElement,"data-selected",e.toString()))}get selected(){return this._selected}constructor(e,t){super(e),this.element=e,this._renderer=t,this.buttonSelected=new wl,this._cssClass="igx-button",this._selected=!1}set type(e){let t=e||pR.Flat;this._type!==t&&(this._type=t)}set label(e){this._label=e||this._label,this._renderer.setAttribute(this.nativeElement,"aria-label",this._label)}get flat(){return this._type===pR.Flat}get contained(){return this._type===pR.Contained}get outlined(){return this._type===pR.Outlined}get fab(){return this._type===pR.FAB}select(){this.selected=!0}deselect(){this.selected=!1,this.focused=!1}static{this.ɵfac=function(t){return new(t||e)(lu(zl),lu(ru))}}static{this.ɵdir=rg({type:e,selectors:[["","igxButton",""]],hostVars:10,hostBindings:function(e,t){1&e&&rm("click",(function(){return t.emitSelected()})),2&e&&ap("igx-button",t._cssClass)("igx-button--flat",t.flat)("igx-button--contained",t.contained)("igx-button--outlined",t.outlined)("igx-button--fab",t.fab)},inputs:{selected:[2,"selected","selected",Hf],type:[0,"igxButton","type"],label:[0,"igxLabel","label"]},outputs:{buttonSelected:"buttonSelected"},features:[dg]})}}return e})(),fR=new hr("InputGroupType"),vR=e=>new Map(Object.entries(e).map((e=>e))),yR=(e,t)=>({alias:{name:e,family:"default"},target:vR(t)}),xR=[yR("more_vert",{default:{name:"more_vert",family:"material"}}),yR("arrow_prev",{default:{name:"chevron_left",family:"material"},fluent:{name:"arrow_upward",family:"material"},indigo:{name:"chevron_left",family:"internal_indigo"}}),yR("arrow_next",{default:{name:"chevron_right",family:"material"},fluent:{name:"arrow_downward",family:"material"},indigo:{name:"chevron_right",family:"internal_indigo"}}),yR("expand",{default:{name:"expand_more",family:"material"},indigo:{name:"chevron_down",family:"internal_indigo"}}),yR("collapse",{default:{name:"expand_less",family:"material"},indigo:{name:"chevron_up",family:"internal_indigo"}}),yR("carousel_prev",{default:{name:"keyboard_arrow_left",family:"material"},indigo:{name:"chevron_left",family:"internal_indigo"}}),yR("carousel_next",{default:{name:"keyboard_arrow_right",family:"material"},indigo:{name:"chevron_right",family:"internal_indigo"}}),yR("arrow_back",{default:{name:"arrow_back",family:"material"},indigo:{name:"arrow_back",family:"internal_indigo"}}),yR("arrow_forward",{default:{name:"arrow_forward",family:"material"},indigo:{name:"arrow_forward",family:"internal_indigo"}}),yR("selected",{default:{name:"done",family:"material"},indigo:{name:"check",family:"internal_indigo"}}),yR("remove",{default:{name:"cancel",family:"material"},indigo:{name:"cancel",family:"internal_indigo"}}),yR("input_clear",{default:{name:"clear",family:"material"},indigo:{name:"clear",family:"internal_indigo"}}),yR("input_expand",{default:{name:"expand_more",family:"material"},indigo:{name:"chevron_down",family:"internal_indigo"}}),yR("input_collapse",{default:{name:"expand_less",family:"material"},indigo:{name:"chevron_up",family:"internal_indigo"}}),yR("arrow_drop_down",{default:{name:"keyboard_arrow_down",family:"material"},indigo:{name:"chevron_down",family:"internal_indigo"}}),yR("case_sensitive",{default:{name:"case-sensitive",family:"imx-icons"}}),yR("today",{default:{name:"calendar_today",family:"material"},indigo:{name:"calendar_today",family:"internal_indigo"}}),yR("clock",{default:{name:"access_time",family:"material"},indigo:{name:"access_time",family:"internal_indigo"}}),yR("date_range",{default:{name:"date_range",family:"material"},indigo:{name:"calendar_today",family:"internal_indigo"}}),yR("prev",{default:{name:"navigate_before",family:"material"},indigo:{name:"chevron_left",family:"internal_indigo"}}),yR("next",{default:{name:"navigate_next",family:"material"},indigo:{name:"chevron_right",family:"internal_indigo"}}),yR("first_page",{default:{name:"first_page",family:"material"},indigo:{name:"first_page",family:"internal_indigo"}}),yR("last_page",{default:{name:"last_page",family:"material"},indigo:{name:"last_page",family:"internal_indigo"}}),yR("add",{default:{name:"add",family:"material"},indigo:{name:"add",family:"internal_indigo"}}),yR("close",{default:{name:"close",family:"material"},indigo:{name:"clear",family:"internal_indigo"}}),yR("error",{default:{name:"error",family:"material"},indigo:{name:"error",family:"internal_indigo"}}),yR("confirm",{default:{name:"check",family:"material"},indigo:{name:"check",family:"internal_indigo"}}),yR("cancel",{default:{name:"close",family:"material"},indigo:{name:"clear",family:"internal_indigo"}}),yR("edit",{default:{name:"edit",family:"material"}}),yR("delete",{default:{name:"delete",family:"material"}}),yR("pin",{default:{name:"pin-left",family:"imx-icons"},indigo:{name:"pin",family:"internal_indigo"}}),yR("unpin",{default:{name:"unpin-left",family:"imx-icons"},indigo:{name:"unpin",family:"internal_indigo"}}),yR("show",{default:{name:"visibility",family:"material"}}),yR("hide",{default:{name:"visibility_off",family:"material"}}),yR("tree_expand",{default:{name:"chevron_right",family:"material"},indigo:{name:"chevron_right",family:"internal_indigo"}}),yR("tree_collapse",{default:{name:"expand_more",family:"material"},indigo:{name:"chevron_down",family:"internal_indigo"}}),yR("chevron_right",{default:{name:"chevron_right",family:"material"},indigo:{name:"chevron_right",family:"internal_indigo"}}),yR("chevron_left",{default:{name:"chevron_left",family:"material"},indigo:{name:"chevron_left",family:"internal_indigo"}}),yR("expand_more",{default:{name:"expand_more",family:"material"},indigo:{name:"chevron_down",family:"internal_indigo"}}),yR("filter_list",{default:{name:"filter_list",family:"material"},indigo:{name:"filter_list",family:"internal_indigo"}}),yR("import_export",{default:{name:"import_export",family:"material"}}),yR("unfold_more",{default:{name:"unfold_more",family:"material"},indigo:{name:"unfold_more",family:"internal_indigo"}}),yR("unfold_less",{default:{name:"unfold_less",family:"material"},indigo:{name:"unfold_less",family:"internal_indigo"}}),yR("drag_indicator",{default:{name:"drag_indicator",family:"material"}}),yR("group_work",{default:{name:"group_work",family:"material"}}),yR("sort_asc",{default:{name:"arrow_upward",family:"material"},indigo:{name:"arrow_upward",family:"internal_indigo"}}),yR("sort_desc",{default:{name:"arrow_downward",family:"material"},indigo:{name:"arrow_downward",family:"internal_indigo"}}),yR("search",{default:{name:"search",family:"material"},indigo:{name:"search",family:"internal_indigo"}}),yR("functions",{default:{name:"functions",family:"material"}}),yR("table_rows",{default:{name:"table_rows",family:"material"}}),yR("view_column",{default:{name:"view_column",family:"material"}}),yR("refresh",{default:{name:"refresh",family:"material"},indigo:{name:"refresh",family:"internal_indigo"}}),yR("add_row",{default:{name:"add-row",family:"imx-icons"}}),yR("add_child",{default:{name:"add-child",family:"imx-icons"}}),yR("jump_up",{default:{name:"jump-up",family:"imx-icons"}}),yR("jump_down",{default:{name:"jump-down",family:"imx-icons"}}),yR("filter_null",{default:{name:"is-null",family:"imx-icons"}}),yR("filter_not_null",{default:{name:"is-not-null",family:"imx-icons"}}),yR("filter_in",{default:{name:"is-in",family:"imx-icons"}}),yR("filter_all",{default:{name:"select-all",family:"imx-icons"}}),yR("filter_true",{default:{name:"is-true",family:"imx-icons"}}),yR("filter_false",{default:{name:"is-false",family:"imx-icons"}}),yR("filter_empty",{default:{name:"is-empty",family:"imx-icons"}}),yR("filter_not_empty",{default:{name:"not-empty",family:"imx-icons"}}),yR("filter_equal",{default:{name:"equals",family:"imx-icons"}}),yR("filter_not_equal",{default:{name:"not-equal",family:"imx-icons"}}),yR("filter_before",{default:{name:"is-before",family:"imx-icons"}}),yR("filter_after",{default:{name:"is-after",family:"imx-icons"}}),yR("filter_today",{default:{name:"today",family:"imx-icons"}}),yR("filter_yesterday",{default:{name:"yesterday",family:"imx-icons"}}),yR("filter_this_month",{default:{name:"this-month",family:"imx-icons"}}),yR("filter_last_month",{default:{name:"last-month",family:"imx-icons"}}),yR("filter_next_month",{default:{name:"next-month",family:"imx-icons"}}),yR("filter_this_year",{default:{name:"this-year",family:"imx-icons"}}),yR("filter_last_year",{default:{name:"last-year",family:"imx-icons"}}),yR("filter_next_year",{default:{name:"next-year",family:"imx-icons"}}),yR("filter_greater_than",{default:{name:"greater-than",family:"imx-icons"}}),yR("filter_less_than",{default:{name:"less-than",family:"imx-icons"}}),yR("filter_greater_than_or_equal",{default:{name:"greater-than-or-equal",family:"imx-icons"}}),yR("filter_less_than_or_equal",{default:{name:"less-than-or-equal",family:"imx-icons"}}),yR("filter_contains",{default:{name:"contains",family:"imx-icons"}}),yR("filter_does_not_contain",{default:{name:"does-not-contain",family:"imx-icons"}}),yR("filter_starts_with",{default:{name:"starts-with",family:"imx-icons"}}),yR("filter_ends_with",{default:{name:"ends-with",family:"imx-icons"}}),yR("ungroup",{default:{name:"ungroup",family:"imx-icons"}}),yR("file_download",{default:{name:"file_download",family:"material"},indigo:{name:"file_download",family:"internal_indigo"}}),yR("file_upload",{default:{name:"file_upload",family:"material"},indigo:{name:"file_upload",family:"internal_indigo"}}),yR("horizontal_rule",{default:{name:"horizontal_rule",family:"material"},indigo:{name:"horizontal_rule",family:"internal_indigo"}}),yR("menu",{default:{name:"menu",family:"material"},indigo:{name:"menu",family:"internal_indigo"}})],_R=new Map(Object.entries({clear:{name:"clear",value:'<svg xmlns="http://www.w3.org/2000/svg" width="512" height="512" viewBox="0 0 24 24">\n<path d="M14.8144 11.9896L18.4171 8.39087C18.7818 8.0135 18.9836 7.50809 18.9791 6.98347C18.9745 6.45885 18.764 5.95699 18.3927 5.58602C18.0215 5.21504 17.5192 5.00464 16.9942 5.00008C16.4692 4.99552 15.9635 5.19718 15.5858 5.56166L11.9896 9.15372L8.39335 5.56166C8.01571 5.19718 7.50992 4.99552 6.98492 5.00008C6.45992 5.00464 5.95769 5.21505 5.58645 5.58602C5.2152 5.95699 5.00464 6.45885 5.00008 6.98347C4.99551 7.50809 5.19733 8.0135 5.56207 8.39087L9.18561 12.0104L5.58291 15.6091C5.21817 15.9865 5.01635 16.4919 5.02091 17.0165C5.02548 17.5412 5.23604 18.043 5.60729 18.414C5.97853 18.785 6.48075 18.9954 7.00576 18.9999C7.53076 19.0045 8.03654 18.8028 8.41419 18.4383L12.0104 14.8463L15.6067 18.4383C15.9843 18.8028 16.4901 19.0045 17.0151 18.9999C17.5401 18.9954 18.0423 18.785 18.4136 18.414C18.7848 18.043 18.9954 17.5412 18.9999 17.0165C19.0045 16.4919 18.8027 15.9865 18.4379 15.6091L14.8144 11.9896Z"/>\n</svg>',categories:["editor"],fontSet:"indigo"},unfold_more:{name:"unfold_more",value:'<svg xmlns="http://www.w3.org/2000/svg" width="512" height="512" viewBox="0 0 24 24">\n<path d="M13.2403 2.52848C12.9114 2.1902 12.4652 2.0001 12 2C11.5348 2.0001 11.0886 2.1902 10.7597 2.52848L6.49245 6.94326C6.17289 7.28344 5.99607 7.73906 6.00007 8.21198C6.00406 8.6849 6.18855 9.13731 6.51381 9.47173C6.83907 9.80615 7.27909 9.99582 7.73907 9.99993C8.19904 10.004 8.64218 9.82225 8.97305 9.49369L12 6.35412L15.0269 9.49369C15.3578 9.82225 15.801 10.004 16.2609 9.99993C16.7209 9.99582 17.1609 9.80615 17.4862 9.47173C17.8115 9.13731 17.9959 8.6849 17.9999 8.21198C18.0039 7.73906 17.8271 7.28344 17.5076 6.94326L13.2403 2.52848Z"/>\n<path d="M10.7597 21.4715C11.0886 21.8098 11.5348 21.9999 12 22C12.4652 21.9999 12.9114 21.8098 13.2403 21.4715L17.5076 17.0567C17.8271 16.7166 18.0039 16.2609 17.9999 15.788C17.9959 15.3151 17.8115 14.8627 17.4862 14.5283C17.1609 14.1939 16.7209 14.0042 16.2609 14.0001C15.801 13.996 15.3578 14.1778 15.0269 14.5063L12 17.6459L8.97305 14.5063C8.64218 14.1778 8.19904 13.996 7.73907 14.0001C7.27909 14.0042 6.83907 14.1939 6.51381 14.5283C6.18855 14.8627 6.00406 15.3151 6.00007 15.788C5.99607 16.2609 6.17289 16.7166 6.49245 17.0567L10.7597 21.4715Z"/>\n</svg>',categories:["editor"],fontSet:"indigo"},unfold_less:{name:"unfold_less",value:'<svg xmlns="http://www.w3.org/2000/svg" width="512" height="512" viewBox="0 0 24 24">\n<path d="M10.7597 9.47152C11.0886 9.8098 11.5348 9.9999 12 10C12.4652 9.9999 12.9114 9.8098 13.2403 9.47152L17.5076 5.05674C17.8271 4.71656 18.0039 4.26094 17.9999 3.78802C17.9959 3.3151 17.8115 2.86269 17.4862 2.52827C17.1609 2.19385 16.7209 2.00418 16.2609 2.00007C15.801 1.99596 15.3578 2.17775 15.0269 2.50631L12 5.64588L8.97305 2.50631C8.64218 2.17775 8.19904 1.99596 7.73907 2.00007C7.27909 2.00418 6.83907 2.19386 6.51381 2.52828C6.18855 2.8627 6.00406 3.3151 6.00007 3.78802C5.99607 4.26095 6.17289 4.71656 6.49245 5.05674L10.7597 9.47152Z"/>\n<path d="M13.2403 14.5285C12.9114 14.1902 12.4652 14.0001 12 14C11.5348 14.0001 11.0886 14.1902 10.7597 14.5285L6.49245 18.9433C6.17289 19.2834 5.99607 19.7391 6.00007 20.212C6.00406 20.6849 6.18855 21.1373 6.51381 21.4717C6.83907 21.8061 7.27909 21.9958 7.73907 21.9999C8.19904 22.004 8.64218 21.8222 8.97305 21.4937L12 18.3541L15.0269 21.4937C15.3578 21.8222 15.801 22.004 16.2609 21.9999C16.7209 21.9958 17.1609 21.8061 17.4862 21.4717C17.8115 21.1373 17.9959 20.6849 17.9999 20.212C18.0039 19.7391 17.8271 19.2834 17.5076 18.9433L13.2403 14.5285Z"/>\n</svg>',categories:["editor"],fontSet:"indigo"},arrow_forward:{name:"arrow_forward",value:'<svg xmlns="http://www.w3.org/2000/svg" width="512" height="512" viewBox="0 0 24 24">\n<path d="M4.00085 11.9436C3.99347 12.178 4.034 12.4115 4.12005 12.6303C4.20609 12.849 4.33589 13.0484 4.50174 13.2168C4.66758 13.3851 4.8661 13.519 5.0855 13.6103C5.30489 13.7017 5.54069 13.7487 5.7789 13.7486H14.136L11.6165 16.1733L11.5898 16.1996C11.2817 16.5108 11.1117 16.9297 11.117 17.3643C11.1224 17.7989 11.3026 18.2137 11.6183 18.5175C11.9413 18.8269 12.3741 19 12.8247 19C13.2753 19 13.7081 18.8269 14.0311 18.5175L19.5004 13.2234C19.6586 13.0703 19.7843 12.8878 19.8701 12.6864C19.9559 12.485 20 12.2688 20 12.0504V11.9576C20.0002 11.7387 19.9561 11.5219 19.8703 11.3199C19.7846 11.1179 19.6588 10.9348 19.5004 10.7811L14.0311 5.48876C13.8672 5.32979 13.6726 5.20469 13.4589 5.12081C13.2451 5.03693 13.0165 4.99596 12.7865 5.00031C12.3501 5.01251 11.9346 5.18704 11.6236 5.48876L11.5952 5.51677C11.2855 5.82747 11.1138 6.24653 11.1178 6.68184C11.1218 7.11714 11.3012 7.53307 11.6165 7.83821L14.12 10.2472L5.7789 10.2472C5.31673 10.247 4.87263 10.4239 4.54073 10.7406C4.20882 11.0573 4.01518 11.4888 4.00085 11.9436Z"/>\n</svg>',categories:["editor"],fontSet:"indigo"},arrow_back:{name:"arrow_back",value:'<svg xmlns="http://www.w3.org/2000/svg" width="512" height="512" viewBox="0 0 24 24">\n<path d="M18.229 13.7483H9.87121L12.3839 16.1672L12.4106 16.1952C12.5638 16.3492 12.6846 16.5315 12.7662 16.7316C12.8478 16.9316 12.8885 17.1455 12.8861 17.361C12.8836 17.5766 12.8379 17.7895 12.7518 17.9877C12.6656 18.1859 12.5406 18.3654 12.3839 18.516C12.0608 18.8263 11.6272 19 11.1757 19C10.7242 19 10.2906 18.8263 9.9675 18.516L4.4996 13.2197C4.3412 13.0668 4.21543 12.8843 4.12963 12.683C4.04384 12.4816 3.99978 12.2654 4 12.0471L4 11.9543C3.9998 11.7354 4.04385 11.5187 4.12963 11.3168C4.21542 11.1148 4.34117 10.9317 4.4996 10.7782L9.9675 5.48717C10.2904 5.17494 10.7249 5 11.1775 5C11.6301 5 12.0646 5.17494 12.3874 5.48717L12.4106 5.51163C12.564 5.66543 12.6851 5.84754 12.767 6.04746C12.8489 6.24737 12.8899 6.46121 12.8878 6.67675C12.8857 6.8923 12.8404 7.10529 12.7545 7.30359C12.6687 7.50189 12.5439 7.68161 12.3874 7.83242L9.87832 10.2479L18.2219 10.2479C18.6935 10.2479 19.1458 10.4323 19.4792 10.7605C19.8127 11.0887 20 11.5339 20 11.9981C20 12.4623 19.8127 12.9074 19.4792 13.2356C19.1458 13.5638 18.6935 13.7483 18.2219 13.7483H18.229Z"/>\n</svg>',categories:["editor"],fontSet:"indigo"},arrow_downward:{name:"arrow_downward",value:'<svg xmlns="http://www.w3.org/2000/svg" width="512" height="512" viewBox="0 0 24 24">\n<path d="M12.0564 4.00085C11.822 3.99347 11.5885 4.034 11.3697 4.12005C11.151 4.20609 10.9516 4.33589 10.7832 4.50174C10.6149 4.66758 10.481 4.8661 10.3897 5.0855C10.2983 5.30489 10.2513 5.54069 10.2514 5.7789V14.136L7.82669 11.6165L7.80043 11.5898C7.48918 11.2817 7.07026 11.1117 6.63567 11.117C6.20107 11.1224 5.78632 11.3026 5.48249 11.6183C5.17311 11.9413 5 12.3741 5 12.8247C5 13.2753 5.17311 13.7081 5.48249 14.0311L10.7766 19.5004C10.9297 19.6586 11.1122 19.7843 11.3136 19.8701C11.515 19.9559 11.7312 20 11.9496 20H12.0424C12.2613 20.0002 12.4781 19.9561 12.6801 19.8703C12.8821 19.7846 13.0652 19.6588 13.2189 19.5004L18.5112 14.0311C18.6702 13.8672 18.7953 13.6726 18.8792 13.4589C18.9631 13.2451 19.004 13.0165 18.9997 12.7865C18.9875 12.3501 18.813 11.9346 18.5112 11.6236L18.4832 11.5952C18.1725 11.2855 17.7535 11.1138 17.3182 11.1178C16.8829 11.1218 16.4669 11.3012 16.1618 11.6165L13.7528 14.12V5.7789C13.753 5.31673 13.5761 4.87263 13.2594 4.54073C12.9427 4.20882 12.5112 4.01518 12.0564 4.00085Z"/>\n</svg>',categories:["editor"],fontSet:"indigo"},arrow_upward:{name:"arrow_upward",value:'<svg xmlns="http://www.w3.org/2000/svg" width="512" height="512" viewBox="0 0 24 24">\n<path d="M10.2517 18.229V9.87121L7.83279 12.3839L7.80481 12.4106C7.65078 12.5638 7.46849 12.6846 7.26845 12.7662C7.0684 12.8478 6.85454 12.8885 6.63899 12.8861C6.42344 12.8836 6.21049 12.8379 6.01231 12.7518C5.81414 12.6656 5.63459 12.5406 5.48402 12.3839C5.17367 12.0608 5 11.6272 5 11.1757C5 10.7242 5.17367 10.2906 5.48402 9.9675L10.7803 4.4996C10.9332 4.3412 11.1157 4.21543 11.317 4.12963C11.5184 4.04384 11.7346 3.99978 11.9529 4H12.0457C12.2646 3.9998 12.4813 4.04385 12.6832 4.12963C12.8852 4.21542 13.0683 4.34117 13.2218 4.4996L18.5128 9.9675C18.8251 10.2904 19 10.7249 19 11.1775C19 11.6301 18.8251 12.0646 18.5128 12.3874L18.4884 12.4106C18.3346 12.564 18.1525 12.6851 17.9525 12.767C17.7526 12.8489 17.5388 12.8899 17.3232 12.8878C17.1077 12.8857 16.8947 12.8404 16.6964 12.7545C16.4981 12.6687 16.3184 12.5439 16.1676 12.3874L13.7521 9.87832V18.2219C13.7521 18.6935 13.5677 19.1458 13.2395 19.4792C12.9113 19.8127 12.4661 20 12.0019 20C11.5377 20 11.0926 19.8127 10.7644 19.4792C10.4362 19.1458 10.2517 18.6935 10.2517 18.2219V18.229Z"/>\n</svg>',categories:["editor"],fontSet:"indigo"},chevron_down:{name:"chevron_down",value:'<svg xmlns="http://www.w3.org/2000/svg" width="512" height="512" viewBox="0 0 24 24">\n<path d="M12 17C11.5348 16.9999 11.0886 16.8098 10.7597 16.4715L5.49245 11.0567C5.17289 10.7166 4.99607 10.2609 5.00007 9.78802C5.00406 9.3151 5.18855 8.86269 5.51381 8.52827C5.83907 8.19385 6.27909 8.00418 6.73907 8.00007C7.19904 7.99596 7.64218 8.17775 7.97305 8.50631L12 12.6459L16.027 8.50631C16.3578 8.17775 16.801 7.99596 17.2609 8.00007C17.7209 8.00418 18.1609 8.19386 18.4862 8.52827C18.8115 8.86269 18.9959 9.3151 18.9999 9.78802C19.0039 10.2609 18.8271 10.7166 18.5076 11.0567L13.2403 16.4715C12.9114 16.8098 12.4652 16.9999 12 17Z"/>\n</svg>',categories:["editor"],fontSet:"indigo"},chevron_up:{name:"chevron_up",value:'<svg xmlns="http://www.w3.org/2000/svg" width="512" height="512" viewBox="0 0 24 24">\n<path d="M12 7.00001C12.4629 7.00011 12.9069 7.18943 13.2342 7.52633L18.467 12.9116C18.6338 13.0773 18.7668 13.2755 18.8583 13.4947C18.9498 13.7138 18.9979 13.9496 18.9999 14.1881C19.0019 14.4266 18.9578 14.6632 18.87 14.8839C18.7822 15.1047 18.6526 15.3052 18.4887 15.4739C18.3247 15.6425 18.1299 15.7759 17.9153 15.8662C17.7008 15.9565 17.4709 16.002 17.2391 15.9999C17.0073 15.9979 16.7783 15.9483 16.5653 15.8542C16.3523 15.76 16.1596 15.6232 15.9986 15.4516L12 11.3363L8.00135 15.4516C7.84032 15.6232 7.64771 15.76 7.43472 15.8542C7.22174 15.9483 6.99265 15.9979 6.76085 15.9999C6.52906 16.002 6.29918 15.9565 6.08463 15.8662C5.87009 15.7759 5.6752 15.6425 5.51129 15.4739C5.34738 15.3052 5.21778 15.1047 5.13 14.8839C5.04223 14.6632 4.99805 14.4266 5.00007 14.1881C5.00208 13.9496 5.05023 13.7138 5.14172 13.4947C5.23321 13.2755 5.36619 13.0773 5.53292 12.9116L10.7658 7.52633C10.9274 7.35895 11.1198 7.22625 11.3316 7.1359C11.5435 7.04556 11.7706 6.99937 12 7.00001Z"/>\n</svg>',categories:["editor"],fontSet:"indigo"},chevron_right:{name:"chevron_right",value:'<svg xmlns="http://www.w3.org/2000/svg" width="512" height="512" viewBox="0 0 24 24">\n<path d="M17 12C16.9999 12.4652 16.8098 12.9114 16.4715 13.2403L11.0567 18.5076C10.7166 18.8271 10.2609 19.0039 9.78802 18.9999C9.3151 18.9959 8.86269 18.8115 8.52827 18.4862C8.19385 18.1609 8.00418 17.7209 8.00007 17.2609C7.99596 16.801 8.17775 16.3578 8.50631 16.027L12.6459 12L8.50631 7.97305C8.17775 7.64218 7.99596 7.19904 8.00007 6.73907C8.00418 6.27909 8.19385 5.83907 8.52827 5.51381C8.86269 5.18855 9.3151 5.00406 9.78802 5.00007C10.2609 4.99607 10.7166 5.17289 11.0567 5.49245L16.4715 10.7597C16.8098 11.0886 16.9999 11.5348 17 12Z"/>\n</svg>',categories:["editor"],fontSet:"indigo"},chevron_left:{name:"chevron_left",value:'<svg xmlns="http://www.w3.org/2000/svg" width="512" height="512" viewBox="0 0 24 24">\n<path d="M7.00001 12C7.00011 11.5371 7.18943 11.0931 7.52633 10.7658L12.9116 5.53297C13.0773 5.36624 13.2755 5.23321 13.4947 5.14172C13.7138 5.05023 13.9496 5.00208 14.1881 5.00007C14.4266 4.99805 14.6632 5.04223 14.8839 5.13C15.1047 5.21778 15.3052 5.34743 15.4739 5.51134C15.6425 5.67525 15.7759 5.87015 15.8662 6.08469C15.9565 6.29923 16.002 6.52911 15.9999 6.7609C15.9979 6.9927 15.9483 7.22174 15.8542 7.43472C15.76 7.64771 15.6232 7.84037 15.4516 8.00141L11.3363 12L15.4516 15.9986C15.6232 16.1597 15.76 16.3523 15.8542 16.5653C15.9483 16.7783 15.9979 17.0074 15.9999 17.2391C16.002 17.4709 15.9565 17.7008 15.8662 17.9154C15.7759 18.1299 15.6425 18.3248 15.4739 18.4887C15.3052 18.6526 15.1047 18.7822 14.8839 18.87C14.6632 18.9578 14.4266 19.0019 14.1881 18.9999C13.9496 18.9979 13.7138 18.9498 13.4947 18.8583C13.2755 18.7668 13.0773 18.6338 12.9116 18.4671L7.52633 13.2342C7.35895 13.0726 7.22625 12.8802 7.1359 12.6684C7.04556 12.4565 6.99937 12.2294 7.00001 12Z"/>\n</svg>',categories:["editor"],fontSet:"indigo"},check:{name:"check",value:'<svg xmlns="http://www.w3.org/2000/svg" width="512" height="512" viewBox="0 0 24 24">\n<path d="M19.0329 5.00008C18.7694 4.99771 18.5081 5.04833 18.2646 5.14892C18.0211 5.2495 17.8003 5.39801 17.6153 5.5856L9.136 14.1629L6.38271 11.3931C6.19957 11.2083 5.98158 11.0615 5.74134 10.9613C5.5011 10.8612 5.24337 10.8096 4.98307 10.8096C4.72276 10.8096 4.46503 10.8612 4.22479 10.9613C3.98455 11.0615 3.76656 11.2083 3.58343 11.3931C3.2098 11.7677 3 12.2751 3 12.804C3 13.3329 3.2098 13.8402 3.58343 14.2148L7.73836 18.4113C7.92066 18.5977 8.13838 18.7458 8.37874 18.8468C8.61909 18.9479 8.87723 19 9.138 19C9.39876 19 9.6569 18.9479 9.89726 18.8468C10.1376 18.7458 10.3553 18.5977 10.5376 18.4113L20.4166 8.42125C20.7902 8.04667 21 7.53933 21 7.01042C21 6.48151 20.7902 5.97417 20.4166 5.59958C20.2368 5.41354 20.022 5.26481 19.7846 5.16193C19.5471 5.05905 19.2917 5.00405 19.0329 5.00008Z"/>\n</svg>',categories:["editor"],fontSet:"indigo"},first_page:{name:"first_page",value:'<svg xmlns="http://www.w3.org/2000/svg" width="512" height="512" viewBox="0 0 24 24"><path d="M4 17.222V6.778c0-.471.184-.924.513-1.257C4.84 5.187 5.286 5 5.75 5c.464 0 .91.187 1.238.52.328.334.512.787.512 1.258v10.444c0 .471-.184.924-.512 1.257-.328.334-.774.521-1.238.521-.464 0-.91-.187-1.237-.52A1.792 1.792 0 0 1 4 17.221ZM11.526 10.766A1.721 1.721 0 0 0 11 12c0 .23.046.457.136.668.09.212.223.405.39.566l5.386 5.233c.165.167.364.3.583.391a1.84 1.84 0 0 0 1.979-.37c.168-.163.302-.358.392-.573A1.703 1.703 0 0 0 19.452 16L15.336 12l4.116-3.999c.171-.16.308-.353.402-.566a1.703 1.703 0 0 0-.38-1.924 1.801 1.801 0 0 0-.59-.381 1.842 1.842 0 0 0-1.972.403l-5.386 5.233Z"/></svg>',categories:["editor"],fontSet:"indigo"},last_page:{name:"last_page",value:'<svg xmlns="http://www.w3.org/2000/svg" width="512" height="512" viewBox="0 0 24 24"><path xmlns="http://www.w3.org/2000/svg" d="M17.013 18.48a1.793 1.793 0 0 1-.513-1.258V6.778c0-.471.184-.924.513-1.257.328-.334.773-.521 1.237-.521.464 0 .91.187 1.238.52.328.334.512.787.512 1.258v10.444c0 .471-.184.924-.512 1.257-.328.334-.774.521-1.238.521-.464 0-.91-.187-1.237-.52ZM12.472 13.24A1.73 1.73 0 0 0 13 12c0-.465-.19-.911-.528-1.24L7.057 5.492A1.831 1.831 0 0 0 5.788 5a1.83 1.83 0 0 0-1.26.514A1.73 1.73 0 0 0 4 6.739c-.004.46.178.903.506 1.234L8.646 12l-4.14 4.027c-.328.33-.51.774-.506 1.234.004.46.194.9.528 1.225.335.325.787.51 1.26.514.473.004.929-.173 1.269-.492l5.415-5.268Z"/></svg>',categories:["editor"],fontSet:"indigo"},access_time:{name:"access_time",value:'<svg xmlns="http://www.w3.org/2000/svg" width="512" height="512" viewBox="0 0 24 24"><path d="M10.5 8a1.5 1.5 0 0 1 3 0v2.5H16a1.5 1.5 0 1 1 0 3h-4a1.5 1.5 0 0 1-1.5-1.5V8Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M22 12c0 5.523-4.476 10-10 10-5.522 0-10-4.477-10-10S6.479 2 12 2c5.524 0 10 4.477 10 10Zm-3 0a7 7 0 1 1-14 0 7 7 0 0 1 14 0Z"/></svg>',categories:["editor"],fontSet:"indigo"},add:{name:"add",value:'<svg xmlns="http://www.w3.org/2000/svg" width="512" height="512" viewBox="0 0 24 24"><path d="M10.2 13.8H5.8a1.8 1.8 0 0 1 0-3.6h4.4V5.8a1.8 1.8 0 1 1 3.6 0v4.4h4.4a1.8 1.8 0 0 1 0 3.6h-4.4v4.4a1.8 1.8 0 1 1-3.6 0v-4.4Z"/></svg>',categories:["editor"],fontSet:"indigo"},attach_file:{name:"attach_file",value:'<svg xmlns="http://www.w3.org/2000/svg" width="512" height="512" viewBox="0 0 24 24"><path d="m16.496 10.809-7.63 7.365a.965.965 0 0 1-1.31 0 .844.844 0 0 1 0-1.24l6.59-6.382c.601-.601.59-1.55-.032-2.14a1.689 1.689 0 0 0-2.261-.03l-.033.03-6.558 6.351c-1.629 1.542-1.629 4.04 0 5.581 1.629 1.541 4.27 1.541 5.899 0l7.63-7.365c2.533-2.397 2.533-6.284 0-8.681-2.535-2.397-6.642-2.397-9.176 0L4.008 9.749l-.033.031a1.477 1.477 0 0 0 0 2.17 1.688 1.688 0 0 0 2.326-.03l5.608-5.452c1.267-1.198 3.32-1.198 4.587 0a2.954 2.954 0 0 1 0 4.34Z"/></svg>',categories:["editor"],fontSet:"indigo"},block:{name:"block",value:'<svg xmlns="http://www.w3.org/2000/svg" width="512" height="512" viewBox="0 0 24 24"><path d="M19.248 4.787c-.006-.007-.008-.014-.014-.02-.007-.007-.014-.009-.02-.015A10.232 10.232 0 0 0 4.751 19.213c.006.007.008.016.014.02.006.006.014.009.02.015A10.232 10.232 0 0 0 19.249 4.787ZM12 4.327c1.592 0 3.145.498 4.44 1.425L5.751 16.44A7.66 7.66 0 0 1 12 4.326Zm0 15.347a7.623 7.623 0 0 1-4.44-1.426L18.249 7.56A7.661 7.661 0 0 1 12 19.674Z"/></svg>',categories:["editor"],fontSet:"indigo"},calendar_today:{name:"calendar_today",value:'<svg xmlns="http://www.w3.org/2000/svg" width="512" height="512" viewBox="0 0 24 24"><path d="M18.299 4H17v-.5a1.5 1.5 0 1 0-3 0V4h-4v-.5a1.5 1.5 0 1 0-3 0V4H5.703A3.707 3.707 0 0 0 2 7.702v10.595A3.707 3.707 0 0 0 5.703 22h12.596A3.706 3.706 0 0 0 22 18.297V7.702A3.707 3.707 0 0 0 18.299 4ZM5.703 7H7v.5a1.5 1.5 0 0 0 3 0V7h4v.5a1.5 1.5 0 0 0 3 0V7h1.298a.704.704 0 0 1 .702.702v2.655H5V7.703A.703.703 0 0 1 5.703 7Zm12.596 12H5.703A.704.704 0 0 1 5 18.297v-4.94h14v4.94a.704.704 0 0 1-.702.703Z"/></svg>',categories:["editor"],fontSet:"indigo"},cancel:{name:"cancel",value:'<svg xmlns="http://www.w3.org/2000/svg" width="512" height="512" viewBox="0 0 24 24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 22c5.524 0 10-4.477 10-10 0-5.522-4.476-10-10-10C6.479 2 2 6.478 2 12c0 5.523 4.478 10 10 10ZM7.438 9.543a1.49 1.49 0 0 1 2.106-2.106l2.458 2.457 2.457-2.457a1.489 1.489 0 1 1 2.106 2.106L14.107 12l2.457 2.457a1.49 1.49 0 0 1-2.106 2.107l-2.457-2.458-2.458 2.458a1.489 1.489 0 1 1-2.106-2.107L9.894 12 7.437 9.543Z"/></svg>',categories:["editor"],fontSet:"indigo"},check_circle:{name:"check_circle",value:'<svg xmlns="http://www.w3.org/2000/svg" width="512" height="512" viewBox="0 0 24 24"><path fill-rule="evenodd" clip-rule="evenodd" d="M6.445 3.685a10 10 0 1 1 11.111 16.63A10 10 0 0 1 6.445 3.685Zm10.22 3.923a1.294 1.294 0 0 0-.523-.108 1.294 1.294 0 0 0-.947.424l-4.761 5.131-1.626-1.703a1.297 1.297 0 0 0-1.911 0c-.254.27-.396.632-.396 1.009 0 .376.142.738.396 1.008l2.59 2.712c.124.133.272.238.436.31a1.29 1.29 0 0 0 1.473-.31l3.547-3.815 2.162-2.33c.254-.27.396-.632.396-1.008 0-.377-.142-.738-.396-1.01a1.325 1.325 0 0 0-.44-.31Z"/></svg>',categories:["editor"],fontSet:"indigo"},error:{name:"error",value:'<svg xmlns="http://www.w3.org/2000/svg" width="512" height="512" viewBox="0 0 24 24"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.685 17.556a10 10 0 1 1 16.63-11.112 10 10 0 0 1-16.63 11.112ZM10.5 11.5v-4a1.5 1.5 0 1 1 3 0v4a1.5 1.5 0 1 1-3 0Zm.253 5.833a1.5 1.5 0 1 1 2.495-1.667 1.5 1.5 0 0 1-2.495 1.667Z"/></svg>',categories:["editor"],fontSet:"indigo"},file_download:{name:"file_download",value:'<svg xmlns="http://www.w3.org/2000/svg" width="512" height="512" viewBox="0 0 24 24"><path d="M10.41 11.21V3.616c0-.43.167-.84.466-1.144A1.578 1.578 0 0 1 12 2c.422 0 .826.17 1.125.473.298.304.466.715.466 1.144v7.586l2.195-2.282a1.49 1.49 0 0 1 1.05-.455 1.47 1.47 0 0 1 1.06.434l.022.021c.284.294.443.689.443 1.1 0 .412-.16.807-.443 1.1l-4.81 4.972a1.496 1.496 0 0 1-1.069.454h-.084a1.47 1.47 0 0 1-1.066-.454L6.076 11.12a1.586 1.586 0 0 1-.44-1.098c0-.41.158-.805.44-1.098a1.49 1.49 0 0 1 1.05-.457 1.47 1.47 0 0 1 1.06.432l.025.025 2.199 2.284Z"/><path d="M20.41 14.729a1.59 1.59 0 0 0-1.592 1.591v1.613a.886.886 0 0 1-.884.884H6.07a.892.892 0 0 1-.89-.884V16.32a1.591 1.591 0 0 0-3.181 0v1.618A4.087 4.087 0 0 0 6.066 22h11.868A4.07 4.07 0 0 0 22 17.931V16.32a1.59 1.59 0 0 0-1.59-1.591Z"/></svg>',categories:["editor"],fontSet:"indigo"},file_upload:{name:"file_upload",categories:["editor"],value:'<svg xmlns="http://www.w3.org/2000/svg" width="512" height="512" viewBox="0 0 24 24"><path d="M13.59 14.927v-7.59L15.79 9.62l.026.024a1.489 1.489 0 0 0 1.06.432 1.473 1.473 0 0 0 1.05-.456c.281-.294.439-.688.439-1.098 0-.41-.158-.805-.44-1.099l-4.814-4.97A1.49 1.49 0 0 0 12.044 2h-.085a1.479 1.479 0 0 0-1.069.454l-4.81 4.97a1.582 1.582 0 0 0-.442 1.1c0 .412.16.806.443 1.1l.022.02a1.489 1.489 0 0 0 1.06.435 1.47 1.47 0 0 0 1.05-.455l2.195-2.28v7.583c0 .429.168.84.466 1.143.299.303.703.474 1.125.474.422 0 .827-.17 1.125-.474a1.63 1.63 0 0 0 .466-1.143Z"/><path d="M19.284 15.197A1.59 1.59 0 0 1 22 16.32v1.611A4.071 4.071 0 0 1 17.934 22H6.066A4.085 4.085 0 0 1 2 17.939V16.32a1.59 1.59 0 0 1 3.182 0v1.613a.892.892 0 0 0 .89.884h11.862a.886.886 0 0 0 .884-.884v-1.613c0-.422.168-.826.466-1.124Z"/></svg>',fontSet:"indigo"},filter_list:{name:"filter_list",value:'<svg xmlns="http://www.w3.org/2000/svg" width="512" height="512" viewBox="0 0 24 24"><path d="M4.616 7.682h14.768c.428 0 .84-.168 1.143-.466.303-.298.473-.703.473-1.125 0-.422-.17-.827-.473-1.125a1.63 1.63 0 0 0-1.143-.466H4.616c-.428 0-.84.168-1.143.466A1.579 1.579 0 0 0 3 6.091c0 .422.17.827.473 1.125a1.63 1.63 0 0 0 1.143.466ZM7.344 13.591h9.312c.429 0 .84-.168 1.143-.466.303-.299.474-.703.474-1.125 0-.422-.17-.827-.474-1.125a1.63 1.63 0 0 0-1.143-.466H7.344c-.429 0-.84.167-1.143.466A1.579 1.579 0 0 0 5.727 12c0 .422.17.827.474 1.125a1.63 1.63 0 0 0 1.143.466ZM13.929 19.5h-3.858a1.63 1.63 0 0 1-1.143-.466 1.578 1.578 0 0 1-.473-1.125c0-.422.17-.826.473-1.125a1.63 1.63 0 0 1 1.143-.466h3.858c.429 0 .84.167 1.143.466.303.298.474.703.474 1.125 0 .422-.17.827-.474 1.125a1.63 1.63 0 0 1-1.143.466Z"/></svg>',categories:["editor"],fontSet:"indigo"},horizontal_rule:{name:"horizontal_rule",value:'<svg xmlns="http://www.w3.org/2000/svg" width="512" height="512" viewBox="0 0 24 24"><path d="M5.778 13.5h12.444c.471 0 .924-.184 1.257-.512.334-.329.521-.774.521-1.238 0-.464-.187-.91-.52-1.237A1.793 1.793 0 0 0 18.221 10H5.778c-.471 0-.924.184-1.257.513-.334.328-.521.773-.521 1.237 0 .464.187.91.52 1.238.334.328.787.512 1.258.512Z"/></svg>',categories:["editor"],fontSet:"indigo"},info:{name:"info",value:'<svg xmlns="http://www.w3.org/2000/svg" width="512" height="512" viewBox="0 0 24 24"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.686 6.944a10 10 0 1 0 16.63 11.112A10 10 0 0 0 3.685 6.944Zm6.815 5.556V17a1.5 1.5 0 0 0 3 0v-4.5a1.5 1.5 0 1 0-3 0Zm.253-5.333a1.5 1.5 0 1 0 2.494 1.666 1.5 1.5 0 0 0-2.494-1.666Z"/></svg>',categories:["editor"],fontSet:"indigo"},menu:{name:"menu",value:'<svg xmlns="http://www.w3.org/2000/svg" width="512" height="512" viewBox="0 0 24 24"><path d="M4.616 7.682h14.768c.428 0 .84-.168 1.143-.466.303-.299.473-.703.473-1.125 0-.422-.17-.827-.473-1.125a1.63 1.63 0 0 0-1.143-.466H4.616c-.428 0-.84.168-1.143.466A1.578 1.578 0 0 0 3 6.09c0 .422.17.826.473 1.125a1.63 1.63 0 0 0 1.143.466ZM4.616 13.59h14.768c.428 0 .84-.167 1.143-.465.303-.299.473-.703.473-1.125 0-.422-.17-.827-.473-1.125a1.63 1.63 0 0 0-1.143-.466H4.616c-.428 0-.84.167-1.143.466A1.578 1.578 0 0 0 3 12c0 .422.17.826.473 1.125a1.63 1.63 0 0 0 1.143.466ZM19.384 19.5H4.616a1.63 1.63 0 0 1-1.143-.466A1.578 1.578 0 0 1 3 17.909c0-.422.17-.826.473-1.125a1.63 1.63 0 0 1 1.143-.466h14.768c.428 0 .84.168 1.143.466.303.299.473.703.473 1.125 0 .422-.17.827-.473 1.125a1.63 1.63 0 0 1-1.143.466Z"/></svg>',categories:["editor"],fontSet:"indigo"},pin:{name:"pin",value:'<svg xmlns="http://www.w3.org/2000/svg" width="512" height="512" viewBox="0 0 24 24"><path fill-rule="evenodd" clip-rule="evenodd" d="M18.12 2.516A1.572 1.572 0 0 0 16.966 2H7.034c-.435 0-.85.187-1.154.516a1.814 1.814 0 0 0-.472 1.23c0 .46.168.902.472 1.23.304.33.72.516 1.154.516h.169v3.023a6.54 6.54 0 0 0-1.977 2.382c-.535 1.083-.782 2.444-.715 3.669.006.45.174.882.472 1.204.304.329.719.516 1.153.516h4.238v3.825c-.01.073-.015.147-.015.222 0 .92.735 1.667 1.641 1.667s1.64-.746 1.64-1.667c0-.075-.004-.15-.014-.222v-3.825h4.238c.434 0 .849-.187 1.153-.516.298-.322.466-.754.473-1.204.066-1.225-.181-2.586-.716-3.67a6.54 6.54 0 0 0-1.977-2.38V5.491h.17c.434 0 .849-.186 1.153-.515.304-.329.472-.772.472-1.23 0-.46-.168-.903-.472-1.231ZM8.005 12.114c-.114.169-.288.708-.288 1.076h8.566c0-.368-.174-.907-.289-1.076a2.738 2.738 0 0 0-1.051-.925 1.645 1.645 0 0 1-.764-.624 1.836 1.836 0 0 1-.304-1.016V5.095h-3.75V9.55c0 .364-.106.719-.304 1.016-.19.285-.456.503-.764.624-.417.205-.779.523-1.052.925Z"/></svg>',categories:["editor"],fontSet:"indigo"},refresh:{name:"refresh",value:'<svg xmlns="http://www.w3.org/2000/svg" width="512" height="512" viewBox="0 0 24 24"><path d="M14.068 3.247a9.05 9.05 0 0 0-8.98 2.925c-1.08 1.263-1.79 2.35-2.054 3.991a1.58 1.58 0 0 0-.034.315v.003A1.519 1.519 0 0 0 4.504 12a1.458 1.458 0 0 0 1.515-1.184l.002-.012.002-.012c.148-1.107.602-1.702 1.312-2.565a5.999 5.999 0 0 1 8.533-.75l-1.314 1.308a1.396 1.396 0 0 0-.314.445.761.761 0 0 0-.015.582.756.756 0 0 0 .418.406c.163.07.347.095.531.095H20.03A.985.985 0 0 0 21 9.348v-4.84c0-.323-.09-.772-.5-.94-.407-.17-.79.084-1.022.315l-1.45 1.444a9.05 9.05 0 0 0-3.96-2.08ZM3.977 13.687H3.97A.984.984 0 0 0 3 14.65v4.84c0 .324.09.773.499.942.408.17.79-.084 1.023-.315l1.45-1.444a9.049 9.049 0 0 0 12.94-.845c1.08-1.263 1.79-2.35 2.054-3.991.022-.104.033-.209.034-.315v-.003A1.518 1.518 0 0 0 19.496 12a1.458 1.458 0 0 0-1.513 1.184l-.002.012-.002.012c-.148 1.108-.602 1.702-1.312 2.565a6 6 0 0 1-8.535.75l1.314-1.308c.133-.132.246-.281.314-.445a.76.76 0 0 0 .015-.582.756.756 0 0 0-.418-.406 1.364 1.364 0 0 0-.531-.095h-4.85Z"/></svg>',categories:["editor"],fontSet:"indigo"},search:{name:"search",value:'<svg xmlns="http://www.w3.org/2000/svg" width="512" height="512" viewBox="0 0 24 24"><path d="M10.393 3a7.393 7.393 0 1 0 4.068 13.567l3.996 3.997a1.49 1.49 0 1 0 2.107-2.107l-3.997-3.996A7.393 7.393 0 0 0 10.393 3ZM6 10.393a4.393 4.393 0 1 1 8.786 0 4.393 4.393 0 0 1-8.786 0Z"/></svg>',categories:["editor"],fontSet:"indigo"},send:{name:"send",value:'<svg xmlns="http://www.w3.org/2000/svg" width="512" height="512" viewBox="0 0 24 24"><path fill-rule="evenodd" clip-rule="evenodd" d="M20.302 10.84S5.5 2.591 4.352 2.13C3.207 1.666 3 2.59 3 2.59v17.791c0 .277.077.549.223.79.146.242.356.444.611.589a1.871 1.871 0 0 0 1.708.064l14.5-8.216c.29-.136.533-.343.702-.6.17-.256.258-.551.256-.851a1.528 1.528 0 0 0-.267-.85 1.672 1.672 0 0 0-.431-.433v-.035ZM6.5 10.021V6.803l9.5 5.385-9.5 5.555v-3.146l3.583-.645.036-.01a1.76 1.76 0 0 0 .913-.572 1.54 1.54 0 0 0 .361-.964 1.535 1.535 0 0 0-.336-.972 1.753 1.753 0 0 0-.898-.593l-.034-.01-3.625-.81Z"/></svg>',categories:["editor"],fontSet:"indigo"},unpin:{name:"unpin",value:'<svg xmlns="http://www.w3.org/2000/svg" width="512" height="512" viewBox="0 0 24 24"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.474 19.223a1.633 1.633 0 0 0 0 2.3 1.614 1.614 0 0 0 2.29 0l5.11-5.105v3.693c-.01.073-.015.147-.015.222 0 .92.735 1.667 1.641 1.667s1.64-.746 1.64-1.667a1.77 1.77 0 0 0-.014-.222v-3.825h4.237c.435 0 .85-.187 1.154-.516.298-.322.466-.754.472-1.204.067-1.225-.18-2.586-.715-3.67A6.66 6.66 0 0 0 17.09 9.21l4.436-4.432a1.633 1.633 0 0 0 0-2.3 1.614 1.614 0 0 0-2.29 0L2.474 19.223Zm12.381-7.781-1.75 1.748h2.678c0-.368-.174-.907-.288-1.076a2.798 2.798 0 0 0-.64-.672Z"/><path d="M12.614 5.095h-2.99v2.986l-5.609 5.605c.061-.969.302-1.96.71-2.79a6.54 6.54 0 0 1 1.978-2.38V5.491h-.17c-.434 0-.849-.186-1.153-.515a1.814 1.814 0 0 1-.472-1.23c0-.46.168-.903.472-1.231A1.572 1.572 0 0 1 6.534 2h9.178l-3.098 3.095Z"/></svg>',categories:["editor"],fontSet:"indigo"}})),wR=new hr(""),CR=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,t){this._zone=t,e.forEach((e=>{e.manager=this})),this._plugins=e.slice().reverse()}addEventListener(e,t,i,n){return this._findPluginFor(t).addEventListener(e,t,i,n)}getZone(){return this._zone}_findPluginFor(e){let t=this._eventNameToPlugin.get(e);if(t)return t;if(t=this._plugins.find((t=>t.supports(e))),!t)throw new $n(5101,!1);return this._eventNameToPlugin.set(e,t),t}static ɵfac=function(t){return new(t||e)(Vr(wR),Vr(Il))};static ɵprov=ir({token:e,factory:e.ɵfac})}return e})(),SR=class{_doc;constructor(e){this._doc=e}manager},bR="ng-app-id";function DR(e){for(let t of e)t.remove()}function ER(e,t){let i=t.createElement("style");return i.textContent=e,i}function TR(e,t){let i=t.createElement("link");return i.setAttribute("rel","stylesheet"),i.setAttribute("href",e),i}var IR=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(e,t,i,n={}){this.doc=e,this.appId=t,this.nonce=i,this.isServer=uy(n),function(e,t,i,n){let r=e.head?.querySelectorAll(`style[${bR}="${t}"],link[${bR}="${t}"]`);if(r)for(let e of r)e.removeAttribute(bR),e instanceof HTMLLinkElement?n.set(e.href.slice(e.href.lastIndexOf("/")+1),{usage:0,elements:[e]}):e.textContent&&i.set(e.textContent,{usage:0,elements:[e]})}(e,t,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,t){for(let t of e)this.addUsage(t,this.inline,ER);t?.forEach((e=>this.addUsage(e,this.external,TR)))}removeStyles(e,t){for(let t of e)this.removeUsage(t,this.inline);t?.forEach((e=>this.removeUsage(e,this.external)))}addUsage(e,t,i){let n=t.get(e);n?n.usage++:t.set(e,{usage:1,elements:[...this.hosts].map((t=>this.addElement(t,i(e,this.doc))))})}removeUsage(e,t){let i=t.get(e);i&&(i.usage--,i.usage<=0&&(DR(i.elements),t.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])DR(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[t,{elements:i}]of this.inline)i.push(this.addElement(e,ER(t,this.doc)));for(let[t,{elements:i}]of this.external)i.push(this.addElement(e,TR(t,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,t){return this.nonce&&t.setAttribute("nonce",this.nonce),this.isServer&&t.setAttribute(bR,this.appId),e.appendChild(t)}static ɵfac=function(t){return new(t||e)(Vr(Kf),Vr(sd),Vr(cd,8),Vr(ld))};static ɵprov=ir({token:e,factory:e.ɵfac})}return e})(),RR={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},AR=/%COMP%/g,kR="%COMP%",OR=`_nghost-${kR}`,FR=`_ngcontent-${kR}`,PR=new hr("",{providedIn:"root",factory:()=>!0});function VR(e,t){return t.map((t=>t.replace(AR,e)))}var MR=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,t,i,n,r,s,o,a=null,l=null){this.eventManager=e,this.sharedStylesHost=t,this.appId=i,this.removeStylesOnCompDestroy=n,this.doc=r,this.platformId=s,this.ngZone=o,this.nonce=a,this.tracingService=l,this.platformIsServer=uy(s),this.defaultRenderer=new LR(e,r,o,this.platformIsServer,this.tracingService)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;this.platformIsServer&&t.encapsulation===bd.ShadowDom&&(t=Je(Qe({},t),{encapsulation:bd.Emulated}));let i=this.getOrCreateRenderer(e,t);return i instanceof BR?i.applyToHost(e):i instanceof zR&&i.applyStyles(),i}getOrCreateRenderer(e,t){let i=this.rendererByCompId,n=i.get(t.id);if(!n){let r=this.doc,s=this.ngZone,o=this.eventManager,a=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.platformIsServer,c=this.tracingService;switch(t.encapsulation){case bd.Emulated:n=new BR(o,a,t,this.appId,l,r,s,d,c);break;case bd.ShadowDom:return new HR(o,a,e,t,r,s,this.nonce,d,c);default:n=new zR(o,a,t,l,r,s,d,c)}i.set(t.id,n)}return n}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static ɵfac=function(t){return new(t||e)(Vr(CR),Vr(IR),Vr(sd),Vr(PR),Vr(Kf),Vr(ld),Vr(Il),Vr(cd),Vr(gd,8))};static ɵprov=ir({token:e,factory:e.ɵfac})}return e})(),LR=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,i,n,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=n,this.tracingService=r}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(RR[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(NR(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(NR(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){t.remove()}selectRootElement(e,t){let i="string"==typeof e?this.doc.querySelector(e):e;if(!i)throw new $n(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,n){if(n){t=n+":"+t;let r=RR[n];r?e.setAttributeNS(r,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){let n=RR[i];n?e.removeAttributeNS(n,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,n){n&(rh.DashCase|rh.Important)?e.style.setProperty(t,i,n&rh.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&rh.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){null!=e&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i,n){if("string"==typeof e&&!(e=Uf().getGlobalEventTarget(this.doc,e)))throw new $n(5102,!1);let r=this.decoratePreventDefault(i);return this.tracingService?.wrapEventListener&&(r=this.tracingService.wrapEventListener(e,t,r)),this.eventManager.addEventListener(e,t,r,n)}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded((()=>e(t))):e(t))&&t.preventDefault()}}};function NR(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}var HR=class extends LR{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,i,n,r,s,o,a,l){super(e,r,s,a,l),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=n.styles;d=VR(n.id,d);for(let e of d){let t=document.createElement("style");o&&t.setAttribute("nonce",o),t.textContent=e,this.shadowRoot.appendChild(t)}let c=n.getExternalStyles?.();if(c)for(let e of c){let t=TR(e,r);o&&t.setAttribute("nonce",o),this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},zR=class extends LR{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,i,n,r,s,o,a,l){super(e,r,s,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=n;let d=i.styles;this.styles=l?VR(l,d):d,this.styleUrls=i.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},BR=class extends zR{contentAttr;hostAttr;constructor(e,t,i,n,r,s,o,a,l){let d=n+"-"+i.id;super(e,t,i,r,s,o,a,l,d),this.contentAttr=function(e){return FR.replace(AR,e)}(d),this.hostAttr=function(e){return OR.replace(AR,e)}(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}},GR=class extends qf{supportsDOMEvents=!0},$R=class e extends GR{static makeCurrent(){!function(e){jf??=e}(new e)}onAndCancel(e,t,i,n){return e.addEventListener(t,i,n),()=>{e.removeEventListener(t,i,n)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){let t=(WR=WR||document.querySelector("base"))?WR.getAttribute("href"):null;return null==t?null:function(e){return new URL(e,document.baseURI).pathname}(t)}resetBaseElement(){WR=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(e,t){t=encodeURIComponent(t);for(let i of e.split(";")){let e=i.indexOf("="),[n,r]=-1==e?[i,""]:[i.slice(0,e),i.slice(e+1)];if(n.trim()===t)return decodeURIComponent(r)}return null}(document.cookie,e)}},WR=null,KR=(()=>{class e{build(){return new XMLHttpRequest}static ɵfac=function(t){return new(t||e)};static ɵprov=ir({token:e,factory:e.ɵfac})}return e})(),jR=(()=>{class e extends SR{constructor(e){super(e)}supports(e){return!0}addEventListener(e,t,i,n){return e.addEventListener(t,i,n),()=>this.removeEventListener(e,t,i,n)}removeEventListener(e,t,i,n){return e.removeEventListener(t,i,n)}static ɵfac=function(t){return new(t||e)(Vr(Kf))};static ɵprov=ir({token:e,factory:e.ɵfac})}return e})(),UR=["alt","control","meta","shift"],qR={"\b":"Backspace","\t":"Tab","":"Delete","":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},YR={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},ZR=(()=>{class e extends SR{constructor(e){super(e)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,i,n,r){let s=e.parseEventName(i),o=e.eventCallback(s.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular((()=>Uf().onAndCancel(t,s.domEventName,o,r)))}static parseEventName(t){let i=t.toLowerCase().split("."),n=i.shift();if(0===i.length||"keydown"!==n&&"keyup"!==n)return null;let r=e._normalizeKey(i.pop()),s="",o=i.indexOf("code");if(o>-1&&(i.splice(o,1),s="code."),UR.forEach((e=>{let t=i.indexOf(e);t>-1&&(i.splice(t,1),s+=e+".")})),s+=r,0!=i.length||0===r.length)return null;let a={};return a.domEventName=n,a.fullKey=s,a}static matchEventFullKeyCode(e,t){let i=qR[e.key]||e.key,n="";return t.indexOf("code.")>-1&&(i=e.code,n="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),UR.forEach((t=>{t!==i&&(0,YR[t])(e)&&(n+=t+".")})),n+=i,n===t)}static eventCallback(t,i,n){return r=>{e.matchEventFullKeyCode(r,t)&&n.runGuarded((()=>i(r)))}}static _normalizeKey(e){return"esc"===e?"escape":e}static ɵfac=function(t){return new(t||e)(Vr(Kf))};static ɵprov=ir({token:e,factory:e.ɵfac})}return e})(),XR=[{provide:ld,useValue:cy},{provide:ad,useValue:function(){$R.makeCurrent()},multi:!0},{provide:Kf,useFactory:function(){return function(e){Ql=e}(document),document}}],QR=_f(Lf,"browser",XR),JR=[{provide:Ig,useClass:class{addToWindow(e){Un.getAngularTestability=(t,i=!0)=>{let n=e.findTestabilityInTree(t,i);if(null==n)throw new $n(5103,!1);return n},Un.getAllAngularTestabilities=()=>e.getAllTestabilities(),Un.getAllAngularRootElements=()=>e.getAllRootElements(),Un.frameworkStabilizers||(Un.frameworkStabilizers=[]),Un.frameworkStabilizers.push((e=>{let t=Un.getAllAngularTestabilities(),i=t.length,n=function(){i--,0==i&&e()};t.forEach((e=>{e.whenStable(n)}))}))}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?Uf().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}}},{provide:Tg,useClass:Rg,deps:[Il,Ag,Ig]},{provide:Rg,useClass:Rg,deps:[Il,Ag,Ig]}],eA=[{provide:gs,useValue:"root"},{provide:Ml,useFactory:function(){return new Ml}},{provide:wR,useClass:jR,multi:!0,deps:[Kf]},{provide:wR,useClass:ZR,multi:!0,deps:[Kf]},MR,IR,CR,{provide:nu,useExisting:MR},{provide:class{},useClass:KR},[]],tA=(()=>{class e{constructor(){}static ɵfac=function(t){return new(t||e)};static ɵmod=tg({type:e});static ɵinj=nr({providers:[...eA,...JR],imports:[dy,Nf]})}return e})(),iA=class{},nA=class e{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach((e=>{let t=e.indexOf(":");if(t>0){let i=e.slice(0,t),n=e.slice(t+1).trim();this.addHeaderEntry(i,n)}}))}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach(((e,t)=>{this.addHeaderEntry(t,e)}))):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach((([e,t])=>{this.setHeaderEntries(e,t)}))}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach((e=>this.applyUpdate(e))),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach((t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))}))}clone(t){let i=new e;return i.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,i.lazyUpdate=(this.lazyUpdate||[]).concat([t]),i}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);let n=("a"===e.op?this.headers.get(t):void 0)||[];n.push(...i),this.headers.set(t,n);break;case"d":let r=e.value;if(r){let e=this.headers.get(t);if(!e)return;e=e.filter((e=>-1===r.indexOf(e))),0===e.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,e)}else this.headers.delete(t),this.normalizedNames.delete(t)}}addHeaderEntry(e,t){let i=e.toLowerCase();this.maybeSetNormalizedName(e,i),this.headers.has(i)?this.headers.get(i).push(t):this.headers.set(i,[t])}setHeaderEntries(e,t){let i=(Array.isArray(t)?t:[t]).map((e=>e.toString())),n=e.toLowerCase();this.headers.set(n,i),this.maybeSetNormalizedName(e,n)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach((t=>e(this.normalizedNames.get(t),this.headers.get(t))))}},rA=/%(\d[a-f0-9])/gi,sA={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function oA(e){return encodeURIComponent(e).replace(rA,((e,t)=>sA[t]??e))}function aA(e){return`${e}`}var lA=class e{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new class{encodeKey(e){return oA(e)}encodeValue(e){return oA(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}},e.fromString){if(e.fromObject)throw new $n(2805,!1);this.map=function(e,t){let i=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach((e=>{let n=e.indexOf("="),[r,s]=-1==n?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,n)),t.decodeValue(e.slice(n+1))],o=i.get(r)||[];o.push(s),i.set(r,o)})),i}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach((t=>{let i=e.fromObject[t],n=Array.isArray(i)?i.map(aA):[aA(i)];this.map.set(t,n)}))):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach((i=>{let n=e[i];Array.isArray(n)?n.forEach((e=>{t.push({param:i,value:e,op:"a"})})):t.push({param:i,value:n,op:"a"})})),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map((e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map((e=>t+"="+this.encoder.encodeValue(e))).join("&")})).filter((e=>""!==e)).join("&")}clone(t){let i=new e({encoder:this.encoder});return i.cloneFrom=this.cloneFrom||this,i.updates=(this.updates||[]).concat(t),i}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach((e=>this.map.set(e,this.cloneFrom.map.get(e)))),this.updates.forEach((e=>{switch(e.op){case"a":case"s":let t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(aA(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let t=this.map.get(e.param)||[],i=t.indexOf(aA(e.value));-1!==i&&t.splice(i,1),t.length>0?this.map.set(e.param,t):this.map.delete(e.param)}}})),this.cloneFrom=this.updates=null)}};function dA(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function cA(e){return typeof Blob<"u"&&e instanceof Blob}function hA(e){return typeof FormData<"u"&&e instanceof FormData}var uA=class e{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,t,i,n){let r;if(this.url=t,this.method=e.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||n?(this.body=void 0!==i?i:null,r=n):r=i,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.context&&(this.context=r.context),r.params&&(this.params=r.params),this.transferCache=r.transferCache),this.headers??=new nA,this.context??=new class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}},this.params){let e=this.params.toString();if(0===e.length)this.urlWithParams=t;else{let i=t.indexOf("?"),n=-1===i?"?":i<t.length-1?"&":"";this.urlWithParams=t+n+e}}else this.params=new lA,this.urlWithParams=t}serializeBody(){return null===this.body?null:"string"==typeof this.body||dA(this.body)||cA(this.body)||hA(this.body)||function(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)?this.body:this.body instanceof lA?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||hA(this.body)?null:cA(this.body)?this.body.type||null:dA(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof lA?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){let i=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,s=t.transferCache??this.transferCache,o=void 0!==t.body?t.body:this.body,a=t.withCredentials??this.withCredentials,l=t.reportProgress??this.reportProgress,d=t.headers||this.headers,c=t.params||this.params,h=t.context??this.context;return void 0!==t.setHeaders&&(d=Object.keys(t.setHeaders).reduce(((e,i)=>e.set(i,t.setHeaders[i])),d)),t.setParams&&(c=Object.keys(t.setParams).reduce(((e,i)=>e.set(i,t.setParams[i])),c)),new e(i,n,o,{params:c,headers:d,context:h,reportProgress:l,responseType:r,withCredentials:a,transferCache:s})}},gA=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(gA||{}),pA=class{headers;status;statusText;url;ok;type;constructor(e,t=200,i="OK"){this.headers=e.headers||new nA,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},mA=class e extends pA{body;constructor(e={}){super(e),this.body=void 0!==e.body?e.body:null}type=gA.Response;clone(t={}){return new e({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}};function fA(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var vA=(()=>{class e{handler;constructor(e){this.handler=e}request(e,t,i={}){let n;if(e instanceof uA)n=e;else{let r,s;r=i.headers instanceof nA?i.headers:new nA(i.headers),i.params&&(s=i.params instanceof lA?i.params:new lA({fromObject:i.params})),n=new uA(e,t,void 0!==i.body?i.body:null,{headers:r,context:i.context,params:s,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let r=function(...e){return sn(e,Ni(e))}(n).pipe(function(e,t){return $t(t)?yn(e,t,1):yn(e,1)}((e=>this.handler.handle(e))));if(e instanceof uA||"events"===i.observe)return r;let s=r.pipe(Rn((e=>e instanceof mA)));switch(i.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return s.pipe(cn((e=>{if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new $n(2806,!1);return e.body})));case"blob":return s.pipe(cn((e=>{if(null!==e.body&&!(e.body instanceof Blob))throw new $n(2807,!1);return e.body})));case"text":return s.pipe(cn((e=>{if(null!==e.body&&"string"!=typeof e.body)throw new $n(2808,!1);return e.body})));default:return s.pipe(cn((e=>e.body)))}case"response":return s;default:throw new $n(2809,!1)}}delete(e,t={}){return this.request("DELETE",e,t)}get(e,t={}){return this.request("GET",e,t)}head(e,t={}){return this.request("HEAD",e,t)}jsonp(e,t){return this.request("JSONP",e,{params:(new lA).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,t={}){return this.request("OPTIONS",e,t)}patch(e,t,i={}){return this.request("PATCH",e,fA(i,t))}post(e,t,i={}){return this.request("POST",e,fA(i,t))}put(e,t,i={}){return this.request("PUT",e,fA(i,t))}static ɵfac=function(t){return new(t||e)(Vr(iA))};static ɵprov=ir({token:e,factory:e.ɵfac})}return e})(),yA=(RegExp("^X-Request-URL:","m"),(()=>{class e{static ɵfac=function(t){return new(t||e)};static ɵprov=ir({token:e,factory:function(t){let i=null;return i=t?new(t||e):Vr(xA),i},providedIn:"root"})}return e})()),xA=(()=>{class e extends yA{_doc;constructor(e){super(),this._doc=e}sanitize(e,t){if(null==t)return null;switch(e){case cc.NONE:return t;case cc.HTML:return Pd(t,"HTML")?Fd(t):lc(this._doc,String(t)).toString();case cc.STYLE:return Pd(t,"Style")?Fd(t):t;case cc.SCRIPT:if(Pd(t,"Script"))return Fd(t);throw new $n(5200,!1);case cc.URL:return Pd(t,"URL")?Fd(t):Nd(String(t));case cc.RESOURCE_URL:if(Pd(t,"ResourceURL"))return Fd(t);throw new $n(5201,!1);default:throw new $n(5202,!1)}}bypassSecurityTrustHtml(e){return function(e){return new Id(e)}(e)}bypassSecurityTrustStyle(e){return function(e){return new Rd(e)}(e)}bypassSecurityTrustScript(e){return function(e){return new Ad(e)}(e)}bypassSecurityTrustUrl(e){return function(e){return new kd(e)}(e)}bypassSecurityTrustResourceUrl(e){return function(e){return new Od(e)}(e)}static ɵfac=function(t){return new(t||e)(Vr(Kf))};static ɵprov=ir({token:e,factory:e.ɵfac,providedIn:"root"})}return e})(),_A=(()=>{class e{constructor(e,t,i,n,r,s){this._sanitizer=e,this._httpClient=t,this._platformUtil=i,this._themeToken=n,this._destroyRef=r,this.document=s,this._defaultFamily={name:"material",meta:{className:"material-icons",type:"liga"}},this._iconRefs=new Map,this._families=new Map,this._cachedIcons=new Map,this._iconLoaded=new Ci,this.iconLoaded=this._iconLoaded.asObservable(),this.setFamily(this._defaultFamily.name,this._defaultFamily.meta);let o=this._themeToken?.onChange((e=>{this.setRefsByTheme(e)}));if(this._destroyRef.onDestroy((()=>o?.unsubscribe())),this._platformUtil?.isBrowser){this._domParser=new DOMParser;for(let[e,t]of _R)this.addSvgIconFromText(e,t.value,`internal_${t.fontSet}`,!0)}}get defaultFamily(){return this._defaultFamily}set defaultFamily(e){this._defaultFamily=e,this.setFamily(this._defaultFamily.name,this._defaultFamily.meta)}registerFamilyAlias(e,t=e,i="font"){return this.setFamily(e,{className:t,type:i}),this}familyClassName(e){return this._families.get(e)?.className||e}familyType(e){return this._families.get(e)?.type}setRefsByTheme(e){for(let{alias:t,target:i}of xR){let n=this._iconRefs.get(t.family)?.get(t.name)?.external,r=this._iconRefs.get("default")?.get(t.name)??{},s=i.get(e)??i.get("default"),o=i.get(e)??i.get("default"),a=!n&&JSON.stringify(r)!==JSON.stringify(s);this._setIconRef(t.name,t.family,o,a)}}setFamily(e,t){this._families.set(e,t)}addIconRef(e,t,i){this._iconRefs.get(t)?.get(e)||this.setIconRef(e,t,i)}_setIconRef(e,t,i,n=!1){n&&this.setIconRef(e,t,Je(Qe({},i),{external:!1}))}setIconRef(e,t,i){let n=this._iconRefs.get(t);n||(n=new Map,this._iconRefs.set(t,n));let r=i.external??!0,s=this.familyType(i?.family);n.set(e,Je(Qe({},i),{type:i.type??s,external:r})),this._iconLoaded.next({name:e,family:t})}getIconRef(e,t){let i=this._iconRefs.get(t)?.get(e),n=i?.family??t,r=i?.name??e,s=this.familyClassName(n),o=this._families.get(n)?.prefix,a=r;return a&&o&&(a=r.includes(o)?r:`${o}${r}`),{className:s,type:this.isSvgIconCached(a,n)?"svg":i?.type??this.familyType(n),name:a,family:n}}getOrCreateSvgFamily(e){return this._families.has(e)||this._families.set(e,{className:e,type:"svg"}),this._families.get(e)}addSvgIcon(e,t,i=this._defaultFamily.name,n=!1){if(!e||!t)throw new Error("You should provide at least `name` and `url` to register an svg icon.");{let r=this._sanitizer.bypassSecurityTrustResourceUrl(t);if(!r)throw new Error(`The provided URL could not be processed as trusted resource URL by Angular's DomSanitizer: "${t}".`);if(!this._sanitizer.sanitize(cc.RESOURCE_URL,r))throw new Error(`The URL provided was not trusted as a resource URL: "${t}".`);this.isSvgIconCached(e,i)||(this.getOrCreateSvgFamily(i),this.fetchSvg(t).subscribe((t=>{this.cacheSvgIcon(e,t,i,n)})))}}addSvgIconFromText(e,t,i=this._defaultFamily.name,n=!1){if(!e||!t)throw new Error("You should provide at least `name` and `iconText` to register an svg icon.");this.isSvgIconCached(e,i)||(this.getOrCreateSvgFamily(i),this.cacheSvgIcon(e,t,i,n))}isSvgIconCached(e,t){return!!this._cachedIcons.has(t)&&this._cachedIcons.get(t).has(e)}getSvgIcon(e,t){return this._cachedIcons.get(t)?.get(e)}fetchSvg(e){return this._httpClient.get(e,{responseType:"text"})}cacheSvgIcon(e,t,i=this._defaultFamily.name,n){if(this._platformUtil?.isBrowser&&e&&t){let r=this._domParser.parseFromString(t,"image/svg+xml").querySelector("svg");if(this._cachedIcons.has(i)||this._cachedIcons.set(i,new Map),r){if(r.setAttribute("fit",""),r.setAttribute("preserveAspectRatio","xMidYMid meet"),n){let e=r.querySelector("title"),t=r.querySelector("desc");e&&r.removeChild(e),t&&r.removeChild(t)}let s=this._sanitizer.bypassSecurityTrustHtml(r.outerHTML);this._cachedIcons.get(i).set(e,s),this._iconLoaded.next({name:e,value:t,family:i})}}}static{this.ɵfac=function(t){return new(t||e)(Vr(yA,8),Vr(vA,8),Vr(NC,8),Vr(qI,8),Vr(gl,8),Vr(Kf,8))}}static{this.ɵprov=ir({token:e,factory:e.ɵfac,providedIn:"root"})}}return e})(),wA=["*"];function CA(e,t){1&e&&dm(0)}function SA(e,t){1&e&&ym(0),2&e&&_m(om().iconRef.name)}function bA(e,t){1&e&&Hp(0,"div",0),2&e&&rp("innerHTML",om().getSvg,hc)}var DA=(()=>{class e{get elementClasses(){return`igx-icon ${Array.from(this._iconClasses).join(" ")} ${Array.from(this._userClasses).join(" ")}`.trim()}addIconClass(e){this._iconClasses.add(e)}clearIconClasses(){this._iconClasses.clear()}get getInactive(){return!this.active}constructor(e,t,i){this.el=e,this.iconService=t,this.ref=i,this._destroy$=new Ci,this._userClasses=new Set,this._iconClasses=new Set,this.active=!0,this.family=this.iconService.defaultFamily.name,this.iconService.iconLoaded.pipe(Rn((e=>e.name===this.name&&e.family===this.family)),Nn(this._destroy$)).subscribe((()=>{this.setIcon(),this.ref.detectChanges()}))}ngOnInit(){this.setIcon()}ngOnChanges(){this.setIcon()}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}get iconRef(){return this._iconRef}set iconRef(e){this._iconRef=e}get getFamily(){return this.iconRef.family}get getActive(){return this.active}get getName(){return this.iconRef.name}get getSvg(){let{name:e,family:t}=this.iconRef;return this.iconService.isSvgIconCached(e,t)?this.iconService.getSvgIcon(e,t):null}setIcon(){this.iconRef=this.iconService.getIconRef(this.name,this.family),this.clearIconClasses();let{name:e,type:t,className:i}=this.iconRef;e&&"font"===t&&this.addIconClass(e),this.addIconClass(i)}static{this.ɵfac=function(t){return new(t||e)(lu(zl),lu(_A),lu(Cf))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-icon"]],hostVars:4,hostBindings:function(e,t){2&e&&(lp(t.elementClasses),ap("igx-icon--inactive",t.getInactive))},inputs:{family:"family",name:"name",active:[2,"active","active",Hf]},features:[po],ngContentSelectors:wA,decls:3,vars:2,consts:[[3,"innerHTML"]],template:function(e,t){if(1&e&&(lm(),bg(0,CA,1,0)(1,SA,1,1)(2,bA,1,1,"div",0)),2&e){let e;Ip(t.iconRef.name?-1:0),Hc(),Ip("liga"===(e=t.iconRef.type)?1:"svg"===e?2:-1)}},encapsulation:2})}}return e})(),EA=class{constructor(){this._currentResourceStrings={}}static instance(){return this._instance||(this._instance=new this)}changei18n(e){for(let t of Object.keys(e))this._currentResourceStrings[t]=e[t]}getCurrentResourceStrings(e){for(let t of Object.keys(e))this._currentResourceStrings[t]||(this._currentResourceStrings[t]=e[t]);return this._currentResourceStrings}};function TA(e){return EA.instance().getCurrentResourceStrings(e)}var IA=[[["igx-hint"],["","igxHint",""]],[["","igxLabel",""]],[["","igxInput",""]],[["igx-prefix"],["","igxPrefix",""]],[["igx-suffix"],["","igxSuffix",""]]],RA=["igx-hint, [igxHint]","[igxLabel]","[igxInput]","igx-prefix, [igxPrefix]","igx-suffix, [igxSuffix]"],AA=e=>({"igx-input-group__upload-button":e});function kA(e,t){1&e&&$p(0)}function OA(e,t){if(1&e&&(Lp(0,"div",11),bg(1,kA,1,0,"ng-container",13),Np()),2&e){om();let e=vm(25);Hc(),rp("ngTemplateOutlet",e)}}function FA(e,t){1&e&&$p(0)}function PA(e,t){1&e&&bg(0,FA,1,0,"ng-container",13),2&e&&(om(),rp("ngTemplateOutlet",vm(25)))}function VA(e,t){1&e&&dm(0,1)}function MA(e,t){1&e&&dm(0,2)}function LA(e,t){1&e&&dm(0,3)}function NA(e,t){if(1&e){let e=Kp();Lp(0,"igx-prefix",14)(1,"button",15),rm("click",(function(){return Ko(e),jo(om(2).uploadButtonHandler())})),ym(2),Np()()}if(2&e){let e=om(2);Hc(),rp("disabled",e.disabled)("ngClass",Mm(3,AA,e.isTypeLine)),Hc(),wm(" ",e.resourceStrings.igx_input_upload_button," ")}}function HA(e,t){1&e&&bg(0,NA,3,5,"igx-prefix",14),2&e&&Ip(om().isFileType?0:-1)}function zA(e,t){if(1&e&&(Lp(0,"div",16)(1,"span"),ym(2),Np()()),2&e){let e=om(2);rp("title",e.fileNames),Hc(2),_m(e.fileNames)}}function BA(e,t){1&e&&bg(0,zA,3,2,"div",16),2&e&&Ip(om().isFileType?0:-1)}function GA(e,t){if(1&e){let e=Kp();Lp(0,"igx-suffix",18),rm("click",(function(){return Ko(e),jo(om(2).clearValueHandler())}))("keydown.Enter",(function(){return Ko(e),jo(om(2).clearValueHandler())})),Hp(1,"igx-icon",19),Np()}}function $A(e,t){if(1&e&&bg(0,GA,2,0,"igx-suffix",17),2&e){let e=om();Ip(e.isFileType&&e.isFilled?0:-1)}}function WA(e,t){1&e&&dm(0,4)}function KA(e,t){1&e&&$p(0)}function jA(e,t){1&e&&$p(0)}function UA(e,t){1&e&&$p(0)}function qA(e,t){1&e&&$p(0)}function YA(e,t){1&e&&$p(0)}function ZA(e,t){1&e&&$p(0)}function XA(e,t){1&e&&$p(0)}function QA(e,t){1&e&&Hp(0,"div",26)}function JA(e,t){if(1&e&&(Lp(0,"div",20)(1,"div",21),bg(2,KA,1,0,"ng-container",13)(3,jA,1,0,"ng-container",13),Np(),Bp(4),Lp(5,"div",22),bg(6,UA,1,0,"ng-container",13),Np(),Gp(),Lp(7,"div",23),bg(8,qA,1,0,"ng-container",13)(9,YA,1,0,"ng-container",13),Np(),Hp(10,"div",24),Lp(11,"div",25),bg(12,ZA,1,0,"ng-container",13)(13,XA,1,0,"ng-container",13),Np(),bg(14,QA,1,0,"div",26),Np()),2&e){let e=om(),t=vm(5),i=vm(7),n=vm(9),r=vm(11),s=vm(13),o=vm(15),a=vm(17);Hc(2),rp("ngTemplateOutlet",n),Hc(),rp("ngTemplateOutlet",r),Hc(3),rp("ngTemplateOutlet",t),Hc(2),rp("ngTemplateOutlet",i),Hc(),rp("ngTemplateOutlet",s),Hc(3),rp("ngTemplateOutlet",o),Hc(),rp("ngTemplateOutlet",a),Hc(),Ip(e.hasBorder?14:-1)}}function ek(e,t){1&e&&$p(0)}function tk(e,t){1&e&&$p(0)}function ik(e,t){1&e&&$p(0)}function nk(e,t){1&e&&$p(0)}function rk(e,t){1&e&&$p(0)}function sk(e,t){1&e&&$p(0)}function ok(e,t){1&e&&$p(0)}function ak(e,t){1&e&&Hp(0,"div",26)}function lk(e,t){if(1&e&&(bg(0,ek,1,0,"ng-container",13),Lp(1,"div",20)(2,"div",21),bg(3,tk,1,0,"ng-container",13)(4,ik,1,0,"ng-container",13),Np(),Lp(5,"div",23),bg(6,nk,1,0,"ng-container",13)(7,rk,1,0,"ng-container",13),Np(),Lp(8,"div",25),bg(9,sk,1,0,"ng-container",13)(10,ok,1,0,"ng-container",13),Np(),bg(11,ak,1,0,"div",26),Np()),2&e){let e=om(),t=vm(5),i=vm(7),n=vm(9),r=vm(11),s=vm(13),o=vm(15),a=vm(17);rp("ngTemplateOutlet",t),Hc(3),rp("ngTemplateOutlet",n),Hc(),rp("ngTemplateOutlet",r),Hc(2),rp("ngTemplateOutlet",i),Hc(),rp("ngTemplateOutlet",s),Hc(2),rp("ngTemplateOutlet",o),Hc(),rp("ngTemplateOutlet",a),Hc(),Ip(e.hasBorder?11:-1)}}function dk(e,t){1&e&&$p(0)}function ck(e,t){1&e&&$p(0)}function hk(e,t){1&e&&$p(0)}function uk(e,t){1&e&&$p(0)}function gk(e,t){1&e&&$p(0)}function pk(e,t){1&e&&$p(0)}function mk(e,t){1&e&&$p(0)}function fk(e,t){if(1&e&&(bg(0,dk,1,0,"ng-container",13),Lp(1,"div",20)(2,"div",21),bg(3,ck,1,0,"ng-container",13)(4,hk,1,0,"ng-container",13),Np(),bg(5,uk,1,0,"ng-container",13)(6,gk,1,0,"ng-container",13),Lp(7,"div",25),bg(8,pk,1,0,"ng-container",13)(9,mk,1,0,"ng-container",13),Np()()),2&e){om();let e=vm(5),t=vm(7),i=vm(9),n=vm(11),r=vm(13),s=vm(15),o=vm(17);rp("ngTemplateOutlet",e),Hc(3),rp("ngTemplateOutlet",i),Hc(),rp("ngTemplateOutlet",n),Hc(),rp("ngTemplateOutlet",t),Hc(),rp("ngTemplateOutlet",r),Hc(2),rp("ngTemplateOutlet",s),Hc(),rp("ngTemplateOutlet",o)}}function vk(e,t){1&e&&$p(0)}function yk(e,t){1&e&&bg(0,vk,1,0,"ng-container",13),2&e&&(om(2),rp("ngTemplateOutlet",vm(23)))}function xk(e,t){1&e&&$p(0)}function _k(e,t){1&e&&bg(0,xk,1,0,"ng-container",13),2&e&&(om(2),rp("ngTemplateOutlet",vm(21)))}function wk(e,t){1&e&&$p(0)}function Ck(e,t){1&e&&bg(0,wk,1,0,"ng-container",13),2&e&&(om(2),rp("ngTemplateOutlet",vm(21)))}function Sk(e,t){1&e&&$p(0)}function bk(e,t){1&e&&bg(0,Sk,1,0,"ng-container",13),2&e&&(om(2),rp("ngTemplateOutlet",vm(19)))}function Dk(e,t){if(1&e&&bg(0,yk,1,1,"ng-container")(1,_k,1,1,"ng-container")(2,Ck,1,1,"ng-container")(3,bk,1,1,"ng-container"),2&e){let e;Ip("bootstrap"===(e=om().theme)?0:"fluent"===e?1:"indigo"===e?2:3)}}var Ek=(()=>{class e{set resourceStrings(e){this._resourceStrings=Object.assign({},this._resourceStrings,e)}get resourceStrings(){return this._resourceStrings}get validClass(){return this.input.valid===sR.VALID}get invalidClass(){return this.input.valid===sR.INVALID}get isFilled(){return this._filled||this.input&&this.input.value}get textAreaClass(){return this.input.isTextArea}set type(e){this._type=e}get type(){return this._type||this._inputGroupType||"line"}set theme(e){this._theme=e}get theme(){return this._theme}constructor(e,t,i,n,r,s){this.element=e,this._inputGroupType=t,this.document=i,this.platform=n,this.cdr=r,this.themeToken=s,this.defaultClass=!0,this.hasPlaceholder=!1,this.isRequired=!1,this.isFocused=!1,this.disabled=!1,this.suppressInputAutofocus=!1,this.hasWarning=!1,this._destroyRef=Mr(gl),this._type=null,this._filled=!1,this._resourceStrings=TA(hR),this._theme=this.themeToken.theme;let o=this.themeToken.onChange((e=>{this._theme!==e&&(this._theme=e,this.cdr.detectChanges())}));this._destroyRef.onDestroy((()=>o.unsubscribe()))}onClick(e){!this.isFocused&&e.target!==this.input.nativeElement&&!this.suppressInputAutofocus&&this.input.focus()}onPointerDown(e){this.isFocused&&e.target!==this.input.nativeElement&&e.preventDefault()}hintClickHandler(e){e.stopPropagation()}get hasHints(){return this.hints.length>0}get hasPrefixes(){return this._prefixes.length>0||this.isFileType}set prefixes(e){this._prefixes=e}get hasSuffixes(){return this._suffixes.length>0||this.isFileType&&this.isFilled}set suffixes(e){this._suffixes=e}get hasBorder(){return("line"===this.type||"box"===this.type)&&"material"===this._theme}get isTypeLine(){return"line"===this.type&&"material"===this._theme}get isTypeBox(){return"box"===this.type&&"material"===this._theme}uploadButtonHandler(){this.input.nativeElement.click()}clearValueHandler(){this.input.clear()}get isFileType(){return"file"===this.input.type}get fileNames(){return this.input.fileNames||this._resourceStrings.igx_input_file_placeholder}get isTypeBorder(){return"border"===this.type&&"material"===this._theme}get isTypeFluent(){return"fluent"===this._theme}get isTypeBootstrap(){return"bootstrap"===this._theme}get isTypeIndigo(){return"indigo"===this._theme}get isTypeSearch(){if(!this.isFileType&&!this.input.isTextArea)return"search"===this.type}get filled(){return this._filled}set filled(e){this._filled=e}setComponentTheme(){if(!this.themeToken.preferToken){let e=sS(this.element.nativeElement);e&&e!==this._theme&&(this.theme=e,this.cdr.markForCheck())}}ngAfterContentChecked(){this.setComponentTheme()}static{this.ɵfac=function(t){return new(t||e)(lu(zl),lu(fR,8),lu(Kf),lu(NC),lu(Cf),lu(qI))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-input-group"]],contentQueries:function(e,t,i){if(1&e&&(gm(i,oR,7,oR),gm(i,iR,4,iR),gm(i,dR,5,dR),gm(i,cR,5,cR)),2&e){let e;mm(e=fm())&&(t.input=e.first),mm(e=fm())&&(t.hints=e),mm(e=fm())&&(t._prefixes=e),mm(e=fm())&&(t._suffixes=e)}},hostVars:38,hostBindings:function(e,t){1&e&&rm("click",(function(e){return t.onClick(e)}))("pointerdown",(function(e){return t.onPointerDown(e)})),2&e&&ap("igx-input-group",t.defaultClass)("igx-input-group--placeholder",t.hasPlaceholder)("igx-input-group--required",t.isRequired)("igx-input-group--focused",t.isFocused)("igx-input-group--disabled",t.disabled)("igx-input-group--warning",t.hasWarning)("igx-input-group--valid",t.validClass)("igx-input-group--invalid",t.invalidClass)("igx-input-group--filled",t.isFilled)("igx-input-group--textarea-group",t.textAreaClass)("igx-input-group--prefixed",t.hasPrefixes)("igx-input-group--suffixed",t.hasSuffixes)("igx-input-group--box",t.isTypeBox)("igx-input-group--file",t.isFileType)("igx-input-group--border",t.isTypeBorder)("igx-input-group--fluent",t.isTypeFluent)("igx-input-group--bootstrap",t.isTypeBootstrap)("igx-input-group--indigo",t.isTypeIndigo)("igx-input-group--search",t.isTypeSearch)},inputs:{resourceStrings:"resourceStrings",suppressInputAutofocus:[2,"suppressInputAutofocus","suppressInputAutofocus",Hf],type:"type",theme:"theme"},features:[Pm([{provide:nR,useExisting:e}])],ngContentSelectors:RA,decls:26,vars:1,consts:[["label",""],["input",""],["prefix",""],["uploadButton",""],["files",""],["clear",""],["suffix",""],["materialBundle",""],["fluentBundle",""],["bootstrapBundle",""],["bundle",""],[1,"igx-input-group__wrapper"],[1,"igx-input-group__hint",3,"click"],[4,"ngTemplateOutlet"],[1,"igx-input-group__upload-button"],["igxButton","contained","type","button",3,"click","disabled","ngClass"],[1,"igx-input-group__file-input",3,"title"],["title","clear files","tabindex","0",1,"igx-input-group__clear-icon"],["title","clear files","tabindex","0",1,"igx-input-group__clear-icon",3,"click","keydown.Enter"],["family","default","name","input_clear"],[1,"igx-input-group__bundle"],[1,"igx-input-group__bundle-start"],[1,"igx-input-group__notch"],[1,"igx-input-group__bundle-main"],[1,"igx-input-group__filler"],[1,"igx-input-group__bundle-end"],[1,"igx-input-group__line"]],template:function(e,t){if(1&e){let e=Kp();lm(IA),bg(0,OA,2,1,"div",11)(1,PA,1,1,"ng-container"),Lp(2,"div",12),rm("click",(function(i){return Ko(e),jo(t.hintClickHandler(i))})),dm(3),Np(),bg(4,VA,1,0,"ng-template",null,0,sf)(6,MA,1,0,"ng-template",null,1,sf)(8,LA,1,0,"ng-template",null,2,sf)(10,HA,1,1,"ng-template",null,3,sf)(12,BA,1,1,"ng-template",null,4,sf)(14,$A,1,1,"ng-template",null,5,sf)(16,WA,1,0,"ng-template",null,6,sf)(18,JA,15,8,"ng-template",null,7,sf)(20,lk,12,8,"ng-template",null,8,sf)(22,fk,10,7,"ng-template",null,9,sf)(24,Dk,4,1,"ng-template",null,10,sf)}2&e&&Ip(t.isTypeBox?0:1)},dependencies:[qv,dR,mR,jv,cR,DA],encapsulation:2})}}return e})(),Tk="solid",Ik="dashed",Rk=0,Ak=(()=>{class e{constructor(){this.id="igx-divider-"+Rk++,this.role="separator",this.type=Tk,this.middle=!1,this.vertical=!1,this._inset="0"}get isDashed(){return this.type===Ik}set inset(e){this._inset=e}get inset(){return this._inset}get isSolid(){return this.type===Tk}static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵdir=rg({type:e,selectors:[["igx-divider"]],hostVars:12,hostBindings:function(e,t){2&e&&($g("id",t.id)("role",t.role),op("--inset",t.inset),ap("igx-divider",t.type)("igx-divider--dashed",t.isDashed)("igx-divider--inset",t.middle)("igx-divider--vertical",t.vertical))},inputs:{id:"id",role:"role",type:"type",middle:[2,"middle","middle",Hf],vertical:[2,"vertical","vertical",Hf],inset:"inset"}})}}return e})(),kk=function(e){return e[e.UP=0]="UP",e[e.DOWN=1]="DOWN",e[e.LEFT=2]="LEFT",e[e.RIGHT=3]="RIGHT",e}(kk||{}),Ok=function(e){return e[e.VERTICAL=0]="VERTICAL",e[e.HORIZONTAL=1]="HORIZONTAL",e[e.BOTH=2]="BOTH",e}(Ok||{}),Fk=class{constructor(e,t){this._pageX=e,this._pageY=t,this.pageX=parseFloat(e),this.pageY=parseFloat(t)}},Pk=(()=>{class e{constructor(e){this.element=e,this.baseClass=!0,this.parentDragElement=null}static{this.ɵfac=function(t){return new(t||e)(lu(zl))}}static{this.ɵdir=rg({type:e,selectors:[["","igxDragHandle",""]],hostVars:2,hostBindings:function(e,t){2&e&&ap("igx-drag__handle",t.baseClass)}})}}return e})(),Vk=(()=>{class e{constructor(e){this.element=e,this.baseClass=!0}static{this.ɵfac=function(t){return new(t||e)(lu(zl))}}static{this.ɵdir=rg({type:e,selectors:[["","igxDragIgnore",""]],hostVars:2,hostBindings:function(e,t){2&e&&ap("igx-drag__ignore",t.baseClass)}})}}return e})(),Mk=(()=>{class e{set data(e){this._data=e}get data(){return this._data}get location(){return new Fk(this.pageX,this.pageY)}get originLocation(){return new Fk(this.baseOriginLeft,this.baseOriginTop)}get pointerEventsEnabled(){return typeof PointerEvent<"u"}get touchEventsEnabled(){return"ontouchstart"in window}get pageX(){return this.ghost&&this.ghostElement?this.ghostLeft:this.baseLeft+this.windowScrollLeft}get pageY(){return this.ghost&&this.ghostElement?this.ghostTop:this.baseTop+this.windowScrollTop}get baseLeft(){return this.element.nativeElement.getBoundingClientRect().left}get baseTop(){return this.element.nativeElement.getBoundingClientRect().top}get baseOriginLeft(){return this.baseLeft-this.getTransformX(this.element.nativeElement)}get baseOriginTop(){return this.baseTop-this.getTransformY(this.element.nativeElement)}set ghostLeft(e){if(this.ghostElement){let t=parseInt(this.document.defaultView.getComputedStyle(this.ghostElement)["margin-left"],10);this.ghostElement.style.left=e-t-this._ghostHostX+"px"}}get ghostLeft(){if(this.ghostElement)return parseInt(this.ghostElement.style.left,10)+this._ghostHostX}set ghostTop(e){if(this.ghostElement){let t=parseInt(this.document.defaultView.getComputedStyle(this.ghostElement)["margin-top"],10);this.ghostElement.style.top=e-t-this._ghostHostY+"px"}}get ghostTop(){if(this.ghostElement)return parseInt(this.ghostElement.style.top,10)+this._ghostHostY}get windowScrollTop(){return this.document.documentElement.scrollTop||window.scrollY}get windowScrollLeft(){return this.document.documentElement.scrollLeft||window.scrollX}get windowScrollHeight(){return this.document.documentElement.scrollHeight}get windowScrollWidth(){return this.document.documentElement.scrollWidth}set ghostOffsetX(e){this._offsetX=parseInt(e,10)}get ghostOffsetX(){return void 0!==this._offsetX?this._offsetX:this._defaultOffsetX}set ghostOffsetY(e){this._offsetY=parseInt(e,10)}get ghostOffsetY(){return void 0!==this._offsetY?this._offsetY:this._defaultOffsetY}constructor(e,t,i,n,r,s){this.cdr=e,this.element=t,this.viewContainer=i,this.zone=n,this.renderer=r,this.platformUtil=s,this.dragTolerance=5,this.dragDirection=Ok.BOTH,this.ghost=!0,this.ghostClass="",this.ghostStyle={},this.scrollContainer=null,this.dragStart=new wl,this.dragMove=new wl,this.dragEnd=new wl,this.dragClick=new wl,this.ghostCreate=new wl,this.ghostDestroy=new wl,this.transitioned=new wl,this.baseClass=!0,this.selectDisabled=!1,this.defaultReturnDuration="0.5s",this.animInProgress=!1,this.ghostContext=null,this._startX=0,this._startY=0,this._lastX=0,this._lastY=0,this._dragStarted=!1,this._ghostHostX=0,this._ghostHostY=0,this._pointerDownId=null,this._clicked=!1,this._lastDropArea=null,this._destroy=new Ci,this._removeOnDestroy=!0,this._scrollContainer=null,this._originalScrollContainerWidth=0,this._originalScrollContainerHeight=0,this._scrollContainerStep=5,this._scrollContainerStepMs=10,this._scrollContainerThreshold=25,this._containerScrollIntervalId=null,this.document=Mr(Kf),this.onTransitionEnd=this.onTransitionEnd.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerLost=this.onPointerLost.bind(this)}ngAfterContentInit(){(!this.dragHandles||!this.dragHandles.length)&&(this.selectDisabled=!0),this.zone.runOutsideAngular((()=>{this.platformUtil.isBrowser&&((this.dragHandles&&this.dragHandles.length?this.dragHandles.filter((e=>null===e.parentDragElement)).map((e=>(e.parentDragElement=this.element.nativeElement,e.element.nativeElement))):[this.element.nativeElement]).forEach((e=>{this.pointerEventsEnabled?(Sn(e,"pointerdown").pipe(Nn(this._destroy)).subscribe((e=>this.onPointerDown(e))),Sn(e,"pointermove").pipe(zn((()=>En(0,Pi))),Nn(this._destroy)).subscribe((e=>this.onPointerMove(e))),Sn(e,"pointerup").pipe(Nn(this._destroy)).subscribe((e=>this.onPointerUp(e))),this.ghost||Sn(e,"lostpointercapture").pipe(Nn(this._destroy)).subscribe((e=>this.onPointerLost(e)))):this.touchEventsEnabled?Sn(e,"touchstart").pipe(Nn(this._destroy)).subscribe((e=>this.onPointerDown(e))):Sn(e,"mousedown").pipe(Nn(this._destroy)).subscribe((e=>this.onPointerDown(e)))})),!this.pointerEventsEnabled&&this.touchEventsEnabled?(Sn(this.document.defaultView,"touchmove").pipe(zn((()=>En(0,Pi))),Nn(this._destroy)).subscribe((e=>this.onPointerMove(e))),Sn(this.document.defaultView,"touchend").pipe(Nn(this._destroy)).subscribe((e=>this.onPointerUp(e)))):this.pointerEventsEnabled||(Sn(this.document.defaultView,"mousemove").pipe(zn((()=>En(0,Pi))),Nn(this._destroy)).subscribe((e=>this.onPointerMove(e))),Sn(this.document.defaultView,"mouseup").pipe(Nn(this._destroy)).subscribe((e=>this.onPointerUp(e)))),this.element.nativeElement.addEventListener("transitionend",this.onTransitionEnd))})),this.element.nativeElement.style.transitionDuration="0.0s"}ngOnDestroy(){this._destroy.next(!0),this._destroy.complete(),this.ghostElement&&(this._removeOnDestroy?this.clearGhost():this.detachGhost()),this.element.nativeElement.removeEventListener("transitionend",this.onTransitionEnd),this._containerScrollIntervalId&&(clearInterval(this._containerScrollIntervalId),this._containerScrollIntervalId=null)}setLocation(e){if(this.ghost&&this.ghostElement)this.ghostLeft=e.pageX+this.windowScrollLeft,this.ghostTop=e.pageY+this.windowScrollTop;else if(!this.ghost){let t=e.pageX-this.pageX,i=e.pageY-this.pageY,n=this.getTransformX(this.element.nativeElement),r=this.getTransformY(this.element.nativeElement);this.setTransformXY(n+t,r+i)}this._startX=this.baseLeft,this._startY=this.baseTop}transitionToOrigin(e,t){t&&t.pageX===this.baseOriginLeft&&t.pageY===this.baseOriginLeft||!t&&this.ghost&&!this.ghostElement||(t&&t.pageX!==this.pageX&&t.pageY!==this.pageY&&(this.ghost&&!this.ghostElement&&(this._startX=t.pageX,this._startY=t.pageY,this._ghostStartX=this._startX,this._ghostStartY=this._startY,this.createGhost(this._startX,this._startY)),this.setLocation(t)),this.animInProgress=!0,setTimeout((()=>{this.ghost?(this.ghostElement.style.transitionProperty="top, left",this.ghostElement.style.transitionDuration=e&&e.duration?e.duration+"s":this.defaultReturnDuration,this.ghostElement.style.transitionTimingFunction=e&&e.timingFunction?e.timingFunction:"",this.ghostElement.style.transitionDelay=e&&e.delay?e.delay+"s":"",this.setLocation(new Fk(this.baseLeft,this.baseTop))):this.ghost||(this.element.nativeElement.style.transitionProperty="transform",this.element.nativeElement.style.transitionDuration=e&&e.duration?e.duration+"s":this.defaultReturnDuration,this.element.nativeElement.style.transitionTimingFunction=e&&e.timingFunction?e.timingFunction:"",this.element.nativeElement.style.transitionDelay=e&&e.delay?e.delay+"s":"",this._startX=this.baseLeft,this._startY=this.baseTop,this.setTransformXY(0,0))}),0))}transitionTo(e,t,i){i&&this.ghost&&!this.ghostElement?(this._startX=i.pageX,this._startY=i.pageY,this._ghostStartX=this._startX,this._ghostStartY=this._startY):!i||this.ghost&&!this.ghostElement?this.ghost&&!this.ghostElement&&(this._startX=this.baseLeft,this._startY=this.baseTop,this._ghostStartX=this._startX+this.windowScrollLeft,this._ghostStartY=this._startY+this.windowScrollTop):this.setLocation(i),this.ghost&&!this.ghostElement&&this.createGhost(this._startX,this._startY),this.animInProgress=!0,setTimeout((()=>{let i=this.ghost?this.ghostElement:this.element.nativeElement;if(i.style.transitionProperty=this.ghost&&this.ghostElement?"left, top":"transform",i.style.transitionDuration=t&&t.duration?t.duration+"s":this.defaultReturnDuration,i.style.transitionTimingFunction=t&&t.timingFunction?t.timingFunction:"",i.style.transitionDelay=t&&t.delay?t.delay+"s":"",e instanceof Fk)this.setLocation(new Fk(e.pageX,e.pageY));else{let t=e.nativeElement.getBoundingClientRect();this.setLocation(new Fk(t.left-this.windowScrollLeft,t.top-this.windowScrollTop))}}),0)}onPointerDown(e){if(this.dragIgnoredElems.find((t=>t.element.nativeElement===e.target)))return;let t=this.dragHandles.find((t=>t.element.nativeElement===e.target)),i=t?t.element.nativeElement:e.target||this.element.nativeElement;if(this.pointerEventsEnabled&&i.isConnected)this._pointerDownId=e.pointerId,i.setPointerCapture(this._pointerDownId);else{if(!i.isConnected)return;i.focus(),e.preventDefault()}this._clicked=!0,this.pointerEventsEnabled||!this.touchEventsEnabled?(this._startX=e.pageX,this._startY=e.pageY):this.touchEventsEnabled&&(this._startX=e.touches[0].pageX,this._startY=e.touches[0].pageY),this._defaultOffsetX=this.baseLeft-this._startX+this.windowScrollLeft,this._defaultOffsetY=this.baseTop-this._startY+this.windowScrollTop,this._ghostStartX=this._startX+this.ghostOffsetX,this._ghostStartY=this._startY+this.ghostOffsetY,this._lastX=this._startX,this._lastY=this._startY}onPointerMove(e){if(this._clicked){let t,i;this.pointerEventsEnabled||!this.touchEventsEnabled?(t=e.pageX,i=e.pageY):this.touchEventsEnabled&&(t=e.touches[0].pageX,i=e.touches[0].pageY,e.preventDefault());let n=t-this._startX,r=i-this._startY;if(!this._dragStarted&&(Math.abs(n)>this.dragTolerance||Math.abs(r)>this.dragTolerance)){let s={originalEvent:e,owner:this,startX:t-n,startY:i-r,pageX:t,pageY:i,cancel:!1};if(this.zone.run((()=>{this.dragStart.emit(s)})),s.cancel)return;if(this._dragStarted=!0,this.ghost)this.createGhost(t,i);else if(void 0!==this._offsetX||void 0!==this._offsetY){let e=(void 0!==this._offsetX?this._offsetX-this._defaultOffsetX:0)+this.getTransformX(this.element.nativeElement),t=(void 0!==this._offsetY?this._offsetY-this._defaultOffsetY:0)+this.getTransformY(this.element.nativeElement);this.setTransformXY(e,t)}}else if(!this._dragStarted)return;let s={originalEvent:e,owner:this,startX:this._startX,startY:this._startY,pageX:this._lastX,pageY:this._lastY,nextPageX:t,nextPageY:i,cancel:!1};this.dragMove.emit(s);let o=s.nextPageX,a=s.nextPageY;if(!s.cancel){if(this.onScrollContainer(),this.ghost){let e=this.dragDirection===Ok.VERTICAL?0:o-this._startX,t=this.dragDirection===Ok.HORIZONTAL?0:a-this._startY;this.ghostLeft=this._ghostStartX+e,this.ghostTop=this._ghostStartY+t}else{let e=this.dragDirection===Ok.VERTICAL?0:o-this._lastX,t=this.dragDirection===Ok.HORIZONTAL?0:a-this._lastY,i=this.getTransformX(this.element.nativeElement)+e,n=this.getTransformY(this.element.nativeElement)+t;this.setTransformXY(i,n)}this.dispatchDragEvents(t,i,e)}this._lastX=o,this._lastY=a}}onPointerUp(e){if(!this._clicked)return;let t,i;this.pointerEventsEnabled||!this.touchEventsEnabled?(t=e.pageX,i=e.pageY):this.touchEventsEnabled&&(t=e.touches[0].pageX,i=e.touches[0].pageY,e.preventDefault());let n={originalEvent:e,owner:this,startX:this._startX,startY:this._startY,pageX:t,pageY:i};this._pointerDownId=null,this._clicked=!1,this._dragStarted?(this._lastDropArea&&this._lastDropArea!==this.element.nativeElement&&this.dispatchDropEvent(e.pageX,e.pageY,e),this.zone.run((()=>{this.dragEnd.emit(n)})),this.animInProgress||this.onTransitionEnd(null)):this.zone.run((()=>{this.dragClick.emit(n)})),this._containerScrollIntervalId&&(clearInterval(this._containerScrollIntervalId),this._containerScrollIntervalId=null)}onPointerLost(e){if(!this._clicked)return;if(this._pointerDownId&&this.ghostElement&&this._dynamicGhostRef&&!this._dynamicGhostRef.destroyed){let e=!1;if(this.ghostHost&&!Array.from(this.ghostHost.children).includes(this.ghostElement)?(e=!0,this.ghostHost.appendChild(this.ghostElement)):!this.ghostHost&&!Array.from(this.document.body.children).includes(this.ghostElement)&&(e=!0,this.document.body.appendChild(this.ghostElement)),e)return void this.ghostElement.setPointerCapture(this._pointerDownId)}let t={originalEvent:e,owner:this,startX:this._startX,startY:this._startY,pageX:e.pageX,pageY:e.pageY};this._pointerDownId=null,this._clicked=!1,this._dragStarted&&(this.zone.run((()=>{this.dragEnd.emit(t)})),this.animInProgress||this.onTransitionEnd(null))}onTransitionEnd(e){if((this._dragStarted||this.animInProgress)&&!this._clicked){if(this.ghost&&this.ghostElement){this._ghostStartX=this.baseLeft+this.windowScrollLeft,this._ghostStartY=this.baseTop+this.windowScrollTop;let e={owner:this,ghostElement:this.ghostElement,cancel:!1};if(this.ghostDestroy.emit(e),e.cancel)return;this.clearGhost()}else this.ghost||(this.element.nativeElement.style.transitionProperty="",this.element.nativeElement.style.transitionDuration="0.0s",this.element.nativeElement.style.transitionTimingFunction="",this.element.nativeElement.style.transitionDelay="");this.animInProgress=!1,this._dragStarted=!1,this.zone.run((()=>{this.transitioned.emit({originalEvent:e,owner:this,startX:this._startX,startY:this._startY,pageX:this._startX,pageY:this._startY})}))}}detachGhost(){this.ghostElement.removeEventListener("pointermove",this.onPointerMove),this.ghostElement.removeEventListener("pointerup",this.onPointerUp),this.ghostElement.removeEventListener("lostpointercapture",this.onPointerLost),this.ghostElement.removeEventListener("transitionend",this.onTransitionEnd)}clearGhost(){this.detachGhost(),this.ghostElement.remove(),this.ghostElement=null,this._dynamicGhostRef&&(this._dynamicGhostRef.destroy(),this._dynamicGhostRef=null)}createGhost(e,t,i=null){if(!this.ghost)return;this.ghostTemplate?(this.zone.run((()=>{this._dynamicGhostRef=this.viewContainer.createEmbeddedView(this.ghostTemplate,this.ghostContext)})),"contents"===this._dynamicGhostRef.rootNodes[0].style.display&&(this._dynamicGhostRef.rootNodes[0].style.display="block"),this.ghostElement=this._dynamicGhostRef.rootNodes[0]):this.ghostElement=i?i.cloneNode(!0):this.element.nativeElement.cloneNode(!0);let n=e-this._startX,r=t-this._startY;this._ghostHostX=this.getGhostHostBaseOffsetX(),this._ghostHostY=this.getGhostHostBaseOffsetY(),this.ghostElement.style.transitionDuration="0.0s",this.ghostElement.style.position="absolute",this.ghostClass&&this.ghostElement.classList.add(this.ghostClass),this.ghostStyle&&Object.entries(this.ghostStyle).map((([e,t])=>{this.renderer.setStyle(this.ghostElement,e,t,rh.DashCase)}));let s={owner:this,ghostElement:this.ghostElement,cancel:!1};if(this.ghostCreate.emit(s),s.cancel)return this.ghostElement=null,void(this.ghostTemplate&&this._dynamicGhostRef&&this._dynamicGhostRef.destroy());this.ghostHost?this.ghostHost.appendChild(this.ghostElement):this.document.body.appendChild(this.ghostElement);let o=parseInt(this.document.defaultView.getComputedStyle(this.ghostElement)["margin-left"],10),a=parseInt(this.document.defaultView.getComputedStyle(this.ghostElement)["margin-top"],10);this.ghostElement.style.left=this._ghostStartX-o+n-this._ghostHostX+"px",this.ghostElement.style.top=this._ghostStartY-a+r-this._ghostHostY+"px",this.pointerEventsEnabled&&(null!==this._pointerDownId&&this.ghostElement.setPointerCapture(this._pointerDownId),this.ghostElement.addEventListener("pointermove",this.onPointerMove),this.ghostElement.addEventListener("pointerup",this.onPointerUp),this.ghostElement.addEventListener("lostpointercapture",this.onPointerLost)),this.ghostElement.addEventListener("transitionend",this.onTransitionEnd),this.cdr.detectChanges()}dispatchDragEvents(e,t,i){let n,r={startX:this._startX,startY:this._startY,pageX:e,pageY:t,owner:this,originalEvent:i},s=this.getElementsAtPoint(e,t),o=[];for(let i of s)i?.shadowRoot?o=o.concat(this.getFromShadowRoot(i,e,t,s)):-1===o.indexOf(i)&&o.push(i);for(let e of o)if("true"===e.getAttribute("droppable")&&e!==this.ghostElement&&e!==this.element.nativeElement){n=e;break}if(n&&(!this._lastDropArea||this._lastDropArea&&this._lastDropArea!==n))this._lastDropArea&&this.dispatchEvent(this._lastDropArea,"igxDragLeave",r),this._lastDropArea=n,this.dispatchEvent(this._lastDropArea,"igxDragEnter",r);else if(!n&&this._lastDropArea)return this.dispatchEvent(this._lastDropArea,"igxDragLeave",r),void(this._lastDropArea=null);n&&this.dispatchEvent(n,"igxDragOver",r)}getFromShadowRoot(e,t,i,n){let r=e.shadowRoot.elementsFromPoint(t,i),s=r.filter((e=>-1===n.indexOf(e))),o=[];for(let n of s)n?.shadowRoot&&n.shadowRoot!==e.shadowRoot&&(o=o.concat(this.getFromShadowRoot(n,t,i,r))),o.push(n);return o}dispatchDropEvent(e,t,i){let n={startX:this._startX,startY:this._startY,pageX:e,pageY:t,owner:this,originalEvent:i};this.dispatchEvent(this._lastDropArea,"igxDrop",n),this.dispatchEvent(this._lastDropArea,"igxDragLeave",n),this._lastDropArea=null}getElementsAtPoint(e,t){let i=e-window.pageXOffset,n=t-window.pageYOffset;if(this.document.msElementsFromPoint){let e=this.document.msElementsFromPoint(i,n);return null===e?[]:e}return this.document.elementsFromPoint(i,n)}dispatchEvent(e,t,i){e.dispatchEvent(new CustomEvent(t,{detail:i}))}getTransformX(e){let t=0;if(e.style.transform){let i=e.style.transform,n=i?i.match(/-?[\d\.]+/g):void 0;t=n?Number(n[1]):0}return t}getTransformY(e){let t=0;if(e.style.transform){let i=e.style.transform,n=i?i.match(/-?[\d\.]+/g):void 0;t=n?Number(n[2]):0}return t}setTransformXY(e,t){this.element.nativeElement.style.transform=0!==e||0!==t?"translate3d("+e+"px, "+t+"px, 0px)":""}getGhostHostBaseOffsetX(){if(!this.ghostHost)return 0;let e=this.document.defaultView.getComputedStyle(this.ghostHost).getPropertyValue("position");return"static"===e&&this.ghostHost.offsetParent&&this.ghostHost.offsetParent===this.document.body?0:"static"===e&&this.ghostHost.offsetParent?this.ghostHost.offsetParent.getBoundingClientRect().left+this.windowScrollLeft:this.ghostHost.getBoundingClientRect().left+this.windowScrollLeft}getGhostHostBaseOffsetY(){if(!this.ghostHost)return 0;let e=this.document.defaultView.getComputedStyle(this.ghostHost).getPropertyValue("position");return"static"===e&&this.ghostHost.offsetParent&&this.ghostHost.offsetParent===this.document.body?0:"static"===e&&this.ghostHost.offsetParent?this.ghostHost.offsetParent.getBoundingClientRect().top+this.windowScrollTop:this.ghostHost.getBoundingClientRect().top+this.windowScrollTop}getContainerScrollDirection(){let e=this.scrollContainer?this.scrollContainer.getBoundingClientRect():null,t=this.scrollContainer?this.scrollContainer.scrollLeft>0:this.windowScrollLeft>0,i=this.scrollContainer?this.scrollContainer.scrollTop>0:this.windowScrollTop>0,n=(this.scrollContainer?e.top:0)+this.windowScrollTop+this._scrollContainerThreshold,r=this.ghost&&this.ghostElement?this.ghostElement.offsetHeight:this.element.nativeElement.offsetHeight,s=(this.scrollContainer?e.bottom:window.innerHeight)+this.windowScrollTop-this._scrollContainerThreshold-r,o=(this.scrollContainer?e.left:0)+this.windowScrollLeft+this._scrollContainerThreshold,a=this.ghost&&this.ghostElement?this.ghostElement.offsetWidth:this.element.nativeElement.offsetWidth,l=(this.scrollContainer?e.right:window.innerWidth)+this.windowScrollLeft-this._scrollContainerThreshold-a;return this.pageY<=n&&i?kk.UP:this.pageY>s?kk.DOWN:this.pageX<o&&t?kk.LEFT:this.pageX>l?kk.RIGHT:null}onScrollContainerStep(e){Pi.schedule((()=>{let t=e==kk.LEFT?-1:e==kk.RIGHT?1:0,i=e==kk.UP?-1:e==kk.DOWN?1:0;if(this.scrollContainer){let e=this._originalScrollContainerWidth-this.scrollContainer.clientWidth,n=this._originalScrollContainerHeight-this.scrollContainer.clientHeight;t=this.scrollContainer.scrollLeft<=0&&t<0||this.scrollContainer.scrollLeft>=e&&t>0?0:t,i=this.scrollContainer.scrollTop<=0&&i<0||this.scrollContainer.scrollTop>=n&&i>0?0:i}else{let e=this._originalScrollContainerWidth-this.document.documentElement.clientWidth,n=this._originalScrollContainerHeight-this.document.documentElement.clientHeight;t=this.windowScrollLeft<=0&&t<0||this.windowScrollLeft>=e&&t>0?0:t,i=this.windowScrollTop<=0&&i<0||this.windowScrollTop>=n&&i>0?0:i}let n=t*this._scrollContainerStep,r=i*this._scrollContainerStep;if(this.scrollContainer?(this.scrollContainer.scrollLeft+=n,this.scrollContainer.scrollTop+=r):window.scrollBy(n,r),this.ghost&&!this.scrollContainer)this.ghostLeft+=n,this.ghostTop+=r;else if(!this.ghost){let e=this.getTransformX(this.element.nativeElement)+n,t=this.getTransformY(this.element.nativeElement)+r;this.setTransformXY(e,t),this.scrollContainer||(this._lastX+=n,this._lastY+=r)}}))}onScrollContainer(){let e=this.getContainerScrollDirection();null==e||this._containerScrollIntervalId?null==e&&this._containerScrollIntervalId&&(clearInterval(this._containerScrollIntervalId),this._containerScrollIntervalId=null):(this._originalScrollContainerWidth=this.scrollContainer?this.scrollContainer.scrollWidth:this.windowScrollWidth,this._originalScrollContainerHeight=this.scrollContainer?this.scrollContainer.scrollHeight:this.windowScrollHeight,this._containerScrollIntervalId=setInterval((()=>this.onScrollContainerStep(e)),this._scrollContainerStepMs))}static{this.ɵfac=function(t){return new(t||e)(lu(Cf),lu(zl),lu(Su),lu(Il),lu(ru),lu(NC))}}static{this.ɵdir=rg({type:e,selectors:[["","igxDrag",""]],contentQueries:function(e,t,i){if(1&e&&(gm(i,Pk,5),gm(i,Vk,5)),2&e){let e;mm(e=fm())&&(t.dragHandles=e),mm(e=fm())&&(t.dragIgnoredElems=e)}},hostVars:4,hostBindings:function(e,t){2&e&&ap("igx-drag",t.baseClass)("igx-drag--select-disabled",t.selectDisabled)},inputs:{data:[0,"igxDrag","data"],dragTolerance:"dragTolerance",dragDirection:"dragDirection",dragChannel:"dragChannel",ghost:[2,"ghost","ghost",Hf],ghostClass:"ghostClass",ghostStyle:"ghostStyle",ghostTemplate:"ghostTemplate",ghostHost:"ghostHost",scrollContainer:"scrollContainer",ghostOffsetX:"ghostOffsetX",ghostOffsetY:"ghostOffsetY"},outputs:{dragStart:"dragStart",dragMove:"dragMove",dragEnd:"dragEnd",dragClick:"dragClick",ghostCreate:"ghostCreate",ghostDestroy:"ghostDestroy",transitioned:"transitioned"},exportAs:["drag"]})}}return e})(),Lk=(()=>{class e{set data(e){this._data=e}get data(){return this._data}set dropStrategy(e){this._dropStrategy=new e(this._renderer)}get dropStrategy(){return this._dropStrategy}constructor(e,t,i){this.element=e,this._renderer=t,this._zone=i,this.enter=new wl,this.over=new wl,this.leave=new wl,this.dropped=new wl,this.droppable=!0,this.dragover=!1,this._destroy=new Ci,this._dropStrategy=new class{dropAction(e,t,i){}}}onDragDrop(e){if(!this.isDragLinked(e.detail.owner))return;let t=this.element.nativeElement.getBoundingClientRect().left+this.getWindowScrollLeft(),i=this.element.nativeElement.getBoundingClientRect().top+this.getWindowScrollTop(),n=e.detail.pageX-t,r=e.detail.pageY-i,s={owner:this,originalEvent:e.detail.originalEvent,drag:e.detail.owner,dragData:e.detail.owner.data,startX:e.detail.startX,startY:e.detail.startY,pageX:e.detail.pageX,pageY:e.detail.pageY,offsetX:n,offsetY:r,cancel:!1};if(this._zone.run((()=>{this.dropped.emit(s)})),this._dropStrategy&&!s.cancel){let t=e.detail.owner.getElementsAtPoint(e.detail.pageX,e.detail.pageY),i=this.getInsertIndexAt(e.detail.owner,t);this._dropStrategy.dropAction(e.detail.owner,this,i)}}ngOnInit(){this._zone.runOutsideAngular((()=>{Sn(this.element.nativeElement,"igxDragEnter").pipe(Nn(this._destroy)).subscribe((e=>this.onDragEnter(e))),Sn(this.element.nativeElement,"igxDragLeave").pipe(Nn(this._destroy)).subscribe((e=>this.onDragLeave(e))),Sn(this.element.nativeElement,"igxDragOver").pipe(Nn(this._destroy)).subscribe((e=>this.onDragOver(e)))}))}ngOnDestroy(){this._destroy.next(!0),this._destroy.complete()}onDragOver(e){let t=this.element.nativeElement.getBoundingClientRect().left+this.getWindowScrollLeft(),i=this.element.nativeElement.getBoundingClientRect().top+this.getWindowScrollTop(),n=e.detail.pageX-t,r=e.detail.pageY-i,s={originalEvent:e.detail.originalEvent,owner:this,drag:e.detail.owner,dragData:e.detail.owner.data,startX:e.detail.startX,startY:e.detail.startY,pageX:e.detail.pageX,pageY:e.detail.pageY,offsetX:n,offsetY:r};this.over.emit(s)}onDragEnter(e){if(!this.isDragLinked(e.detail.owner))return;this.dragover=!0;let t=this.element.nativeElement.getBoundingClientRect().left+this.getWindowScrollLeft(),i=this.element.nativeElement.getBoundingClientRect().top+this.getWindowScrollTop(),n=e.detail.pageX-t,r=e.detail.pageY-i,s={originalEvent:e.detail.originalEvent,owner:this,drag:e.detail.owner,dragData:e.detail.owner.data,startX:e.detail.startX,startY:e.detail.startY,pageX:e.detail.pageX,pageY:e.detail.pageY,offsetX:n,offsetY:r};this._zone.run((()=>{this.enter.emit(s)}))}onDragLeave(e){if(!this.isDragLinked(e.detail.owner))return;this.dragover=!1;let t=this.element.nativeElement.getBoundingClientRect().left+this.getWindowScrollLeft(),i=this.element.nativeElement.getBoundingClientRect().top+this.getWindowScrollTop(),n=e.detail.pageX-t,r=e.detail.pageY-i,s={originalEvent:e.detail.originalEvent,owner:this,drag:e.detail.owner,dragData:e.detail.owner.data,startX:e.detail.startX,startY:e.detail.startY,pageX:e.detail.pageX,pageY:e.detail.pageY,offsetX:n,offsetY:r};this._zone.run((()=>{this.leave.emit(s)}))}getWindowScrollTop(){return window.scrollY?window.scrollY:window.pageYOffset?window.pageYOffset:0}getWindowScrollLeft(){return window.scrollX?window.scrollX:window.pageXOffset?window.pageXOffset:0}isDragLinked(e){let t=e.dragChannel instanceof Array,i=this.dropChannel instanceof Array;if(!t&&!i)return this.dropChannel===e.dragChannel;if(!t&&i){let t=this.dropChannel;for(let i of t)if(i===e.dragChannel)return!0}else if(t&&!i){let t=e.dragChannel;for(let e of t)if(e===this.dropChannel)return!0}else{let t=e.dragChannel,i=this.dropChannel;for(let e of t)for(let t of i)if(e===t)return!0}return!1}getInsertIndexAt(e,t){let i=-1,n=Array.prototype.slice.call(this.element.nativeElement.children);if(!n.length)return i;let r=0,s=null;for(;!s&&r<t.length;)t[r].parentElement===this.element.nativeElement&&(s=t[r]),r++;let o=n.indexOf(e.element.nativeElement);return i=n.indexOf(s),-1!==o&&o<i&&i++,i}static{this.ɵfac=function(t){return new(t||e)(lu(zl),lu(ru),lu(Il))}}static{this.ɵdir=rg({type:e,selectors:[["","igxDrop",""]],hostVars:3,hostBindings:function(e,t){1&e&&rm("igxDrop",(function(e){return t.onDragDrop(e)})),2&e&&($g("droppable",t.droppable),ap("dragOver",t.dragover))},inputs:{data:[0,"igxDrop","data"],dropChannel:"dropChannel",dropStrategy:"dropStrategy"},outputs:{enter:"enter",over:"over",leave:"leave",dropped:"dropped"},exportAs:["drop"]})}}return e})(),Nk=new hr("EditorProvider"),Hk=(()=>{class e{get focused(){return this.focusState}set focused(e){this.focusState=e,this.trigger()}get nativeElement(){return this.comp&&this.comp[0]&&this.comp[0].getEditElement?this.comp[0].getEditElement():this.control&&this.control[0]&&this.control[0].getEditElement?this.control[0].getEditElement():this.element.nativeElement}constructor(e,t,i){this.element=e,this.comp=t,this.control=i,this.focusState=!0}trigger(){this.focusState&&requestAnimationFrame((()=>this.nativeElement.focus({preventScroll:!0})))}static{this.ɵfac=function(t){return new(t||e)(lu(zl),lu(my,10),lu(Nk,10))}}static{this.ɵdir=rg({type:e,selectors:[["","igxFocus",""]],inputs:{focused:[2,"igxFocus","focused",Hf]},exportAs:["igxFocus"]})}}return e})(),zk=(()=>{class e{get element(){return this.elementRef.nativeElement}constructor(e,t){this.elementRef=e,this.platformUtil=t,this.destroy$=new Ci,this._focusTrap=!0}set focusTrap(e){this._focusTrap=e}get focusTrap(){return this._focusTrap}ngAfterViewInit(){Sn(this.element,"keydown").pipe(Nn(this.destroy$)).subscribe((e=>{this._focusTrap&&e.key===this.platformUtil.KEYMAP.TAB&&this.handleTab(e)}))}ngOnDestroy(){this.destroy$.complete()}handleTab(e){let t=this.getFocusableElements(this.element);if(t.length>0){let i=this.getFocusedElement(),n=t.findIndex((e=>e===i))+(e.shiftKey?-1:1);n<0&&(n=t.length-1),n>=t.length&&(n=0),t[n].focus()}else this.element.focus();e.preventDefault()}getFocusableElements(e){return Array.from(e.querySelectorAll('a[href], button, input, textarea, select, details,[tabindex]:not([tabindex="-1"])')).filter((e=>!e.hasAttribute("disabled")&&!e.getAttribute("aria-hidden")))}getFocusedElement(){let e=typeof document<"u"&&document?document.activeElement:null;for(;e&&e.shadowRoot;){let t=e.shadowRoot.activeElement;if(t===e)break;e=t}return e}static{this.ɵfac=function(t){return new(t||e)(lu(zl),lu(NC))}}static{this.ɵdir=rg({type:e,selectors:[["","igxFocusTrap",""]],inputs:{focusTrap:[2,"igxFocusTrap","focusTrap",Hf]}})}}return e})(),Bk=(()=>{class e{constructor(e,t){this.element=e,this._zone=t,this.wheelStep=50,this.inertiaStep=1.5,this.smoothingStep=1.5,this.smoothingDuration=.5,this.swipeToleranceX=20,this.inertiaDeltaY=3,this.inertiaDeltaX=2,this.inertiaDuration=.5,this._savedSpeedsX=[],this.baseDeltaMultiplier=1/120,this.firefoxDeltaMultiplier=1/30}ngOnInit(){this._zone.runOutsideAngular((()=>{if(this.parentElement=this.element.nativeElement.parentElement||this.element.nativeElement.parentNode,!this.parentElement)return;let e=this.parentElement;this.onWheel=this.onWheel.bind(this),this.onTouchStart=this.onTouchStart.bind(this),this.onTouchMove=this.onTouchMove.bind(this),this.onTouchEnd=this.onTouchEnd.bind(this),e.addEventListener("wheel",this.onWheel,{passive:!1}),e.addEventListener("touchstart",this.onTouchStart,{passive:!1}),e.addEventListener("touchmove",this.onTouchMove,{passive:!1}),e.addEventListener("touchend",this.onTouchEnd,{passive:!1})}))}ngOnDestroy(){this._zone.runOutsideAngular((()=>{let e=this.parentElement;e&&(e.removeEventListener("wheel",this.onWheel),e.removeEventListener("touchstart",this.onTouchStart),e.removeEventListener("touchmove",this.onTouchMove),e.removeEventListener("touchend",this.onTouchEnd))}))}onWheel(e){if(!this.IgxScrollInertiaScrollContainer||e.ctrlKey)return;let t,i,n=this.wheelStep,r=1/this.wheelStep,s=0!==this.smoothingDuration;if(this._startX=this.IgxScrollInertiaScrollContainer.scrollLeft,this._startY=this.IgxScrollInertiaScrollContainer.scrollTop,e.wheelDeltaX)t=-e.wheelDeltaX*this.baseDeltaMultiplier,-r<t&&t<r&&(t=Math.sign(t)*r);else if(e.deltaX){let i=e.deltaX*(0===e.deltaMode?this.firefoxDeltaMultiplier:1);t=this.calcAxisCoords(i,-1,1)}if(e.wheelDeltaY)i=-e.wheelDeltaY*this.baseDeltaMultiplier,-r<i&&i<r&&(i=Math.sign(i)*r);else if(e.deltaY){let t=e.deltaY*(0===e.deltaMode?this.firefoxDeltaMultiplier:1);i=this.calcAxisCoords(t,-1,1)}if(!e.composedPath||!this.didChildScroll(e,t,i))if(t&&"horizontal"===this.IgxScrollInertiaDirection){let i=this._startX+t*n;s?this._smoothWheelScroll(t):this._scrollToX(i);let r=parseInt(this.IgxScrollInertiaScrollContainer.children[0].style.width,10);0<i&&i<r&&e.preventDefault()}else if(e.shiftKey&&i&&"horizontal"===this.IgxScrollInertiaDirection)if(s)this._smoothWheelScroll(i);else{let e=this._startX+i*n;this._scrollToX(e)}else if(!e.shiftKey&&i&&"vertical"===this.IgxScrollInertiaDirection){let t=this._startY+i*n;s?this._smoothWheelScroll(i):this._scrollToY(t),this.preventParentScroll(e,!0,t)}}preventParentScroll(e,t,i=0){let n=0===i?this.IgxScrollInertiaScrollContainer.scrollTop:i,r=this.IgxScrollInertiaScrollContainer.children[0].scrollHeight-this.IgxScrollInertiaScrollContainer.offsetHeight;0<n&&n<r&&(t&&e.preventDefault(),e.stopPropagation&&e.stopPropagation())}didChildScroll(e,t,i){let n=e.composedPath(),r=0;for(;r<n.length&&"igx-display-container"!==n[r].localName;){let e=n[r++];if(e.scrollHeight>e.clientHeight){let t=window.getComputedStyle(e)["overflow-y"];if(("auto"===t||"scroll"===t)&&(i>0&&e.scrollHeight-Math.abs(Math.round(e.scrollTop))!==e.clientHeight||i<0&&0!==e.scrollTop))return!0}if(e.scrollWidth>e.clientWidth){let i=window.getComputedStyle(e)["overflow-x"];if(("auto"===i||"scroll"===i)&&(t>0&&e.scrollWidth-Math.abs(Math.round(e.scrollLeft))!==e.clientWidth||t<0&&0!==e.scrollLeft))return!0}}return!1}onTouchStart(e){if(!this.IgxScrollInertiaScrollContainer)return!1;cancelAnimationFrame(this._touchInertiaAnimID);let t=e.touches[0];this._startX=this.IgxScrollInertiaScrollContainer.scrollLeft,this._startY=this.IgxScrollInertiaScrollContainer.scrollTop,this._touchStartX=t.pageX,this._touchStartY=t.pageY,this._lastTouchEnd=(new Date).getTime(),this._lastTouchX=t.pageX,this._lastTouchY=t.pageY,this._savedSpeedsX=[],this._savedSpeedsY=[],this._totalMovedX=0,this._offsetRecorded=!1,this._offsetDirection=0,"vertical"===this.IgxScrollInertiaDirection&&this.preventParentScroll(e,!1)}onTouchMove(e){if(!this.IgxScrollInertiaScrollContainer)return;let t=e.touches[0],i=this._startX+(this._touchStartX-t.pageX)*Math.sign(this.inertiaStep),n=this._startY+(this._touchStartY-t.pageY)*Math.sign(this.inertiaStep),r=(new Date).getTime()-this._lastTouchEnd;if(0!==r&&r<100){let e=(this._lastTouchX-t.pageX)/r,i=(this._lastTouchY-t.pageY)/r;this._savedSpeedsX.length<5||this._savedSpeedsX.shift(),this._savedSpeedsX.push(e),this._savedSpeedsY.length<5||this._savedSpeedsY.shift(),this._savedSpeedsY.push(i)}this._lastTouchEnd=(new Date).getTime(),this._lastMovedX=this._lastTouchX-t.pageX,this._lastMovedY=this._lastTouchY-t.pageY,this._lastTouchX=t.pageX,this._lastTouchY=t.pageY,this._totalMovedX+=this._lastMovedX,Math.abs(this._totalMovedX)<this.swipeToleranceX&&!this._offsetRecorded?this._scrollTo(this._startX,n):(this._offsetRecorded||(this._offsetDirection=Math.sign(i-this._startX),this._offsetRecorded=!0),this._scrollTo(i-this._offsetDirection*this.swipeToleranceX,n)),"vertical"===this.IgxScrollInertiaDirection&&this.preventParentScroll(e,!0)}onTouchEnd(e){let t=0,i=0;for(let e=0;e<this._savedSpeedsX.length;e++)t+=this._savedSpeedsX[e],i+=this._savedSpeedsY[e];t=this._savedSpeedsX.length?t/this._savedSpeedsX.length:0,i=this._savedSpeedsX.length?i/this._savedSpeedsY.length:0,(Math.abs(t)>.1||Math.abs(i)>.1)&&(Math.abs(this._lastMovedX)>2||Math.abs(this._lastMovedY)>2)&&this._inertiaInit(t,i),"vertical"===this.IgxScrollInertiaDirection&&this.preventParentScroll(e,!1)}_smoothWheelScroll(e){this._nextY=this.IgxScrollInertiaScrollContainer.scrollTop,this._nextX=this.IgxScrollInertiaScrollContainer.scrollLeft;let t=-1,i=null,n=()=>{if(t>1)return void cancelAnimationFrame(i);let r=(-3*t*t+3)*e*2*this.smoothingStep;"vertical"===this.IgxScrollInertiaDirection?(this._nextY+=r,this._scrollToY(this._nextY)):(this._nextX+=r,this._scrollToX(this._nextX)),t+=1/this.smoothingDuration*.08,i=requestAnimationFrame(n)};i=requestAnimationFrame(n)}_inertiaInit(e,t){let i=this.inertiaStep,n=this.inertiaDuration,r=0;this._nextX=this.IgxScrollInertiaScrollContainer.scrollLeft,this._nextY=this.IgxScrollInertiaScrollContainer.scrollTop;let s=()=>{r>6?cancelAnimationFrame(this._touchInertiaAnimID):(Math.abs(e),Math.abs(t),r+=.05/(1*n),r<=1?(Math.abs(t)<=Math.abs(e)*this.inertiaDeltaY&&(this._nextX+=1*e*15*i),Math.abs(t)>=Math.abs(e)*this.inertiaDeltaX&&(this._nextY+=1*t*15*i)):(Math.abs(t)<=Math.abs(e)*this.inertiaDeltaY&&(this._nextX+=Math.abs(2/(r+.55)-.3)*e*15*i),Math.abs(t)>=Math.abs(e)*this.inertiaDeltaX&&(this._nextY+=Math.abs(2/(r+.55)-.3)*t*15*i)),this._scrollTo(this._nextX,this._nextY),this._touchInertiaAnimID=requestAnimationFrame(s))};this._touchInertiaAnimID=requestAnimationFrame(s)}calcAxisCoords(e,t,i){return void 0===e||e<t?e=t:e>i&&(e=i),e}_scrollTo(e,t){return{x:this._scrollToX(e),y:this._scrollToY(t)}}_scrollToX(e){this.IgxScrollInertiaScrollContainer.scrollLeft=e}_scrollToY(e){this.IgxScrollInertiaScrollContainer.scrollTop=e}static{this.ɵfac=function(t){return new(t||e)(lu(zl),lu(Il))}}static{this.ɵdir=rg({type:e,selectors:[["","igxScrollInertia",""]],inputs:{IgxScrollInertiaDirection:"IgxScrollInertiaDirection",IgxScrollInertiaScrollContainer:"IgxScrollInertiaScrollContainer",wheelStep:"wheelStep",inertiaStep:"inertiaStep",smoothingStep:"smoothingStep",smoothingDuration:"smoothingDuration",swipeToleranceX:"swipeToleranceX",inertiaDeltaY:"inertiaDeltaY",inertiaDeltaX:"inertiaDeltaX",inertiaDuration:"inertiaDuration"}})}}return e})(),Gk=["display_container"];function $k(e,t){}var Wk=(()=>{class e{constructor(e,t){this.cdr=e,this._viewContainer=t,this.cssClass="igx-display-container",this.notVirtual=!0}static{this.ɵfac=function(t){return new(t||e)(lu(Cf),lu(Su))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-display-container"]],viewQuery:function(e,t){if(1&e&&(pm(Gk,7,Su),pm(Gk,7,Bk)),2&e){let e;mm(e=fm())&&(t._vcr=e.first),mm(e=fm())&&(t._scrollInertia=e.first)}},hostVars:4,hostBindings:function(e,t){2&e&&(lp(t.cssClass),ap("igx-display-container--inactive",t.notVirtual))},decls:2,vars:2,consts:[["display_container",""],["igxScrollInertia","",3,"IgxScrollInertiaScrollContainer","IgxScrollInertiaDirection"]],template:function(e,t){1&e&&bg(0,$k,0,0,"ng-template",1,0,sf),2&e&&rp("IgxScrollInertiaScrollContainer",t.scrollContainer)("IgxScrollInertiaDirection",t.scrollDirection)},dependencies:[Bk],encapsulation:2})}}return e})(),Kk=(()=>{class e{constructor(e,t,i,n,r){this.elementRef=e,this.cdr=t,this._zone=i,this.document=n,this.platformUtil=r,this.scrollAmount=0,this._size=0,this.destroy$=new Ci,this._afterViewInit=!1,this._detached=!1,this.renderer=Mr(ru),this.platformId=Mr(ld),this.ngZone=Mr(Il),this._scrollNativeSize=this.calculateScrollNativeSize()}onScroll(e){this.scrollAmount=e.target.scrollTop||e.target.scrollLeft}ngAfterViewInit(){this._afterViewInit=!0,this.platformUtil.isBrowser&&this._zone.runOutsideAngular((()=>{qC(this.nativeElement).pipe(Bn(0),Nn(this.destroy$)).subscribe((e=>this.handleMutations(e)))}))}get nativeElement(){return this.elementRef.nativeElement}ngOnDestroy(){this.destroyed=!0,this.destroy$.next(!0),this.destroy$.complete()}calculateScrollNativeSize(){let e=this.document.createElement("div"),t=e.style;t.width="100px",t.height="100px",t.position="absolute",t.top="-10000px",t.top="-10000px",t.overflow="scroll",this.document.body.appendChild(e);let i=e.offsetWidth-e.clientWidth;return this.document.body.removeChild(e),i?i+1:1}set size(e){this.destroyed||(this._size=e,this._afterViewInit&&this.cdr.detectChanges())}get size(){return this._size}get scrollNativeSize(){return this._scrollNativeSize}get isAttachedToDom(){return this.document.body.contains(this.nativeElement)}toggleClass(e,t,i){i?this.renderer.addClass(e,t):this.renderer.removeClass(e,t)}updateScrollbarClass(){hy(this.platformId)&&this.ngZone.runOutsideAngular((()=>{requestAnimationFrame((()=>{let e=this.nativeElement,t=e.scrollHeight>e.clientHeight,i=e.previousElementSibling;"igx-display-container"===i?.tagName.toLowerCase()&&this.toggleClass(i,"igx-display-container--scrollbar",t)}))}))}handleMutations(e){let t=!(0===e[0].contentRect.height&&0===e[0].contentRect.width);t||this.isAttachedToDom?this._detached&&t&&this.isAttachedToDom&&this.restoreScroll():this._detached=!0,this.updateScrollbarClass()}restoreScroll(){}static{this.ɵfac=function(t){return new(t||e)(lu(zl),lu(Cf),lu(Il),lu(Kf),lu(NC))}}static{this.ɵdir=rg({type:e,selectors:[["","igxVirtualHelperBase",""]],hostBindings:function(e,t){1&e&&rm("scroll",(function(e){return t.onScroll(e)}))}})}}return e})(),jk=["horizontal_container"],Uk=(()=>{class e extends Kk{constructor(e,t,i,n,r){super(e,t,i,n,r),this.cssClasses="igx-vhelper--horizontal"}restoreScroll(){this.nativeElement.scrollLeft=this.scrollAmount}static{this.ɵfac=function(t){return new(t||e)(lu(zl),lu(Cf),lu(Il),lu(Kf),lu(NC))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-horizontal-virtual-helper"]],viewQuery:function(e,t){if(1&e&&pm(jk,7,Su),2&e){let e;mm(e=fm())&&(t._vcr=e.first)}},hostVars:2,hostBindings:function(e,t){2&e&&lp(t.cssClasses)},inputs:{width:"width"},features:[dg],decls:2,vars:2,consts:[["horizontal_container",""],[1,"igx-vhelper__placeholder-content"]],template:function(e,t){1&e&&Hp(0,"div",1,0),2&e&&op("width",t.size,"px")},encapsulation:2})}}return e})(),qk=["container"],Yk=(()=>{class e extends Kk{constructor(e,t,i,n,r){super(e,t,i,n,r),this.cssClasses="igx-vhelper--vertical"}ngOnInit(){this.scrollWidth=this.scrollNativeSize,this.document.documentElement.style.setProperty("--vhelper-scrollbar-size",`${this.scrollNativeSize}px`)}restoreScroll(){this.nativeElement.scrollTop=this.scrollAmount}static{this.ɵfac=function(t){return new(t||e)(lu(zl),lu(Cf),lu(Il),lu(Kf),lu(NC))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-virtual-helper"]],viewQuery:function(e,t){if(1&e&&pm(qk,7,Su),2&e){let e;mm(e=fm())&&(t._vcr=e.first)}},hostVars:3,hostBindings:function(e,t){2&e&&(jp("scrollTop",t.scrollTop),lp(t.cssClasses))},inputs:{itemsLength:"itemsLength"},features:[dg],decls:2,vars:2,consts:[["container",""],[1,"igx-vhelper__placeholder-content"]],template:function(e,t){1&e&&Hp(0,"div",1,0),2&e&&op("height",t.size,"px")},encapsulation:2})}}return e})(),Zk=(()=>{class e{constructor(){this._master=new Map}isMaster(e){return this._master.get(e.igxForScrollOrientation)===e}setMaster(e,t=!1){let i=e.igxForScrollOrientation;this._master.get(i)?.dc?.instance?._viewContainer.element.nativeElement.isConnected||(t=!0),i&&(t||!this._master.has(i))&&this._master.set(i,e)}resetMaster(){this._master.clear()}sizesCache(e){return this._master.get(e).sizesCache}chunkSize(e){return this._master.get(e).state.chunkSize}static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵprov=ir({token:e,factory:e.ɵfac,providedIn:"root"})}}return e})(),Xk=(()=>{class e{constructor(){this._masterScroll=new Map}setScrollMaster(e,t){this._masterScroll.set(e,t)}getScrollMaster(e){return this._masterScroll.get(e)}static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵprov=ir({token:e,factory:e.ɵfac,providedIn:"root"})}}return e})(),Qk=class{constructor(e,t,i,n){this.$implicit=e,this.igxForOf=t,this.index=i,this.count=n}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}},Jk=class{},eO=(()=>{class e extends Jk{get igxForTotalItemCount(){return this.totalItemCount}set igxForTotalItemCount(e){this.totalItemCount=e}get totalItemCount(){return this._totalItemCount}set totalItemCount(e){if(this._totalItemCount!==e){this._totalItemCount=e;let t=this.initSizesCache(this.igxForOf),i=this.scrollComponent.size-t;this.scrollComponent.size=t,this.state.startIndex+this.state.chunkSize>e&&(this.state.startIndex=e-this.state.chunkSize),this._adjustScrollPositionAfterSizeChange(i)}}get displayContainer(){return this.dc?.instance?._viewContainer?.element?.nativeElement}get virtualHelper(){return this.scrollComponent.nativeElement}get isRemote(){return null!==this.totalItemCount}get scrollPosition(){return this.scrollComponent.scrollAmount}set scrollPosition(e){e!==this.scrollComponent.scrollAmount&&("horizontal"===this.igxForScrollOrientation&&this.scrollComponent?this.scrollComponent.nativeElement.scrollLeft=this.isRTL?-e:e:this.scrollComponent&&(this.scrollComponent.nativeElement.scrollTop=e))}get isRTL(){return"rtl"===window.getComputedStyle(this.dc.instance._viewContainer.element.nativeElement).getPropertyValue("direction")}get sizesCache(){return this._sizesCache}set sizesCache(e){this._sizesCache=e}get _isScrolledToBottom(){if(!this.getScroll())return!0;let e=this.getScroll().scrollHeight;return Math.round(this.getScroll().scrollTop+this.igxForContainerSize)===e}get _isAtBottomIndex(){return this.igxForOf&&this.state.startIndex+this.state.chunkSize>this.igxForOf.length}constructor(e,t,i,n,r,s,o,a){super(),this._viewContainer=e,this._template=t,this._differs=i,this.cdr=n,this._zone=r,this.syncScrollService=s,this.platformUtil=o,this.document=a,this.igxForScrollOrientation="vertical",this.chunkLoad=new wl,this.scrollbarVisibilityChanged=new wl,this.contentSizeChange=new wl,this.dataChanged=new wl,this.beforeViewDestroyed=new wl,this.chunkPreload=new wl,this.state={startIndex:0,chunkSize:0},this._sizesCache=[],this._differ=null,this.individualSizeCache=[],this._virtScrollPosition=0,this._bScrollInternal=!1,this._embeddedViews=[],this.contentResizeNotify=new Ci,this._virtSize=0,this.destroy$=new Ci,this._totalItemCount=null,this._virtRatio=1}verticalScrollHandler(e){this.onScroll(e)}isScrollable(){return this.scrollComponent.size>parseInt(this.igxForContainerSize,10)}ngOnInit(){let e=this.igxForScrollContainer?this.igxForScrollContainer._viewContainer:this._viewContainer;if(this.igxForSizePropName=this.igxForSizePropName||"width",this.dc=this._viewContainer.createComponent(Wk,{index:0}),this.dc.instance.scrollDirection=this.igxForScrollOrientation,this.igxForOf&&this.igxForOf.length){this.scrollComponent=this.syncScrollService.getScrollMaster(this.igxForScrollOrientation),this.state.chunkSize=this._calculateChunkSize(),this.dc.instance.notVirtual=!(this.igxForContainerSize&&this.state.chunkSize<this.igxForOf.length),this.scrollComponent&&!this.scrollComponent.destroyed&&(this.state.startIndex=Math.min(this.getIndexAt(this.scrollPosition,this.sizesCache),this.igxForOf.length-this.state.chunkSize));for(let e=this.state.startIndex;e<this.state.startIndex+this.state.chunkSize&&void 0!==this.igxForOf[e];e++){let t=this.igxForOf[e],i=this.dc.instance._vcr.createEmbeddedView(this._template,new Qk(t,this.igxForOf,this.getContextIndex(t),this.igxForOf.length));this._embeddedViews.push(i)}}if(this._maxSize=this._calcMaxBrowserSize(),"vertical"===this.igxForScrollOrientation){this.dc.instance._viewContainer.element.nativeElement.style.top="0px",this.scrollComponent=this.syncScrollService.getScrollMaster(this.igxForScrollOrientation),(!this.scrollComponent||this.scrollComponent.destroyed)&&(this.scrollComponent=e.createComponent(Yk).instance),this.scrollComponent.size=this.igxForOf?this._calcSize():0,this.syncScrollService.setScrollMaster(this.igxForScrollOrientation,this.scrollComponent),this._zone.runOutsideAngular((()=>{this.verticalScrollHandler=this.verticalScrollHandler.bind(this),this.scrollComponent.nativeElement.addEventListener("scroll",this.verticalScrollHandler),this.dc.instance.scrollContainer=this.scrollComponent.nativeElement}));let t=Nn(this.destroy$);this.contentResizeNotify.pipe(Rn((()=>this.igxForContainerSize&&this.igxForOf&&this.igxForOf.length>0)),Bn(40,void 0,{leading:!1,trailing:!0}),t).subscribe((()=>this._zone.runTask((()=>this.updateSizes()))))}"horizontal"===this.igxForScrollOrientation&&(this.func=e=>this.onHScroll(e),this.scrollComponent=this.syncScrollService.getScrollMaster(this.igxForScrollOrientation),this.scrollComponent||(this.scrollComponent=e.createComponent(Uk).instance,this.scrollComponent.size=this.igxForOf?this._calcSize():0,this.syncScrollService.setScrollMaster(this.igxForScrollOrientation,this.scrollComponent)),this._zone.runOutsideAngular((()=>{this.scrollComponent.nativeElement.addEventListener("scroll",this.func),this.dc.instance.scrollContainer=this.scrollComponent.nativeElement})),this._updateScrollOffset())}ngAfterViewInit(){"vertical"===this.igxForScrollOrientation&&this._zone.runOutsideAngular((()=>{this.platformUtil.isBrowser&&(this.contentObserver=new(IC())((()=>this.contentResizeNotify.next())),this.contentObserver.observe(this.dc.instance._viewContainer.element.nativeElement))}))}ngOnDestroy(){this.removeScrollEventListeners(),this.destroy$.next(!0),this.destroy$.complete(),this.contentObserver&&this.contentObserver.disconnect()}static ngTemplateContextGuard(e,t){return!0}ngOnChanges(e){let t="igxForOf";if(t in e){let i=e[t].currentValue;if(!this._differ&&i)try{this._differ=this._differs.find(i).create(this.igxForTrackBy)}catch{throw new Error(`Cannot find a differ supporting object "${i}" of type "${tO(i)}".\n                     NgFor only supports binding to Iterables such as Arrays.`)}}let i="igxForItemSize";i in e&&!e[i].firstChange&&this.igxForOf&&(this.initSizesCache(this.igxForOf),this._applyChanges());let n="igxForContainerSize";if(n in e&&!e[n].firstChange&&this.igxForOf){let t=parseInt(e[n].previousValue,10),i=parseInt(e[n].currentValue,10);this._recalcOnContainerChange({prevSize:t,newSize:i})}}ngDoCheck(){this._differ&&this._differ.diff(this.igxForOf)&&(this.igxForOf||(this.igxForOf=[]),this._updateSizeCache(),this._zone.run((()=>{this._applyChanges(),this.cdr.markForCheck(),this._updateScrollOffset();let e={containerSize:this.igxForContainerSize,state:this.state};this.dataChanged.emit(e)})))}addScrollTop(e){return this.addScroll(e)}addScroll(e){if(0===e)return!1;let t=this._virtScrollPosition,i=parseInt(this.igxForContainerSize,10),n=this._virtSize-i;if(this._bScrollInternal=!0,this._virtScrollPosition+=e,this._virtScrollPosition=this._virtScrollPosition>0?this._virtScrollPosition<n?this._virtScrollPosition:n:0,this.scrollPosition+=e/this._virtRatio,Math.abs(e/this._virtRatio)<1){let e=this.fixedUpdateAllElements(this._virtScrollPosition);this.dc.instance._viewContainer.element.nativeElement.style.top=-e+"px"}let r=this.scrollComponent.nativeElement.scrollHeight-i;return this._virtScrollPosition>0&&0===this.scrollPosition||this._virtScrollPosition<n&&this.scrollPosition===r?this.scrollPosition=this._virtScrollPosition/this._virtRatio:0===this._virtScrollPosition&&this.scrollPosition>0?this.scrollPosition=0:this._virtScrollPosition===n&&this.scrollPosition<r&&(this.scrollPosition=r),this._virtScrollPosition!==t}scrollTo(e){if(e<0||e>(this.isRemote?this.totalItemCount:this.igxForOf.length)-1)return;let t=parseInt(this.igxForContainerSize,10),i=e<this.state.startIndex||this.scrollPosition>this.sizesCache[e],n=i?this.sizesCache[e]:this.sizesCache[e+1]-t;if(n<0)return;let r=this._virtSize-t;n>r&&(n=r),this._bScrollInternal=!0,this._virtScrollPosition=n,this.scrollPosition=this._virtScrollPosition/this._virtRatio,this._adjustToIndex=i?null:e}scrollNext(){let e=Math.abs(Math.ceil(this.scrollPosition)),t=this.getIndexAt(e+parseInt(this.igxForContainerSize,10),this.sizesCache);this.scrollTo(t)}scrollPrev(){this.scrollTo(this.state.startIndex-1)}scrollNextPage(){this.addScroll(parseInt(this.igxForContainerSize,10))}scrollPrevPage(){let e=parseInt(this.igxForContainerSize,10);this.addScroll(-e)}getColumnScrollLeft(e){return this.sizesCache[e]}getItemCountInView(){let e=this.getIndexAt(this.scrollPosition,this.sizesCache);return this.scrollPosition-this.sizesCache[e]>0&&e++,this.getIndexAt(this.scrollPosition+parseInt(this.igxForContainerSize,10),this.sizesCache)-e}getScroll(){return this.scrollComponent?.nativeElement}getSizeAt(e){return this.sizesCache[e+1]-this.sizesCache[e]}getScrollNativeSize(){return this.scrollComponent?this.scrollComponent.scrollNativeSize:0}getScrollForIndex(e,t){let i=parseInt(this.igxForContainerSize,10);return t?Math.max(0,this.sizesCache[e+1]-i):this.sizesCache[e]}getIndexAtScroll(e){return this.getIndexAt(e,this.sizesCache)}isIndexOutsideView(e){let t=e>=this.state.startIndex&&e<=this.state.startIndex+this.state.chunkSize?this._embeddedViews.map((e=>e.rootNodes.find((e=>e.nodeType===Node.ELEMENT_NODE))||e.rootNodes[0].nextElementSibling))[e-this.state.startIndex]:null,i=this.getSizeAt(e),n=parseInt(this.igxForContainerSize,10),r=-(this.scrollPosition-this.sizesCache[this.state.startIndex]),s=t?t.offsetTop+i+r:n+i;return!t||t.offsetTop<Math.abs(r)||n&&s-n>5}recalcUpdateSizes(){let e="horizontal"===this.igxForScrollOrientation?this.igxForSizePropName:"height",t=[],i=0,n=this._embeddedViews.length,r=this._embeddedViews.map((e=>e.rootNodes.find((e=>e.nodeType===Node.ELEMENT_NODE))||e.rootNodes[0].nextElementSibling));for(let s=0;s<n;s++){let n=r[s];if(n){let r=window.getComputedStyle(n).getPropertyValue("height"),o=parseFloat(r)||parseInt(this.igxForItemSize,10),a=this.state.startIndex+s;if(!this.isRemote&&!this.igxForOf[a])continue;let l=this.getMargin(n,e),d=this.individualSizeCache[a],c=("height"===e?o:n.clientWidth)+l;this.individualSizeCache[a]=c;let h=c-d;t.push(h),i+=h,this.sizesCache[a+1]=(this.sizesCache[a]||0)+c}}if(Math.abs(i)>0){for(let e=this.state.startIndex+this.state.chunkSize+1;e<this.sizesCache.length;e++)this.sizesCache[e]=(this.sizesCache[e]||0)+i;let e=(e,t)=>e+t,n=this.individualSizeCache.reduce(e);if(n>this._maxSize&&(this._virtRatio=n/this._maxSize),this.scrollComponent.size=Math.min(this.scrollComponent.size+i,this._maxSize),this._virtSize=n,this.scrollComponent.destroyed||this.scrollComponent.cdr.detectChanges(),this._isScrolledToBottom&&!this.dc.instance.notVirtual&&!this._isAtBottomIndex){let e=parseInt(this.igxForContainerSize,10),t=this._virtSize-e;return this._bScrollInternal=!0,this._virtScrollPosition=t,void(this.scrollPosition=t)}if(this._adjustToIndex){let i=this._adjustToIndex-this.state.startIndex+1,n=t.slice(0,i).reduce(e);0!==n&&this.addScroll(n),this._adjustToIndex=null}}}resetScrollPosition(){this.scrollPosition=0,this.scrollComponent.scrollAmount=0}removeScrollEventListeners(){"horizontal"===this.igxForScrollOrientation?this._zone.runOutsideAngular((()=>this.scrollComponent?.nativeElement?.removeEventListener("scroll",this.func))):this._zone.runOutsideAngular((()=>this.scrollComponent?.nativeElement?.removeEventListener("scroll",this.verticalScrollHandler)))}onScroll(e){if(!parseInt(this.scrollComponent.nativeElement.style.height,10))return;this._bScrollInternal?this._bScrollInternal=!1:this._calcVirtualScrollPosition(e.target.scrollTop);let t=this.state.startIndex,i=this.fixedUpdateAllElements(this._virtScrollPosition);this.dc.instance._viewContainer.element.nativeElement.style.top=-i+"px",this._zone.onStable.pipe(Vn()).subscribe(this.recalcUpdateSizes.bind(this)),this.dc.changeDetectorRef.detectChanges(),t!==this.state.startIndex&&this.chunkLoad.emit(this.state)}updateScroll(){if("horizontal"===this.igxForScrollOrientation){let e=this.scrollComponent.nativeElement.scrollLeft;this.scrollComponent.scrollAmount=e,this._updateScrollOffset()}}updateSizes(){if(!this.scrollComponent.nativeElement.isConnected)return;let e=this.isScrollable();this.recalcUpdateSizes(),this._applyChanges(),this._updateScrollOffset(),e!==this.isScrollable()?this.scrollbarVisibilityChanged.emit():this.contentSizeChange.emit()}fixedUpdateAllElements(e){let t=this.isRemote?this.totalItemCount:this.igxForOf.length,i=this.getIndexAt(e,this.sizesCache);i+this.state.chunkSize>t&&(i=t-this.state.chunkSize);let n=this.state.startIndex,r=i-this.state.startIndex;return this.state.startIndex=i,r&&(this.chunkPreload.emit(this.state),this.isRemote||(r&&Math.abs(r)<=4?r>0?this.moveApplyScrollNext(n):this.moveApplyScrollPrev(n):this.fixedApplyScroll())),e-this.sizesCache[this.state.startIndex]}moveApplyScrollNext(e){let t=e+this.state.chunkSize,i=t+this.state.startIndex-e,n=this.dc.instance._vcr;for(let e=t;e<i&&void 0!==this.igxForOf[e];e++){let t=this._embeddedViews.shift();if(!t.destroyed){this.scrollFocus(t.rootNodes.find((e=>e.nodeType===Node.ELEMENT_NODE))||t.rootNodes[0].nextElementSibling);let i=n.detach(0);this.updateTemplateContext(t.context,e),n.insert(i),this._embeddedViews.push(t)}}}moveApplyScrollPrev(e){let t=this.dc.instance._vcr;for(let i=e-1;i>=this.state.startIndex&&void 0!==this.igxForOf[i];i--){let e=this._embeddedViews.pop();if(!e.destroyed){this.scrollFocus(e.rootNodes.find((e=>e.nodeType===Node.ELEMENT_NODE))||e.rootNodes[0].nextElementSibling);let n=t.detach(t.length-1);this.updateTemplateContext(e.context,i),t.insert(n,0),this._embeddedViews.unshift(e)}}}getContextIndex(e){return this.isRemote?this.state.startIndex+this.igxForOf.indexOf(e):this.igxForOf.indexOf(e)}updateTemplateContext(e,t=0){e.$implicit=this.igxForOf[t],e.index=this.getContextIndex(this.igxForOf[t]),e.count=this.igxForOf.length}fixedApplyScroll(){let e=0,t=this.state.startIndex+this.state.chunkSize;for(let i=this.state.startIndex;i<t&&void 0!==this.igxForOf[i];i++){let t=this._embeddedViews[e++];this.updateTemplateContext(t.context,i)}}scrollFocus(e){if(!e)return;let t=e.getRootNode().activeElement;e&&e.contains(t)&&t.blur()}onHScroll(e){let t=this.scrollComponent.nativeElement.children.item(0);if(!parseInt(t.style.width,10))return;this._bScrollInternal?this._bScrollInternal=!1:this._calcVirtualScrollPosition(e.target.scrollLeft);let i=this.state.startIndex,n=e.target.scrollLeft,r=this.fixedUpdateAllElements(Math.abs(this._virtScrollPosition));this.dc.instance._viewContainer.element.nativeElement.style.left=n<0?r+"px":-r+"px",this._zone.onStable.pipe(Vn()).subscribe(this.recalcUpdateSizes.bind(this)),this.dc.changeDetectorRef.detectChanges(),i!==this.state.startIndex&&this.chunkLoad.emit(this.state)}get igxForTrackBy(){return this._trackByFn}set igxForTrackBy(e){this._trackByFn=e}_applyChanges(){let e=this.state.chunkSize;if(this.applyChunkSizeChange(),this._recalcScrollBarSize(),this.igxForOf&&this.igxForOf.length&&this.dc){let t=Object.assign([],this._embeddedViews),i=this.state.startIndex,n=this.state.chunkSize+this.state.startIndex;this.isRemote&&(i=0,n=this.igxForOf.length);for(let e=i;e<n&&void 0!==this.igxForOf[e];e++){let i=t.shift();this.updateTemplateContext(i.context,e)}e!==this.state.chunkSize&&this.chunkLoad.emit(this.state)}}_calcMaxBrowserSize(){if(!this.platformUtil.isBrowser)return 0;let e=this.document.createElement("div"),t=e.style;t.position="absolute";let i="horizontal"===this.igxForScrollOrientation?"left":"top";t[i]="9999999999999999px",this.document.body.appendChild(e);let n=Math.abs(e.getBoundingClientRect()[i]);return this.document.body.removeChild(e),n}_calculateChunkSize(){let e=0;return null!==this.igxForContainerSize&&void 0!==this.igxForContainerSize?((!this.sizesCache||0===this.sizesCache.length)&&this.initSizesCache(this.igxForOf),e=this._calcMaxChunkSize(),this.igxForOf&&e>this.igxForOf.length&&(e=this.igxForOf.length)):this.igxForOf&&(e=Math.min(this.igxForInitialChunkSize||this.igxForOf.length,this.igxForOf.length)),e}getElement(e,t){let i=e.element.nativeElement.parentNode.getElementsByTagName(t);return i.length>0?i[0]:null}initSizesCache(e){let t=0,i=0,n=this.igxForSizePropName||"height",r=0;this.sizesCache=[],this.individualSizeCache=[],this.sizesCache.push(0);let s=this.isRemote?this.totalItemCount:e.length;for(;r<s;r++)i=this._getItemSize(e[r],n),this.individualSizeCache.push(i),t+=i,this.sizesCache.push(t);return t}_updateSizeCache(){if("horizontal"===this.igxForScrollOrientation)return void this.initSizesCache(this.igxForOf);let e=(this.individualSizeCache.length>0?this.individualSizeCache.reduce(((e,t)=>e+t)):0)-this.initSizesCache(this.igxForOf);this._adjustScrollPositionAfterSizeChange(e)}_calcMaxChunkSize(){let e=0,t=0,i=0,n=[],r=0,s=parseInt(this.igxForContainerSize,10);if(!s)return 0;let o="horizontal"===this.igxForScrollOrientation?this.igxForSizePropName:"height",a=(e,t)=>e+this._getItemSize(t,o);for(;e<this.igxForOf.length;e++){let l=this.igxForOf[e];"height"===o&&(l={value:this.igxForOf[e],height:this.individualSizeCache[e]});let d="height"===o?this.individualSizeCache[e]:this._getItemSize(l,o);if(r=n.reduce(a,d),r<s){if(n.push(l),t=n.length,e===this.igxForOf.length-1){let e="height"===o?n[0].value:n[0],i=this.igxForOf.indexOf(e)-1;for(;i>=0&&r<=s;){e="height"===o?n[0].value:n[0],i=this.igxForOf.indexOf(e)-1;let s=this.igxForOf[i],l="height"===o?this.individualSizeCache[i]:parseInt(s[o],10);r=n.reduce(a,l),n.unshift(s),t=n.length}}}else n.push(l),t=n.length+1,n.shift();t>i&&(i=t)}return i}getIndexAt(e,t){let i=0,n=t.length-1;if(0===e)return 0;for(;i<=n;){let r=Math.floor((i+n)/2),s=e-t[r];if(s>0)i=r+1;else{if(!(s<0))return r;n=r-1}}return n}_recalcScrollBarSize(e=null){let t=this.isRemote?this.totalItemCount:this.igxForOf?this.igxForOf.length:0;this.dc.instance.notVirtual=!(this.igxForContainerSize&&this.dc&&this.state.chunkSize<t);let i=e?this.scrollComponent.size>e.prevSize:this.isScrollable();if("horizontal"===this.igxForScrollOrientation){let e=parseInt(this.igxForContainerSize,10)>0?this._calcSize():0;e<=parseInt(this.igxForContainerSize,10)&&this.resetScrollPosition(),this.scrollComponent.nativeElement.style.width=this.igxForContainerSize+"px",this.scrollComponent.size=e}if("vertical"===this.igxForScrollOrientation){let e=this._calcSize();e<=parseInt(this.igxForContainerSize,10)&&this.resetScrollPosition(),this.scrollComponent.nativeElement.style.height=parseInt(this.igxForContainerSize,10)+"px",this.scrollComponent.size=e}i!==this.isScrollable()&&this.scrollbarVisibilityChanged.emit()}_calcSize(){let e;return e=this.individualSizeCache&&this.individualSizeCache.length>0?this.individualSizeCache.reduce(((e,t)=>e+t),0):this.initSizesCache(this.igxForOf),this._virtSize=e,e>this._maxSize&&(this._virtRatio=e/this._maxSize,e=this._maxSize),e}_recalcOnContainerChange(e=null){let t=this.state.chunkSize;this.applyChunkSizeChange(),this._recalcScrollBarSize(e),t!==this.state.chunkSize&&this.chunkLoad.emit(this.state)}removeLastElem(){let e=this._embeddedViews.pop();this.beforeViewDestroyed.emit(e),this.dc.instance._vcr.detach(this.dc.instance._vcr.length-1),e.destroy(),this.state.chunkSize--}addLastElem(){let e=this.state.startIndex+this.state.chunkSize;if(!this.isRemote&&!this.igxForOf)return;e>=this.igxForOf.length&&(e=this.igxForOf.length-this.state.chunkSize);let t=this.igxForOf[e],i=this.dc.instance._vcr.createEmbeddedView(this._template,new Qk(t,this.igxForOf,this.getContextIndex(t),this.igxForOf.length));this._embeddedViews.push(i),this.state.chunkSize++,this._zone.run((()=>this.cdr.markForCheck()))}applyChunkSizeChange(){let e=this.isRemote?this.igxForOf?this.igxForOf.length:0:this._calculateChunkSize();if(e>this.state.chunkSize){let t=e-this.state.chunkSize;for(let e=0;e<t;e++)this.addLastElem()}else if(e<this.state.chunkSize){let t=this.state.chunkSize-e;for(let e=0;e<t;e++)this.removeLastElem()}}_calcVirtualScrollPosition(e){let t=parseInt(this.igxForContainerSize,10),i=this.scrollComponent.size-t,n=0!==i?e/i:0,r=this._virtSize-t;this._virtScrollPosition=n*r}_getItemSize(e,t){let i=e?e[t]:null;return"number"==typeof i?i:parseInt(this.igxForItemSize,10)||0}_updateScrollOffset(){let e=0,t=this.scrollPosition;1!==this._virtRatio&&(this._calcVirtualScrollPosition(this.scrollPosition),t=this._virtScrollPosition),e=this.scrollComponent.nativeElement&&this.scrollComponent.size?t-this.sizesCache[this.state.startIndex]:0;let i="horizontal"===this.igxForScrollOrientation?"left":"top";this.dc.instance._viewContainer.element.nativeElement.style[i]=-e+"px"}_adjustScrollPositionAfterSizeChange(e){if(Math.abs(e)>0&&this.scrollPosition>0){this.recalcUpdateSizes();let e="horizontal"===this.igxForScrollOrientation?parseInt(this.dc.instance._viewContainer.element.nativeElement.style.left,10):parseInt(this.dc.instance._viewContainer.element.nativeElement.style.top,10),t=this.sizesCache[this.state.startIndex]-e;this.scrollPosition=t,this.scrollPosition!==t&&(this.scrollComponent.scrollAmount=t)}}getMargin(e,t){let i=window.getComputedStyle(e);return"height"===t?parseFloat(i.marginTop)+parseFloat(i.marginBottom)||0:parseFloat(i.marginLeft)+parseFloat(i.marginRight)||0}static{this.ɵfac=function(t){return new(t||e)(lu(Su),lu(jh),lu(Pf),lu(Cf),lu(Il),lu(Xk),lu(NC),lu(Kf))}}static{this.ɵdir=rg({type:e,selectors:[["","igxFor","","igxForOf",""]],inputs:{igxForOf:"igxForOf",igxForSizePropName:"igxForSizePropName",igxForScrollOrientation:"igxForScrollOrientation",igxForScrollContainer:"igxForScrollContainer",igxForContainerSize:"igxForContainerSize",igxForInitialChunkSize:"igxForInitialChunkSize",igxForItemSize:"igxForItemSize",igxForTotalItemCount:"igxForTotalItemCount",igxForTrackBy:"igxForTrackBy"},outputs:{chunkLoad:"chunkLoad",scrollbarVisibilityChanged:"scrollbarVisibilityChanged",contentSizeChange:"contentSizeChange",dataChanged:"dataChanged",beforeViewDestroyed:"beforeViewDestroyed",chunkPreload:"chunkPreload"},features:[Pm([Xk,{provide:Jk,useExisting:e}]),dg,po]})}}return e})(),tO=e=>e.name||typeof e,iO=class extends Qk{constructor(e,t,i,n){super(e,t,i,n),this.igxGridForOf=t}},nO=(()=>{class e extends eO{set igxGridForOf(e){this.igxForOf=e}get igxGridForOf(){return this.igxForOf}get sizesCache(){return"horizontal"===this.igxForScrollOrientation?this.igxGridForOfUniqueSizeCache||this.syncService.isMaster(this)?this._sizesCache:this.syncService.sizesCache(this.igxForScrollOrientation):this._sizesCache}set sizesCache(e){this._sizesCache=e}get itemsDimension(){return this.igxForSizePropName||"height"}recalcUpdateSizes(){this.igxGridForOfVariableSizes&&"vertical"===this.igxForScrollOrientation&&super.recalcUpdateSizes()}constructor(e,t,i,n,r,s,o,a,l){super(e,t,i,n,r,a,s,o),this.syncService=l,this.igxGridForOfUniqueSizeCache=!1,this.igxGridForOfVariableSizes=!0,this.dataChanging=new wl}static ngTemplateContextGuard(e,t){return!0}ngOnInit(){this.syncService.setMaster(this),super.ngOnInit(),this.removeScrollEventListeners()}ngOnChanges(e){let t="igxGridForOf";if(this.syncService.setMaster(this),t in e){let i=e[t].currentValue;if(!this._differ&&i)try{this._differ=this._differs.find(i).create(this.igxForTrackBy)}catch{throw new Error(`Cannot find a differ supporting object "${i}" of type "${tO(i)}".\n                     NgFor only supports binding to Iterables such as Arrays.`)}"horizontal"===this.igxForScrollOrientation&&this.syncService.setMaster(this,this.igxGridForOfUniqueSizeCache)}let i="igxForItemSize";i in e&&!e[i].firstChange&&"vertical"===this.igxForScrollOrientation&&this.igxForOf&&this.initSizesCache(this.igxForOf);let n="igxForContainerSize";if(n in e&&!e[n].firstChange&&this.igxForOf){let t=parseInt(e[n].previousValue,10),i=parseInt(e[n].currentValue,10);this._recalcOnContainerChange({prevSize:t,newSize:i})}}assumeMaster(){this._sizesCache=this.syncService.sizesCache(this.igxForScrollOrientation),this.syncService.setMaster(this,!0)}ngDoCheck(){if(this._differ){let e=this._differ.diff(this.igxForOf);if(e){let t={containerSize:this.igxForContainerSize,state:this.state};this.dataChanging.emit(t),this.igxForOf||(this.igxForOf=[]),!this.igxForOf.length&&"vertical"===this.igxForScrollOrientation&&this.syncService.resetMaster(),this.syncService.setMaster(this),this.igxForContainerSize=t.containerSize;let i=this._updateSizeCache(e);this._applyChanges(),i&&this._adjustScrollPositionAfterSizeChange(i),this._updateScrollOffset(),this.dataChanged.emit(t)}}}onScroll(e){if(!parseInt(this.scrollComponent.nativeElement.style.height,10))return;this._bScrollInternal?this._bScrollInternal=!1:this._calcVirtualScrollPosition(e.target.scrollTop);let t=this.fixedUpdateAllElements(this._virtScrollPosition);this.dc.instance._viewContainer.element.nativeElement.style.top=-t+"px",this._zone.onStable.pipe(Vn()).subscribe(this.recalcUpdateSizes.bind(this)),this.cdr.markForCheck()}onHScroll(e){let t=this.scrollComponent.nativeElement.children.item(0);if(!this.scrollComponent||!parseInt(t.style.width,10))return;let i=this.fixedUpdateAllElements(Math.abs(e));this.dc.instance._viewContainer.element.nativeElement.style.left=e<0?i+"px":-i+"px"}getItemSize(e){let t=0,i=this.igxForSizePropName||"height";return"vertical"===this.igxForScrollOrientation?(t=this._getItemSize(e,i),e&&e.summaries?t=e.max:e&&e.groups&&e.height&&(t=e.height)):t=parseInt(e[i],10)||0,t}initSizesCache(e){if(!this.syncService.isMaster(this)&&"horizontal"===this.igxForScrollOrientation){let e=this.syncService.sizesCache(this.igxForScrollOrientation);return e[e.length-1]}let t=0,i=0,n=0;this.sizesCache=[],this.individualSizeCache=[],this.sizesCache.push(0);let r=this.isRemote?this.totalItemCount:e.length;for(;n<r;n++)i=this.getItemSize(e[n]),this.individualSizeCache.push(i),t+=i,this.sizesCache.push(t);return t}_updateSizeCache(e=null){let t=this.individualSizeCache.length>0?this.individualSizeCache.reduce(((e,t)=>e+t)):0,i=t;if(e&&!this.isRemote)return i=this.handleCacheChanges(e),t-i}handleCacheChanges(e){let t=[],i=[],n=[];n.push(0);let r=0,s=0;return e.forEachRemovedItem((()=>s++)),e.forEachIdentityChange((e=>{e.currentIndex!==e.previousIndex&&(t[e.currentIndex]=e)})),e.forEachItem((e=>{null!==e.previousIndex&&(s<2||!t.length||t[e.currentIndex])&&"horizontal"!==this.igxForScrollOrientation&&this.individualSizeCache.length>0?i[e.currentIndex]=this.individualSizeCache[e.previousIndex]:i[e.currentIndex]=this.getItemSize(e.item),n[e.currentIndex+1]=n[e.currentIndex]+i[e.currentIndex],r+=i[e.currentIndex]})),this.individualSizeCache=i,this.sizesCache=n,r}addLastElem(){let e=this.state.startIndex+this.state.chunkSize;if(!this.isRemote&&!this.igxForOf)return;e>=this.igxForOf.length&&(e=this.igxForOf.length-this.state.chunkSize);let t=this.igxForOf[e],i=this.dc.instance._vcr.createEmbeddedView(this._template,new iO(t,this.igxForOf,this.getContextIndex(t),this.igxForOf.length));this._embeddedViews.push(i),this.state.chunkSize++}_updateViews(e){if(this.igxForOf&&this.igxForOf.length&&this.dc){let t,i,n=Object.assign([],this._embeddedViews);this.isRemote?(t=0,i=this.igxForOf.length):(t=this.getIndexAt(this.scrollPosition,this.sizesCache),t+this.state.chunkSize>this.igxForOf.length&&(t=this.igxForOf.length-this.state.chunkSize),this.state.startIndex=t,i=this.state.chunkSize+this.state.startIndex);for(let e=t;e<i&&void 0!==this.igxForOf[e];e++){let t=n.shift();this.updateTemplateContext(t.context,e)}e!==this.state.chunkSize&&this.chunkLoad.emit(this.state)}}_applyChanges(){let e=this.state.chunkSize;this.applyChunkSizeChange(),this._recalcScrollBarSize(),this._updateViews(e)}_calcMaxChunkSize(){return"horizontal"===this.igxForScrollOrientation?this.syncService.isMaster(this)?super._calcMaxChunkSize():this.syncService.chunkSize(this.igxForScrollOrientation):super._calcMaxChunkSize()}static{this.ɵfac=function(t){return new(t||e)(lu(Su),lu(jh),lu(Pf),lu(Cf),lu(Il),lu(NC),lu(Kf),lu(Xk),lu(Zk))}}static{this.ɵdir=rg({type:e,selectors:[["","igxGridFor","","igxGridForOf",""]],inputs:{igxGridForOf:"igxGridForOf",igxGridForOfUniqueSizeCache:[2,"igxGridForOfUniqueSizeCache","igxGridForOfUniqueSizeCache",Hf],igxGridForOfVariableSizes:[2,"igxGridForOfVariableSizes","igxGridForOfVariableSizes",Hf]},outputs:{dataChanging:"dataChanging"},features:[dg,po]})}}return e})(),rO=(()=>{class e extends gR{constructor(){super(...arguments),this._cssClass="igx-icon-button"}set type(e){let t=e||uR.Contained;this._type!==t&&(this._type=t)}get flat(){return this._type===uR.Flat}get contained(){return this._type===uR.Contained}get outlined(){return this._type===uR.Outlined}static{this.ɵfac=(()=>{let t;return function(i){return(t||(t=ol(e)))(i||e)}})()}static{this.ɵdir=rg({type:e,selectors:[["","igxIconButton",""]],hostVars:8,hostBindings:function(e,t){2&e&&ap("igx-icon-button",t._cssClass)("igx-icon-button--flat",t.flat)("igx-icon-button--contained",t.contained)("igx-icon-button--outlined",t.outlined)},inputs:{type:[0,"igxIconButton","type"]},features:[dg]})}}return e})(),sO=new Set("aACL09#&?"),oO=new Map([["C",/(?!^$)/u],["&",/[^\p{Separator}]/u],["a",/[\p{Letter}\d\p{Separator}]/u],["A",/[\p{Letter}\d]/u],["?",/[\p{Letter}\p{Separator}]/u],["L",new RegExp("\\p{Letter}","u")],["0",/\d/],["9",/[\d\p{Separator}]/u],["#",/[\d\-+]/]]),aO=(e,t,i)=>`${e.substring(0,t)}${i}${e.substring(t+1)}`;function lO(e){let t=new Map,i=e;for(let n=0,r=0;n<e.length;n++,r++){let[s,o]=[e.charAt(n),e.charAt(n+1)];"\\"===s&&sO.has(o)?(i=aO(i,r,""),t.set(r,o),n++):sO.has(s)||t.set(r,s)}return{literals:t,mask:i}}var dO=(()=>{class e{applyMask(e,t,i=0){let n="",r="",{literals:s,mask:o}=lO(t.format),a=Array.from(s.keys()),l=this.getNonLiteralIndices(o,a),d=Array.from(s.values());null!=e&&(r=e.toString());for(let e of o)n+=t.promptChar;if(s.forEach(((e,t)=>{n=aO(n,t,e)})),!r)return n;let c=this.getNonLiteralValues(r,d);for(let e=0;e<c.length;e++){let i=c[e];!this.validateCharOnPosition(i,l[e],o)&&i!==t.promptChar&&(c[e]=t.promptChar)}c.length>l.length&&c.splice(l.length);for(let e of c){let t=e;n=aO(n,l[i++],t)}return n}parseValueFromMask(e,t){let i="",n=Array.from(lO(t.format).literals.values());for(let r of e)-1===n.indexOf(r)&&r!==t.promptChar&&(i+=r);return i}replaceInMask(e,t,i,n,r){let{literals:s,mask:o}=lO(i.format),a=Array.from(s.keys());t=this.replaceIMENumbers(t);let l=Array.from(t),d=n;r=Math.min(r,e.length);for(let s=n;s<r||l.length&&s<e.length;s++){if(-1!==a.indexOf(s)){(l[0]===e[s]||t.length<1)&&(d=s+1,l.shift());continue}if(l[0]&&!this.validateCharOnPosition(l[0],s,o)&&l[0]!==i.promptChar)break;let n=i.promptChar;l.length&&(d=s+1,n=l.shift()),t.length<1&&d++,e=aO(e,s,n)}return{value:e,end:d}}validateCharOnPosition(e,t,i){let n=oO.get(i.charAt(t));return!!n&&n.test(e)}getNonLiteralIndices(e,t){let i=[];for(let n=0;n<e.length;n++)-1===t.indexOf(n)&&i.push(n);return i}getNonLiteralValues(e,t){let i=[];for(let n of e)-1===t.indexOf(n)&&i.push(n);return i}replaceIMENumbers(e){return e.replace(/[０１２３４５６７８９]/g,(e=>({"１":"1","２":"2","３":"3","４":"4","５":"5","６":"6","７":"7","８":"8","９":"9","０":"0"}[e])))}static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵprov=ir({token:e,factory:e.ɵfac,providedIn:"root"})}}return e})(),cO=(()=>{class e{get mask(){return this._mask||this.defaultMask}set mask(e){if(e!==this._mask){let t=this.maskParser.parseValueFromMask(this.inputValue,this.maskOptions);this.setPlaceholder(e),this._mask=e,this.updateInputValue(t)}}get nativeElement(){return this.elementRef.nativeElement}get inputValue(){return this.nativeElement.value}set inputValue(e){this.nativeElement.value=e}get maskOptions(){return{format:this.mask||this.defaultMask,promptChar:this.promptChar&&this.promptChar.substring(0,1)}}get selectionStart(){return this.nativeElement.selectionStart===this.nativeElement.selectionEnd&&this._hasDropAction?this.nativeElement.selectionEnd-this._droppedData.length:this.nativeElement.selectionStart}get selectionEnd(){return this.nativeElement.selectionEnd}get start(){return this._start}get end(){return this._end}constructor(e,t,i,n){this.elementRef=e,this.maskParser=t,this.renderer=i,this.platform=n,this.promptChar="_",this.valueChanged=new wl,this._focused=!1,this._end=0,this._start=0,this._oldText="",this._dataValue="",this.defaultMask="CCCCCCCCCC",this._onTouchedCallback=ei,this._onChangeCallback=ei}onKeyDown(e){let t=e.key;t&&(e.ctrlKey&&(t===this.platform.KEYMAP.Z||t===this.platform.KEYMAP.Y)&&e.preventDefault(),this._key=t,this._start=this.selectionStart,this._end=this.selectionEnd)}onCompositionStart(){this._composing||(this._compositionStartIndex=this._start,this._composing=!0)}onCompositionEnd(){this._start=this._compositionStartIndex;let e=this.selectionEnd,t=this.inputValue.substring(this._start,e);this.updateInput(t),this._end=this.selectionEnd,this._compositionValue=this.inputValue}onInputChanged(e){if(this._composing)return void(this.inputValue.length<this._oldText.length&&(this._key=this.platform.KEYMAP.BACKSPACE));if("deleteContentBackward"===e.inputType&&this._key!==this.platform.KEYMAP.BACKSPACE){let e=0===this._compositionStartIndex&&this._end===this.mask.length,t=0,i=lO(this.maskOptions.format).literals.keys();for(let e of i)e>=this._compositionStartIndex&&e<=this._end&&t++;this.inputValue=e?this.inputValue.substring(0,this.selectionEnd-t)+this.inputValue.substring(this.selectionEnd):this._compositionValue?.substring(0,this._compositionStartIndex)||this.inputValue,this._compositionValue&&(this._start=this.selectionStart,this._end=this.selectionEnd,this.nativeElement.selectionStart=e?this._start-t:this._compositionStartIndex,this.nativeElement.selectionEnd=this._end-t,this.nativeElement.selectionEnd=this._end,this._start=this.selectionStart,this._end=this.selectionEnd)}this._hasDropAction&&(this._start=this.selectionStart);let t="";switch(this._key){case this.platform.KEYMAP.DELETE:this._end=this._start===this._end?++this._end:this._end;break;case this.platform.KEYMAP.BACKSPACE:this._start=this.selectionStart;break;default:t=this.inputValue.substring(this._start,this.selectionEnd)}this.updateInput(t)}onPaste(){this._oldText=this.inputValue,this._start=this.selectionStart}onFocus(){this.nativeElement.readOnly||(this._focused=!0,this.showMask(this.inputValue))}onBlur(e){this._focused=!1,this.showDisplayValue(e),this._onTouchedCallback()}onDragEnter(){!this._focused&&!this._dataValue&&this.showMask(this._dataValue)}onDragLeave(){this._focused||this.showDisplayValue(this.inputValue)}onDrop(e){this._hasDropAction=!0,this._droppedData=e.dataTransfer.getData("text")}ngOnInit(){this.setPlaceholder(this.maskOptions.format)}ngAfterViewChecked(){this._composing||(this._oldText=this.inputValue)}writeValue(e){this.promptChar&&this.promptChar.length>1&&(this.maskOptions.promptChar=this.promptChar.substring(0,1)),this.inputValue=e?this.maskParser.applyMask(e,this.maskOptions):"",this.displayValuePipe&&(this.inputValue=this.displayValuePipe.transform(this.inputValue)),this._dataValue=this.includeLiterals?this.inputValue:e,this.valueChanged.emit({rawValue:e,formattedValue:this.inputValue})}registerOnChange(e){this._onChangeCallback=e}registerOnTouched(e){this._onTouchedCallback=e}showMask(e){this.focusedValuePipe?this.inputValue=this.focusedValuePipe.transform(e):this.inputValue=this.maskParser.applyMask(e,this.maskOptions),this._oldText=this.inputValue}setSelectionRange(e,t=e){this.nativeElement.setSelectionRange(e,t)}afterInput(){this._oldText=this.inputValue,this._hasDropAction=!1,this._start=0,this._end=0,this._key=null,this._composing=!1}setPlaceholder(e){let t=this.nativeElement.placeholder;(!t||t===this.mask)&&this.renderer.setAttribute(this.nativeElement,"placeholder",lO(e??"").mask||this.defaultMask)}updateInputValue(e){this._focused?this.showMask(e):this.displayValuePipe||(this.inputValue=this.inputValue?this.maskParser.applyMask(e,this.maskOptions):"")}updateInput(e){let t=this.maskParser.replaceInMask(this._oldText,e,this.maskOptions,this._start,this._end);this.inputValue=t.value,this._key===this.platform.KEYMAP.BACKSPACE&&(t.end=this._start),this.setSelectionRange(t.end);let i=this.maskParser.parseValueFromMask(this.inputValue,this.maskOptions);this._dataValue=this.includeLiterals?this.inputValue:i,this._onChangeCallback(this._dataValue),this.valueChanged.emit({rawValue:i,formattedValue:this.inputValue}),this.afterInput()}showDisplayValue(e){this.displayValuePipe?this.inputValue=this.displayValuePipe.transform(e):e===this.maskParser.applyMask(null,this.maskOptions)&&(this.inputValue="")}static{this.ɵfac=function(t){return new(t||e)(lu(zl),lu(dO),lu(ru),lu(NC))}}static{this.ɵdir=rg({type:e,selectors:[["","igxMask",""]],hostBindings:function(e,t){1&e&&rm("keydown",(function(e){return t.onKeyDown(e)}))("compositionstart",(function(){return t.onCompositionStart()}))("compositionend",(function(){return t.onCompositionEnd()}))("input",(function(e){return t.onInputChanged(e)}))("paste",(function(){return t.onPaste()}))("focus",(function(){return t.onFocus()}))("blur",(function(e){return t.onBlur(e.target.value)}))("dragenter",(function(){return t.onDragEnter()}))("dragleave",(function(){return t.onDragLeave()}))("drop",(function(e){return t.onDrop(e)}))},inputs:{mask:[0,"igxMask","mask"],promptChar:"promptChar",includeLiterals:[2,"includeLiterals","includeLiterals",Hf],displayValuePipe:"displayValuePipe",focusedValuePipe:"focusedValuePipe"},outputs:{valueChanged:"valueChanged"},exportAs:["igxMask"],features:[Pm([{provide:my,useExisting:e,multi:!0}])]})}}return e})(),hO=(()=>{class e{set centered(e){this._centered=e||this.centered}get nativeElement(){return this.elementRef.nativeElement}constructor(e,t,i,n){this.builder=e,this.elementRef=t,this.renderer=i,this.zone=n,this.rippleTarget="",this.rippleDuration=600,this.rippleDisabled=!1,this.rippleElementClass="igx-ripple__inner",this.rippleHostClass="igx-ripple",this._centered=!1,this.animationQueue=[]}onMouseDown(e){this.zone.runOutsideAngular((()=>this._ripple(e)))}setStyles(e,t){this.renderer.addClass(e,this.rippleElementClass),this.renderer.setStyle(e,"width",`${t.radius}px`),this.renderer.setStyle(e,"height",`${t.radius}px`),this.renderer.setStyle(e,"top",`${t.top}px`),this.renderer.setStyle(e,"left",`${t.left}px`),this.rippleColor&&this.renderer.setStyle(e,"background",this.rippleColor)}_ripple(e){if(this.rippleDisabled)return;let t=this.rippleTarget&&this.nativeElement.querySelector(this.rippleTarget)||this.nativeElement,i=t.getBoundingClientRect(),n=Math.max(i.width,i.height),r=Math.round(e.clientX-i.left-n/2),s=Math.round(e.clientY-i.top-n/2);this._centered&&(r=s=0);let o={radius:n,top:s,left:r},a=this.renderer.createElement("span");this.setStyles(a,o),this.renderer.addClass(t,this.rippleHostClass),this.renderer.appendChild(t,a);let l=this.builder.build([KD({opacity:.5,transform:"scale(.3)"}),$D(this.rippleDuration,KD({opacity:0,transform:"scale(2)"}))]).create(a);this.animationQueue.push(l),l.onDone((()=>{this.animationQueue.splice(this.animationQueue.indexOf(l),1),t.removeChild(a),this.animationQueue.length<1&&this.renderer.removeClass(t,this.rippleHostClass)})),l.play()}static{this.ɵfac=function(t){return new(t||e)(lu(XD),lu(zl),lu(ru),lu(Il))}}static{this.ɵdir=rg({type:e,selectors:[["","igxRipple",""]],hostBindings:function(e,t){1&e&&rm("mousedown",(function(e){return t.onMouseDown(e)}))},inputs:{rippleTarget:[0,"igxRippleTarget","rippleTarget"],rippleColor:[0,"igxRipple","rippleColor"],rippleDuration:[0,"igxRippleDuration","rippleDuration"],centered:[2,"igxRippleCentered","centered",Hf],rippleDisabled:[2,"igxRippleDisabled","rippleDisabled",Hf]}})}}return e})(),uO=["checkbox"],gO=["label"],pO=["placeholderLabel"],mO="before",fO="after",vO=0,yO=(()=>{class e{get checked(){return this._checked}set checked(e){this._checked!==e&&(this._checked=e,this._onChangeCallback(this._checked))}get nativeElement(){return this.nativeInput.nativeElement}constructor(e,t,i){this.cdr=e,this.themeToken=t,this.ngControl=i,this.change=new wl,this.destroy$=new Ci,this.id="igx-checkbox-"+vO++,this.labelId=`${this.id}-label`,this.tabindex=null,this.labelPosition=fO,this.disableRipple=!1,this.ariaLabelledBy=this.labelId,this.ariaLabel=null,this.inputId=`${this.id}-input`,this._onChangeCallback=ei,this._onTouchedCallback=ei,this._checked=!1,this._required=!1,this.elRef=Mr(zl),this.destroyRef=Mr(gl),null!==this.ngControl&&(this.ngControl.valueAccessor=this),this.theme=this.themeToken.theme;let n=this.themeToken.onChange((e=>{this.theme!==e&&(this.theme=e,this.cdr.detectChanges())}));this.destroyRef.onDestroy((()=>n.unsubscribe()))}get required(){return this._required||this.nativeElement.hasAttribute("required")}set required(e){this._required=e}ngAfterViewInit(){this.ngControl&&(this.ngControl.statusChanges.pipe(Nn(this.destroy$)).subscribe(this.updateValidityState.bind(this)),(this.ngControl.control.validator||this.ngControl.control.asyncValidator)&&(this._required=this.ngControl?.control?.hasValidator(by.required),this.cdr.detectChanges())),this.setComponentTheme()}setComponentTheme(){if(!this.themeToken.preferToken){let e=sS(this.elRef.nativeElement);e&&e!==this.theme&&(this.theme=e,this.cdr.markForCheck())}}onKeyUp(e){e.stopPropagation(),this.focused=!0}_onCheckboxClick(e){this.disabled||this.readonly?e.preventDefault():(this.nativeElement.focus(),this.indeterminate=!1,this.checked=!this.checked,this.updateValidityState(),this.change.emit({checked:this.checked,value:this.value,owner:this}))}get ariaChecked(){return this.indeterminate?"mixed":this.checked}_onCheckboxChange(e){e.stopPropagation()}onBlur(){this.focused=!1,this._onTouchedCallback(),this.updateValidityState()}writeValue(e){this._checked=e}get labelClass(){return this.labelPosition===mO?`${this.cssClass}__label--before`:`${this.cssClass}__label`}registerOnChange(e){this._onChangeCallback=e}registerOnTouched(e){this._onTouchedCallback=e}setDisabledState(e){this.disabled=e}getEditElement(){return this.nativeInput.nativeElement}updateValidityState(){this.ngControl?this.disabled||this.readonly||!this.ngControl.control.touched&&!this.ngControl.control.dirty?this.invalid=!1:this.invalid=this.ngControl.invalid:this.checkNativeValidity()}checkNativeValidity(){this.disabled||!this._required||this.checked||this.readonly?this.invalid=!1:this.invalid=!0}static{this.ɵfac=function(t){return new(t||e)(lu(Cf),lu(qI),lu(Wy,10))}}static{this.ɵdir=rg({type:e,viewQuery:function(e,t){if(1&e&&(pm(uO,7),pm(gO,7),pm(pO,7)),2&e){let e;mm(e=fm())&&(t.nativeInput=e.first),mm(e=fm())&&(t.nativeLabel=e.first),mm(e=fm())&&(t.placeholderLabel=e.first)}},hostVars:1,hostBindings:function(e,t){1&e&&rm("keyup",(function(e){return t.onKeyUp(e)}))("click",(function(e){return t._onCheckboxClick(e)}))("blur",(function(){return t.onBlur()})),2&e&&$g("id",t.id)},inputs:{checked:[2,"checked","checked",Hf],id:"id",labelId:"labelId",value:"value",name:"name",tabindex:"tabindex",labelPosition:"labelPosition",disableRipple:[2,"disableRipple","disableRipple",Hf],ariaLabelledBy:[0,"aria-labelledby","ariaLabelledBy"],ariaLabel:[0,"aria-label","ariaLabel"],required:[2,"required","required",Hf]},outputs:{change:"change"}})}}return e})(),xO=(()=>{class e{get value(){return this._value}set value(e){this._value=null==e?"":e}get lastSearchInfo(){return this._lastSearchInfo}constructor(e,t,i){this.element=e,this.service=t,this.renderer=i,this.groupName="",this.destroy$=new Ci,this._value="",this._div=null,this._observer=null,this._nodeWasRemoved=!1,this._forceEvaluation=!1,this._activeElementIndex=-1,this._defaultCssClass="igx-highlight",this._defaultActiveCssClass="igx-highlight--active",this.service.onActiveElementChanged.pipe(Nn(this.destroy$)).subscribe((e=>{this.groupName===e&&(-1!==this._activeElementIndex&&this.deactivate(),this.activateIfNecessary())}))}ngOnDestroy(){this.clearHighlight(),null!==this._observer&&this._observer.disconnect(),this.destroy$.next(!0),this.destroy$.complete()}ngOnChanges(e){e.value&&!e.value.firstChange?this._valueChanged=!0:(void 0!==e.row&&!e.row.firstChange||void 0!==e.column&&!e.column.firstChange||void 0!==e.page&&!e.page.firstChange)&&(-1!==this._activeElementIndex&&this.deactivate(),this.activateIfNecessary())}ngAfterViewInit(){this.parentElement=this.renderer.parentNode(this.element.nativeElement),!1===this.service.highlightGroupsMap.has(this.groupName)&&this.service.highlightGroupsMap.set(this.groupName,{index:-1}),this._lastSearchInfo={searchText:"",content:this.value,matchCount:0,caseSensitive:!1,exactMatch:!1},this._container=this.parentElement.firstElementChild}ngAfterViewChecked(){this._valueChanged&&(this.highlight(this._lastSearchInfo.searchText,this._lastSearchInfo.caseSensitive,this._lastSearchInfo.exactMatch),this.activateIfNecessary(),this._valueChanged=!1)}highlight(e,t,i){let n=!!t,r=!!i;return this.searchNeedsEvaluation(e,n,r)?(this._lastSearchInfo.searchText=e,this._lastSearchInfo.caseSensitive=n,this._lastSearchInfo.exactMatch=r,this._lastSearchInfo.content=this.value,""===e||null==e?this.clearHighlight():(this.clearChildElements(!0),this._lastSearchInfo.matchCount=this.getHighlightedText(e,t,i))):this._nodeWasRemoved&&(this._lastSearchInfo.searchText=e,this._lastSearchInfo.caseSensitive=n,this._lastSearchInfo.exactMatch=r),this._lastSearchInfo.matchCount}clearHighlight(){this.clearChildElements(!1),this._lastSearchInfo.searchText="",this._lastSearchInfo.matchCount=0}activateIfNecessary(){let e=this.service.highlightGroupsMap.get(this.groupName);e&&e.index>=0&&e.column===this.column&&e.row===this.row&&YC(this.metadata,e.metadata)&&this.activate(e.index)}observe(){if(null===this._observer){let e=e=>{e.forEach((e=>{Array.from(e.removedNodes).forEach((e=>{e===this._container&&(this._nodeWasRemoved=!0,this.clearChildElements(!1))})),Array.from(e.addedNodes).forEach((e=>{e===this.parentElement.firstElementChild&&this._nodeWasRemoved&&(this._container=this.parentElement.firstElementChild,this._nodeWasRemoved=!1,this._forceEvaluation=!0,this.highlight(this._lastSearchInfo.searchText,this._lastSearchInfo.caseSensitive,this._lastSearchInfo.exactMatch),this._forceEvaluation=!1,this.activateIfNecessary(),this._observer.disconnect(),this._observer=null)}))}))};this._observer=new MutationObserver(e),this._observer.observe(this.parentElement,{childList:!0})}}activate(e){if(this.deactivate(),null!==this._div){let t=this._div.querySelectorAll("span");if(this._activeElementIndex=e,t.length<=e)return;let i=t[e];this.renderer.addClass(i,this._defaultActiveCssClass),this.renderer.addClass(i,this.activeCssClass)}}deactivate(){if(-1===this._activeElementIndex)return;let e=this._div.querySelectorAll("span");if(e.length<=this._activeElementIndex)return void(this._activeElementIndex=-1);let t=e[this._activeElementIndex];this.renderer.removeClass(t,this._defaultActiveCssClass),this.renderer.removeClass(t,this.activeCssClass),this._activeElementIndex=-1}clearChildElements(e){this.renderer.setProperty(this.element.nativeElement,"hidden",e),null!==this._div&&(this.renderer.removeChild(this.parentElement,this._div),this._div=null,this._activeElementIndex=-1)}getHighlightedText(e,t,i){this.appendDiv();let n=String(this.value),r=t?n:n.toLowerCase(),s=t?e:e.toLowerCase(),o=0;if(i)r===s?(this.appendSpan(`<span class="${this._defaultCssClass} ${this.cssClass?this.cssClass:""}">${n}</span>`),o++):this.appendText(n);else{let e=r.indexOf(s,0),t=0;for(;-1!==e;){let i=e,a=e+s.length;this.appendText(n.substring(t,i)),this.appendSpan(`<span class="${this._defaultCssClass} ${this.cssClass?this.cssClass:""}">${n.substring(i,a)}</span>`),t=a,o++,e=r.indexOf(s,a)}this.appendText(n.substring(t,n.length))}return o}appendText(e){let t=this.renderer.createText(e);this.renderer.appendChild(this._div,t)}appendSpan(e){let t=this.renderer.createElement("span");this.renderer.appendChild(this._div,t),this.renderer.setProperty(t,"outerHTML",e)}appendDiv(){this._div=this.renderer.createElement("div"),this.containerClass&&this.renderer.addClass(this._div,this.containerClass),this.renderer.appendChild(this.parentElement,this._div)}searchNeedsEvaluation(e,t,i){let n=this._lastSearchInfo.searchText;return!this._nodeWasRemoved&&(null===n||n!==e||this._lastSearchInfo.content!==this.value||this._lastSearchInfo.caseSensitive!==t||this._lastSearchInfo.exactMatch!==i||this._forceEvaluation)}static{this.ɵfac=function(t){return new(t||e)(lu(zl),lu(Mx),lu(ru))}}static{this.ɵdir=rg({type:e,selectors:[["","igxTextHighlight",""]],inputs:{cssClass:"cssClass",activeCssClass:"activeCssClass",containerClass:"containerClass",groupName:"groupName",value:"value",row:"row",column:"column",metadata:"metadata"},features:[po]})}}return e})(),_O=(()=>{class e{get nativeElement(){return this.element.nativeElement}constructor(e){this.element=e,this.selected=!0}onFocus(){this.trigger()}trigger(){this.selected&&this.nativeElement.value.length&&requestAnimationFrame((()=>this.nativeElement.select()))}static{this.ɵfac=function(t){return new(t||e)(lu(zl))}}static{this.ɵdir=rg({type:e,selectors:[["","igxTextSelection",""]],hostBindings:function(e,t){1&e&&rm("focus",(function(){return t.onFocus()}))},inputs:{selected:[2,"igxTextSelection","selected",Hf]},exportAs:["igxTextSelection"]})}}return e})(),wO=(()=>{class e{constructor(e,t,i){this._viewContainerRef=e,this._zone=t,this.cdr=i,this.viewCreated=new wl,this.viewMoved=new wl,this.cachedViewLoaded=new wl,this.beforeViewDetach=new wl,this._embeddedViewsMap=new Map}ngOnChanges(e){switch(this._getActionType(e)){case CO.CreateView:this._recreateView();break;case CO.MoveView:this._moveView();break;case CO.UseCachedView:this._useCachedView();break;case CO.UpdateViewContext:this._updateExistingContext(this.igxTemplateOutletContext)}}cleanCache(){this._embeddedViewsMap.forEach((e=>{e.forEach((e=>{e.destroyed||e.destroy()})),e.clear()})),this._embeddedViewsMap.clear()}cleanView(e){let t=this._embeddedViewsMap.get(e.type)?.get(e.id);t&&(t.destroy(),this._embeddedViewsMap.get(e.type).delete(e.id))}_recreateView(){let e=this._viewRef?this._viewContainerRef.indexOf(this._viewRef):-1;-1!==e&&(this.beforeViewDetach.emit({owner:this,view:this._viewRef,context:this.igxTemplateOutletContext}),this._viewContainerRef.detach(e)),this.igxTemplateOutlet&&(this._viewRef=this._viewContainerRef.createEmbeddedView(this.igxTemplateOutlet,this.igxTemplateOutletContext),this.viewCreated.emit({owner:this,view:this._viewRef,context:this.igxTemplateOutletContext}),this.igxTemplateOutletContext.templateID&&(this._embeddedViewsMap.get(this.igxTemplateOutletContext.templateID.type)?.get(this.igxTemplateOutletContext.templateID.id)||this._embeddedViewsMap.set(this.igxTemplateOutletContext.templateID.type,new Map([[this.igxTemplateOutletContext.templateID.id,this._viewRef]]))))}_moveView(){let e=this.igxTemplateOutletContext.moveView,t=this.igxTemplateOutletContext.owner;e!==this._viewRef?(-1!==t._viewContainerRef.indexOf(e)&&(this.beforeViewDetach.emit({owner:this,view:this._viewRef,context:this.igxTemplateOutletContext}),t._viewContainerRef.detach(t._viewContainerRef.indexOf(e))),this._viewRef&&-1!==this._viewContainerRef.indexOf(this._viewRef)&&(this.beforeViewDetach.emit({owner:this,view:this._viewRef,context:this.igxTemplateOutletContext}),this._viewContainerRef.detach(this._viewContainerRef.indexOf(this._viewRef))),this._viewRef=e,this._viewContainerRef.insert(e,0),this._updateExistingContext(this.igxTemplateOutletContext),this.viewMoved.emit({owner:this,view:this._viewRef,context:this.igxTemplateOutletContext})):this._updateExistingContext(this.igxTemplateOutletContext)}_useCachedView(){let e=this.igxTemplateOutletContext.templateID,t=e?this._embeddedViewsMap.get(e.type)?.get(e.id):null;this._viewContainerRef.length>0&&(this.beforeViewDetach.emit({owner:this,view:this._viewRef,context:this.igxTemplateOutletContext}),this._viewContainerRef.detach(this._viewContainerRef.indexOf(this._viewRef))),this._viewRef=t;let i=this._cloneContext(t.context);this._viewContainerRef.insert(this._viewRef,0),this._updateExistingContext(this.igxTemplateOutletContext),this.cachedViewLoaded.emit({owner:this,view:this._viewRef,context:this.igxTemplateOutletContext,oldContext:i})}_shouldRecreateView(e){let t=e.igxTemplateOutletContext;return!!e.igxTemplateOutlet||t&&this._hasContextShapeChanged(t)}_hasContextShapeChanged(e){let t=Object.keys(e.previousValue||{}),i=Object.keys(e.currentValue||{});if(t.length===i.length){for(let e of i)if(-1===t.indexOf(e))return!0;return!1}return!0}_updateExistingContext(e){for(let t of Object.keys(e))this._viewRef.context[t]=this.igxTemplateOutletContext[t]}_cloneContext(e){let t={};for(let i of Object.keys(e))t[i]=e[i];return t}_getActionType(e){let t=this.igxTemplateOutletContext.moveView,i=this.igxTemplateOutletContext.templateID,n=i?this._embeddedViewsMap.get(i.type)?.get(i.id):null,r=this._shouldRecreateView(e);return t?CO.MoveView:r&&n?CO.UseCachedView:!this._viewRef||r?CO.CreateView:this.igxTemplateOutletContext?CO.UpdateViewContext:void 0}static{this.ɵfac=function(t){return new(t||e)(lu(Su),lu(Il),lu(Cf))}}static{this.ɵdir=rg({type:e,selectors:[["","igxTemplateOutlet",""]],inputs:{igxTemplateOutletContext:"igxTemplateOutletContext",igxTemplateOutlet:"igxTemplateOutlet"},outputs:{viewCreated:"viewCreated",viewMoved:"viewMoved",cachedViewLoaded:"cachedViewLoaded",beforeViewDetach:"beforeViewDetach"},features:[po]})}}return e})(),CO=function(e){return e[e.CreateView=0]="CreateView",e[e.MoveView=1]="MoveView",e[e.UseCachedView=2]="UseCachedView",e[e.UpdateViewContext=3]="UpdateViewContext",e}(CO||{}),SO=(()=>{class e{get collapsed(){return this._collapsed}get element(){return this.elementRef.nativeElement}get hiddenClass(){return this.collapsed}get hiddenWebkitClass(){let e=this.platform?.isSafari,t=this.platform?.browserVersion;return this.collapsed&&e&&!!t&&t<17.5}get defaultClass(){return!this.collapsed}constructor(e,t,i,n,r){this.elementRef=e,this.cdr=t,this.overlayService=i,this.navigationService=n,this.platform=r,this.opened=new wl,this.opening=new wl,this.closed=new wl,this.closing=new wl,this.appended=new wl,this._collapsed=!0,this.destroy$=new Ci,this._overlaySubFilter=[Rn((e=>e.id===this._overlayId)),Nn(this.destroy$)],this.overlayClosed=e=>{this._collapsed=!0,this.cdr.detectChanges(),this.unsubscribe(),this.overlayService.detach(this.overlayId);let t={owner:this,id:this._overlayId,event:e.event};delete this._overlayId,this.closed.emit(t),this.cdr.markForCheck()}}open(e){let t=this.overlayService.getOverlayById(this._overlayId),i=t?.openAnimationPlayer?.hasStarted()??!1,n=t?.closeAnimationPlayer?.hasStarted()??!1;if(i||!this._collapsed&&!n)return;this._collapsed=!1,this.cdr.detectChanges(),t||(this.unsubscribe(),this.subscribe(),this._overlayId=this.overlayService.attach(this.elementRef,e));let r={cancel:!1,owner:this,id:this._overlayId};if(this.opening.emit(r),r.cancel)return this.unsubscribe(),this.overlayService.detach(this._overlayId),this._collapsed=!0,delete this._overlayId,void this.cdr.detectChanges();this.overlayService.show(this._overlayId,e)}close(e){let t=this.overlayService.getOverlayById(this._overlayId)?.closeAnimationPlayer?.hasStarted()||!1;this._collapsed||t||this.overlayService.hide(this._overlayId,e)}toggle(e){this.collapsed||this.isClosing?this.open(e):this.close()}get isClosing(){let e=this.overlayService.getOverlayById(this._overlayId);return!!e&&e.closeAnimationPlayer?.hasStarted()}get overlayId(){return this._overlayId}reposition(){this.overlayService.reposition(this._overlayId)}setOffset(e,t,i){this.overlayService.setOffset(this._overlayId,e,t,i)}ngOnInit(){this.navigationService&&this.id&&this.navigationService.add(this.id,this)}ngOnDestroy(){this.navigationService&&this.id&&this.navigationService.remove(this.id),this._overlayId&&this.overlayService.detach(this._overlayId),this.unsubscribe(),this.destroy$.next(!0),this.destroy$.complete()}subscribe(){this._overlayContentAppendedSub=this.overlayService.contentAppended.pipe(Vn(),Nn(this.destroy$)).subscribe((()=>{let e={owner:this,id:this._overlayId};this.appended.emit(e)})),this._overlayOpenedSub=this.overlayService.opened.pipe(...this._overlaySubFilter).subscribe((()=>{let e={owner:this,id:this._overlayId};this.opened.emit(e)})),this._overlayClosingSub=this.overlayService.closing.pipe(...this._overlaySubFilter).subscribe((e=>{let t={cancel:!1,event:e.event,owner:this,id:this._overlayId};this.closing.emit(t),e.cancel=t.cancel,e.cancel||this.clearSubscription(this._overlayClosingSub)})),this._overlayClosedSub=this.overlayService.closed.pipe(...this._overlaySubFilter).subscribe(this.overlayClosed)}unsubscribe(){this.clearSubscription(this._overlayOpenedSub),this.clearSubscription(this._overlayClosingSub),this.clearSubscription(this._overlayClosedSub),this.clearSubscription(this._overlayContentAppendedSub)}clearSubscription(e){e&&!e.closed&&e.unsubscribe()}static{this.ɵfac=function(t){return new(t||e)(lu(zl),lu(Cf),lu(zI),lu(Wf,8),lu(NC,8))}}static{this.ɵdir=rg({type:e,selectors:[["","igxToggle",""]],hostVars:7,hostBindings:function(e,t){2&e&&($g("aria-hidden",t.hiddenClass),ap("igx-toggle--hidden",t.hiddenClass)("igx-toggle--hidden-webkit",t.hiddenWebkitClass)("igx-toggle",t.defaultClass))},inputs:{id:"id"},outputs:{opened:"opened",opening:"opening",closed:"closed",closing:"closing",appended:"appended"},exportAs:["toggle"]})}}return e})(),bO=(()=>{class e{set target(e){null!==e&&""!==e&&(this._target=e)}get target(){return"string"==typeof this._target?this.navigationService.get(this._target):this._target}constructor(e,t){this.element=e,this.navigationService=t}onClick(){this.outlet&&(this._overlayDefaults.outlet=this.outlet);let e=Object.assign({},this._overlayDefaults,this.overlaySettings);this.updateOverlaySettings(e),this.target.toggle(e)}ngOnInit(){let e=this.element.nativeElement;this._overlayDefaults={target:e,positionStrategy:new kI,scrollStrategy:new BI,closeOnOutsideClick:!0,modal:!1,excludeFromOutsideClick:[e]}}updateOverlaySettings(e){if(e&&e.positionStrategy){let t=e.positionStrategy.clone();e.target=this.element.nativeElement,e.positionStrategy=t}return e}static{this.ɵfac=function(t){return new(t||e)(lu(zl),lu(Wf,8))}}static{this.ɵdir=rg({type:e,selectors:[["","igxToggleAction",""]],hostBindings:function(e,t){1&e&&rm("click",(function(){return t.onClick()}))},inputs:{overlaySettings:"overlaySettings",outlet:[0,"igxToggleOutlet","outlet"],target:[0,"igxToggleAction","target"]},exportAs:["toggle-action"]})}}return e})(),DO=(()=>{class e{constructor(e){this.element=e}get nativeElement(){return this.element.nativeElement}static{this.ɵfac=function(t){return new(t||e)(lu(zl))}}static{this.ɵdir=rg({type:e,selectors:[["","igxOverlayOutlet",""]],exportAs:["overlay-outlet"]})}}return e})(),EO=0,TO=(()=>{class e extends SO{get hiddenClass(){return this.collapsed}get defaultClass(){return!this.collapsed}get role(){return"tooltip"}constructor(e,t,i,n){super(e,t,i,n),this.id="igx-tooltip-"+EO++,this.toBeHidden=!1,this.toBeShown=!1,this._destroy$=new Ci,this._document=Mr(Kf),this.onDocumentTouchStart=this.onDocumentTouchStart.bind(this),this.overlayService.opening.pipe(Nn(this._destroy$)).subscribe((()=>{this._document.addEventListener("touchstart",this.onDocumentTouchStart,{passive:!0})})),this.overlayService.closed.pipe(Nn(this._destroy$)).subscribe((()=>{this._document.removeEventListener("touchstart",this.onDocumentTouchStart)}))}ngOnDestroy(){super.ngOnDestroy(),this._document.removeEventListener("touchstart",this.onDocumentTouchStart),this._destroy$.next(!0),this._destroy$.complete()}forceOpen(e){let t=this.overlayService.getOverlayById(this._overlayId);if(t&&t.openAnimationPlayer)t.openAnimationPlayer.finish(),t.openAnimationPlayer.reset(),t.openAnimationPlayer=null;else if(this.collapsed){let t=e.positionStrategy.settings.openAnimation;e.positionStrategy.settings.openAnimation=null,this.open(e),e.positionStrategy.settings.openAnimation=t}}forceClose(e){let t=this.overlayService.getOverlayById(this._overlayId);if(t&&t.closeAnimationPlayer)t.closeAnimationPlayer.finish(),t.closeAnimationPlayer.reset(),t.closeAnimationPlayer=null;else if(!this.collapsed){let t=e.positionStrategy.settings.closeAnimation;e.positionStrategy.settings.closeAnimation=null,this.close(),e.positionStrategy.settings.closeAnimation=t}}onDocumentTouchStart(e){this.tooltipTarget?.onDocumentTouchStart(e)}static{this.ɵfac=function(t){return new(t||e)(lu(zl),lu(Cf),lu(zI),lu(Wf,8))}}static{this.ɵdir=rg({type:e,selectors:[["","igxTooltip",""]],hostVars:6,hostBindings:function(e,t){2&e&&($g("id",t.id)("role",t.role),ap("igx-tooltip--hidden",t.hiddenClass)("igx-tooltip",t.defaultClass))},inputs:{context:"context",id:"id"},exportAs:["tooltip"],features:[dg]})}}return e})(),IO=(()=>{class e{static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-tooltip"]],viewQuery:function(e,t){if(1&e&&pm(TO,7),2&e){let e;mm(e=fm())&&(t.tooltip=e.first)}},decls:2,vars:1,consts:[["igxTooltip",""]],template:function(e,t){1&e&&(Lp(0,"span",0),ym(1),Np()),2&e&&(Hc(),_m(t.content))},dependencies:[TO],encapsulation:2})}}return e})(),RO=(()=>{class e extends bO{set target(e){e instanceof TO&&(this._target=e)}get target(){return"string"==typeof this._target?this._navigationService.get(this._target):this._target}set tooltip(e){if(!this.target&&("string"==typeof e||e instanceof String)){let t=this._viewContainerRef.createComponent(IO);t.instance.content=e,this._target=t.instance.tooltip}}get nativeElement(){return this._element.nativeElement}get tooltipHidden(){return!this.target||this.target.collapsed}constructor(e,t,i){super(e,t),this._element=e,this._navigationService=t,this._viewContainerRef=i,this.showDelay=500,this.hideDelay=500,this.tooltipDisabled=!1,this.tooltipShow=new wl,this.tooltipHide=new wl,this.destroy$=new Ci}onClick(){this.target.collapsed||this.target.forceClose(this.mergedOverlaySettings)}onMouseEnter(){if(this.tooltipDisabled||(this.checkOutletAndOutsideClick(),this.preMouseEnterCheck()))return;this.target.tooltipTarget=this;let e={target:this,tooltip:this.target,cancel:!1};this.tooltipShow.emit(e),!e.cancel&&(this.target.toBeShown=!0,this.target.timeoutId=setTimeout((()=>{this.target.open(this.mergedOverlaySettings),this.target.toBeShown=!1}),this.showDelay))}onMouseLeave(){this.tooltipDisabled||(this.checkOutletAndOutsideClick(),this.preMouseLeaveCheck()||this.target.collapsed)||(this.target.toBeHidden=!0,this.target.timeoutId=setTimeout((()=>{this.target.close(),this.target.toBeHidden=!1}),this.hideDelay))}onTouchStart(){this.tooltipDisabled||this.showTooltip()}onDocumentTouchStart(e){this.tooltipDisabled||this.nativeElement!==e.target&&!this.nativeElement.contains(e.target)&&this.hideTooltip()}ngOnInit(){super.ngOnInit();let e={horizontalDirection:SI.Center,horizontalStartPoint:SI.Center,openAnimation:qD(hT,{params:{duration:"150ms"}}),closeAnimation:qD(sE,{params:{duration:"75ms"}})};this._overlayDefaults.positionStrategy=new FI(e),this._overlayDefaults.closeOnOutsideClick=!1,this._overlayDefaults.closeOnEscape=!0,this.target.closing.pipe(Nn(this.destroy$)).subscribe((e=>{if(this.target.tooltipTarget!==this)return;let t={target:this,tooltip:this.target,cancel:!1};this.tooltipHide.emit(t),t.cancel&&(e.cancel=!0)})),this.nativeElement.addEventListener("touchstart",this.onTouchStart=this.onTouchStart.bind(this),{passive:!0})}ngOnDestroy(){this.hideTooltip(),this.nativeElement.removeEventListener("touchstart",this.onTouchStart),this.destroy$.next(),this.destroy$.complete()}showTooltip(){clearTimeout(this.target.timeoutId),this.target.collapsed||(this.target.forceClose(this.mergedOverlaySettings),this.target.toBeHidden=!1),this.target.tooltipTarget=this;let e={target:this,tooltip:this.target,cancel:!1};this.tooltipShow.emit(e),!e.cancel&&(this.target.toBeShown=!0,this.target.timeoutId=setTimeout((()=>{this.target.open(this.mergedOverlaySettings),this.target.toBeShown=!1}),this.showDelay))}hideTooltip(){this.target.collapsed&&this.target.toBeShown&&clearTimeout(this.target.timeoutId),!this.target.collapsed&&!this.target.toBeHidden&&(this.target.toBeHidden=!0,this.target.timeoutId=setTimeout((()=>{this.target.close(),this.target.toBeHidden=!1}),this.hideDelay))}checkOutletAndOutsideClick(){this.outlet&&(this._overlayDefaults.outlet=this.outlet)}get mergedOverlaySettings(){return Object.assign({},this._overlayDefaults,this.overlaySettings)}preMouseEnterCheck(){return this.target.toBeShown&&(clearTimeout(this.target.timeoutId),this.target.toBeShown=!1),(!this.target.collapsed||this.target.toBeHidden)&&(clearTimeout(this.target.timeoutId),this.target.forceClose(this.mergedOverlaySettings),this.target.toBeHidden=!1),!1}preMouseLeaveCheck(){return clearTimeout(this.target.timeoutId),!!this.target.toBeShown&&(this.target.toBeShown=!1,this.target.toBeHidden=!1,!0)}static{this.ɵfac=function(t){return new(t||e)(lu(zl),lu(Wf,8),lu(Su))}}static{this.ɵdir=rg({type:e,selectors:[["","igxTooltipTarget",""]],hostBindings:function(e,t){1&e&&rm("click",(function(){return t.onClick()}))("mouseenter",(function(){return t.onMouseEnter()}))("mouseleave",(function(){return t.onMouseLeave()}))},inputs:{showDelay:"showDelay",hideDelay:"hideDelay",tooltipDisabled:[2,"tooltipDisabled","tooltipDisabled",Hf],target:[0,"igxTooltipTarget","target"],tooltip:"tooltip"},outputs:{tooltipShow:"tooltipShow",tooltipHide:"tooltipHide"},exportAs:["tooltipTarget"],features:[dg]})}}return e})(),AO=(()=>{class e extends cO{get minValue(){return this._minValue}set minValue(e){this._minValue=e,this._onValidatorChange()}get maxValue(){return this._maxValue}set maxValue(e){this._maxValue=e,this._onValidatorChange()}set displayFormat(e){this._displayFormat=e,this.updateDefaultFormat()}get displayFormat(){return this._displayFormat||this.inputFormat}set inputFormat(e){e&&(this.setMask(e),this._inputFormat=e)}get inputFormat(){return this._inputFormat||this._defaultInputFormat}set value(e){this._value=e,this.setDateValue(e),this.onChangeCallback(e),this.updateMask()}get value(){return this._value}get datePartDeltas(){return Object.assign({},this._datePartDeltas,this.spinDelta)}get emptyMask(){return this.maskParser.applyMask(null,this.maskOptions)}get targetDatePart(){return this.document.activeElement===this.nativeElement||this.document.activeElement?.shadowRoot?.activeElement===this.nativeElement?this._inputDateParts.find((e=>e.start<=this.selectionStart&&this.selectionStart<=e.end&&e.type!==TS.Literal))?.type:this._inputDateParts.some((e=>e.type===TS.Date))?TS.Date:this._inputDateParts.some((e=>e.type===TS.Hours))?TS.Hours:void 0}get hasDateParts(){return this._inputDateParts.some((e=>e.type===TS.Date||e.type===TS.Month||e.type===TS.Year))}get hasTimeParts(){return this._inputDateParts.some((e=>e.type===TS.Hours||e.type===TS.Minutes||e.type===TS.Seconds||e.type===TS.FractionalSeconds))}get dateValue(){return this._dateValue}constructor(e,t,i,n,r,s){super(t,i,e,n),this._document=r,this._locale=s,this.spinLoop=!0,this.defaultFormatType="date",this.valueChange=new wl,this.validationFailed=new wl,this.SCROLL_THRESHOLD=50,this._scrollAccumulator=0,this._datePartDeltas={date:1,month:1,year:1,hours:1,minutes:1,seconds:1,fractionalSeconds:1},this.onChangeCallback=ei,this._onValidatorChange=ei,this.document=this._document,this.locale=this.locale||this._locale}onWheel(e){this._focused&&(e.preventDefault(),e.stopPropagation(),this._scrollAccumulator+=e.deltaY,Math.abs(this._scrollAccumulator)>this.SCROLL_THRESHOLD&&(this._scrollAccumulator>0?this.decrement():this.increment(),this._scrollAccumulator=0))}ngOnInit(){this.updateDefaultFormat(),this.setMask(this.inputFormat),this.updateMask()}ngOnChanges(e){(e.locale&&!e.locale.firstChange||e.defaultFormatType&&!e.defaultFormatType.firstChange)&&(this.updateDefaultFormat(),this.setMask(this.inputFormat),this.updateMask()),e.inputFormat&&!e.inputFormat.firstChange&&this.updateMask()}clear(){this._onClear=!0,this.updateValue(null),this.setSelectionRange(0,this.inputValue.length),this._onClear=!1}increment(e,t){let i=e||this.targetDatePart;if(!i)return;let n=this.trySpinValue(i,t);this.updateValue(n)}decrement(e,t){let i=e||this.targetDatePart;if(!i)return;let n=this.trySpinValue(i,t,!0);this.updateValue(n)}writeValue(e){this._value=e,this.setDateValue(e),this.updateMask()}validate(e){if(!e.value)return null;if(MC(e.value)&&!OS.isValidDate(e.value))return{value:!0};let t={},i=OS.isValidDate(e.value)?e.value:OS.parseIsoDate(e.value),n=OS.isValidDate(this.minValue)?this.minValue:this.parseDate(this.minValue),r=OS.isValidDate(this.maxValue)?this.maxValue:this.parseDate(this.maxValue);return(n||r)&&(t=OS.validateMinMax(i,n,r,this.hasTimeParts,this.hasDateParts)),Object.keys(t).length>0?t:null}registerOnValidatorChange(e){this._onValidatorChange=e}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this._onTouchedCallback=e}setDisabledState(e){}onCompositionEnd(){super.onCompositionEnd(),this.updateValue(this.parseDate(this.inputValue)),this.updateMask()}onInputChanged(e){if(super.onInputChanged(e),!this._composing)if(this.inputIsComplete()){let e=this.parseDate(this.inputValue);if(OS.isValidDate(e))this.updateValue(e);else{let t={oldValue:this.value&&new Date(this.dateValue.getTime()),newValue:e,userInput:this.inputValue};this.validationFailed.emit(t),OS.isValidDate(t.newValue)?this.updateValue(t.newValue):this.updateValue(null)}}else this.updateValue(null)}onKeyDown(e){if(this.nativeElement.readOnly)return;super.onKeyDown(e);let t=e.key;if(!e.altKey){if(t===this.platform.KEYMAP.ARROW_DOWN||t===this.platform.KEYMAP.ARROW_UP)return void this.spin(e);e.ctrlKey&&t===this.platform.KEYMAP.SEMICOLON&&this.updateValue(new Date),this.moveCursor(e)}}onFocus(){this.nativeElement.readOnly||(this._focused=!0,this._onTouchedCallback(),this.updateMask(),super.onFocus(),this.nativeElement.select())}onBlur(e){this._focused=!1,this.inputIsComplete()||this.inputValue===this.emptyMask?this.updateMask():this.updateValue(this.parseDate(this.inputValue)),!this.displayValuePipe&&super.onBlur(e)}setPlaceholder(e){}updateDefaultFormat(){this._defaultInputFormat=OS.getNumericInputFormat(this.locale,this._displayFormat)||OS.getDefaultInputFormat(this.locale,this.defaultFormatType),this.setMask(this.inputFormat)}updateMask(){if(this._focused){let e=this.selectionEnd;this.inputValue=this.getMaskedValue(),this.setSelectionRange(e)}else{if(!this.dateValue||!OS.isValidDate(this.dateValue))return void(this.inputValue="");if(this.displayValuePipe)return void(this.inputValue=this.displayValuePipe.transform(this.value));let e=this.displayFormat||this.inputFormat;this.inputValue=e?OS.formatDate(this.dateValue,e.replace("tt","aa"),this.locale):this.dateValue.toLocaleString()}}setMask(e){let t=this._inputDateParts?.map((e=>e.format)).join("");this._inputDateParts=OS.parseDateTimeFormat(e);let i=((e=this._inputDateParts.map((e=>e.format)).join(""))||this._defaultInputFormat).replace(new RegExp(/(?=[^at])[\w]/,"g"),"0");this.mask=i.replaceAll(/(a{1,2})|tt/g,(e=>"L".repeat(1===e.length?1:2)));let n=this.nativeElement.placeholder;(!n||t===n)&&this.renderer.setAttribute(this.nativeElement,"placeholder",e)}parseDate(e){return e?OS.parseValueFromMask(e,this._inputDateParts,this.promptChar):null}getMaskedValue(){let e=this.emptyMask;if(OS.isValidDate(this.value)||OS.parseIsoDate(this.value)){for(let t of this._inputDateParts){if(t.type===TS.Literal)continue;let i=this.getPartValue(t,t.format.length);e=this.maskParser.replaceInMask(e,i,this.maskOptions,t.start,t.end).value}return e}return this.inputIsComplete()&&this._onClear?e:this.inputValue}valueInRange(e){if(!e)return!1;let t={},i=OS.isValidDate(this.minValue)?this.minValue:this.parseDate(this.minValue),n=OS.isValidDate(this.maxValue)?this.maxValue:this.parseDate(this.maxValue);return(i||n)&&(t=OS.validateMinMax(e,this.minValue,this.maxValue,this.hasTimeParts,this.hasDateParts)),0===Object.keys(t).length}spinValue(e,t){if(!this.dateValue||!OS.isValidDate(this.dateValue))return null;let i=new Date(this.dateValue.getTime());switch(e){case TS.Date:OS.spinDate(t,i,this.spinLoop);break;case TS.Month:OS.spinMonth(t,i,this.spinLoop);break;case TS.Year:OS.spinYear(t,i);break;case TS.Hours:OS.spinHours(t,i,this.spinLoop);break;case TS.Minutes:OS.spinMinutes(t,i,this.spinLoop);break;case TS.Seconds:OS.spinSeconds(t,i,this.spinLoop);break;case TS.FractionalSeconds:OS.spinFractionalSeconds(t,i,this.spinLoop);break;case TS.AmPm:let e=this._inputDateParts.find((e=>e.type===TS.AmPm)),n=this.inputValue.substring(e.start,e.end);return OS.spinAmPm(i,this.dateValue,n)}return i}trySpinValue(e,t,i=!1){t||(t=this.datePartDeltas[e]||1);let n=i?-Math.abs(t):Math.abs(t);return this.spinValue(e,n)||new Date}setDateValue(e){this._dateValue=OS.isValidDate(e)?e:OS.parseIsoDate(e)}updateValue(e){this._oldValue=this.dateValue,this.value=e,(this.inputIsComplete()||this.inputValue===this.emptyMask)&&this.valueChange.emit(this.dateValue),this.dateValue&&!this.valueInRange(this.dateValue)&&this.validationFailed.emit({oldValue:this._oldValue,newValue:this.dateValue,userInput:this.inputValue})}toTwelveHourFormat(e){let t=parseInt(e.replace(new RegExp(this.promptChar,"g"),"0"),10);return t>12?t-=12:0===t&&(t=12),t}getPartValue(e,t){let i;switch(e.type){case TS.Date:i=this.dateValue.getDate();break;case TS.Month:i=this.dateValue.getMonth()+1;break;case TS.Year:i=2===t?this.prependValue(parseInt(this.dateValue.getFullYear().toString().slice(-2),10),t,"0"):this.dateValue.getFullYear();break;case TS.Hours:i=-1!==e.format.indexOf("h")?this.prependValue(this.toTwelveHourFormat(this.dateValue.getHours().toString()),t,"0"):this.dateValue.getHours();break;case TS.Minutes:i=this.dateValue.getMinutes();break;case TS.Seconds:i=this.dateValue.getSeconds();break;case TS.FractionalSeconds:t=3,i=this.prependValue(this.dateValue.getMilliseconds(),3,"00");break;case TS.AmPm:i=OS.getAmPmValue(t,this.dateValue.getHours()<12)}return e.type!==TS.AmPm?this.prependValue(i,t,"0"):i}prependValue(e,t,i){return(i+e.toString()).slice(-t)}spin(e){switch(e.preventDefault(),e.key){case this.platform.KEYMAP.ARROW_UP:this.increment();break;case this.platform.KEYMAP.ARROW_DOWN:this.decrement()}}inputIsComplete(){return-1===this.inputValue.indexOf(this.promptChar)}moveCursor(e){let t=e.target.value;switch(e.key){case this.platform.KEYMAP.ARROW_LEFT:e.ctrlKey&&(e.preventDefault(),this.setSelectionRange(this.getNewPosition(t)));break;case this.platform.KEYMAP.ARROW_RIGHT:e.ctrlKey&&(e.preventDefault(),this.setSelectionRange(this.getNewPosition(t,1)))}}getNewPosition(e,t=0){let i=this._inputDateParts.filter((e=>e.type===TS.Literal)),n=this.selectionStart;if(t){do{n++}while(!i.some((e=>e.start===n))&&n<e.length);return n}do{n=n>0?--n:n}while(!i.some((e=>e.end===n))&&n>0);return n}static{this.ɵfac=function(t){return new(t||e)(lu(ru),lu(zl),lu(dO),lu(NC),lu(Kf),lu(uf))}}static{this.ɵdir=rg({type:e,selectors:[["","igxDateTimeEditor",""]],hostBindings:function(e,t){1&e&&rm("wheel",(function(e){return t.onWheel(e)}))},inputs:{locale:"locale",minValue:"minValue",maxValue:"maxValue",spinLoop:[2,"spinLoop","spinLoop",Hf],displayFormat:"displayFormat",inputFormat:[0,"igxDateTimeEditor","inputFormat"],value:"value",defaultFormatType:"defaultFormatType",spinDelta:"spinDelta"},outputs:{valueChange:"valueChange",validationFailed:"validationFailed"},exportAs:["igxDateTimeEditor"],features:[Pm([{provide:my,useExisting:e,multi:!0},{provide:wy,useExisting:e,multi:!0}]),dg,po]})}}return e})(),kO=new hr("IgxExpansionPanelToken"),OO=(()=>{class e{constructor(e){this.element=e,this.getTooltipContent=e=>e.nativeElement.title?e.nativeElement.title:e.nativeElement.textContent?e.nativeElement.textContent.trim():null}static{this.ɵfac=function(t){return new(t||e)(lu(zl))}}static{this.ɵdir=rg({type:e})}}return e})(),FO=["*"],PO=(()=>{class e{constructor(e,t,i){this.panel=e,this.element=t,this.cdr=i,this.cssClass="igx-expansion-panel__body",this.role="region",this._labelledBy="",this._label=""}get label(){return this._label||this.panel.id+"-region"}set label(e){this._label=e}get labelledBy(){return this._labelledBy}set labelledBy(e){this._labelledBy=e}static{this.ɵfac=function(t){return new(t||e)(lu(kO),lu(zl),lu(Cf))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-expansion-panel-body"]],hostVars:5,hostBindings:function(e,t){2&e&&($g("role",t.role)("aria-label",t.label)("aria-labelledby",t.labelledBy),ap("igx-expansion-panel__body",t.cssClass))},inputs:{role:"role",label:"label",labelledBy:"labelledBy"},ngContentSelectors:FO,decls:1,vars:0,template:function(e,t){1&e&&(lm(),dm(0))},encapsulation:2})}}return e})(),VO=(()=>{class e extends OO{constructor(){super(...arguments),this.cssClass="igx-expansion-panel__header-title"}get title(){return this.getTooltipContent(this.element)}static{this.ɵfac=(()=>{let t;return function(i){return(t||(t=ol(e)))(i||e)}})()}static{this.ɵdir=rg({type:e,selectors:[["igx-expansion-panel-title"]],hostVars:3,hostBindings:function(e,t){2&e&&($g("title",t.title),ap("igx-expansion-panel__header-title",t.cssClass))},features:[dg]})}}return e})(),MO=(()=>{class e{static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵdir=rg({type:e,selectors:[["igx-expansion-panel-icon"]]})}}return e})(),LO=[[["igx-expansion-panel-title"]],[["igx-expansion-panel-description"]],"*",[["igx-expansion-panel-icon"]]],NO=["igx-expansion-panel-title","igx-expansion-panel-description","*","igx-expansion-panel-icon"];function HO(e,t){1&e&&dm(0,3)}function zO(e,t){1&e&&Hp(0,"igx-icon",2),2&e&&(rp("name",om().panel.collapsed?"expand":"collapse"),$g("aria-hidden",!0))}var BO="left",GO="none",$O="right",WO=(()=>{class e{get iconRef(){let e=this.customIconRef??this.defaultIconRef;return this.iconPosition!==GO?e:null}set iconTemplate(e){this._iconTemplate=e}get iconTemplate(){return this._iconTemplate}get controls(){return this.panel.id}get innerElement(){return this.elementRef.nativeElement.children[0]}get isExpanded(){return!this.panel.collapsed}get disabled(){return this._disabled}set disabled(e){this._disabled=e,e?delete this.tabIndex:this.tabIndex=0}constructor(e,t,i){this.panel=e,this.cdr=t,this.elementRef=i,this.lv="3",this.role="heading",this.iconPosition=BO,this.interaction=new wl,this.cssClass="igx-expansion-panel__header",this.id="",this.tabIndex=0,this._iconTemplate=!1,this._disabled=!1,this.id=`${this.panel.id}-header`}onAction(e){if(this.disabled)return void e.stopPropagation();let t={event:e,owner:this.panel,cancel:!1};this.interaction.emit(t),!0!==t.cancel&&(this.panel.toggle(e),e.preventDefault())}openPanel(e){if(e.altKey){let t={event:e,owner:this.panel,cancel:!1};if(this.interaction.emit(t),!0===t.cancel)return;this.panel.expand(e)}}closePanel(e){if(e.altKey){let t={event:e,owner:this.panel,cancel:!1};if(this.interaction.emit(t),!0===t.cancel)return;this.panel.collapse(e)}}get iconPositionClass(){switch(this.iconPosition){case BO:return"igx-expansion-panel__header-icon--start";case $O:return"igx-expansion-panel__header-icon--end";case GO:return"igx-expansion-panel__header-icon--none";default:return""}}static{this.ɵfac=function(t){return new(t||e)(lu(kO,1),lu(Cf),lu(zl))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-expansion-panel-header"]],contentQueries:function(e,t,i){if(1&e&&(gm(i,MO,5),gm(i,MO,5,zl)),2&e){let e;mm(e=fm())&&(t.iconTemplate=e.first),mm(e=fm())&&(t.customIconRef=e.first)}},viewQuery:function(e,t){if(1&e&&pm(DA,5,zl),2&e){let e;mm(e=fm())&&(t.defaultIconRef=e.first)}},hostVars:8,hostBindings:function(e,t){1&e&&rm("keydown.Enter",(function(e){return t.onAction(e)}))("keydown.Space",(function(e){return t.onAction(e)}))("keydown.Spacebar",(function(e){return t.onAction(e)}))("click",(function(e){return t.onAction(e)}))("keydown.Alt.ArrowDown",(function(e){return t.openPanel(e)}))("keydown.Alt.ArrowUp",(function(e){return t.closePanel(e)})),2&e&&($g("aria-level",t.lv)("role",t.role),ap("igx-expansion-panel__header",t.cssClass)("igx-expansion-panel__header--expanded",t.isExpanded)("igx-expansion-panel--disabled",t.disabled))},inputs:{lv:"lv",role:"role",iconPosition:"iconPosition",disabled:[2,"disabled","disabled",Hf]},outputs:{interaction:"interaction"},ngContentSelectors:NO,decls:8,vars:9,consts:[["role","button",1,"igx-expansion-panel__header-inner"],[1,"igx-expansion-panel__title-wrapper"],["family","default",3,"name"]],template:function(e,t){1&e&&(lm(LO),Lp(0,"div",0)(1,"div",1),dm(2),dm(3,1),Np(),dm(4,2),Lp(5,"div"),bg(6,HO,1,0)(7,zO,1,2,"igx-icon",2),Np()()),2&e&&($g("tabindex",t.tabIndex)("id",t.id)("aria-disabled",t.disabled)("aria-expanded",t.isExpanded)("aria-controls",t.controls),Hc(5),lp(t.iconPositionClass),Hc(),Ip(t.iconTemplate?6:-1),Hc(),Ip(t.iconTemplate?-1:7))},dependencies:[DA],encapsulation:2})}}return e})(),KO=function(e){return e.OPEN="open",e.CLOSE="close",e}(KO||{}),jO=(()=>{class e{get animationSettings(){return this._animationSettings}set animationSettings(e){this._animationSettings=e}constructor(e){this.animationService=e,this.openAnimationDone=new wl,this.closeAnimationDone=new wl,this.openAnimationStart=new wl,this.closeAnimationStart=new wl,this.openAnimationPlayer=null,this.closeAnimationPlayer=null,this.destroy$=new Ci,this.players=new Map,this._animationSettings={openAnimation:fE,closeAnimation:vE},this.closeInterrupted=!1,this.openInterrupted=!1,this._defaultClosedCallback=ei,this._defaultOpenedCallback=ei,this.onClosedCallback=this._defaultClosedCallback,this.onOpenedCallback=this._defaultOpenedCallback}playOpenAnimation(e,t){this.startPlayer(KO.OPEN,e,t||this._defaultOpenedCallback)}playCloseAnimation(e,t){this.startPlayer(KO.CLOSE,e,t||this._defaultClosedCallback)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}startPlayer(e,t,i){if(!t)return;let n=this.getPlayer(e);n||(n=this.initializePlayer(e,t,i)),n&&!n.hasStarted()&&((e===KO.OPEN?this.openAnimationStart:this.closeAnimationStart).emit(),n&&n.play())}initializePlayer(e,t,i){let n=e===KO.OPEN?KO.CLOSE:KO.OPEN,r=this.animationSettings||{closeAnimation:null,openAnimation:null},s=e===KO.OPEN?r.openAnimation:r.closeAnimation;if(!s)return this.setCallback(e,i),(e===KO.OPEN?this.openAnimationStart:this.closeAnimationStart).emit(),void this.onDoneHandler(e);let o=this.getPlayer(n),a=1;o&&(a=o.position,this.cleanUpPlayer(n)),e===KO.OPEN?this.openAnimationPlayer=this.animationService.buildAnimation(s,t.nativeElement):e===KO.CLOSE&&(this.closeAnimationPlayer=this.animationService.buildAnimation(s,t.nativeElement));let l=this.getPlayer(e);return l.init(),this.getPlayer(e).position=1-a,this.setCallback(e,i),l.animationEnd.pipe(Nn(this.destroy$)).subscribe((()=>{this.onDoneHandler(e)})),l}onDoneHandler(e){let t=e===KO.OPEN?this.openAnimationDone:this.closeAnimationDone;(e===KO.OPEN?this.onOpenedCallback:this.onClosedCallback)(),(e===KO.OPEN?this.openInterrupted:this.closeInterrupted)||t.emit(),this.cleanUpPlayer(e)}setCallback(e,t){e===KO.OPEN?(this.onOpenedCallback=t,this.openInterrupted=!1):e===KO.CLOSE&&(this.onClosedCallback=t,this.closeInterrupted=!1)}cleanUpPlayer(e){switch(e){case KO.CLOSE:null!=this.closeAnimationPlayer&&(this.closeAnimationPlayer.reset(),this.closeAnimationPlayer.destroy(),this.closeAnimationPlayer=null),this.closeInterrupted=!0,this.onClosedCallback=this._defaultClosedCallback;break;case KO.OPEN:null!=this.openAnimationPlayer&&(this.openAnimationPlayer.reset(),this.openAnimationPlayer.destroy(),this.openAnimationPlayer=null),this.openInterrupted=!0,this.onOpenedCallback=this._defaultOpenedCallback}}getPlayer(e){switch(e){case KO.OPEN:return this.openAnimationPlayer;case KO.CLOSE:return this.closeAnimationPlayer;default:return null}}static{this.ɵfac=function(t){return new(t||e)(lu(CI))}}static{this.ɵdir=rg({type:e})}}return e})(),UO=[[["igx-expansion-panel-header"]],[["igx-expansion-panel-body"]]],qO=["igx-expansion-panel-header","igx-expansion-panel-body"];function YO(e,t){1&e&&dm(0,1)}var ZO=0,XO=(()=>{class e extends jO{get animationSettings(){return this._animationSettings}set animationSettings(e){this._animationSettings=e}get panelExpanded(){return!this.collapsed}get headerId(){return this.header?`${this.id}-header`:""}get nativeElement(){return this.elementRef.nativeElement}constructor(e,t,i){super(e),this.cdr=t,this.elementRef=i,this.id="igx-expansion-panel-"+ZO++,this.cssClass="igx-expansion-panel",this.opened=!1,this.collapsed=!0,this.collapsedChange=new wl,this.contentCollapsing=new wl,this.contentCollapsed=new wl,this.contentExpanding=new wl,this.contentExpanded=new wl}ngAfterContentInit(){this.body&&this.header&&Promise.resolve().then((()=>{this.body.labelledBy=this.body.labelledBy||this.headerId,this.body.label=this.body.label||this.id+"-region"}))}collapse(e){if(this.collapsed||this.closeAnimationPlayer)return;let t={event:e,panel:this,owner:this,cancel:!1};this.contentCollapsing.emit(t),!0!==t.cancel&&(this.opened=!1,this.playCloseAnimation(this.body?.element,(()=>{this.contentCollapsed.emit({event:e,owner:this}),this.collapsed=!0,this.collapsedChange.emit(!0),this.cdr.markForCheck()})))}expand(e){if(!this.collapsed&&!this.closeAnimationPlayer)return;let t={event:e,panel:this,owner:this,cancel:!1};this.contentExpanding.emit(t),!0!==t.cancel&&(this.collapsed=!1,this.opened=!0,this.collapsedChange.emit(!1),this.cdr.detectChanges(),this.playOpenAnimation(this.body?.element,(()=>{this.contentExpanded.emit({event:e,owner:this})})))}toggle(e){this.collapsed?this.open(e):this.close(e)}open(e){this.expand(e)}close(e){this.collapse(e)}static{this.ɵfac=function(t){return new(t||e)(lu(CI),lu(Cf),lu(zl))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-expansion-panel"]],contentQueries:function(e,t,i){if(1&e&&(gm(i,PO,5,PO),gm(i,WO,5,WO)),2&e){let e;mm(e=fm())&&(t.body=e.first),mm(e=fm())&&(t.header=e.first)}},hostVars:6,hostBindings:function(e,t){2&e&&($g("id",t.id)("aria-expanded",t.panelExpanded),ap("igx-expansion-panel",t.cssClass)("igx-expansion-panel--expanded",t.opened))},inputs:{animationSettings:"animationSettings",id:"id",collapsed:[2,"collapsed","collapsed",Hf]},outputs:{collapsedChange:"collapsedChange",contentCollapsing:"contentCollapsing",contentCollapsed:"contentCollapsed",contentExpanding:"contentExpanding",contentExpanded:"contentExpanded"},features:[Pm([{provide:kO,useExisting:e}]),dg],ngContentSelectors:qO,decls:2,vars:1,template:function(e,t){1&e&&(lm(UO),dm(0),bg(1,YO,1,0)),2&e&&(Hc(),Ip(t.collapsed?-1:1))},encapsulation:2})}}return e})(),QO=[[["igx-expansion-panel"]]],JO=["igx-expansion-panel"],eF=0,tF=(()=>{class e{get animationSettings(){return this._animationSettings}set animationSettings(e){this._animationSettings=e,this.updatePanelsAnimation()}get singleBranchExpand(){return this._singleBranchExpand}set singleBranchExpand(e){this._singleBranchExpand=e,e&&this.collapseAllExceptLast()}get panels(){return this._panels?.toArray()}constructor(e){this.cdr=e,this.id="igx-accordion-"+eF++,this.cssClass="igx-accordion",this.displayStyle="block",this.panelExpanding=new wl,this.panelExpanded=new wl,this.panelCollapsing=new wl,this.panelCollapsed=new wl,this._destroy$=new Ci,this._unsubChildren$=new Ci,this._singleBranchExpand=!1}ngAfterContentInit(){this.updatePanelsAnimation(),this.singleBranchExpand&&this.collapseAllExceptLast()}ngAfterViewInit(){this._expandedPanels=new Set(this._panels.filter((e=>!e.collapsed))),this._expandingPanels=new Set,this._panels.changes.pipe(Nn(this._destroy$)).subscribe((()=>{this.subToChanges()})),this.subToChanges()}ngOnDestroy(){this._unsubChildren$.next(),this._unsubChildren$.complete(),this._destroy$.next(),this._destroy$.complete()}expandAll(){if(this.singleBranchExpand){for(let e=0;e<this.panels.length-1;e++)this.panels[e].collapse();this._panels.last.expand()}else this.panels.forEach((e=>e.expand()))}collapseAll(){this.panels.forEach((e=>e.collapse()))}collapseAllExceptLast(){let e=this.panels?.filter((e=>!e.collapsed&&!e.header.disabled)).pop();this.panels?.forEach((t=>{t!==e&&!t.header.disabled&&(t.collapsed=!0)})),this.cdr.markForCheck()}handleKeydown(e,t){let i=e.key.toLowerCase();GC.has(i)&&(this._enabledPanels=this._panels.filter((e=>!e.header.disabled)),e.preventDefault(),this.handleNavigation(e,t))}handleNavigation(e,t){switch(e.key.toLowerCase()){case"home":this._enabledPanels[0].header.innerElement.focus();break;case"end":this._enabledPanels[this._enabledPanels.length-1].header.innerElement.focus();break;case"arrowup":case"up":this.handleUpDownArrow(!0,e,t);break;case"arrowdown":case"down":this.handleUpDownArrow(!1,e,t)}}handleUpDownArrow(e,t,i){if(!t.altKey){let t=i,n=this.getNextPanel(t,e?-1:1);if(n===t)return;n.header.innerElement.focus()}if(t.altKey&&t.shiftKey)if(e)this._enabledPanels.forEach((e=>e.collapse()));else{if(this.singleBranchExpand){for(let e=0;e<this._enabledPanels.length-1;e++)this._enabledPanels[e].collapse();return void this._enabledPanels[this._enabledPanels.length-1].expand()}this._enabledPanels.forEach((e=>e.expand()))}}getNextPanel(e,t=1){let i=this._enabledPanels.indexOf(e);return this._enabledPanels[i+t]||e}subToChanges(){this._unsubChildren$.next(),this._panels.forEach((e=>{e.contentExpanded.pipe(Nn(this._unsubChildren$)).subscribe((e=>{this._expandedPanels.add(e.owner),this._expandingPanels.delete(e.owner);let t=Je(Qe({},e),{owner:this,panel:e.owner});this.panelExpanded.emit(t)})),e.contentExpanding.pipe(Nn(this._unsubChildren$)).subscribe((e=>{if(e.cancel)return;let t=Je(Qe({},e),{owner:this,panel:e.owner});this.panelExpanding.emit(t),t.cancel?e.cancel=!0:this.singleBranchExpand&&(this._expandedPanels.forEach((e=>{e.header.disabled||e.collapse()})),this._expandingPanels.forEach((e=>{e.header.disabled||(e.animationSettings.closeAnimation||e.openAnimationPlayer?.reset(),e.animationSettings.openAnimation||e.closeAnimationPlayer?.reset(),e.collapse())})),this._expandingPanels.add(e.owner))})),e.contentCollapsed.pipe(Nn(this._unsubChildren$)).subscribe((e=>{this._expandedPanels.delete(e.owner),this._expandingPanels.delete(e.owner);let t=Je(Qe({},e),{owner:this,panel:e.owner});this.panelCollapsed.emit(t)})),e.contentCollapsing.pipe(Nn(this._unsubChildren$)).subscribe((e=>{let t=Je(Qe({},e),{owner:this,panel:e.owner});this.panelCollapsing.emit(t),t.cancel&&(e.cancel=!0)})),Sn(e.header.innerElement,"keydown").pipe(Nn(this._unsubChildren$)).subscribe((t=>{this.handleKeydown(t,e)}))}))}updatePanelsAnimation(){void 0!==this.animationSettings&&this.panels?.forEach((e=>e.animationSettings=this.animationSettings))}static{this.ɵfac=function(t){return new(t||e)(lu(Cf))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-accordion"]],contentQueries:function(e,t,i){if(1&e&&gm(i,XO,4),2&e){let e;mm(e=fm())&&(t._panels=e)}},hostVars:5,hostBindings:function(e,t){2&e&&($g("id",t.id),op("display",t.displayStyle),ap("igx-accordion",t.cssClass))},inputs:{id:"id",animationSettings:"animationSettings",singleBranchExpand:[2,"singleBranchExpand","singleBranchExpand",Hf]},outputs:{panelExpanding:"panelExpanding",panelExpanded:"panelExpanded",panelCollapsing:"panelCollapsing",panelCollapsed:"panelCollapsed"},ngContentSelectors:JO,decls:1,vars:0,template:function(e,t){1&e&&(lm(QO),dm(0))},encapsulation:2})}}return e})(),iF={igx_action_strip_button_more_title:"More"},nF=(()=>{class e{constructor(){this.selection=new Map}get(e){return this.selection.get(e)}set(e,t){if(!e)throw Error("Invalid value for component id!");this.selection.set(e,t)}clear(e){this.selection.set(e,this.get_empty())}delete(e){this.selection.delete(e)}size(e){let t=this.get(e);return t?t.size:0}add_item(e,t,i){return i||(i=new Set(this.get(e))),void 0===i&&(i=this.get_empty()),i.add(t),i}add_items(e,t,i){let n;return i?n=this.get_empty():t&&0===t.length&&(n=new Set(this.get(e))),t.forEach((t=>n=this.add_item(e,t,n))),n}select_item(e,t,i){this.set(e,this.add_item(e,t,i))}select_items(e,t,i){this.set(e,this.add_items(e,t,i))}delete_item(e,t,i){if(i||(i=new Set(this.get(e))),void 0!==i)return i.delete(t),i}delete_items(e,t){let i;return t.forEach((t=>i=this.delete_item(e,t,i))),i}deselect_item(e,t,i){this.set(e,this.delete_item(e,t,i))}deselect_items(e,t,i){this.set(e,this.delete_items(e,t))}is_item_selected(e,t){let i=this.get(e);return!!i&&i.has(t)}first_item(e){let t=this.get(e);if(t&&t.size>0)return t.values().next().value}are_all_selected(e,t){return t>0&&t===this.size(e)}are_none_selected(e){return 0===this.size(e)}get_all_ids(e,t){return null!=t?e.map((e=>e[t])):e}get_empty(){return new Set}static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵprov=ir({token:e,factory:e.ɵfac,providedIn:"root"})}}return e})(),rF=[[["igx-drop-down-item"]]],sF=["igx-drop-down-item"],oF=0,aF=(()=>{class e{constructor(){this.role="group",this.groupClass=!0,this.disabled=!1,this._id=oF++}get labelId(){return`igx-item-group-label-${this._id}`}get labelledBy(){return this.labelId}static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-drop-down-item-group"]],hostVars:7,hostBindings:function(e,t){2&e&&($g("aria-labelledby",t.labelledBy)("role",t.role)("aria-disabled",t.disabled),ap("igx-drop-down__group",t.groupClass)("igx-drop-down__group--disabled",t.disabled))},inputs:{disabled:[2,"disabled","disabled",Hf],label:"label"},ngContentSelectors:sF,decls:3,vars:2,consts:[[3,"id"]],template:function(e,t){1&e&&(lm(rF),Lp(0,"label",0),ym(1),Np(),dm(2)),2&e&&(cm("id",t.labelId),Hc(),_m(t.label))},encapsulation:2})}}return e})(),lF=0,dF=(()=>{class e{get ariaLabel(){return this._label?this._label:this.value?this.value:this.id}set ariaLabel(e){this._label=e}get itemID(){return this}get index(){return null===this._index?this.itemIndex:this._index}set index(e){this._index=e}get itemStyle(){return!this.isHeader}get selected(){return this._selected}set selected(e){this.isHeader||(this._selected=e,this.selectedChange.emit(this._selected))}get focused(){return this.isSelectable&&this._focused}set focused(e){this._focused=e}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=e}get itemIndex(){return this.dropDown.items.indexOf(this)}get elementHeight(){return this.elementRef.nativeElement.clientHeight}get element(){return this.elementRef}get hasIndex(){return null!==this._index&&void 0!==this._index}constructor(e,t,i,n){this.dropDown=e,this.elementRef=t,this.group=i,this.selection=n,this.id="igx-drop-down-item-"+lF++,this.selectedChange=new wl,this.role="option",this._focused=!1,this._selected=!1,this._index=null,this._disabled=!1,this._label=null}clicked(e){}handleMousedown(e){this.dropDown.allowItemsFocus||e.preventDefault()}ngDoCheck(){if(this._selected){let e=this.dropDown.selectedItem;e?(this.hasIndex?this._index!==e.index||this.value!==e.value:this!==e)&&this.dropDown.selectItem(this,void 0,!1):this.dropDown.selectItem(this,void 0,!1)}}get isSelectable(){return!(this.disabled||this.isHeader)}ensureItemFocus(){if(this.dropDown.allowItemsFocus){let e=this.dropDown.items.find((e=>e.focused));if(!e)return;e.element.nativeElement.focus({preventScroll:!0})}}static{this.ɵfac=function(t){return new(t||e)(lu(JI),lu(zl),lu(aF,8),lu(nF,8))}}static{this.ɵdir=rg({type:e,selectors:[["","igxDropDownItemBase",""]],hostVars:15,hostBindings:function(e,t){1&e&&rm("click",(function(e){return t.clicked(e)}))("mousedown",(function(e){return t.handleMousedown(e)})),2&e&&($g("id",t.id)("aria-label",t.ariaLabel)("aria-selected",t.selected)("aria-disabled",t.disabled)("role",t.role),ap("igx-drop-down__item",t.itemStyle)("igx-drop-down__item--selected",t.selected)("igx-drop-down__item--focused",t.focused)("igx-drop-down__header",t.isHeader)("igx-drop-down__item--disabled",t.disabled))},inputs:{id:"id",ariaLabel:"ariaLabel",index:"index",value:"value",selected:[2,"selected","selected",Hf],isHeader:[2,"isHeader","isHeader",Hf],disabled:[2,"disabled","disabled",Hf],role:"role"},outputs:{selectedChange:"selectedChange"}})}}return e})(),cF=[[["igx-prefix"],["","igxPrefix",""]],"*",[["igx-suffix"],["","igxSuffix",""]],[["igx-divider"]]],hF=["igx-prefix, [igxPrefix]","*","igx-suffix, [igxSuffix]","igx-divider"],uF=(()=>{class e extends dF{get focused(){let e=this._focused;if(this.hasIndex){let t=this.selection.first_item(`${this.dropDown.id}-active`),i=t?t.index:-1;e=this._index===i}return this.isSelectable&&e}set focused(e){this._focused=e}get selected(){if(this.hasIndex){let e=this.selection.first_item(`${this.dropDown.id}`);return!!e&&e.index===this._index&&e.value===this.value}return this._selected}set selected(e){this.isHeader||(this._selected=e,this.selectedChange.emit(this._selected))}get setTabIndex(){return this.dropDown.allowItemsFocus&&this.isSelectable?0:null}clicked(e){this.isSelectable?this.selection&&this.dropDown.selectItem(this,e):this.ensureItemFocus()}static{this.ɵfac=(()=>{let t;return function(i){return(t||(t=ol(e)))(i||e)}})()}static{this.ɵcmp=Qu({type:e,selectors:[["igx-drop-down-item"]],hostVars:1,hostBindings:function(e,t){2&e&&$g("tabindex",t.setTabIndex)},features:[dg],ngContentSelectors:hF,decls:6,vars:0,consts:[[1,"igx-drop-down__content"],[1,"igx-drop-down__inner"]],template:function(e,t){1&e&&(lm(cF),Lp(0,"span",0),dm(1),Lp(2,"span",1),dm(3,1),Np(),dm(4,2),dm(5,3),Np())},encapsulation:2})}}return e})(),gF=0,pF=(()=>{class e{get id(){return this._id}set id(e){this._id=e}get items(){let e=[];if(void 0!==this.children)for(let t of this.children.toArray())t.isHeader||e.push(t);return e}get headers(){let e=[];if(void 0!==this.children)for(let t of this.children.toArray())t.isHeader&&e.push(t);return e}get element(){return this.elementRef.nativeElement}get scrollContainer(){return this.element}constructor(e,t,i){this.elementRef=e,this.cdr=t,this.document=i,this.selectionChanging=new wl,this.maxHeight=null,this.cssClass=!0,this._focusedItem=null,this._id="igx-drop-down-"+gF++}ngOnInit(){this.computedStyles=this.document.defaultView.getComputedStyle(this.elementRef.nativeElement)}onItemActionKey(e,t){switch(e){case XI:case QI:this.selectItem(this.focusedItem,t)}}selectItem(e,t,i=!0){this.selectionChanging.emit({newSelection:e,oldSelection:null,cancel:!1})}get focusedItem(){return this._focusedItem}set focusedItem(e){this._focusedItem=e}navigateItem(e){if(-1!==e){let t=this._focusedItem,i=this.items[e];t&&(t.focused=!1),this.focusedItem=i,this.scrollToHiddenItem(i),this.focusedItem.focused=!0}}navigateFirst(){this.navigate(YI.Down,-1)}navigateLast(){this.navigate(YI.Up,this.items.length)}navigateNext(){this.navigate(YI.Down)}navigatePrev(){this.navigate(YI.Up)}scrollToHiddenItem(e){let t=e.element.nativeElement.getBoundingClientRect(),i=this.scrollContainer.getBoundingClientRect();i.top>t.top&&(this.scrollContainer.scrollTop-=i.top-t.top),i.bottom<t.bottom&&(this.scrollContainer.scrollTop+=t.bottom-i.bottom)}navigate(e,t){let i=-1;this._focusedItem&&(i=t||this.focusedItem.itemIndex);let n=this.getNearestSiblingFocusableItemIndex(i,e);this.navigateItem(n)}getNearestSiblingFocusableItemIndex(e,t){let i=e,n=this.items;for(;n[i+t]&&n[i+t].disabled;)i+=t;return i+=t,i>=0&&i<n.length?i:-1}static{this.ɵfac=function(t){return new(t||e)(lu(zl),lu(Cf),lu(Kf))}}static{this.ɵdir=rg({type:e,hostVars:5,hostBindings:function(e,t){2&e&&($g("id",t.id),op("max-height",t.maxHeight),ap("igx-drop-down",t.cssClass))},inputs:{width:"width",height:"height",id:"id",maxHeight:"maxHeight"},outputs:{selectionChanging:"selectionChanging"}})}}return e})(),mF=["scrollContainer"],fF=["*"];function vF(e,t){1&e&&dm(0)}var yF=(()=>{class e extends pF{get focusedItem(){return this.virtDir?this._focusedItem&&-1!==this._focusedItem.index&&this.children.find((e=>e.index===this._focusedItem.index))||null:this._focusedItem}set focusedItem(e){if(!e)return this.selection.clear(`${this.id}-active`),void(this._focusedItem=null);this._focusedItem=e,this.virtDir&&(this._focusedItem={value:e.value,index:e.index}),this.selection.set(`${this.id}-active`,new Set([this._focusedItem]))}get id(){return this._id}set id(e){this.selection.set(e,this.selection.get(this.id)),this.selection.clear(this.id),this.selection.set(e,this.selection.get(`${this.id}-active`)),this.selection.clear(`${this.id}-active`),this._id=e}get listId(){return this.id+"-list"}get selectedItem(){return this.selection.first_item(this.id)||null}get collapsed(){return this.toggleDirective.collapsed}get scrollContainer(){return this.scrollContainerRef.nativeElement}get collectionLength(){if(this.virtDir)return this.virtDir.totalItemCount||this.virtDir.igxForOf.length}constructor(e,t,i,n){super(e,t,i),this.selection=n,this.opening=new wl,this.opened=new wl,this.closing=new wl,this.closed=new wl,this.allowItemsFocus=!1,this.destroy$=new Ci}open(e){let t=Qe(Qe({},this.getDefaultOverlaySettings()),e);this.toggleDirective.open(t),this.updateScrollPosition()}getDefaultOverlaySettings(){return{closeOnOutsideClick:!0,modal:!1,positionStrategy:new kI}}close(e){this.toggleDirective.close(e)}toggle(e){this.collapsed||this.toggleDirective.isClosing?this.open(e):this.close()}setSelectedItem(e){if(e<0||e>=this.items.length)return;let t;t=this.virtDir?{value:this.virtDir.igxForOf[e],index:e}:this.items[e],this.selectItem(t)}navigateItem(e){if(this.virtDir){if(-1===e||e>=this.collectionLength)return;let t=e>(this.focusedItem?this.focusedItem.index:-1)?YI.Down:YI.Up,i=this.isIndexOutOfBounds(e,t);this.focusedItem={value:this.virtDir.igxForOf[e],index:e},i&&this.virtDir.scrollTo(e),i?this.virtDir.chunkLoad.pipe(On(1)).subscribe((()=>{this.skipHeader(t)})):this.skipHeader(t)}else super.navigateItem(e);this.allowItemsFocus&&this.focusedItem&&(this.focusedItem.element.nativeElement.focus(),this.cdr.markForCheck())}updateScrollPosition(){if(!this.virtDir)return;if(!this.selectedItem)return void this.virtDir.scrollTo(0);let e=this.virtDir.getScrollForIndex(this.selectedItem.index);e-=(this.virtDir.igxForContainerSize/this.virtDir.igxForItemSize/2-1)*this.virtDir.igxForItemSize,this.virtDir.getScroll().scrollTop=e}onToggleOpening(e){let t={owner:this,event:e.event,cancel:!1};this.opening.emit(t),e.cancel=t.cancel,!e.cancel&&this.virtDir&&(this.virtDir.scrollPosition=this._scrollPosition)}onToggleContentAppended(e){!this.virtDir&&this.selectedItem&&this.scrollToItem(this.selectedItem)}onToggleOpened(){this.updateItemFocus(),this.opened.emit({owner:this})}onToggleClosing(e){let t={owner:this,event:e.event,cancel:!1};this.closing.emit(t),e.cancel=t.cancel,!e.cancel&&this.virtDir&&(this._scrollPosition=this.virtDir.scrollPosition)}onToggleClosed(){this.focusItem(!1),this.closed.emit({owner:this})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete(),this.selection.delete(this.id),this.selection.delete(`${this.id}-active`)}calculateScrollPosition(e){if(!e)return 0;let t=e.element.nativeElement.getBoundingClientRect(),i=this.scrollContainer.getBoundingClientRect().top-t.top,n=this.scrollContainer.scrollTop-i;return n-=this.scrollContainer.clientHeight/2,n+=e.elementHeight/2,Math.floor(n)}ngOnChanges(e){e.id&&(this.toggleDirective.id=e.id.currentValue)}ngAfterViewInit(){this.virtDir&&(this.virtDir.igxForItemSize=28)}onItemActionKey(e,t){super.onItemActionKey(e,t),this.close(t)}navigateFirst(){this.virtDir?this.navigateItem(0):super.navigateFirst()}navigateLast(){this.virtDir?this.navigateItem(this.virtDir.totalItemCount?this.virtDir.totalItemCount-1:this.virtDir.igxForOf.length-1):super.navigateLast()}navigateNext(){this.virtDir?this.navigateItem(this._focusedItem?this._focusedItem.index+1:0):super.navigateNext()}navigatePrev(){this.virtDir?this.navigateItem(this._focusedItem?this._focusedItem.index-1:0):super.navigatePrev()}selectItem(e,t,i=!0){let n=this.selectedItem;if(e||(e=this.focusedItem),null===e||e instanceof dF&&e.isHeader)return;this.virtDir&&(e={value:e.value,index:e.index});let r={oldSelection:n,newSelection:e,cancel:!1,owner:this};if(i&&this.selectionChanging.emit(r),!r.cancel){if(!this.isSelectionValid(r.newSelection))throw new Error("Please provide a valid drop-down item for the selection!");this.selection.set(this.id,new Set([r.newSelection])),this.virtDir||(n&&(n.selected=!1),r.newSelection&&(r.newSelection.selected=!0)),t&&this.toggleDirective.close(t)}}clearSelection(){let e={oldSelection:this.selectedItem,newSelection:null,cancel:!1,owner:this};this.selectionChanging.emit(e),this.selectedItem&&!e.cancel&&(this.selectedItem.selected=!1,this.selection.clear(this.id))}isSelectionValid(e){return null===e||this.virtDir&&e.hasOwnProperty("value")&&e.hasOwnProperty("index")||e instanceof uF&&!e.isHeader}scrollToItem(e){this.scrollContainer.scrollTop=this.calculateScrollPosition(e)}focusItem(e){(e||this._focusedItem)&&(this._focusedItem.focused=e)}updateItemFocus(){this.selectedItem?(this.focusedItem=this.selectedItem,this.focusItem(!0)):this.allowItemsFocus&&this.navigateFirst()}skipHeader(e){this.focusedItem&&(this.focusedItem.isHeader||this.focusedItem.disabled)&&(e===YI.Up?this.navigatePrev():this.navigateNext())}isIndexOutOfBounds(e,t){let i=this.virtDir.state,n=this.virtDir.getScroll().scrollTop,r=this.virtDir.getScrollForIndex(e,t===YI.Down),s=e<i.startIndex||e>i.chunkSize+i.startIndex,o=t===YI.Down?n<r:n>r;return s||o}static{this.ɵfac=function(t){return new(t||e)(lu(zl),lu(Cf),lu(Kf),lu(nF))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-drop-down"]],contentQueries:function(e,t,i){if(1&e&&(gm(i,Jk,5),gm(i,uF,5)),2&e){let e;mm(e=fm())&&(t.virtDir=e.first),mm(e=fm())&&(t.children=e)}},viewQuery:function(e,t){if(1&e&&(pm(SO,7),pm(mF,7)),2&e){let e;mm(e=fm())&&(t.toggleDirective=e.first),mm(e=fm())&&(t.scrollContainerRef=e.first)}},inputs:{allowItemsFocus:[2,"allowItemsFocus","allowItemsFocus",Hf],labelledBy:"labelledBy"},outputs:{opening:"opening",opened:"opened",closing:"closing",closed:"closed"},features:[Pm([{provide:JI,useExisting:e}]),dg,po],ngContentSelectors:fF,decls:4,vars:9,consts:[["scrollContainer",""],["igxToggle","",1,"igx-drop-down__list",3,"appended","opening","opened","closing","closed"],["role","listbox",1,"igx-drop-down__list-scroll"]],template:function(e,t){if(1&e){let e=Kp();lm(),Lp(0,"div",1),rm("appended",(function(i){return Ko(e),jo(t.onToggleContentAppended(i))}))("opening",(function(i){return Ko(e),jo(t.onToggleOpening(i))}))("opened",(function(){return Ko(e),jo(t.onToggleOpened())}))("closing",(function(i){return Ko(e),jo(t.onToggleClosing(i))}))("closed",(function(){return Ko(e),jo(t.onToggleClosed())})),Lp(1,"div",2,0),bg(3,vF,1,0),Np()()}2&e&&(op("width",t.width),Hc(),op("height",t.height)("max-height",t.maxHeight),$g("id",t.listId)("aria-labelledby",t.labelledBy),Hc(2),Ip(t.collapsed?-1:3))},dependencies:[SO],encapsulation:2})}}return e})(),xF=["container"],_F=["menuItemTemplate"];function wF(e,t){if(1&e&&(Lp(0,"igx-icon",4),ym(1),Np()),2&e){let e=om(2);rp("family",e.iconSet)("name",e.iconName),Hc(),_m(e.iconName)}}function CF(e,t){if(1&e&&(Lp(0,"igx-icon"),ym(1),Np()),2&e){let e=om(2);Hc(),_m(e.iconName)}}function SF(e,t){if(1&e){let e=Kp();Lp(0,"button",3),rm("click",(function(t){return Ko(e),jo(om().handleClick(t))}))("mousedown",(function(t){return Ko(e),jo(om().preventEvent(t))})),bg(1,wF,2,3,"igx-icon",4)(2,CF,2,1,"igx-icon"),Np()}if(2&e){let e=om();rp("title",e.labelText),Hc(),Ip(e.iconSet?1:-1),Hc(),Ip(e.iconSet?-1:2)}}function bF(e,t){if(1&e&&(Lp(0,"igx-icon",4),ym(1),Np()),2&e){let e=om(3);rp("family",e.iconSet)("name",e.iconName),Hc(),_m(e.iconName)}}function DF(e,t){if(1&e&&(Lp(0,"igx-icon"),ym(1),Np()),2&e){let e=om(3);Hc(),_m(e.iconName)}}function EF(e,t){if(1&e&&(Lp(0,"div",5,1),bg(2,bF,2,3,"igx-icon",4)(3,DF,2,1,"igx-icon"),Lp(4,"label",6),ym(5),Np()()),2&e){let e=om(2);rp("className",e.containerClass),Hc(2),Ip(e.iconSet?2:-1),Hc(),Ip(e.iconSet?-1:3),Hc(2),_m(e.labelText)}}function TF(e,t){1&e&&bg(0,EF,6,4,"div",5),2&e&&Ip(om().asMenuItem?0:-1)}var IF=(()=>{class e{constructor(){this.actionClick=new wl,this.asMenuItem=!1}get containerClass(){return"igx-action-strip__menu-button "+(this.classNames||"")}handleClick(e){this.actionClick.emit(e)}preventEvent(e){e&&(e.stopPropagation(),e.preventDefault())}static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-grid-action-button"]],viewQuery:function(e,t){if(1&e&&(pm(xF,5),pm(_F,5)),2&e){let e;mm(e=fm())&&(t.container=e.first),mm(e=fm())&&(t.templateRef=e.first)}},inputs:{asMenuItem:[2,"asMenuItem","asMenuItem",Hf],iconName:"iconName",classNames:"classNames",iconSet:"iconSet",labelText:"labelText"},outputs:{actionClick:"actionClick"},decls:3,vars:1,consts:[["menuItemTemplate",""],["container",""],["type","button","igxIconButton","flat","igxRipple","",3,"title"],["type","button","igxIconButton","flat","igxRipple","",3,"click","mousedown","title"],[3,"family","name"],[3,"className"],["igxLabel",""]],template:function(e,t){1&e&&bg(0,SF,3,3,"button",2)(1,TF,1,1,"ng-template",null,0,sf),2&e&&Ip(t.asMenuItem?-1:0)},dependencies:[hO,DA,rO],encapsulation:2})}}return e})(),RF=["*"];function AF(e,t){1&e&&(ya(),Lp(0,"svg",6),Hp(1,"rect",9)(2,"path",10),Np())}function kF(e,t){1&e&&(ya(),Lp(0,"svg",6),Hp(1,"path",11),Np())}var OF=(()=>{class e extends yO{constructor(){super(...arguments),this.cssClass="igx-checkbox",this.focused=!1,this.indeterminate=!1,this.disabled=!1,this.invalid=!1,this.readonly=!1,this.disableTransitions=!1}get material(){return"material"===this.theme}get indigo(){return"indigo"===this.theme}get bootstrap(){return"bootstrap"===this.theme}get fluent(){return"fluent"===this.theme}set checked(e){super.checked=e}get checked(){return super.checked}static{this.ɵfac=(()=>{let t;return function(i){return(t||(t=ol(e)))(i||e)}})()}static{this.ɵcmp=Qu({type:e,selectors:[["igx-checkbox"]],hostVars:22,hostBindings:function(e,t){2&e&&ap("igx-checkbox",t.cssClass)("igx-checkbox--material",t.material)("igx-checkbox--indigo",t.indigo)("igx-checkbox--bootstrap",t.bootstrap)("igx-checkbox--fluent",t.fluent)("igx-checkbox--focused",t.focused)("igx-checkbox--indeterminate",t.indeterminate)("igx-checkbox--checked",t.checked)("igx-checkbox--disabled",t.disabled)("igx-checkbox--invalid",t.invalid)("igx-checkbox--plain",t.disableTransitions)},inputs:{indeterminate:[2,"indeterminate","indeterminate",Hf],checked:[2,"checked","checked",Hf],disabled:[2,"disabled","disabled",Hf],invalid:[2,"invalid","invalid",Hf],readonly:[2,"readonly","readonly",Hf],disableTransitions:[2,"disableTransitions","disableTransitions",Hf]},features:[Pm([{provide:Nk,useExisting:e,multi:!0}]),dg],ngContentSelectors:RF,decls:11,vars:20,consts:[["checkbox",""],["label",""],["placeholderLabel",""],["type","checkbox",1,"igx-checkbox__input",3,"change","blur","id","name","value","tabindex","disabled","indeterminate","checked","required"],["igxRipple","","igxRippleTarget",".igx-checkbox__ripple",1,"igx-checkbox__composite-wrapper",3,"igxRippleDisabled","igxRippleCentered","igxRippleDuration"],[1,"igx-checkbox__composite"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24",1,"igx-checkbox__composite-mark"],[1,"igx-checkbox__ripple"],[3,"id"],["width","18","height","4","x","2","y","9","rx","1.85"],["d","M19.033 5a1.966 1.966 0 0 0-1.418.586l-8.479 8.577-2.753-2.77a1.971 1.971 0 0 0-2.8 0 1.998 1.998 0 0 0 0 2.822l4.155 4.196a1.955 1.955 0 0 0 2.8 0l9.879-9.99a1.998 1.998 0 0 0 0-2.821 1.966 1.966 0 0 0-1.384-.6Z"],["d","M4.1,12.7 9,17.6 20.3,6.3"]],template:function(e,t){if(1&e){let e=Kp();lm(),Lp(0,"input",3,0),rm("change",(function(i){return Ko(e),jo(t._onCheckboxChange(i))}))("blur",(function(){return Ko(e),jo(t.onBlur())})),Np(),Lp(2,"div",4)(3,"span",5,1),bg(5,AF,3,0,":svg:svg",6)(6,kF,2,0,":svg:svg",6),Np(),Hp(7,"div",7),Np(),Lp(8,"span",8,2),dm(10),Np()}2&e&&(rp("id",t.inputId)("name",t.name)("value",t.value)("tabindex",t.tabindex)("disabled",t.disabled)("indeterminate",t.indeterminate)("checked",t.checked)("required",t.required),$g("aria-required",t.required)("aria-invalid",t.invalid)("aria-checked",t.ariaChecked)("aria-labelledby",t.ariaLabel?null:t.ariaLabelledBy)("aria-label",t.ariaLabel),Hc(2),rp("igxRippleDisabled",t.disableRipple)("igxRippleCentered",!0)("igxRippleDuration",300),Hc(3),Ip("indigo"===t.theme?5:6),Hc(3),lp(t.labelClass),rp("id",t.labelId))},dependencies:[hO],encapsulation:2})}}return e})(),FF=class{constructor(e,t,i,n){this.id=e,this.index=t,this.data=i,this.grid=n,this.rowFormGroup=new dx({}),this.rowFormGroup=this.grid.validation.create(e,i)}createRowEditEventArgs(e=!0,t){let i={primaryKey:this.id,rowID:this.id,rowKey:this.id,rowData:this.data,oldValue:this.data,cancel:!1,owner:this.grid,isAddRow:!1,valid:this.rowFormGroup.valid,event:t};return e&&(i.newValue=this.newData??this.data),i}createRowDataEventArgs(e){return{rowID:this.id,primaryKey:this.id,rowKey:this.id,rowData:this.newData??this.data,data:this.newData??this.data,oldValue:this.data,cancel:!1,owner:this.grid,isAddRow:!0,valid:this.rowFormGroup.valid,event:e}}createRowEditDoneEventArgs(e,t){let i=this.grid.transactions.enabled?this.grid.transactions.getAggregatedValue(this.id,!0):this.grid.gridAPI.getRowData(this.id),n=i??this.grid.gridAPI.getRowData(this.id);return{primaryKey:this.id,rowID:this.id,rowKey:this.id,rowData:n,oldValue:e,newValue:i,owner:this.grid,isAddRow:!1,valid:!0,event:t}}get isAddRow(){return!1}},PF=class extends FF{constructor(e,t,i,n,r){super(e,t,i,r),this.recordRef=n}createRowEditEventArgs(e=!0,t){let i=super.createRowEditEventArgs(e,t);return i.oldValue=null,i.isAddRow=!0,i.rowData=this.newData??this.data,i}createRowEditDoneEventArgs(e,t){let i=super.createRowEditDoneEventArgs(null,t);return i.isAddRow=!0,i}get isAddRow(){return!0}},VF=class{constructor(e,t,i,n,r,s,o){this.id=e,this.rowIndex=t,this.column=i,this.value=n,this._editValue=r,this.rowData=s,this.grid=o,this.grid.validation.create(e.rowID,s)}get editValue(){let e=this.grid.validation.getFormControl(this.id.rowID,this.column.field);if(e)return e.value}set editValue(e){let t=this.grid.validation.getFormControl(this.id.rowID,this.column.field);"change"===this.grid.validationTrigger?(t.setValue(e),t.markAsTouched()):this.pendingValue=e}castToNumber(e){if("number"===this.column.dataType&&!this.column.inlineEditorTemplate){let t=parseFloat(e);return!isNaN(t)&&isFinite(t)?t:0}return e}createCellEditEventArgs(e=!0,t){let i=this.grid.validation.getFormControl(this.id.rowID,this.column.field),n={primaryKey:this.id.rowID,rowID:this.id.rowID,rowKey:this.id.rowID,cellID:this.id,rowData:this.rowData,oldValue:this.value,cancel:!1,column:this.column,owner:this.grid,valid:!i||i.valid,event:t};return e&&(n.newValue=this.castToNumber(this.editValue)),n}createCellEditDoneEventArgs(e,t){let i=this.grid.transactions.enabled?this.grid.transactions.getAggregatedValue(this.id.rowID,!0):this.rowData,n=null===i?this.grid.gridAPI.getRowData(this.id.rowID):i,r=this.grid.validation.getFormControl(this.id.rowID,this.column.field);return{primaryKey:this.id.rowID,rowID:this.id.rowID,rowKey:this.id.rowID,cellID:this.id,rowData:n,oldValue:this.value,valid:!r||r.valid,newValue:e,column:this.column,owner:this.grid,event:t}}},MF=class{constructor(){this.cell=null,this.row=null,this.isInCompositionMode=!1}createCell(e){return this.cell=new VF(e.cellID||e.id,e.row.index,e.column,e.value,e.value,e.row.data,e.grid)}createRow(e){return this.row=new FF(e.id.rowID,e.rowIndex,e.rowData,e.grid)}sameRow(e){return this.row&&this.row.id===e}sameCell(e){return this.cell.id.rowID===e.id.rowID&&this.cell.id.columnID===e.id.columnID}get cellInEditMode(){return!!this.cell}beginCellEdit(e){let t=this.cell.createCellEditEventArgs(!1,e);this.grid.cellEditEnter.emit(t),t.cancel&&this.endCellEdit()}cellEdit(e){let t=this.cell.createCellEditEventArgs(!0,e);return this.grid.cellEdit.emit(t),t}updateCell(e,t){if(!this.cell)return;let i,n=this.grid.gridAPI.get_cell_by_index(this.cell.id.rowIndex,this.cell.column.field)?.nativeElement;if(n){let e=n.getRootNode();n.contains(e.activeElement)&&(i=e.activeElement,this.grid.tbody.nativeElement.focus())}let r,s=this.grid.validation.getFormControl(this.cell.id.rowID,this.cell.column.field);if("blur"===this.grid.validationTrigger&&void 0!==this.cell.pendingValue&&(s.setValue(this.cell.pendingValue),s.markAsTouched()),"blur"===this.grid.validationTrigger&&this.grid.tbody.nativeElement.focus({preventScroll:!0}),"date"===this.cell.column.dataType&&!MC(this.cell.value)&&LC(OS.parseIsoDate(this.cell.value),this.cell.editValue))return r=this.exitCellEdit(t),r;if(LC(this.cell.value,this.cell.editValue))return r=this.exitCellEdit(t),r;let o=this.cellEdit(t);return o.cancel?(i?.focus(),o):(this.grid.gridAPI.update_cell(this.cell),r=this.cellEditDone(t,!1),e&&(r=this.exitCellEdit(t)),Qe(Qe({},o),r))}cellEditDone(e,t){let i=this.cell.castToNumber(this.cell.editValue),n=this.cell.createCellEditDoneEventArgs(i,e);return this.grid.cellEditDone.emit(n),t&&(n.rowData=this.row.data),n}exitCellEdit(e){if(!this.cell)return;let t=this.cell.castToNumber(this.cell.editValue),i=this.cell?.createCellEditDoneEventArgs(t,e);return this.cell.value=t,this.grid.cellEditExit.emit(i),this.endCellEdit(),i}endCellEdit(){this.cell=null}targetInEdit(e,t){return!!this.cell&&this.cell.column.index===t&&this.cell.rowIndex===e}},LF=class extends MF{constructor(){super(...arguments),this.closeRowEditingOverlay=new Ci,this._rowEditingBlocked=!1,this._rowEditingStarted=!1}get primaryKey(){return this.grid.primaryKey}get rowInEditMode(){let e=this.row;return null!==e?this.grid.rowList.find((t=>t.key===e.id)):null}get rowEditing(){return this.grid.rowEditable}get nonEditable(){return this.grid.rowEditable&&(void 0===this.grid.primaryKey||null===this.grid.primaryKey)}get rowEditingBlocked(){return this._rowEditingBlocked}set rowEditingBlocked(e){this._rowEditingBlocked=e}beginRowEdit(e){if(!this.row||this.row.isAddRow){if(this.row||this.createRow(this.cell),!this._rowEditingStarted){let t=this.row.createRowEditEventArgs(!1,e);if(this.grid.rowEditEnter.emit(t),t.cancel)return this.endEditMode(),!0;this._rowEditingStarted=!0}this.row.transactionState=this.grid.transactions.getAggregatedValue(this.row.id,!0),this.grid.transactions.startPending(),this.grid.openRowOverlay(this.row.id)}}rowEdit(e){let t=this.row.createRowEditEventArgs(!0,e);return this.grid.rowEdit.emit(t),t}updateRow(e,t){if(!this.grid.rowEditable||this.grid.rowEditingOverlay&&this.grid.rowEditingOverlay.collapsed||!this.row)return{};let i;return e&&(this.row.newData=this.grid.transactions.getAggregatedValue(this.row.id,!0),this.updateRowEditData(this.row,this.row.newData),i=this.rowEdit(t),i.cancel)||(i=this.endRowTransaction(e,t)),i}endRowTransaction(e,t){this.row.newData=this.grid.transactions.getAggregatedValue(this.row.id,!0);let i,n=this.row.createRowEditEventArgs(!0,t);if(e)if(this.row.isAddRow){let e=this.row.createRowDataEventArgs(t);if(this.grid.rowAdd.emit(e),e.cancel)return e;this.grid.transactions.endPending(!1);let n=this.getParentRowId();this.grid.gridAPI.addRowToData(this.row.newData??this.row.data,n),this.grid.triggerPipes(),i=this.rowEditDone(null,t)}else n=this.grid.gridAPI.update_row(this.row,this.row.newData,t),i=this.rowEditDone(n.oldValue,t);else{this.grid.transactions.endPending(!1);let e=this.row&&this.row.isAddRow,t=this.row?this.row.id:this.cell.id.rowID;e?this.grid.validation.clear(t):this.grid.validation.update(t,n.oldValue)}return i=this.exitRowEdit(n.oldValue,t),Qe(Qe({},i),n)}rowEditDone(e,t){let i=this.row.createRowEditDoneEventArgs(e,t);return this.grid.rowEditDone.emit(i),i}exitRowEdit(e,t){let i=this.row.createRowEditDoneEventArgs(e,t);return this.grid.rowEditExit.emit(i),this.grid.closeRowEditingOverlay(),this.endRowEdit(),i}endRowEdit(){this.row=null,this.rowEditingBlocked=!1,this._rowEditingStarted=!1}endEditMode(){this.endCellEdit(),this.grid.rowEditable&&(this.endRowEdit(),this.grid.closeRowEditingOverlay())}updateRowEditData(e,t){let i=this.grid,n=i.gridAPI.crudService.row;if(e.newData=t??n.transactionState,n&&e.id===n.id)e.data=Object.assign(kC(e.data),e.data,n.transactionState);else if(this.grid.transactions.enabled){let t=i.transactions.getState(e.id);e.data=t?Object.assign({},e.data,t.value):e.data}}getParentRowId(){return null}},NF=class extends LF{constructor(){super(...arguments),this.addRowParent=null}createAddRow(e,t){this.createAddRowParent(e,t);let i=this.grid.getEmptyRecordObjectFor(e),n=this.addRowParent.index+1;return this.row=new PF(i.rowID,n,i.data,i.recordRef,this.grid)}createAddRowParent(e,t){let i=e?e.index:-1,n=e?e.key:i>=0?this.grid.rowList.last.key:null,r=this.grid.isRecordPinnedByViewIndex(i),s=this.grid.pinnedRecords.findIndex((e=>e[this.primaryKey]===n)),o=this.grid.getUnpinnedIndexById(n);this.addRowParent={rowID:n,rowKey:n,index:r?s:o,asChild:t,isPinned:r}}endRowTransaction(e,t){let i=this.row&&this.row.isAddRow;i&&this.grid.rowAdded.pipe(Vn()).subscribe((e=>{let t=e.data,i=this.grid.pinnedRecords.findIndex((e=>e[this.primaryKey]===t[this.primaryKey])),n=-1!==i?i:this._findRecordIndexInView(t),r=this.grid.filteredSortedData.findIndex((e=>e[this.primaryKey]===t[this.primaryKey])),s=-1===n||this.grid.navigation.shouldPerformVerticalScroll(n,0)?r:-1;this.grid.showSnackbarFor(s)}));let n=super.endRowTransaction(e,t);if(n.cancel)return n;if(i&&(this.endAddRow(),e)){let e={data:n.rowData,rowData:n.rowData,owner:this.grid,primaryKey:n.rowData[this.grid.primaryKey],rowKey:n.rowData[this.grid.primaryKey]};this.grid.rowAddedNotifier.next(e),this.grid.rowAdded.emit(e)}return n}endAddRow(){this.addRowParent=null,this.grid.triggerPipes()}_findRecordIndexInView(e){return this.grid.dataView.findIndex((t=>t[this.primaryKey]===e[this.primaryKey]))}getParentRowId(){return this.addRowParent.asChild?this.addRowParent.asChild?this.addRowParent.rowID:void 0:null!==this.addRowParent.rowID&&void 0!==this.addRowParent.rowID?this.grid.gridAPI.get_rec_by_id(this.addRowParent.rowID)?.parent?.rowID:void 0}},HF=(()=>{class e extends NF{enterEditMode(e,t){if(!this.isInCompositionMode){if(this.nonEditable)return void console.warn("The grid must have a `primaryKey` specified when using `rowEditable`!");if(this.cellInEditMode)(!this.endEdit(!0,t)||!this.cell)&&this.grid.tbody.nativeElement.focus();else if(this.rowEditing){if(this.row&&!this.sameRow(e?.cellID?.rowID)){if(this.rowEditingBlocked=this.endEdit(!0,t),this.rowEditingBlocked)return!0;this.rowEditingBlocked=!1,this.endRowEdit()}this.createCell(e),this.beginRowEdit(t)||this.beginCellEdit(t)}else this.createCell(e),this.beginCellEdit(t)}}enterAddRowMode(e,t,i){if(!this.rowEditing&&(void 0===this.grid.primaryKey||null===this.grid.primaryKey))return void console.warn("The grid must use row edit mode to perform row adding! Please set rowEditable to true.");this.endEdit(!0,i);let n=e?Object.assign(kC(e),e):null;null!=n&&this.grid.expansionStates.get(n.key)&&this.grid.collapseRow(n.key),this.createAddRow(n,t),this.grid.transactions.startPending(),this.addRowParent.isPinned&&this.grid._pinnedRecordIDs.splice(this.row.index,0,this.row.id),this.grid.triggerPipes(),this.grid.notifyChanges(!0),this.grid.navigateTo(this.row.index,-1);let r=this.grid.isRowPinningToTop?this.addRowParent.isPinned?0:this.grid.pinnedRows.length:this.addRowParent.isPinned?this.grid.unpinnedRecords.length:0,s=this.grid.gridAPI.get_row_by_index(this.row.index+r);s.triggerAddAnimation(),s.cdr.detectChanges(),s.addAnimationEnd.pipe(Vn()).subscribe((()=>{let e=s.cells.find((e=>e.editable));e&&(this.grid.gridAPI.update_cell(this.cell),this.enterEditMode(e,i),e.activate())}))}endEdit(e=!0,t){if(!this.row&&!this.cell)return;let i;if(e){if(i=this.updateCell(!0,t),i&&i.cancel)return i.cancel}else{let e=this.cell;if(this.exitCellEdit(t),!this.grid.rowEditable&&e){let t=this.grid.transactions.getAggregatedValue(e.id.rowID,!0)||e.rowData;this.grid.validation.update(e.id.rowID,t)}}if(i=this.updateRow(e,t),this.rowEditingBlocked=i.cancel,i.cancel)return!0;let n=this.grid.selectionService.activeElement;if(t&&n){let e=n.row,t=n.layout?n.layout.columnVisibleIndex:n.column;this.grid.navigateTo(e,t)}return!1}static{this.ɵfac=(()=>{let t;return function(i){return(t||(t=ol(e)))(i||e)}})()}static{this.ɵprov=ir({token:e,factory:e.ɵfac})}}return e})(),zF=new hr("IgxGridBaseToken"),BF=new hr("IgxGridServiceBaseToken"),GF=e=>0===e||!!e,$F=e=>e[0],WF=e=>e[e.length-1],KF=class e{static count(e){return e.length}operate(t=[],i=[],n,r){return[{key:"count",label:"Count",defaultFormatting:!1,summaryResult:e.count(t)}]}},jF=class e extends KF{static min(e){return e.length&&e.filter(GF).length?e.filter(GF).reduce(((e,t)=>Math.min(e,t))):0}static max(e){return e.length&&e.filter(GF).length?e.filter(GF).reduce(((e,t)=>Math.max(e,t))):0}static sum(e){return e.length&&e.filter(GF).length?e.filter(GF).reduce(((e,t)=>+e+ +t)):0}static average(e){return e.length&&e.filter(GF).length?this.sum(e)/this.count(e):0}operate(t=[],i=[],n,r){let s=super.operate(t,i,n,r);return s.push({key:"min",label:"Min",defaultFormatting:!0,summaryResult:e.min(t)}),s.push({key:"max",label:"Max",defaultFormatting:!0,summaryResult:e.max(t)}),s.push({key:"sum",label:"Sum",defaultFormatting:!0,summaryResult:e.sum(t)}),s.push({key:"average",label:"Avg",defaultFormatting:!0,summaryResult:e.average(t)}),s}},UF=class e extends KF{static latest(e){return e.length&&e.filter(GF).length?$F(e.filter(GF).sort(((e,t)=>new Date(t).valueOf()-new Date(e).valueOf()))):void 0}static earliest(e){return e.length&&e.filter(GF).length?WF(e.filter(GF).sort(((e,t)=>new Date(t).valueOf()-new Date(e).valueOf()))):void 0}operate(t=[],i=[],n,r){let s=super.operate(t,i,n,r);return s.push({key:"earliest",label:"Earliest",defaultFormatting:!0,summaryResult:e.earliest(t)}),s.push({key:"latest",label:"Latest",defaultFormatting:!0,summaryResult:e.latest(t)}),s}},qF=class e extends KF{static latestTime(e){return e.length&&e.filter(GF).length?$F(e.filter(GF).map((e=>new Date(e))).sort(((e,t)=>(new Date).setHours(t.getHours(),t.getMinutes(),t.getSeconds())-(new Date).setHours(e.getHours(),e.getMinutes(),e.getSeconds())))):void 0}static earliestTime(e){return e.length&&e.filter(GF).length?WF(e.filter(GF).map((e=>new Date(e))).sort(((e,t)=>(new Date).setHours(t.getHours(),t.getMinutes(),t.getSeconds())-(new Date).setHours(e.getHours(),e.getMinutes(),e.getSeconds())))):void 0}operate(t=[],i=[],n,r){let s=super.operate(t,i,n,r);return s.push({key:"earliest",label:"Earliest",defaultFormatting:!0,summaryResult:e.earliestTime(t)}),s.push({key:"latest",label:"Latest",defaultFormatting:!0,summaryResult:e.latestTime(t)}),s}},YF=class e{static aggregators(){return[{key:"COUNT",label:"Count",aggregator:e.count}]}static count(e){return e.length}},ZF=class e extends YF{static aggregators(){let t=[];return t=t.concat(super.aggregators()),t.push({key:"MIN",label:"Minimum",aggregator:e.min}),t.push({key:"MAX",label:"Maximum",aggregator:e.max}),t.push({key:"SUM",label:"Sum",aggregator:e.sum}),t.push({key:"AVG",label:"Average",aggregator:e.average}),t}static min(e){return jF.min(e)}static max(e){return jF.max(e)}static sum(e){return jF.sum(e)}static average(e){return jF.average(e)}},XF=class e extends YF{static aggregators(){let t=[];return t=t.concat(super.aggregators()),t.push({key:"LATEST",label:"Latest Date",aggregator:e.latest}),t.push({key:"EARLIEST",label:"Earliest Date",aggregator:e.earliest}),t}static latest(e){return UF.latest(e)}static earliest(e){return UF.earliest(e)}},QF=class e extends YF{static aggregators(){let t=[];return t=t.concat(super.aggregators()),t.push({key:"LATEST",label:"Latest Time",aggregator:e.latestTime}),t.push({key:"EARLIEST",label:"Earliest Time",aggregator:e.earliestTime}),t}static latestTime(e){return qF.latestTime(e)}static earliestTime(e){return qF.earliestTime(e)}},JF={aggregations:"aggregations",records:"records",children:"children",level:"level",rowDimensionSeparator:"_",columnDimensionSeparator:"-"},eP=function(e){return e[e.Row=0]="Row",e[e.Column=1]="Column",e[e.Filter=2]="Filter",e}(eP||{}),tP=function(e){return e.Vertical="vertical",e.Horizontal="horizontal",e}(tP||{}),iP=function(e){return e.Top="top",e.Bottom="bottom",e}(iP||{}),nP=class e{static processGroups(t,i,n,r){for(let s of t){s.children&&s.children.size>0&&s.children.forEach((e=>{this.processGroups(e,i,n,r)}));let t=e.getFieldsHierarchy(s.records,[i],eP.Row,n,r),o=e.processHierarchy(t,n,0);s.children.set(i.memberName,o)}}static flattenGroups(t,i,n,r,s,o){for(let a=0;a<t.length;a++){let l=t[a],d=i.memberName;if(!d)continue;let c=l.children.get(d);!c&&s&&(c=l.children.get(s.memberName),c&&(i=s)),o&&o.dimensionValues.forEach(((e,t)=>{if(s.memberName!==t){l.dimensionValues.set(t,e);let i=o.dimensions.find((e=>e.memberName===t));l.dimensions.unshift(i)}}));let h=e.getRecordKey(l,i);((void 0===n.get(h)?r:n.get(h))||!i.childLevel||!l.dimensionValues.get(i.memberName))&&c&&(i.childLevel?this.flattenGroups(c,i.childLevel,n,r,i,l):c.forEach((e=>{l.dimensionValues.forEach(((t,n)=>{if(i.memberName!==n){e.dimensionValues.set(n,t);let i=l.dimensions.find((e=>e.memberName===n));e.dimensions.unshift(i)}}))})),t.splice(a+1,0,...c),a+=c.length)}}static flattenGroupsHorizontally(t,i,n,r,s,o,a,l){for(let d=0;d<t.length;d++){let c=t[d],h=i.memberName;if(!h)continue;s.find((e=>e.memberName===c.dimensions[0].memberName))||s.push(c.dimensions[0]);let u=c.children.get(h);!u&&a&&(u=c.children.get(a.memberName),u&&(i=a)),l&&l.dimensionValues.forEach(((e,t)=>{c.dimensionValues.set(t,e);let i=l.dimensions.find((e=>e.memberName===t));c.dimensions.unshift(i)}));let g=e.getRecordKey(c,i);if(((void 0===n.get(g)?r:n.get(g))||!i.childLevel||!c.dimensionValues.get(i.memberName))&&u&&!c.totalRecordDimensionName){i.childLevel?this.flattenGroupsHorizontally(u,i.childLevel,n,r,s,o,i,c):u.forEach((e=>{c.dimensionValues.forEach(((t,n)=>{if(i.memberName!==n){e.dimensionValues.set(n,t);let i=c.dimensions.find((e=>e.memberName===n));e.dimensions.unshift(i)}}))})),u.forEach((e=>{1===e.dimensions.length&&c.dimensionValues.forEach(((t,i)=>{e.dimensionValues.set(i,t)})),e.dimensions.forEach((e=>{s.find((t=>t.memberName===e.memberName))||s.push(e)}))}));let e=c.dimensionValues.get(i.memberName);i.horizontalSummary&&e&&(c.totalRecordDimensionName=i.memberName,c.dimensionValues.set(i.memberName,`${e} Total`),o===iP.Top?u.unshift(c):u.push(c)),t.splice(d,1,...u),d+=u.length-1}}}static assignLevels(e){for(let t of e){let e=t,i=0;for(;e.childLevel;)e.level=i,e=e.childLevel,i++;e.level=i}}static getFieldsHierarchy(e,t,i,n,r){let s=new Map;for(let o of e){let e=i===eP.Column?this.extractValuesForColumn(t,o,n):this.extractValuesForRow(t,o,n,r);for(let[t,i]of e)null!=s.get(i.value)||s.set(i.value,r.clone(i)),this.applyHierarchyChildren(s,i,o,n)}return s}static sort(e,t,i=new yS){return e.forEach((e=>{let n=e.children;n&&n.forEach((e=>{this.sort(e,t,i)}))})),DS.sort(e,t,i)}static extractValueFromDimension(e,t){return e.memberFunction?e.memberFunction.call(null,t):t[e.memberName]}static getDimensionDepth(e){let t=0;for(;e.childLevel;)t++,e=e.childLevel;return t}static extractValuesForRow(e,t,i,n){let r=new Map;for(let s of e){if(t[i.level]&&t[i.level]>0){let e=t[i.records];return this.getFieldsHierarchy(e,[s],eP.Row,i,n)}let e=this.extractValueFromDimension(s,t),o={};if(o.value=e,o.dimension=s,s.childLevel){let e=this.extractValuesForRow([s.childLevel],t,i,n);o[i.children]=e}r.set(e,o)}return r}static extractValuesForColumn(e,t,i,n=[]){let r=new Map,s=r,o=this.flatten(e);for(let e of o){let r=this.extractValueFromDimension(e,t);n.push(r);let o=n.join(i.columnDimensionSeparator),a={value:o,expandable:e.expandable,children:null,dimension:e};a.children||(a.children=new Map),s.set(o,a),s=a.children}return r}static flatten(e,t=0){return e.reduce(((e,i)=>(i&&(i.level=t,e.push(i),i.childLevel&&(i.expandable=!0,e=e.concat(this.flatten([i.childLevel],t+1)))),e)),[])}static applyAggregations(e,t,i,n){if(0!==t.size)t.forEach((t=>{let r=t[n.children];if(r&&r.size>0){this.applyAggregations(e,r,i,n);let s=this.collectRecords(r,n);t[n.aggregations]=this.aggregate(s,i),this.applyAggregationRecordData(t[n.aggregations],t.value,e,n)}else t[n.records]&&(t[n.aggregations]=this.aggregate(t[n.records],i),this.applyAggregationRecordData(t[n.aggregations],t.value,e,n))}));else{let t=this.aggregate(e.records,i);this.applyAggregationRecordData(t,void 0,e,n)}}static applyAggregationRecordData(e,t,i,n){let r=Object.keys(e);if(r.length>1)r.forEach((r=>{let s=t?t+n.columnDimensionSeparator+r:r;i.aggregationValues.set(s,e[r])}));else if(1===r.length){let n=r[0];i.aggregationValues.set(t||n,e[n])}}static aggregate(t,i){let n={};for(let r of i){let i=e.getAggregatorForType(r.aggregate,r.dataType);if(!i)throw`No valid aggregator found for ${r.member}. Please set either a valid aggregatorName or aggregator`;n[r.member]=i(t.map((e=>e[r.member])),t)}return n}static getAggregatorForType(e,t){let i=e.aggregator;if(e.aggregatorName){let n=ZF.aggregators();t&&"date"!==t&&"dateTime"!==t?"time"===t&&(n=n.concat(QF.aggregators())):n=n.concat(XF.aggregators()),i=n.find((t=>t.key.toLocaleLowerCase()===e.aggregatorName.toLocaleLowerCase()))?.aggregator}return i}static processHierarchy(e,t,i=0,n=!1){let r=[];return e.forEach(((e,s)=>{let o=e.dimension.memberName,a={dimensionValues:new Map,aggregationValues:new Map,children:new Map,dimensions:[e.dimension]};if(a.dimensionValues.set(o,s),e[t.records]&&(a.records=this.getDirectLeafs(e[t.records])),a.level=i,r.push(a),e[t.children]&&e[t.children].size>0){let r=this.processHierarchy(e[t.children],t,i+1,n);a.records=this.getDirectLeafs(r),a.children.set(o,r)}})),r}static getDirectLeafs(e){let t=[];for(let i of e)if(i.records){let e=i.records.filter((e=>!e.records&&-1===t.indexOf(e)));t=t.concat(e)}else t.push(i);return t}static getRecordKey(e,t){let i=[],n=e.dimensions.findIndex((e=>e.memberName===t.memberName))+1,r=e.dimensions.slice(0,n);for(let t of r){let n=e.dimensionValues.get(t.memberName);i.push(n)}return i.join("-")}static buildExpressionTree(t){let i=(t?.rows||[]).concat(t?.columns||[]).concat(t?.filters||[]).filter((e=>null!=e)).filter((e=>e&&e.enabled)),n=new US(qS.And);return e.flatten(i).forEach((e=>{e.filter&&e.filter.filteringOperands&&n.filteringOperands.push(...e.filter.filteringOperands)})),n}static collectRecords(e,t){let i=[];return e.forEach((e=>i=i.concat(e[t.records]))),i}static applyHierarchyChildren(e,t,i,n){let r=n.records,s=n.children,o=t[s],a=e.get(t.value);if(Array.isArray(a[s])&&(a[s]=new Map),o&&0!==o.size){let e=a[s];for(let[t,a]of o){let t=e.get(a.value);if(t||(e.set(a.value,a),t=a),t[r]){let e=Object.assign({},i);if(i[r]){let n=t.value,s=t.dimension,o=i[r].filter((e=>this.extractValueFromDimension(s,e)===n));e[r]=o}t[r].push(e)}else t[r]=[i];a[s]&&a[s].size>0&&this.applyHierarchyChildren(e,a,i,n)}}else{let e=a.dimension;this.extractValueFromDimension(e,i)===t.value&&(a[r]?a[r].push(i):a[r]=[i])}}static getAggregateList(e,t){if(!e.aggregateList){let i=this.getAggregatorsForValue(e,t),n=i.find((t=>t.key===e.aggregate.key));n||void 0===t.data[0][e.member]?n||(i=[e.aggregate]):i.unshift(e.aggregate),e.aggregateList=i}return e.aggregateList}static getAggregatorsForValue(e,t){switch(e.dataType||t.resolveDataTypes(t.data[0][e.member])){case bS.Number:case bS.Currency:return ZF.aggregators();case bS.Date:case bS.DateTime:return XF.aggregators();case bS.Time:return QF.aggregators();default:return YF.aggregators()}}static updateColumnTypeByAggregator(t,i,n){let r=e.getColumnDataTypeForValue(i);t.forEach((e=>{(e.field?.includes(i.member)||n)&&void 0!==r&&(e.dataType=r)}))}static getColumnDataTypeForValue(e){let t="count"===e.aggregate.aggregator?.name?.toLowerCase()||"count"===e.aggregate.aggregatorName?.toLowerCase();return e.dataType!==bS.Currency&&e.dataType!==bS.Percent||!t?e.dataType!==bS.Currency||t?e.dataType!==bS.Percent||t?void 0:bS.Percent:bS.Currency:bS.Number}},rP=(()=>{class e{get ranges(){this.addKeyboardRange();let e=Array.from(this._ranges).map((e=>JSON.parse(e)));return!e.length&&this.activeElement&&this.grid.isCellSelectable&&e.push(this.generateRange(this.activeElement)),e}get primaryButton(){return this.pointerState.primaryButton}set primaryButton(e){this.pointerState.primaryButton=e}constructor(e,t){this.zone=e,this.platform=t,this.dragMode=!1,this.keyboardState={},this.pointerState={},this.columnsState={},this.selection=new Map,this.temp=new Map,this.rowSelection=new Set,this.indeterminateRows=new Set,this.columnSelection=new Set,this.selectedRowsChange=new Ci,this.pointerEventInGridBody=!1,this._ranges=new Set,this.pointerOriginHandler=e=>{this.pointerEventInGridBody=!1,this.grid.document.body.removeEventListener("pointerup",this.pointerOriginHandler);let t=e.target.tagName.toLowerCase();"igx-grid-cell"!==t&&"igx-tree-grid-cell"!==t&&this.pointerUp(this._lastSelectedNode,this.grid.rangeSelected,!0)},this.initPointerState(),this.initKeyboardState(),this.initColumnsState()}initKeyboardState(){this.keyboardState.node=null,this.keyboardState.shift=!1,this.keyboardState.range=null,this.keyboardState.active=!1}initPointerState(){this.pointerState.node=null,this.pointerState.ctrl=!1,this.pointerState.shift=!1,this.pointerState.range=null,this.pointerState.primaryButton=!0}initColumnsState(){this.columnsState.field=null,this.columnsState.range=[]}add(e,t=!0){this.selection.has(e.row)?this.selection.get(e.row).add(e.column):this.selection.set(e.row,new Set).get(e.row).add(e.column),t&&this._ranges.add(JSON.stringify(this.generateRange(e)))}addKeyboardRange(){this.keyboardState.range&&this._ranges.add(JSON.stringify(this.keyboardState.range))}remove(e){this.selection.has(e.row)&&this.selection.get(e.row).delete(e.column),this.isActiveNode(e)&&(this.activeElement=null),this._ranges.delete(JSON.stringify(this.generateRange(e)))}isInMap(e){return this.selection.has(e.row)&&this.selection.get(e.row).has(e.column)||this.temp.has(e.row)&&this.temp.get(e.row).has(e.column)}selected(e){return this.isActiveNode(e)&&this.grid.isCellSelectable||this.isInMap(e)}isActiveNode(e){if(this.activeElement){let t=this.activeElement.column===e.column&&this.activeElement.row===e.row;if(this.grid.hasColumnLayouts){let i=this.activeElement.layout;return t&&this.isActiveLayout(i,e.layout)}return t}return!1}isActiveLayout(e,t){return e.columnVisibleIndex===t.columnVisibleIndex}addRangeMeta(e,t){this._ranges.add(JSON.stringify(this.generateRange(e,t)))}removeRangeMeta(e,t){this._ranges.delete(JSON.stringify(this.generateRange(e,t)))}generateRange(e,t){if(this._lastSelectedNode=e,!t)return{rowStart:e.row,rowEnd:e.row,columnStart:e.column,columnEnd:e.column};let{row:i,column:n}=t.node;return{rowStart:Math.min(e.row,i),rowEnd:Math.max(e.row,i),columnStart:Math.min(e.column,n),columnEnd:Math.max(e.column,n)}}keyboardStateOnKeydown(e,t,i){this.keyboardState.active=!0,this.initPointerState(),this.keyboardState.shift=t&&!i,this.grid.navigation.isDataRow(e.row)&&this.keyboardState.shift&&!this.keyboardState.node&&(this.clear(),this.keyboardState.node=Object.assign({},e))}keyboardStateOnFocus(e,t,i){let n=this.keyboardState;if(n.active){if(this.platform.isChromium&&this._moveSelectionChrome(i),n.shift)return this.dragSelect(e,n),n.range=this.generateRange(e,n),void t.emit(this.generateRange(e,n));this.initKeyboardState(),this.clear(),this.add(e)}}pointerDown(e,t,i){if(this.addKeyboardRange(),this.initKeyboardState(),this.pointerState.ctrl=i,this.pointerState.shift=t,this.pointerEventInGridBody=!0,this.grid.document.body.addEventListener("pointerup",this.pointerOriginHandler),i||this.clear(),t)return this.pointerState.node||(this.pointerState.node=this.activeElement||e),this.pointerDownShiftKey(e),void this.clearTextSelection();this.removeRangeMeta(e),this.pointerState.node=e}pointerDownShiftKey(e){this.clear(),this.selectRange(e,this.pointerState)}mergeMap(e,t){let i,n,r=t.entries(),s=r.next();for(;!s.done;){if([i,n]=s.value,e.has(i)){let t=e.get(i);n.forEach((e=>t.add(e))),e.set(i,t)}else e.set(i,n);s=r.next()}}pointerEnter(e,t){return this.dragMode=1===t.buttons&&(-1===t.button||0===t.button)&&this.pointerEventInGridBody,!!this.dragMode&&(this.clearTextSelection(),this.pointerState.node||(this.pointerState.node=e),this.pointerState.ctrl?this.selectRange(e,this.pointerState,this.temp):this.dragSelect(e,this.pointerState),!0)}pointerUp(e,t,i){return this.dragMode||i?(this.restoreTextSelection(),this.addRangeMeta(e,this.pointerState),this.mergeMap(this.selection,this.temp),this.zone.runTask((()=>t.emit(this.generateRange(e,this.pointerState)))),this.temp.clear(),this.dragMode=!1,!0):this.pointerState.shift?(this.clearTextSelection(),this.restoreTextSelection(),this.addRangeMeta(e,this.pointerState),t.emit(this.generateRange(e,this.pointerState)),!0):(this.pointerEventInGridBody&&this.isActiveNode(e)&&this.add(e),!1)}selectRange(e,t,i=this.selection){i===this.temp&&i.clear();let{rowStart:n,rowEnd:r,columnStart:s,columnEnd:o}=this.generateRange(e,t);for(let e=n;e<=r;e++)for(let t=s;t<=o;t++)i.has(e)?i.get(e).add(t):i.set(e,new Set).get(e).add(t)}dragSelect(e,t){this.pointerState.ctrl||this.selection.clear(),this.selectRange(e,t)}clear(e=!1){e&&(this.activeElement=null),this.selection.clear(),this.temp.clear(),this._ranges.clear()}clearTextSelection(){let e=window.getSelection();e.rangeCount&&(this._selectionRange=e.getRangeAt(0),this._selectionRange.collapse(!0),e.removeAllRanges())}restoreTextSelection(){let e=window.getSelection();e.rangeCount||e.addRange(this._selectionRange||this.grid.document.createRange())}getSelectedRowsData(){if("pivot"===this.grid.type)return this.grid.dataView.filter((e=>e.dimensions.map((t=>nP.getRecordKey(e,t))).some((e=>this.isPivotRowSelected(e)))));if(!this.grid.primaryKey)return Array.from(this.rowSelection);let e=[],t={};return this.grid.gridAPI.get_all_data(!0).forEach((e=>t[this.getRecordKey(e)]=e)),this.rowSelection.forEach((i=>{let n=t[i],r={};r[this.grid.primaryKey]=i,e.push(n||r)})),e}getSelectedRows(){return this.rowSelection.size?Array.from(this.rowSelection.keys()):[]}getIndeterminateRows(){return this.indeterminateRows.size?Array.from(this.indeterminateRows.keys()):[]}clearRowSelection(e){let t,i=this.getSelectedRowsData(),n=this.isFilteringApplied()?this.allData.filter((e=>this.isRowSelected(this.getRecordKey(e)))):i;t=this.grid.primaryKey?this.isFilteringApplied()?i.filter((e=>!n.some((t=>t[this.grid.primaryKey]===e[this.grid.primaryKey])))):[]:this.isFilteringApplied()?i.filter((e=>!n.includes(e))):[],this.emitRowSelectionEvent(t,[],n,e,i)}selectAllRows(e){let t=this.allData.filter((e=>!this.rowSelection.has(this.getRecordKey(e)))),i=this.getSelectedRowsData(),n=this.rowSelection.size?i.concat(t):t;this.indeterminateRows.clear(),this.emitRowSelectionEvent(n,t,[],e,i)}selectRowById(e,t,i){if(!this.grid.isRowSelectable&&"pivot"!==this.grid.type||this.isRowDeleted(e))return;if(t=!this.grid.isMultiRowSelectionEnabled||t,"pivot"===this.grid.type)return void this.selectPivotRowById(e,t,i);let n=this.getSelectedRowsData(),r=t?[this.getRowDataById(e)]:this.rowSelection.has(e)?n:[...n,this.getRowDataById(e)],s=t?n:[];this.emitRowSelectionEvent(r,[this.getRowDataById(e)],s,i,n)}selectPivotRowById(e,t,i){let n=this.getSelectedRows(),r=t?[e]:this.rowSelection.has(e)?n:[...n,e],s=this.getPivotRowsByIds([e]),o=this.getPivotRowsByIds(t?n:[]);this.emitRowSelectionEventPivotGrid(n,r,s,o,i)}deselectRow(e,t){if(!this.isRowSelected(e))return;if("pivot"===this.grid.type)return void this.deselectPivotRowByID(e,t);let i=this.getSelectedRowsData(),n=i.filter((t=>this.getRecordKey(t)!==e));this.rowSelection.size&&this.rowSelection.has(e)&&this.emitRowSelectionEvent(n,[],[this.getRowDataById(e)],t,i)}deselectPivotRowByID(e,t){if(this.rowSelection.size&&this.rowSelection.has(e)){let i=this.getSelectedRows(),n=i.filter((t=>t!==e)),r=this.getPivotRowsByIds([e]);this.emitRowSelectionEventPivotGrid(i,n,[],r,t)}}emitRowSelectionEventPivotGrid(e,t,i,n,r){if(this.areEqualCollections(e,t))return;let s=this.getSelectedRowsData(),o={owner:this.grid,oldSelection:s,newSelection:this.getPivotRowsByIds(t),added:i,removed:n,event:r,cancel:!1,allRowsSelected:this.areAllRowSelected(t)};this.grid.rowSelectionChanging.emit(o),o.cancel?this.clearHeaderCBState():this.selectRowsWithNoEvent(t,!0)}selectRows(e,t,i){if(!this.grid.isMultiRowSelectionEnabled)return;let n=e.filter((e=>!this.isRowDeleted(e)&&!this.rowSelection.has(e)));if(!n.length&&!t)return;let r=this.getSelectedRowsData();n=this.grid.primaryKey?n.map((e=>this.getRowDataById(e))):n;let s=t?n:[...r,...n],o=new Set(n),a=t?r.filter((e=>!o.has(e))):[];this.emitRowSelectionEvent(s,n,a,i,r)}deselectRows(e,t){if(!this.rowSelection.size)return;let i=e.filter((e=>this.rowSelection.has(e)));if(!i.length)return;let n=this.getSelectedRowsData();i=this.grid.primaryKey?i.map((e=>this.getRowDataById(e))):i;let r=new Set(i),s=n.filter((e=>!r.has(e)));this.emitRowSelectionEvent(s,[],i,t,n)}selectRowsWithNoEvent(e,t){t&&this.rowSelection.clear(),e.forEach((e=>this.rowSelection.add(e))),this.clearHeaderCBState(),this.selectedRowsChange.next(e)}deselectRowsWithNoEvent(e){this.clearHeaderCBState(),e.forEach((e=>this.rowSelection.delete(e))),this.selectedRowsChange.next(this.getSelectedRows())}isRowSelected(e){return this.rowSelection.size>0&&this.rowSelection.has(e)}isPivotRowSelected(e){let t=!1;return this.rowSelection.forEach((i=>{let n=e.replace(i,"");!e.includes(i)||""!==n&&!n.startsWith("_")||(t=!0)})),this.rowSelection.size>0&&t}isRowInIndeterminateState(e){return this.indeterminateRows.size>0&&this.indeterminateRows.has(e)}selectMultipleRows(e,t,i){if(this.clearHeaderCBState(),!this.rowSelection.size||this.isRowDeleted(e))return void this.selectRowById(e);let n=this.allData,r=this.getSelectedRows()[this.rowSelection.size-1],s=n.indexOf(this.getRowDataById(r)),o=n.indexOf(t),a=n.slice(Math.min(s,o),Math.max(s,o)+1),l=this.getSelectedRowsData(),d=a.filter((e=>!this.isRowSelected(this.getRecordKey(e)))),c=l.concat(d);this.emitRowSelectionEvent(c,d,[],i,l)}areAllRowSelected(e){if(!this.grid.data&&!e)return!1;if(void 0!==this.allRowsSelected&&!e)return this.allRowsSelected;let t=new Set(this.getRowIDs(e||this.rowSelection));return this.allRowsSelected=this.allData.length>0&&this.allData.every((e=>t.has(this.getRecordKey(e))))}hasSomeRowSelected(){let e=!this.isFilteringApplied()||this.getRowIDs(this.grid.filteredData).some((e=>this.isRowSelected(e)));return this.rowSelection.size>0&&e&&!this.areAllRowSelected()}get filteredSelectedRowIds(){return this.isFilteringApplied()?this.getRowIDs(this.allData).filter((e=>this.isRowSelected(e))):this.getSelectedRows().filter((e=>!this.isRowDeleted(e)))}emitRowSelectionEvent(e,t,i,n,r){if(r=r??this.getSelectedRowsData(),this.areEqualCollections(r,e))return;let s={owner:this.grid,oldSelection:r,newSelection:e,added:t,removed:i,event:n,cancel:!1,allRowsSelected:this.areAllRowSelected(e)};this.grid.rowSelectionChanging.emit(s),s.cancel?this.clearHeaderCBState():this.selectRowsWithNoEvent(s.newSelection.map((e=>this.getRecordKey(e))),!0)}getPivotRowsByIds(e){return this.grid.dataView.filter((t=>{let i=t.dimensions.map((e=>nP.getRecordKey(t,e)));return new Set(e.concat(i)).size<e.length+i.length}))}getRowDataById(e){if(!this.grid.primaryKey)return e;let t=this.getRowIDs(this.grid.gridAPI.get_all_data(!0)).indexOf(e);return t<0?e:this.grid.gridAPI.get_all_data(!0)[t]}clearHeaderCBState(){this.allRowsSelected=void 0}getRowIDs(e){return this.grid.primaryKey&&e.length?e.map((e=>e[this.grid.primaryKey])):e}getRecordKey(e){return this.grid.primaryKey?e[this.grid.primaryKey]:e}clearAllSelectedRows(){this.rowSelection.clear(),this.indeterminateRows.clear(),this.clearHeaderCBState(),this.selectedRowsChange.next([])}get allData(){let e;return e=this.isFilteringApplied()||this.grid.sortingExpressions.length||this.grid.groupingExpressions?.length?this.grid.pinnedRecordsCount?this.grid._filteredSortedUnpinnedData:this.grid.filteredSortedData:this.grid.gridAPI.get_all_data(!0),e.filter((e=>!this.isRowDeleted(this.grid.gridAPI.get_row_id(e))))}getSelectedColumns(){return this.columnSelection.size?Array.from(this.columnSelection.keys()):[]}isColumnSelected(e){return this.columnSelection.size>0&&this.columnSelection.has(e)}selectColumn(e,t,i,n){let r=this.columnsState.field?this.grid.getColumnByName(this.columnsState.field):null;if(!n||!r||r.visibleIndex<0||!i){this.columnsState.field=e,this.columnsState.range=[];let i=t?[e]:-1!==this.getSelectedColumns().indexOf(e)?this.getSelectedColumns():[...this.getSelectedColumns(),e],r=t?this.getSelectedColumns().filter((t=>t!==e)):[],s=this.isColumnSelected(e)?[]:[e];this.emitColumnSelectionEvent(i,s,r,n)}else i&&this.selectColumnsRange(e,n)}selectColumns(e,t,i,n){let r=e.map((e=>this.grid.getColumnByName(e))).sort(((e,t)=>e.visibleIndex-t.visibleIndex)),s=this.columnsState.field?this.grid.getColumnByName(this.columnsState.field):null;if(!s||s.visibleIndex<0||!i){this.columnsState.field=r[0]?r[0].field:null,this.columnsState.range=[];let i=e.filter((e=>!this.isColumnSelected(e))),s=t?this.getSelectedColumns().filter((t=>-1===e.indexOf(t))):[],o=t?e:this.getSelectedColumns().concat(i);this.emitColumnSelectionEvent(o,i,s,n)}else{let e=s.visibleIndex>r[r.length-1].visibleIndex?r[0].field:r[r.length-1].field;this.selectColumnsRange(e,n)}}selectColumnsRange(e,t){let i=this.grid.getColumnByName(this.columnsState.field).visibleIndex,n=this.grid.columnToVisibleIndex(e),r=this.grid.visibleColumns.filter((e=>!e.columnGroup)).sort(((e,t)=>e.visibleIndex-t.visibleIndex)).slice(Math.min(i,n),Math.max(i,n)+1).filter((e=>e.selectable)).map((e=>e.field)),s=[],o=[],a=r.filter((e=>!this.isColumnSelected(e)));this.columnsState.range.forEach((e=>{-1===r.indexOf(e)?s.push(e):o.push(e)})),this.columnsState.range=r.filter((e=>!this.isColumnSelected(e)||o.indexOf(e)>-1));let l=this.getSelectedColumns().concat(a).filter((e=>-1===s.indexOf(e)));this.emitColumnSelectionEvent(l,a,s,t)}selectColumnsWithNoEvent(e,t){t&&this.columnSelection.clear(),e.forEach((e=>{this.columnSelection.add(e)}))}deselectColumn(e,t){this.initColumnsState();let i=this.getSelectedColumns().filter((t=>t!==e));this.emitColumnSelectionEvent(i,[],[e],t)}deselectColumnsWithNoEvent(e){e.forEach((e=>this.columnSelection.delete(e)))}deselectColumns(e,t){let i=this.getSelectedColumns().filter((t=>e.indexOf(t)>-1)),n=this.getSelectedColumns().filter((t=>-1===e.indexOf(t)));this.emitColumnSelectionEvent(n,[],i,t)}emitColumnSelectionEvent(e,t,i,n){let r=this.getSelectedColumns();if(this.areEqualCollections(r,e))return;let s={oldSelection:r,newSelection:e,added:t,removed:i,event:n,cancel:!1};this.grid.columnSelectionChanging.emit(s),!s.cancel&&this.selectColumnsWithNoEvent(s.newSelection,!0)}clearAllSelectedColumns(){this.columnSelection.clear()}areEqualCollections(e,t){return e.length===t.length&&new Set(e.concat(t)).size===e.length}_moveSelectionChrome(e){let t=window.getSelection();t.removeAllRanges();let i=new Range;i.selectNode(e),i.collapse(!0),t.addRange(i)}isFilteringApplied(){return!US.empty(this.grid.filteringExpressionsTree)||!US.empty(this.grid.advancedFilteringExpressionsTree)}isRowDeleted(e){return this.grid.gridAPI.row_deleted_transaction(e)}static{this.ɵfac=function(t){return new(t||e)(Vr(Il),Vr(NC))}}static{this.ɵprov=ir({token:e,factory:e.ɵfac})}}return e})(),sP=["igxDirRef"],oP=["cell"],aP=(()=>{class e{get data(){return this.inEditMode?wC(this.grid.dataCloneStrategy.clone(this._data),this.grid.transactions.getAggregatedValue(this.key,!1),((e,t)=>{if(Array.isArray(t))return t})):this._data}set data(e){this._data=e}set pinned(e){e?this.grid.pinRow(this.key):this.grid.unpinRow(this.key)}get pinned(){return this.grid.isRecordPinned(this.data)}get expanded(){return this.grid.gridAPI.get_row_expansion_state(this.data)}set expanded(e){this.grid.gridAPI.set_row_expansion_state(this.key,e)}get addRowUI(){return!!this.grid.crudService.row&&this.grid.crudService.row.isAddRow&&this.grid.crudService.row.id===this.key}get rowHeight(){let e=this.grid.rowHeight||32;return this.grid.hasColumnLayouts&&(e*=this.grid.multiRowLayoutRowSize),this.addRowUI?e:null}get virtDirRow(){return this._virtDirRow?this._virtDirRow.first:null}get cells(){let e=new jl;if(!this._cells)return e;let t=this._cells.filter((e=>null!==e.nativeElement.parentElement)).sort(((e,t)=>e.column.visibleIndex-t.column.visibleIndex));return e.reset(t),e}get dataRowIndex(){return this.index}get selected(){return this.selectionService.isRowSelected(this.key)}set selected(e){e?this.selectionService.selectRowsWithNoEvent([this.key]):this.selectionService.deselectRowsWithNoEvent([this.key]),this.grid.cdr.markForCheck()}get columns(){return this.grid.visibleColumns}get viewIndex(){return this.grid.groupingExpressions.length?this.grid.filteredSortedData.indexOf(this.data):this.index+this.grid.page*this.grid.perPage}get pinnedColumns(){return this.grid.pinnedColumns}get isRoot(){return!0}get hasChildren(){return!1}get unpinnedColumns(){return this.grid.unpinnedColumns}get showRowSelectors(){return this.grid.showRowSelectors}get dirty(){let e=this.grid.transactions.getState(this.key);return!!e&&(e.type===lS.ADD||e.type===lS.UPDATE)}get rowDraggable(){return this.grid.rowDraggable}get added(){let e=this.grid.transactions.getState(this.key);return!!e&&e.type===lS.ADD}get deleted(){return this.grid.gridAPI.row_deleted_transaction(this.key)}get dragging(){return this.grid.dragRowID===this.key}get inEditMode(){if(this.grid.rowEditable){let e=this.grid.crudService.row;return e&&e.id===this.key||!1}return!1}get key(){let e=this.grid.primaryKey;if(this._data)return e?this._data[e]:this._data}get nativeElement(){return this.element.nativeElement}constructor(e,t,i,n){this.grid=e,this.selectionService=t,this.element=i,this.cdr=n,this.addAnimationEnd=new wl,this.role="row",this.disabled=!1,this.focused=!1,this.defaultCssClass="igx-grid__tr",this.triggerAddAnimationClass=!1,this.destroy$=new Ci,this.trackPinnedColumn=oS}onClick(e){if(this.grid.rowClick.emit({row:this,event:e}),"none"===this.grid.rowSelection||this.deleted||!this.grid.selectRowOnClick)return;if(e.shiftKey&&this.grid.isMultiRowSelectionEnabled)return void this.selectionService.selectMultipleRows(this.key,this.data,e);let t=!(+e.ctrlKey^+e.metaKey);this.selected&&!t?this.selectionService.deselectRow(this.key,e):this.selectionService.selectRowById(this.key,t,e)}onContextMenu(e){let t=e.target.closest(".igx-grid__td");this.grid.contextMenu.emit({row:this,cell:this.cells.find((e=>e.nativeElement===t)),event:e})}showActionStrip(){this.grid.actionStrip&&this.grid.actionStrip.show(this)}hideActionStrip(){this.grid.actionStrip&&this.grid.actionStrip.hideOnRowLeave&&this.grid.actionStrip.hide()}ngAfterViewInit(){this._virtDirRow.changes.pipe(Nn(this.destroy$)).subscribe((()=>this.grid.resetHorizontalVirtualization()))}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}onRowSelectorClick(e){e.stopPropagation(),e.shiftKey&&this.grid.isMultiRowSelectionEnabled?this.selectionService.selectMultipleRows(this.key,this.data,e):this.selected?this.selectionService.deselectRow(this.key,e):this.selectionService.selectRowById(this.key,!1,e)}update(e){let t=this.grid.crudService;t.cellInEditMode&&t.cell.id.key===this.key&&this.grid.transactions.endPending(!1);let i=new FF(this.key,this.index,this.data,this.grid);this.grid.gridAPI.update_row(i,e),this.cdr.markForCheck()}delete(){this.grid.deleteRowById(this.key)}isCellActive(e){let t=this.grid.navigation.activeNode;return!!t&&t.row===this.index&&t.column===e}pin(){return this.grid.pinRow(this.key)}unpin(){return this.grid.unpinRow(this.key)}get rowCheckboxAriaLabel(){return this.grid.primaryKey?this.selected?"Deselect row with key "+this.key:"Select row with key "+this.key:this.selected?"Deselect row":"Select row"}ngDoCheck(){this.cdr.markForCheck()}shouldDisplayPinnedChip(e){return this.pinned&&this.disabled&&0===e}beginAddRow(){this.grid.crudService.enterAddRowMode(this)}triggerAddAnimation(){this.triggerAddAnimationClass=!0}animationEndHandler(){this.triggerAddAnimationClass=!1,this.addAnimationEnd.emit(this)}get resolveDragIndicatorClasses(){return"igx-grid__drag-indicator "+(this.grid.rowDragging&&!this.dragging?"igx-grid__drag-indicator--off":"")}static{this.ɵfac=function(t){return new(t||e)(lu(zF),lu(rP),lu(zl),lu(Cf))}}static{this.ɵdir=rg({type:e,selectors:[["","igxRowBaseComponent",""]],viewQuery:function(e,t){if(1&e&&(pm(OF,5,OF),pm(sP,5,nO),pm(oP,5)),2&e){let e;mm(e=fm())&&(t.checkboxElement=e.first),mm(e=fm())&&(t._virtDirRow=e),mm(e=fm())&&(t._cells=e)}},hostVars:8,hostBindings:function(e,t){1&e&&rm("click",(function(e){return t.onClick(e)}))("contextmenu",(function(e){return t.onContextMenu(e)}))("mouseenter",(function(){return t.showActionStrip()}))("mouseleave",(function(){return t.hideActionStrip()})),2&e&&($g("role",t.role)("aria-disabled",t.disabled)("data-rowIndex",t.dataRowIndex)("aria-selected",t.selected),op("min-height",t.rowHeight,"px"),ap("igx-grid__tr--disabled",t.disabled))},inputs:{data:"data",index:"index",disabled:[2,"disabled","disabled",Hf],gridID:"gridID",selected:"selected"},outputs:{addAnimationEnd:"addAnimationEnd"}})}}return e})(),lP=(()=>{class e{get grid(){return this.strip.context.grid}get isRowContext(){return this.isRow(this.strip?.context)&&!this.strip.context.inEditMode}constructor(e,t){this.iconService=e,this.differs=t,this.asMenuItems=!1}ngAfterViewInit(){this.asMenuItems&&this.buttons.changes.subscribe((()=>{this.strip.cdr.detectChanges()}))}isRow(e){return e&&e instanceof aP}static{this.ɵfac=function(t){return new(t||e)(lu(_A),lu(Pf))}}static{this.ɵdir=rg({type:e,selectors:[["","igxGridActionsBase",""]],viewQuery:function(e,t){if(1&e&&pm(IF,5),2&e){let e;mm(e=fm())&&(t.buttons=e)}},inputs:{asMenuItems:[2,"asMenuItems","asMenuItems",Hf]}})}}return e})(),dP=class{},cP=["dropdown"],hP=["*"],uP=e=>({$implicit:e});function gP(e,t){return this.trackMenuItem(t)}function pP(e,t){if(1&e){let e=Kp();Lp(0,"button",4),rm("click",(function(t){return Ko(e),jo(t.stopPropagation())})),Hp(1,"igx-icon",5),Np()}if(2&e){let e=om(),t=vm(4);rp("igxToggleAction",t)("overlaySettings",e.menuOverlaySettings)("title",e.resourceStrings.igx_action_strip_button_more_title)("igxDropDownItemNavigation",t)}}function mP(e,t){1&e&&$p(0)}function fP(e,t){if(1&e&&(Lp(0,"igx-drop-down-item",3)(1,"div",6),bg(2,mP,1,0,"ng-container",7),Np()()),2&e){let e=t.$implicit;Hc(2),rp("ngTemplateOutlet",e.templateRef)("ngTemplateOutletContext",Mm(2,uP,e))}}var vP=(()=>{class e{constructor(e){this.templateRef=e}static{this.ɵfac=function(t){return new(t||e)(lu(jh))}}static{this.ɵdir=rg({type:e,selectors:[["","igxActionStripMenuItem",""]]})}}return e})(),yP=(()=>{class e{set resourceStrings(e){this._resourceStrings=Object.assign({},this._resourceStrings,e)}get resourceStrings(){return this._resourceStrings}get hideOnRowLeave(){return 0===this.menu.items.length||(this.menu.items.length>0?!!this.menu.collapsed:void 0)}constructor(e,t,i,n){this._viewContainer=e,this.renderer=t,this.el=i,this.cdr=n,this.hidden=!1,this.menuOverlaySettings={scrollStrategy:new GI},this._hidden=!1,this._resourceStrings=TA(iF),this.hostClass="igx-action-strip",this.trackMenuItem=oS}get menuItems(){let e=[];return this.actionButtons.forEach((t=>{if(t.asMenuItems){let i=t.buttons;i&&i.toArray().forEach((t=>e.push(t)))}})),[...this._menuItems.toArray(),...e]}get display(){return this.hidden?"none":"flex"}ngAfterContentInit(){this.actionButtons.forEach((e=>{e.strip=this})),this.actionButtons.changes.subscribe((()=>{this.actionButtons.forEach((e=>{e.strip=this}))}))}ngAfterViewInit(){this.menu.selectionChanging.subscribe((e=>{let t=e.newSelection.elementRef.nativeElement,i=[];this.actionButtons.forEach((e=>{e.asMenuItems&&(i=[...i,...e.buttons.toArray()])}));let n=i.find((e=>t.contains(e.container.nativeElement)));n&&n.actionClick.emit()})),this._originalParent=this._viewContainer.element.nativeElement?.parentElement}show(e){this.hidden=!1,e&&(this.context!==e&&this.closeMenu(),this.context=e,this.context&&this.context.element&&this.renderer.appendChild(e.element.nativeElement,this._viewContainer.element.nativeElement),this.cdr.detectChanges())}hide(){this.hidden=!0,this.closeMenu(),this._originalParent?this.renderer.appendChild(this._originalParent,this._viewContainer.element.nativeElement):this.context&&this.context.element&&this.renderer.removeChild(this.context.element.nativeElement,this._viewContainer.element.nativeElement)}closeMenu(){this.menu&&!this.menu.collapsed&&this.menu.close()}static{this.ɵfac=function(t){return new(t||e)(lu(Su),lu(ru),lu(zl),lu(Cf))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-action-strip"]],contentQueries:function(e,t,i){if(1&e&&(gm(i,vP,4),gm(i,lP,4)),2&e){let e;mm(e=fm())&&(t._menuItems=e),mm(e=fm())&&(t.actionButtons=e)}},viewQuery:function(e,t){if(1&e&&pm(cP,5),2&e){let e;mm(e=fm())&&(t.menu=e.first)}},hostVars:4,hostBindings:function(e,t){2&e&&(op("display",t.display),ap("igx-action-strip",t.hostClass))},inputs:{context:"context",hidden:[2,"hidden","hidden",Hf],resourceStrings:"resourceStrings"},features:[Pm([{provide:dP,useExisting:e}])],ngContentSelectors:hP,decls:7,vars:1,consts:[["dropdown",""],[1,"igx-action-strip__actions"],["type","button","igxIconButton","flat","igxRipple","",3,"igxToggleAction","overlaySettings","title","igxDropDownItemNavigation"],[1,"igx-action-strip__menu-item"],["type","button","igxIconButton","flat","igxRipple","",3,"click","igxToggleAction","overlaySettings","title","igxDropDownItemNavigation"],["family","default","name","more_vert"],[1,"igx-drop-down__item-template"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(lm(),Lp(0,"div",1),dm(1,0,["#content",""]),bg(2,pP,2,4,"button",2),Lp(3,"igx-drop-down",null,0),Op(5,fP,3,4,"igx-drop-down-item",3,gP,!0),Np()()),2&e&&(Hc(2),Ip(t.menuItems.length>0?2:-1),Hc(3),Pp(t.menuItems))},dependencies:[qv,rO,hO,bO,eR,DA,yF,uF],encapsulation:2})}}return e})(),xP="pin-left",_P='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Pin Left Icon</title><desc>A picture depicting a pin pointed to the left.</desc><path d="M15.18 2.25l7.07 7.07-2.83-.01-3.54 3.55.01 4.24-3.53-3.54-5.66 5.66H5.28V17.8l5.66-5.66L7.4 8.61l4.24.01 3.55-3.54-.01-2.83z"/></svg>',wP="unpin-left",CP='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Unpin Left Icon</title><desc>A picture depicting a crossed-out left-pointed pin.</desc><path d="M11.8 14.1l-5.1 5.1H5.3v-1.4l5.1-5.1L2 4.3 3.3 3l18 18-1.3 1.2-8.2-8.1zm4-.5l-5-5h.7L15.1 5V2.2l7.1 7.1h-2.8l-3.5 3.5-.1.8z"/></svg>',SP={name:"case-sensitive",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Case Sensitive Icon</title><desc>A picture showing the letter A written in both upper and lower case.</desc><path d="M21.2 16.5c0-.2-.1-.5-.1-.7v-4.4c0-.4-.1-.8-.3-1.2-.2-.3-.5-.6-.8-.7-.3-.2-.7-.3-1.1-.3-.4-.1-.8-.1-1.2-.1-.5 0-.9 0-1.4.1-.4.1-.8.3-1.2.5-.3.2-.6.5-.8.9s-.3.9-.3 1.3h1.4c0-.5.2-1 .7-1.3.5-.2 1-.4 1.5-.3.2 0 .5 0 .7.1.2 0 .4.1.6.2.2.1.3.2.5.4.1.2.2.5.2.7s-.1.4-.2.6c-.2.2-.4.3-.6.3-.3.1-.6.1-.9.2-.4 0-.7.1-1.1.2-.4.1-.7.1-1.1.2-.3.1-.7.2-1 .4s-.5.5-.7.8c-.2.4-.3.8-.3 1.2s.1.8.2 1.1c.1.3.4.5.6.7.3.2.6.3.9.4.9.2 1.9.2 2.8-.2.5-.2 1-.6 1.4-1 0 .4.1.7.3 1 .2.2.6.3.9.3.4 0 .7-.1 1-.2v-1.1c-.1 0-.3.1-.4.1-.1.1-.2 0-.2-.2zm-1.5-1.7c0 .2-.1.4-.2.6-.1.2-.3.5-.5.6-.2.2-.5.4-.8.5-.4.1-.8.2-1.2.2-.2 0-.4 0-.6-.1-.2 0-.4-.1-.5-.2-.2-.1-.3-.2-.4-.4-.1-.2-.2-.4-.1-.6 0-.3.1-.6.2-.8.2-.2.4-.4.6-.5.3-.1.6-.2.9-.2s.7-.1 1-.1.6-.1.9-.1.5-.1.7-.3v1.4zm-9.6-.4l1.3 3.6h1.8L8.5 6H6.7L2 18h1.7L5 14.4h5.1zm-2.5-7l2.1 5.5H5.5l2.1-5.5z"/></svg>',categories:["editor"],keywords:["case","sensitive","character","text","mode","sentence","style","change","compare","filter"]},bP={name:"ends-with",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Ends With Icon</title><desc>A picture showing three dots followed by lowercase a.</desc><path d="M3 14.5h2v2H3zm8 0h2v2h-2zm-4 0h2v2H7zm13.8.3v-3A2.1 2.1 0 0020 10a3 3 0 00-2-.6 3 3 0 00-2 .6 1.7 1.7 0 00-.7 1.5h1.5a.8.8 0 01.3-.7 1.3 1.3 0 01.9-.3 1.3 1.3 0 01.9.4 1.1 1.1 0 01.3.8v.6H18a3.8 3.8 0 00-2.2.6 1.8 1.8 0 00-.8 1.5 2 2 0 00.6 1.6 2.3 2.3 0 001.6.6 2.1 2.1 0 001.2-.4 2.8 2.8 0 00.8-.8 4.3 4.3 0 00.1.5l.1.5H21a4.1 4.1 0 01-.2-.7 5.4 5.4 0 010-1zm-1.6-.5a1.5 1.5 0 01-.6.7 2 2 0 01-1 .2 1.1 1.1 0 01-.8-.2.8.8 0 01-.2-.6 1 1 0 01.3-.8 1.5 1.5 0 011.1-.3h1.2z"/></svg>',categories:["editor"],keywords:["end","character","compare","filter"]},DP={name:"equals",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Equals Icon</title><desc>A picture showing the equals sign.</desc><path d="M5 13.5h14v2H5zm0-5h14v2H5z"/></svg>',categories:["editor"],keywords:["equal","equals","compare","filter","equality","calculation","math"]},EP={name:"is-empty",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Is Empty Icon</title><desc>A picture showing a dotted square.</desc><path d="M5 17h2v2H5zm8 0h2v2h-2zm-8-4h2v2H5zm12 4h2v2h-2zM13 5h2v2h-2zM9 17h2v2H9zm8-8h2v2h-2zm0 4h2v2h-2zm0-8h2v2h-2zM5 9h2v2H5zm0-4h2v2H5zm4 0h2v2H9z"/></svg>',categories:["editor"],keywords:["empty","box","nothing"]},TP=[{name:"bottom-percentile-records",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Bottom records</title><desc>Shows percentile records positioned at the bottom.</desc><path d="M12 10L8 6h3V2h2v4h3zm-4 8h4v-2H8zm0-4h8v-2H8zm10-1a5.976 5.976 0 012 .35V4a2 2 0 00-2-2h-3v2h3zm-5.91 7H6V4h3V2H6a2 2 0 00-2 2v16a2 2 0 002 2h6.812a5.945 5.945 0 01-.722-2zm4.872-2.435a.157.157 0 00-.058-.1.213.213 0 00-.2 0 .158.158 0 00-.059.1 1.008 1.008 0 00-.028.189c-.005.08-.008.185-.008.314s0 .23.008.312a1.046 1.046 0 00.028.192.155.155 0 00.059.094.213.213 0 00.2 0 .154.154 0 00.058-.094.966.966 0 00.028-.192c.01-.08.01-.186.01-.312s0-.234-.008-.314a.931.931 0 00-.03-.189zm2.393 1.88a.166.166 0 00-.059-.095.22.22 0 00-.2 0 .156.156 0 00-.058.095.954.954 0 00-.028.189q-.009.12-.009.315c0 .126 0 .23.009.311a.943.943 0 00.028.192.156.156 0 00.058.095.213.213 0 00.2 0 .166.166 0 00.059-.095 1.019 1.019 0 00.028-.192c.005-.081.008-.185.008-.311s0-.235-.008-.315a1.035 1.035 0 00-.028-.189zM22 19a4 4 0 11-4-4 4 4 0 014 4zm-5.2.136a1.252 1.252 0 00.411-.058.582.582 0 00.27-.186.8.8 0 00.148-.331 2.778 2.778 0 000-.985.784.784 0 00-.148-.331.583.583 0 00-.27-.187 1.489 1.489 0 00-.823 0 .594.594 0 00-.27.187.8.8 0 00-.147.331 2.778 2.778 0 000 .985.808.808 0 00.147.331.592.592 0 00.27.186 1.258 1.258 0 00.412.058zM19.185 17h-.612l-1.764 4h.612zm.884 2.949a2.328 2.328 0 00-.044-.493.808.808 0 00-.147-.331.592.592 0 00-.27-.186 1.465 1.465 0 00-.823 0 .582.582 0 00-.27.186.8.8 0 00-.148.331 2.778 2.778 0 000 .985.79.79 0 00.148.331.534.534 0 00.27.178 1.718 1.718 0 00.823 0 .543.543 0 00.27-.178.8.8 0 00.147-.331 2.311 2.311 0 00.044-.492z"/></svg>',categories:["editor"]},{name:"bottom-records",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Bottom records</title><desc>Shows records positioned at the bottom.</desc><path d="M12 10L8 6h3V2h2v4h3zm4 2H8v2h8zm-4 4H8v2h4zm-6 6h12a2 2 0 002-2V4a2 2 0 00-2-2h-3v2h3v16H6V4h3V2H6a2 2 0 00-2 2v16a2 2 0 002 2z"/></svg>',categories:["editor"]},SP,{name:"check",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Check Icon</title><desc>A picture depicting a check mark.</desc><path d="M19.4 5.3l1.4 1.4-12 12-5.6-5.6 1.4-1.4 4.2 4.2z"/></svg>',categories:["editor"],keywords:["check","checked","mark","tick","ok","success"]},{name:"contains",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Contains Icon</title><desc>A picture showing the lowercase letter A in a square box.</desc><path d="M3 3v18h18V3zm16 16H5V5h14z"/><path d="M12 11.3a4.39 4.39 0 00-2.54.63 2.07 2.07 0 00-.9 1.78 2.29 2.29 0 00.66 1.74 2.63 2.63 0 001.89.63 2.39 2.39 0 001.32-.37 3.05 3.05 0 001-.93 3.72 3.72 0 00.08.57c0 .19.1.38.16.58h1.79a4.51 4.51 0 01-.21-.88 5.57 5.57 0 01-.07-.93v-3.5a2.44 2.44 0 00-.84-2 3.34 3.34 0 00-2.22-.7 3.54 3.54 0 00-2.3.72A1.93 1.93 0 009 10.29h1.71a.93.93 0 01.29-.71 1.5 1.5 0 011-.29 1.45 1.45 0 011 .35 1.3 1.3 0 01.37 1v.69zm1.4 1.08v1.17a1.61 1.61 0 01-.71.77 2.27 2.27 0 01-1.21.34 1.18 1.18 0 01-.84-.27.92.92 0 01-.3-.72 1.16 1.16 0 01.44-.9 1.76 1.76 0 011.22-.39z"/></svg>',categories:["editor"],keywords:["contains","letter","contain","compare","filter"]},{name:"custom-filter",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Custom Filter Icon</title><desc>An icon showing that custom filter is applied.</desc><path d="M12.138 21H8.2a1.171 1.171 0 01-1.152-1.188v-5.937L2.123 4.719A1.187 1.187 0 013.153 3h14.694a1.187 1.187 0 011.03 1.719l-3.763 7a2.2 2.2 0 00-.437.642h-.3a2.206 2.206 0 00-1.922 1.11l-.9 1.553-.058.109a2.246 2.246 0 00.212 2.366 2.185 2.185 0 00-.168 2.462zm9.775-2.319a.21.21 0 01.056.281l-.9 1.564a.226.226 0 01-.27.1l-1.113-.449a3.415 3.415 0 01-.754.438l-.18 1.193a.221.221 0 01-.225.191h-1.8a.228.228 0 01-.225-.191l-.169-1.193a3.233 3.233 0 01-.765-.438l-1.114.449a.236.236 0 01-.281-.1l-.9-1.564a.213.213 0 01.056-.281l.945-.742a5.864 5.864 0 01-.022-.439 2.709 2.709 0 01.045-.439l-.956-.742a.224.224 0 01-.057-.293l.9-1.552a.222.222 0 01.27-.1l1.125.45a3.581 3.581 0 01.754-.438l.169-1.193a.228.228 0 01.225-.193h1.8a.23.23 0 01.225.191l.169 1.193a3.348 3.348 0 01.753.438l1.125-.45a.217.217 0 01.27.1l.9 1.552a.225.225 0 01-.056.293l-.956.742A1.8 1.8 0 0121 17.5c0 .146-.011.293-.023.439zM19.236 17.5a1.609 1.609 0 10-1.609 1.609 1.609 1.609 0 001.609-1.609z"/></svg>',categories:["editor"],keywords:["custom","filter"]},{name:"does-not-contain",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Does-Not-Contain Icon</title><desc>A picture showing the lowercase letter A in a crossed-out square box.</desc><path d="M21 19.74V3H4.26L2.89 1.63 1.63 2.92 3 4.29V21h16.73l1.37 1.37 1.27-1.26zM5 19V6.28l5.28 5.27a3.19 3.19 0 00-.81.38 2.07 2.07 0 00-.9 1.78 2.29 2.29 0 00.66 1.74 2.63 2.63 0 001.89.63 2.39 2.39 0 001.32-.37 3.05 3.05 0 001-.93 3.72 3.72 0 00.08.57c0 .19.1.38.16.58h1L17.73 19zm5.79-6.23a1.31 1.31 0 01.45-.25l1.37 1.36.28.29a1.57 1.57 0 01-.19.15 2.27 2.27 0 01-1.21.34 1.18 1.18 0 01-.84-.27.92.92 0 01-.3-.72 1.16 1.16 0 01.44-.9zm2.6-1.47h-.83l-1.62-1.62.08-.1a1.5 1.5 0 011-.29 1.45 1.45 0 011 .35 1.3 1.3 0 01.37 1zM19 17.74l-3.85-3.85v-3.27a2.44 2.44 0 00-.84-2 3.34 3.34 0 00-2.22-.7 3.64 3.64 0 00-2.24.67L6.26 5H19z"/></svg>',categories:["editor"],keywords:["contains","character","contain","compare","filter"]},{name:"does-not-end-with",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Does-Not-End-With Icon</title><desc>A picture showing crossed-out lines at the end of a square box.</desc><path d="M20.293 2.293l1.414 1.414-18 18-1.414-1.414zM18 13h-2.757l-2 2H18zm2 8H7.243l-2 2H20a2 2 0 002-2V6.242l-2 2zm-2-4h-6.757l-2 2H18zM4 3h12.757l2-2H4a2 2 0 00-2 2v14.757l2-2z"/></svg>',categories:["editor"]},{name:"does-not-start-with",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Does-Not-Start-With Icon</title><desc>A picture showing crossed-out lines at the beginning of a square box.</desc><path d="M3.707 21.707l-1.414-1.414 18-18 1.414 1.414zM6 11h2.757l2-2H6zM4 3h12.757l2-2H4a2 2 0 00-2 2v14.757l2-2zm2 4h6.757l2-2H6zm14 14H7.243l-2 2H20a2 2 0 002-2V6.243l-2 2z"/></svg>',categories:["editor"]},{name:"end-expression",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>End Expression Icon</title><desc>A picture showing three dots followed by a right-pointed chevron.</desc><path d="M13.14 6.76L17.49 12l-4.35 5.24 1.54 1.28L20.09 12l-5.41-6.52-1.54 1.28z"/><path d="M11.91 11h2v2h-2zm-4 0h2v2h-2zm-4 0h2v2h-2z"/></svg>',categories:["editor"],keywords:["end","expression","arrow","right"]},bP,DP,{name:"exact-match",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Exact Match Icon</title><desc>A picture depicting an arrow hitting bulls-eye.</desc><path d="M5.683 9a7 7 0 110 6h2.342a5 5 0 100-6zM3.79 7.047a9.6 9.6 0 110 9.906l-1.735 1.735a12 12 0 100-13.376zM0 14.914l1.432 1.414L4.8 13h6.161v2L14 12l-3.037-3v2H4.8L1.432 7.672 0 9.086 2.95 12z"/></svg>',categories:["editor"],keywords:["exact","match","arrow","target","goal","aim","business","dart","bullseye"]},{name:"greater-than",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Greater Than Icon</title><desc>A picture showing the greater-than symbol.</desc><path d="M6 7.11L15.09 12 6 16.89V19l12-6.46v-1.08L6 5v2.11z"/></svg>',categories:["editor"],keywords:["greater","more","compare","next","forward","chevron","math","inequalty","arrow"]},{name:"greater-than-or-equal",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Greater Than or Equal Icon</title><desc>A picture showing the grater-than or equal symbol.</desc><path d="M5.99 19h12.02v2H5.99zM18 9.47L6 3v2.11L15.09 10 6 14.9v2.11l12-6.47V9.47z"/></svg>',categories:["editor"],keywords:["greater","more","equal","equals","compare","math"]},{name:"is-after",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Is After Icon</title><desc>A picture showing a square bracket drawn after a vertical line.</desc><path d="M15 7h4v10h-4v2h6V5h-6v2zm-4-4h2v18h-2zM7 5h2v2H7zM3 5h2v2H3zm0 12h2v2H3zm0-4h2v2H3zm0-4h2v2H3zm4 8h2v2H7z"/></svg>',categories:["editor"],keywords:["after","comparison","before","convert","decode","render","scan"]},{name:"is-before",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Is Before Icon</title><desc>A picture showing a square bracket drawn before a vertical line.</desc><path d="M3 19h6v-2H5V7h4V5H3v14zm8-16h2v18h-2zm4 2h2v2h-2zm4 0h2v2h-2zm0 8h2v2h-2zm-4 4h2v2h-2zm4 0h2v2h-2zm0-8h2v2h-2z"/></svg>',categories:["editor"],keywords:["after","comparison","before","convert","decode","render","scan"]},EP,{name:"is-false",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Is False Icon</title><desc>A picture showing an encircled X symbol.</desc><path d="M8 5a7 7 0 107 7 7 7 0 00-7-7zm4.31 9.79l-1.52 1.52L8 13.52l-2.79 2.79-1.52-1.52L6.48 12 3.69 9.21l1.52-1.52L8 10.48l2.79-2.79 1.52 1.52L9.52 12zM18 7a5 5 0 00-3 1.06 7.48 7.48 0 01.49 1 3.89 3.89 0 110 5.82 8.08 8.08 0 01-.49 1A5 5 0 1018 7z"/><path d="M17.52 13.85l2.91-2.92-.78-.78-2.13 2.12-1.17-1.15-.38.37-.41.41.42.42L17 13.34l.52.51z"/></svg>',categories:["editor"],keywords:["false","true","choice","options","yes","no","check","tick","cross"]},{name:"is-not-null",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Is Not Null Icon</title><desc>A picture showing a crossed-out circle.</desc><path d="M16.58 6.07l.79-1.36-1.74-1-.78 1.35a7.5 7.5 0 00-7.43 12.87l-.79 1.36 1.74 1 .78-1.35a7.5 7.5 0 007.43-12.87zM6.5 12A5.5 5.5 0 0112 6.5a5.65 5.65 0 011.84.32l-5.41 9.36A5.49 5.49 0 016.5 12zm5.5 5.5a5.65 5.65 0 01-1.84-.32l5.41-9.36A5.5 5.5 0 0112 17.5z"/></svg>',categories:["editor"],keywords:["empty","null","void","problem","number","invalid","inoperative","none","nothing"]},{name:"is-null",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Is Null Icon</title><desc>A picture showing an empty circle.</desc><path d="M12 4.5a7.5 7.5 0 107.5 7.5A7.5 7.5 0 0012 4.5zm0 13a5.5 5.5 0 115.5-5.5 5.5 5.5 0 01-5.5 5.5z"/></svg>',categories:["editor"],keywords:["null","circle","zero","o"]},{name:"is-true",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>is True Icon</title><desc>A picture showing an encircled check mark symbol.</desc><path d="M19.44 14.22zm-2.88 0zm0 0L18 12.79l1.44 1.43.78-.78L18.79 12l1.43-1.44-.78-.78L18 11.21l-1.44-1.43-.78.78L17.21 12l-1.43 1.44.78.78z"/><path d="M18 7a5 5 0 00-3 1.06 7.48 7.48 0 01.49 1 3.89 3.89 0 110 5.82 8.08 8.08 0 01-.49 1A5 5 0 1018 7zM8 5a7 7 0 107 7 7 7 0 00-7-7zm-.93 10.18l-3.38-3.37 1.13-1.12 2.25 2.25 4.11-4.12 1.13 1.12z"/></svg>',categories:["editor"],keywords:["true","false","choice","options","yes","no","check","tick","cross"]},{name:"last-month",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Last Month Icon</title><desc>A picture depicting a calendar with a back-arrow at the end.</desc><path d="M17.5 14a4.48 4.48 0 104.5 4.5 4.47 4.47 0 00-4.5-4.5zm3.5 5.5h-4v2l-3-3 3-3v2h4zM5 9h2v2H5zm0 4h2v2H5zm5 0h2v2h-2zm-5 4h2v2H5zm5 0h2v2h-2zm0-8h2v2h-2zm5 0h2v2h-2z"/><path d="M4 8h14v4h2V5a2 2 0 00-2-2h-1V1h-2v2H7V1H5v2H4a2 2 0 00-2 2v15a2 2 0 002 2h7v-2H4z"/></svg>',categories:["editor"],keywords:["last","calendar","month","date","day","previous","schedule","arrow","left","page"]},{name:"last-quarter",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Last Quarter Icon</title><desc>A picture depicting a quarter of a circle with an arrow pointing right.</desc><path d="M4 9.253A8.03 8.03 0 019.747 15H4V9.253M2 7v10h10A10 10 0 002 7zm18 9h2V8h-2zm-4-8v3h-3v2h3v3l4-4z"/></svg>',categories:["editor"]},{name:"last-week",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Last Week Icon</title><desc>A picture depicting a square with an arrow pointing down.</desc><path d="M2 20V4a2 2 0 012-2h5v2H4v16h16V4h-5V2h5a2 2 0 012 2v16a2 2 0 01-2 2H4a2 2 0 01-2-2zm4-2h12v-3H6zm10-9h-3V2h-2v7H8l4 4z"/></svg>',categories:["editor"]},{name:"last-year",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Last Year Icon</title><desc>A picture depicting a calendar with an back-arrow in the middle.</desc><path d="M21 10v11H7v2h14a2 2 0 002-2V10z"/><path d="M19 17V5a2 2 0 00-2-2h-1V1h-2v2H6V1H4v2H3a2 2 0 00-2 2v12a2 2 0 002 2h14a2 2 0 002-2zM3 17V7h14v10H3z"/><path d="M8.87 9l-2.99 3 2.99 3v-2.25h5.26v-1.5H8.87V9z"/></svg>',categories:["editor"],keywords:["last","calendar","month","date","previous","schedule","arrow","left"]},{name:"less-than",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Less Than Icon</title><desc>A picture showing the less-than symbol.</desc><path d="M6 12.54L18 19v-2.11L8.91 12 18 7.11V5L6 11.46v1.08z"/></svg>',categories:["editor"],keywords:["less","smaller","compare","previous","back","chevron","math","inequalty","arrow"]},{name:"less-than-or-equal",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Less Than or Equal Icon</title><desc>A picture showing the lass-than or equal symbol.</desc><path d="M5.99 19h12.02v2H5.99zM18 14.9L8.91 10 18 5.11V3L6 9.47v1.07l12 6.47V14.9z"/></svg>',categories:["editor"],keywords:["less","smaller","equal","equals","compare","math"]},{name:"match",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Match Icon</title><desc>A picture depicting two puzzle pieces fitting together.</desc><path d="M10 8a3.909 3.909 0 011 .13V6H0v12h3.779a3 3 0 104.442 0H11v-2.13a3.909 3.909 0 01-1 .13 4 4 0 010-8z"/><path d="M24 6h-3.779a3 3 0 10-4.442 0H12v3.779a3 3 0 100 4.442V18h3.779a3 3 0 104.442 0H24z"/></svg>',categories:["editor"],keywords:["match","fit","puzzle","pieces","jigsaw","combination","play","game","toy"]},{name:"month",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Month Icon</title><desc>A picture depicting a month calendar.</desc><path d="M20 2H4a2 2 0 00-2 2v16a2 2 0 002 2h16a2 2 0 002-2V4a2 2 0 00-2-2zm0 18H4V4h16zM11 9H9V7h2zm4 0h-2V7h2zm-8 4H5v-2h2zm4 0H9v-2h2zm4 0h-2v-2h2zm4 0h-2v-2h2zM7 17H5v-2h2zm4 0H9v-2h2zm4 0h-2v-2h2zm4-8h-2V7h2z"/></svg>',categories:["editor"]},{name:"next-month",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Next Month icon</title><desc>A picture depicting a calendar with a forward-arrow at the end.</desc><path d="M20 14.76a4.5 4.5 0 102 3.74 4.47 4.47 0 00-2-3.74zm-2 6.74v-2h-4v-2h4v-2l3 3zM5 9h2v2H5zm0 4h2v2H5zm5 0h2v2h-2zm-5 4h2v2H5zm5 0h2v2h-2zm0-8h2v2h-2zm5 0h2v2h-2z"/><path d="M4 8h14v4h2V5a2 2 0 00-2-2h-1V1h-2v2H7V1H5v2H4a2 2 0 00-2 2v15a2 2 0 002 2h7v-2H4z"/></svg>',categories:["editor"],keywords:["next","calendar","month","date","day","following","schedule","arrow","right","page"]},{name:"next-quarter",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Next Quarter Icon</title><desc>A picture depicting a quarter circle with an arrow pointing right.</desc><path d="M4 9.253A8.03 8.03 0 019.747 15H4V9.253M2 7v10h10A10 10 0 002 7zm16 1v3h-4v2h4v3l4-4z"/></svg>',categories:["editor"]},{name:"next-week",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Next Week Icon</title><desc>A picture depicting a square with an arrow pointing right.</desc><path d="M20 2H4a2 2 0 00-2 2v16a2 2 0 002 2h16a2 2 0 002-2V4a2 2 0 00-2-2zm0 18H4V4h16zM18 9H6V6h12zm0 5l-4 4v-3H6v-2h8v-3z"/></svg>',categories:["editor"]},{name:"next-year",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Next Year icon</title><desc>A picture depicting a calendar with a forward-arrow in the middle.</desc><path d="M21 21H7v2h14a2 2 0 002-2V10h-2z"/><path d="M19 17V5a2 2 0 00-2-2h-1V1h-2v2H6V1H4v2H3a2 2 0 00-2 2v12a2 2 0 002 2h14a2 2 0 002-2zM3 17V7h14v10H3z"/><path d="M11.13 11.25H5.88v1.5h5.25V15l3-3-3-3v2.25z"/></svg>',categories:["editor"],keywords:["next","calendar","month","date","following","schedule","arrow","right"]},{name:"not-empty",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Not Empty Icon</title><desc>A picture showing a crossed-out dotted square.</desc><path d="M5 9h2v2H5zm4 8h2v2H9zm4 0h2v2h-2zm4-8h2v2h-2zm0-4h2v2h-2zM5 17h2v2H5zm8-12h2v2h-2zm-8 8h2v2H5zm14 2v-2h-2v.47L18.53 15H19zm-8-8V5H9v.46L10.54 7H11zM2.76 1.76L1.5 3.06 20.97 22.5l1.26-1.26-8.89-8.89L2.76 1.76z"/></svg>',categories:["editor"],keywords:["empty","full"]},{name:"not-equal",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Not Equal Icon</title><desc>A picture showing a crossed-out equals symbol.</desc><path d="M17.37 4.71l-1.74-1-2.76 4.79H5v2h6.71l-1.73 3H5v2h3.82l-2.19 3.79 1.74 1 2.76-4.79H19v-2h-6.71l1.73-3H19v-2h-3.82l2.19-3.79z"/></svg>',categories:["editor"],keywords:["equal","equals","different","compare","filter","equality","calculation","math"]},{name:"previous-quarter",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Previous Quarter Icon</title><desc>A picture depicting a quarter circle with an arrow pointing left.</desc><path d="M12 7v10h10A10 10 0 0012 7zM2 12l4 4v-3h4v-2H6V8z"/></svg>',categories:["editor"]},{name:"previous-week",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Next Week Icon</title><desc>A picture depicting a square with an arrow pointing left.</desc><path d="M20 2H4a2 2 0 00-2 2v16a2 2 0 002 2h16a2 2 0 002-2V4a2 2 0 00-2-2zm0 18H4V4h16zm-2-2H6v-3h12zM10 6v3h8v2h-8v3l-4-4z"/></svg>',categories:["editor"]},{name:"quarter-four",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Quarter Four Icon</title><desc>A picture depicting a quarter of a circle next to a three-thirds circle.</desc><path d="M22 15.5a6.5 6.5 0 01-13 0v-.65h5.85V9h.65a6.508 6.508 0 016.5 6.5zm-11.66.65a5.2 5.2 0 105.81-5.81v5.81zM2 13h11V2A11 11 0 002 13zm5-2H6V7h1zm3 0L8 7h1l1 2 1-2h1z"/></svg>',categories:["editor"]},{name:"quarter-one",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Quarter One Icon</title><desc>A picture depicting a quarter of a circle next to a three-thirds circle.</desc><path d="M8.5 22a6.5 6.5 0 010-13h.65v5.85H15v.65A6.508 6.508 0 018.5 22zm-.65-11.66a5.2 5.2 0 105.81 5.81H7.85zM11 2v11h11A11 11 0 0011 2zm5 8h-1V6h1z"/></svg>',categories:["editor"]},{name:"quarter-three",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Quarter Three Icon</title><desc>A picture depicting a quarter of a circle next to a three-thirds circle.</desc><path d="M15.5 2a6.5 6.5 0 010 13h-.65V9.15H9V8.5A6.508 6.508 0 0115.5 2zm.65 11.66a5.2 5.2 0 10-5.81-5.81h5.81zM2 11a11 11 0 0011 11V11zm5 6H6v-4h1zm2 0H8v-4h1zm2 0h-1v-4h1z"/></svg>',categories:["editor"]},{name:"quarter-two",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Quarter Two Icon</title><desc>A picture depicting a quarter of a circle next to a three-thirds circle.</desc><path d="M2 8.5a6.5 6.5 0 0113 0v.65H9.15V15H8.5A6.508 6.508 0 012 8.5zm11.66-.65a5.2 5.2 0 10-5.81 5.81V7.85zM11 11v11a11 11 0 0011-11zm4 6h-1v-4h1zm2 0h-1v-4h1z"/></svg>',categories:["editor"]},bP,DP,EP,{name:"select-all",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Select All Icon</title><desc>A picture showing tree lines and a check mark.</desc><path d="M2 14h8v2H2zm0-8h12v2H2zm14 11l-3-3-1.5 1.5L16 20l7-7-1.5-1.5L16 17zM2 10h12v2H2z"/></svg>',categories:["editor"],keywords:["all","select","check","multiple"]},{name:"start-expression",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Start Expression Icon</title><desc>A picture showing a left chevron followed by three dots.</desc><path d="M18.1 11h2v2h-2zm-8 0h2v2h-2z"/><path d="M10.9 6.8L9.3 5.5 4 12l5.4 6.5 1.6-1.3L6.5 12 11 6.8zm3.2 4.2h2v2h-2z"/></svg>',categories:["editor"],keywords:["start","expression","arrow","left"]},{name:"starts-with",value:'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Starts With Icon</title><desc>A picture showing the uppercase letter A followed by three dots.</desc><path d="M5.9 7.5l-3.9 9h1.7l.7-1.8h4.1l.7 1.8H11l-3.9-9H5.9zM5 13.2l1.5-4.1L8 13.2H5zm7 1.3h2v2h-2v-2zm8 0h2v2h-2v-2zm-4 0h2v2h-2v-2z"/></svg>',categories:["editor"],keywords:["start","character","compare","filter"]},{name:"this-month",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>This Month Icon</title><desc>A picture depicting a calendar with an encircled check mark at the end.</desc><path d="M6 9h2v2H6zm0 4h2v2H6zm5 0h2v2h-2zm-5 4h2v2H6zm5 0h2v2h-2zm0-8h2v2h-2zm5 0h2v2h-2zm5 5.76a4.5 4.5 0 102 3.74 4.47 4.47 0 00-2-3.74zm-2.94 5.41l-1.75-1.76.69-.71 1.05 1L20 16.83l.71.71z"/><path d="M5 8h14v4h2V5a2 2 0 00-2-2h-1V1h-2v2H8V1H6v2H5a2 2 0 00-2 2v15a2 2 0 002 2h7v-2H5z"/></svg>',categories:["editor"],keywords:["this","calendar","month","date","day","current","schedule","check","page","now"]},{name:"this-quarter",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>This Quarter Icon</title><desc>A picture depicting an arrow pointing right to a quarter of a circle.</desc><path d="M12 7v10h10A10 10 0 0012 7zm-2 5l-4 4v-3H2v-2h4V8z"/></svg>',categories:["editor"]},{name:"this-week",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>This Quarter Icon</title><desc>A picture depicting a square with an arrow pointing up.</desc><path d="M22 4v16a2 2 0 01-2 2h-5v-2h5V4H4v16h5v2H4a2 2 0 01-2-2V4a2 2 0 012-2h16a2 2 0 012 2zm-4 2H6v3h12zM8 15h3v7h2v-7h3l-4-4z"/></svg>',categories:["editor"]},{name:"this-year",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>This Year Icon</title><desc>A picture depicting a stacked calendar with a check mark in the middle.</desc><path d="M21 21H7v2h14a2 2 0 002-2V10h-2z"/><path d="M19 17V5a2 2 0 00-2-2h-1V1h-2v2H6V1H4v2H3a2 2 0 00-2 2v12a2 2 0 002 2h14a2 2 0 002-2zM3 17V7h14v10H3z"/><path d="M8.85 13.15l-1.77-1.77-.88.89 2.65 2.65 4.95-4.96-.88-.88-4.07 4.07z"/></svg>',categories:["editor"],keywords:["this","calendar","month","date","current","schedule","check","now"]},{name:"today",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Today Icon</title><desc>A picture depicting a calendar with a check mark in the middle.</desc><path d="M19 4h-1V2h-2v2H8V2H6v2H5a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2V6a2 2 0 00-2-2zm0 16H5V9h14z"/><path d="M16.53 12.06L15.47 11l-4.88 4.88-2.12-2.12-1.06 1.06L10.59 18l5.94-5.94z"/></svg>',categories:["editor"],keywords:["today","now","check","date","day","calendar","current","schedule","event"]},{name:"top-percentile-records",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Top Percentile Records Icon</title><desc>Shows percentile records positioned at the top.</desc><path d="M12 14l4 4h-3v4h-2v-4H8zm0-8H8v2h4zm4 4H8v2h8zm2 1v9h-3v2h3a2 2 0 002-2v-9.35a5.976 5.976 0 01-2 .35zM6 4h6.09a5.966 5.966 0 01.722-2H6a2 2 0 00-2 2v16a2 2 0 002 2h3v-2H6zm13.355 1.445a.166.166 0 00-.059-.1.22.22 0 00-.2 0 .156.156 0 00-.058.1.954.954 0 00-.028.189q-.01.12-.01.315c0 .126 0 .23.009.311a.943.943 0 00.028.192.156.156 0 00.058.095.213.213 0 00.2 0 .166.166 0 00.059-.095 1.019 1.019 0 00.028-.192c.005-.081.008-.185.008-.311s0-.235-.008-.315a1.035 1.035 0 00-.027-.189zm-2.393-1.88a.157.157 0 00-.062-.095.213.213 0 00-.2 0 .158.158 0 00-.059.095 1.008 1.008 0 00-.028.189c-.005.08-.008.185-.008.314s0 .23.008.312a1.046 1.046 0 00.028.192.155.155 0 00.059.094.213.213 0 00.2 0 .154.154 0 00.058-.094.966.966 0 00.028-.192C17 4.3 17 4.194 17 4.068s0-.234-.008-.314a.931.931 0 00-.03-.189zM22 5a4 4 0 11-4-4 4 4 0 014 4zm-5.2.136a1.252 1.252 0 00.411-.058.582.582 0 00.27-.186.8.8 0 00.148-.331 2.4 2.4 0 00.044-.493 2.378 2.378 0 00-.044-.492.784.784 0 00-.148-.331.583.583 0 00-.27-.187 1.489 1.489 0 00-.823 0 .594.594 0 00-.27.187.8.8 0 00-.147.331 2.311 2.311 0 00-.044.492 2.328 2.328 0 00.044.493.808.808 0 00.147.331.592.592 0 00.27.186 1.258 1.258 0 00.412.058zM19.185 3h-.612l-1.764 4h.612zm.884 2.949a2.328 2.328 0 00-.044-.493.808.808 0 00-.147-.331.592.592 0 00-.27-.186 1.465 1.465 0 00-.823 0 .582.582 0 00-.27.186.8.8 0 00-.148.331 2.328 2.328 0 00-.044.493 2.311 2.311 0 00.044.492.79.79 0 00.148.331.534.534 0 00.27.178 1.718 1.718 0 00.823 0 .543.543 0 00.27-.178.8.8 0 00.147-.331 2.311 2.311 0 00.044-.492z"/></svg>',categories:["editor"]},{name:"top-records",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Top Records Icon</title><desc>Shows records positioned at the top.</desc><path d="M12 14l4 4h-3v4h-2v-4H8zm0-8H8v2h4zm4 4H8v2h8zm2-8H6a2 2 0 00-2 2v16a2 2 0 002 2h3v-2H6V4h12v16h-3v2h3a2 2 0 002-2V4a2 2 0 00-2-2z"/></svg>',categories:["editor"]},{name:"ungroup",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Ungroup Icon</title><desc>A picture depicting a broken box with four squares inside it.</desc><path d="M15 15h5v5h-5zm-9-2h5v5H6zm7-7h5v5h-5zM6 6h5v5H6z"/><path d="M20 2H4a2 2 0 00-2 2v16a2 2 0 002 2h9v-2H4V4h16v9h2V4a2 2 0 00-2-2z"/></svg>',categories:["editor"],keywords:["ungroup","exclude","extract"]},{name:"year-to-date",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Year To Date Icon</title><desc>A picture depicting an year calendar.</desc><path d="M20 2H4a2 2 0 00-2 2v16a2 2 0 002 2h16a2 2 0 002-2V4a2 2 0 00-2-2zm0 18H4V4h16zM5 10h1.127L7.2 11.58 8.258 10h1.121l-1.7 2.465V14H6.677v-1.558zm5.044.74V10h3.745v.74h-1.37V14h-1.005v-3.26zm6.882-.74a2.667 2.667 0 01.823.123 1.86 1.86 0 01.659.37 1.679 1.679 0 01.435.616 2.205 2.205 0 01.157.868 2.456 2.456 0 01-.128.807 1.7 1.7 0 01-.387.639 1.828 1.828 0 01-.647.423 2.453 2.453 0 01-.912.154h-1.972v-4zm-.07 3.26a1.46 1.46 0 00.422-.061.951.951 0 00.365-.205 1.007 1.007 0 00.256-.372 1.453 1.453 0 00.1-.56 2.054 2.054 0 00-.067-.547 1.046 1.046 0 00-.221-.417.973.973 0 00-.407-.266 1.818 1.818 0 00-.624-.092h-.717v2.52z"/></svg>',categories:["editor"]},{name:"year",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Year icon</title><desc>A picture depicting an year calendar.</desc><path d="M20 2H4a2 2 0 00-2 2v16a2 2 0 002 2h16a2 2 0 002-2V4a2 2 0 00-2-2zm0 18H4V4h16zM7.7 11.634a1.151 1.151 0 00.317-.063.618.618 0 00.243-.152.367.367 0 00.1-.264.429.429 0 00-.2-.379.79.79 0 00-.452-.132.689.689 0 00-.533.2.668.668 0 00-.175.487h-.888a1.428 1.428 0 01.127-.542 1.246 1.246 0 01.321-.42 1.465 1.465 0 01.5-.273A2.022 2.022 0 017.7 10a2.258 2.258 0 01.55.069 1.7 1.7 0 01.5.206 1.21 1.21 0 01.357.336.784.784 0 01.137.456.8.8 0 01-.16.495.815.815 0 01-.482.292v.011a1.04 1.04 0 01.6.308.813.813 0 01.216.567 1.041 1.041 0 01-.14.539 1.238 1.238 0 01-.377.4 1.785 1.785 0 01-.544.242A2.605 2.605 0 017 13.906a1.542 1.542 0 01-.54-.272 1.207 1.207 0 01-.344-.438A1.322 1.322 0 016 12.6h.885a.931.931 0 00.058.294.7.7 0 00.151.243.727.727 0 00.246.162.925.925 0 00.35.06.86.86 0 00.531-.162.524.524 0 00.216-.443.5.5 0 00-.1-.335.59.59 0 00-.259-.168 1.281 1.281 0 00-.344-.061 8.981 8.981 0 00-.357-.008v-.55a2.453 2.453 0 00.323.002zm4.814-.9a.591.591 0 00-.406-.143.684.684 0 00-.416.123.949.949 0 00-.265.3 1.42 1.42 0 00-.144.382 1.989 1.989 0 00-.052.363l.012.011a1.072 1.072 0 01.446-.329 1.685 1.685 0 011.166.008 1.449 1.449 0 01.478.288 1.1 1.1 0 01.269.4 1.306 1.306 0 01.085.457 1.338 1.338 0 01-.115.552 1.3 1.3 0 01-.327.446 1.549 1.549 0 01-.508.3 1.915 1.915 0 01-.655.107 1.877 1.877 0 01-.858-.174 1.491 1.491 0 01-.544-.453 1.7 1.7 0 01-.281-.636 3.3 3.3 0 01-.079-.724 2.713 2.713 0 01.1-.715 1.924 1.924 0 01.315-.646 1.65 1.65 0 01.556-.471 1.752 1.752 0 01.827-.18 2.055 2.055 0 01.55.071 1.517 1.517 0 01.453.207 1.116 1.116 0 01.32.333 1.177 1.177 0 01.164.456h-.884a.638.638 0 00-.21-.335zm-.782 1.257a.627.627 0 00-.233.157.664.664 0 00-.138.228.821.821 0 00-.045.272.732.732 0 00.049.262.7.7 0 00.144.231.706.706 0 00.232.162.783.783 0 00.315.06.692.692 0 00.3-.06.72.72 0 00.219-.16.67.67 0 00.138-.225.773.773 0 00.046-.259.828.828 0 00-.043-.266.683.683 0 00-.128-.232.624.624 0 00-.219-.165.726.726 0 00-.311-.063.836.836 0 00-.329.056zm4.129-1.268l-.183.875.013.01a1.2 1.2 0 01.406-.228 1.783 1.783 0 011.094.036 1.326 1.326 0 01.442.28 1.186 1.186 0 01.275.416 1.355 1.355 0 01.095.509 1.159 1.159 0 01-.137.553 1.456 1.456 0 01-.371.443 1.694 1.694 0 01-.54.288 1.983 1.983 0 01-.655.1 2.7 2.7 0 01-.638-.074 1.725 1.725 0 01-.541-.229 1.226 1.226 0 01-.377-.382 1.054 1.054 0 01-.147-.531h.93a.607.607 0 00.236.421.922.922 0 00.848.093.773.773 0 00.249-.165.706.706 0 00.157-.237.718.718 0 00.056-.277.754.754 0 00-.052-.281.64.64 0 00-.158-.231.738.738 0 00-.248-.154.932.932 0 00-.334-.055.957.957 0 00-.406.074.91.91 0 00-.3.234h-.838l.452-2.129h2.561v.644z"/></svg>',categories:["editor"]},{name:"yesterday",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Yesterday Icon</title><desc>A picture depicting a calendar with a back arrow in the middle.</desc><path d="M10.68 15.38h6.13v-1.75h-6.13V11l-3.49 3.5 3.49 3.5v-2.62z"/><path d="M19 4h-1V2h-2v2H8V2H6v2H5a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2V6a2 2 0 00-2-2zm0 16H5V9h14z"/></svg>',categories:["editor"],keywords:["yesterday","date","calendar","left","arrow","past","previous","day"]},{name:"tomorrow",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Tomorrow Icon</title><desc>A picture depicting a calendar with a right-pointed arrow in the middle.</desc><path d="M13.3 13.6H7.2v1.8h6.1V18l3.5-3.5-3.5-3.5v2.6z"/><path d="M19 4h-1V2h-2v2H8V2H6v2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"/></svg>',categories:["editor"],keywords:["tomorrow","date","calendar","right","arrow","future","next","day"]}];function IP(e,t){if(1&e){let e=Kp();Lp(0,"igx-grid-action-button",4),rm("actionClick",(function(t){return Ko(e),jo(om(2).startEdit(t))})),Np()}if(2&e){let e=om(2);rp("asMenuItem",e.asMenuItems)("labelText",e.grid.resourceStrings.igx_grid_actions_edit_label)}}function RP(e,t){if(1&e){let e=Kp();Lp(0,"igx-grid-action-button",5),rm("actionClick",(function(t){return Ko(e),jo(om(2).addRowHandler(t))})),Np()}if(2&e){let e=om(2);rp("asMenuItem",e.asMenuItems)("labelText",e.grid.resourceStrings.igx_grid_actions_add_label)}}function AP(e,t){if(1&e){let e=Kp();Lp(0,"igx-grid-action-button",6),rm("actionClick",(function(t){return Ko(e),jo(om(2).addRowHandler(t,!0))})),Np()}if(2&e){let e=om(2);rp("asMenuItem",e.asMenuItems)("labelText",e.grid.resourceStrings.igx_grid_actions_add_child_label)}}function kP(e,t){if(1&e){let e=Kp();Lp(0,"igx-grid-action-button",7),rm("actionClick",(function(t){return Ko(e),jo(om(2).deleteRowHandler(t))})),Np()}if(2&e){let e=om(2);rp("asMenuItem",e.asMenuItems)("labelText",e.grid.resourceStrings.igx_grid_actions_delete_label)}}function OP(e,t){if(1&e&&bg(0,IP,1,2,"igx-grid-action-button",0)(1,RP,1,2,"igx-grid-action-button",1)(2,AP,1,2,"igx-grid-action-button",2)(3,kP,1,2,"igx-grid-action-button",3),2&e){let e=om();Ip(!e.disabled&&e.editRow?0:-1),Hc(),Ip(e.addRow&&e.isRootRow?1:-1),Hc(),Ip(e.addChild&&e.hasChildren?2:-1),Hc(),Ip(!e.disabled&&e.deleteRow?3:-1)}}var FP=(()=>{class e extends lP{constructor(){super(...arguments),this.cssClass="igx-action-strip__editing-actions",this.editRow=!0,this.deleteRow=!0,this.addChild=!1,this.isMessageShown=!1,this._addRow=!1,this.iconsRendered=!1}set addRow(e){this._addRow=e}get addRow(){return this.iconsRendered||(this.registerIcons(),this.iconsRendered=!0),this._addRow}get disabled(){if(this.isRow(this.strip.context))return this.strip.context.disabled}get isRootRow(){return!!this.isRow(this.strip.context)&&this.strip.context.isRoot}get hasChildren(){return!!this.isRow(this.strip.context)&&this.strip.context.hasChildren}startEdit(e){if(e&&e.stopPropagation(),!this.isRow(this.strip.context))return;let t=this.strip.context,i=t.cells.filter((e=>e.editable))[0],n=t.grid;n.hasEditableColumns?(0!==n.rowList.filter((e=>e===t)).length&&(n.gridAPI.crudService.enterEditMode(i,e),n.gridAPI.crudService.nonEditable||i.activate(e)),this.strip.hide()):this.isMessageShown=(this.isMessageShown,!0)}deleteRowHandler(e){if(e&&e.stopPropagation(),!this.isRow(this.strip.context))return;let t=this.strip.context;t.grid.deleteRow(t.key),this.strip.hide()}addRowHandler(e,t){if(e&&e.stopPropagation(),!this.isRow(this.strip.context))return;let i=this.strip.context,n=i.grid;n.rowEditable?(n.gridAPI.crudService.enterAddRowMode(i,t,e),this.strip.hide()):console.warn("The grid must use row edit mode to perform row adding! Please set rowEditable to true.")}registerIcons(){this.iconService.addSvgIconFromText("add-row",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Add Row Icon</title><desc>A picture showing a rectangle with a plus sign.</desc><path d="M22 7H2a2 2 0 00-2 2v6a2 2 0 002 2h20a2 2 0 002-2V9a2 2 0 00-2-2zM9 13H7v2H5v-2H3v-2h2V9h2v2h2z"/></svg>',"imx-icons",!0),this.iconService.addSvgIconFromText("add-child",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Add Item Icon</title><desc>A picture showing an item with a plus sign being added to container.</desc><path d="M22 12H7c-1.1 0-2 .9-2 2v6c0 1.1.9 2 2 2h15c1.1 0 2-.9 2-2v-6c0-1.1-.9-2-2-2zm-8 6h-2v2h-2v-2H8v-2h2v-2h2v2h2v2zm7-14c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1H3c-.6 0-1-.4-1-1V5c0-.6.4-1 1-1h19m0-2H2C.9 2 0 2.9 0 4v4c0 1.1.9 2 2 2h20c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"/></svg>',"imx-icons",!0)}static{this.ɵfac=(()=>{let t;return function(i){return(t||(t=ol(e)))(i||e)}})()}static{this.ɵcmp=Qu({type:e,selectors:[["igx-grid-editing-actions"]],hostVars:2,hostBindings:function(e,t){2&e&&ap("igx-action-strip__editing-actions",t.cssClass)},inputs:{addRow:[2,"addRow","addRow",Hf],editRow:[2,"editRow","editRow",Hf],deleteRow:[2,"deleteRow","deleteRow",Hf],addChild:[2,"addChild","addChild",Hf]},features:[Pm([{provide:lP,useExisting:e}]),dg],decls:1,vars:1,consts:[["iconName","edit",3,"asMenuItem","labelText"],["iconName","add_row","iconSet","default",3,"asMenuItem","labelText"],["iconName","add_child","iconSet","default",3,"asMenuItem","labelText"],["classNames","igx-action-strip__menu-item--danger","iconName","delete",1,"igx-action-strip__delete",3,"asMenuItem","labelText"],["iconName","edit",3,"actionClick","asMenuItem","labelText"],["iconName","add_row","iconSet","default",3,"actionClick","asMenuItem","labelText"],["iconName","add_child","iconSet","default",3,"actionClick","asMenuItem","labelText"],["classNames","igx-action-strip__menu-item--danger","iconName","delete",1,"igx-action-strip__delete",3,"actionClick","asMenuItem","labelText"]],template:function(e,t){1&e&&bg(0,OP,4,4),2&e&&Ip(t.isRowContext?0:-1)},dependencies:[IF],encapsulation:2})}}return e})();function PP(e,t){if(1&e){let e=Kp();Lp(0,"igx-grid-action-button",4),rm("actionClick",(function(t){return Ko(e),jo(om(2).scrollToRow(t))})),Np()}if(2&e){let e=om(2);rp("asMenuItem",e.asMenuItems)("labelText",e.grid.resourceStrings.igx_grid_actions_jumpDown_label)}}function VP(e,t){if(1&e){let e=Kp();Lp(0,"igx-grid-action-button",5),rm("actionClick",(function(t){return Ko(e),jo(om(2).scrollToRow(t))})),Np()}if(2&e){let e=om(2);rp("asMenuItem",e.asMenuItems)("labelText",e.grid.resourceStrings.igx_grid_actions_jumpUp_label)}}function MP(e,t){if(1&e){let e=Kp();Lp(0,"igx-grid-action-button",6),rm("actionClick",(function(t){return Ko(e),jo(om(2).pin(t))})),Np()}if(2&e){let e=om(2);rp("asMenuItem",e.asMenuItems)("labelText",e.grid.resourceStrings.igx_grid_actions_pin_label)}}function LP(e,t){if(1&e){let e=Kp();Lp(0,"igx-grid-action-button",7),rm("actionClick",(function(t){return Ko(e),jo(om(2).unpin(t))})),Np()}if(2&e){let e=om(2);rp("asMenuItem",e.asMenuItems)("labelText",e.grid.resourceStrings.igx_grid_actions_unpin_label)}}function NP(e,t){if(1&e&&bg(0,PP,1,2,"igx-grid-action-button",0)(1,VP,1,2,"igx-grid-action-button",1)(2,MP,1,2,"igx-grid-action-button",2)(3,LP,1,2,"igx-grid-action-button",3),2&e){let e=om();Ip(e.inPinnedArea&&e.pinnedTop?0:-1),Hc(),Ip(e.inPinnedArea&&!e.pinnedTop?1:-1),Hc(),Ip(e.pinned?-1:2),Hc(),Ip(e.pinned?3:-1)}}var HP=(()=>{class e extends lP{constructor(){super(...arguments),this.cssClass="igx-action-strip__pinning-actions",this.iconsRendered=!1}get pinned(){if(!this.isRow(this.strip.context))return;let e=this.strip.context;return e&&!this.iconsRendered&&(this.registerSVGIcons(),this.iconsRendered=!0),e&&e.pinned}get inPinnedArea(){if(!this.isRow(this.strip.context))return;let e=this.strip.context;return this.pinned&&!e.disabled}get pinnedTop(){if(this.isRow(this.strip.context))return this.strip.context.grid.isRowPinningToTop}pin(e){if(e&&e.stopPropagation(),!this.isRow(this.strip.context))return;let t=this.strip.context,i=t.grid;i.pinRow(t.key,i.pinnedRecords.length),this.strip.hide()}unpin(e){if(e&&e.stopPropagation(),!this.isRow(this.strip.context))return;let t=this.strip.context;t.grid.unpinRow(t.key),this.strip.hide()}scrollToRow(e){e&&e.stopPropagation();let t=this.strip.context;t.grid.scrollTo(t.data,0),this.strip.hide()}registerSVGIcons(){this.isRow(this.strip.context)&&this.strip.context.grid&&(this.iconService.addSvgIconFromText(xP,_P,"imx-icons",!0),this.iconService.addSvgIconFromText(wP,CP,"imx-icons",!0),this.iconService.addSvgIconFromText("jump-down",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Jump Down Icon</title><desc>A picture showing a bent arrow pointing down towards a line.</desc><path d="M21.5 18.5v2h-16v-2h16zm-8-15c1.6 0 3 .5 4.3 1.2l-1.5 1.5c-.8-.4-1.8-.7-2.8-.7-3.3 0-6 2.7-6 6h3l-4 4-4-4h3c0-1.5.4-2.9 1.2-4.2.6-1 1.4-1.8 2.4-2.5 1.2-.8 2.8-1.3 4.4-1.3z"/></svg>',"imx-icons",!0),this.iconService.addSvgIconFromText("jump-up",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Jump Up Icon</title><desc>A picture showing a bent arrow pointing up towards a line.</desc><path d="M6.5 8.5l4 4h-3c0 3.3 2.7 6 6 6 1 0 2-.2 2.8-.7l1.5 1.5c-1.2.8-2.7 1.2-4.3 1.2-4.4 0-8-3.6-8-8h-3l4-4zm15-5v2h-16v-2h16z"/></svg>',"imx-icons",!0))}static{this.ɵfac=(()=>{let t;return function(i){return(t||(t=ol(e)))(i||e)}})()}static{this.ɵcmp=Qu({type:e,selectors:[["igx-grid-pinning-actions"]],hostVars:2,hostBindings:function(e,t){2&e&&ap("igx-action-strip__pinning-actions",t.cssClass)},features:[Pm([{provide:lP,useExisting:e}]),dg],decls:1,vars:1,consts:[["iconSet","default","iconName","jump_down",3,"asMenuItem","labelText"],["iconSet","default","iconName","jump_up",3,"asMenuItem","labelText"],["iconSet","default","iconName","pin",3,"asMenuItem","labelText"],["iconSet","default","iconName","unpin",3,"asMenuItem","labelText"],["iconSet","default","iconName","jump_down",3,"actionClick","asMenuItem","labelText"],["iconSet","default","iconName","jump_up",3,"actionClick","asMenuItem","labelText"],["iconSet","default","iconName","pin",3,"actionClick","asMenuItem","labelText"],["iconSet","default","iconName","unpin",3,"actionClick","asMenuItem","labelText"]],template:function(e,t){1&e&&bg(0,NP,4,4),2&e&&Ip(t.isRowContext?0:-1)},dependencies:[IF],encapsulation:2})}}return e})(),zP=["*"];function BP(e,t){if(1&e&&(Lp(0,"span",0),ym(1),Np()),2&e){let e=om();Hc(),_m(e.value)}}function GP(e,t){if(1&e&&(Lp(0,"igx-icon"),ym(1),Np()),2&e){let e=om();Hc(),_m(e.icon)}}function $P(e,t){if(1&e&&(Lp(0,"igx-icon",1),ym(1),Np()),2&e){let e=om();rp("family",e.iconSet)("name",e.icon),Hc(),_m(e.icon)}}var WP=0,KP="primary",jP="info",UP="success",qP="warning",YP="error",ZP=(()=>{class e{constructor(){this.id="igx-badge-"+WP++,this.type=KP,this.value="",this.role="status",this.cssClass="igx-badge",this.shape="rounded",this.label="badge",this.outlined=!1}get _squareShape(){return"square"===this.shape}get roleDescription(){return this.icon?this.type+" type badge with icon type "+this.icon:this.value||0===this.value?this.type+" badge type with value "+this.value:this.type+" badge type without value"}get infoClass(){return this.type===jP}get successClass(){return this.type===UP}get warningClass(){return this.type===qP}get errorClass(){return this.type===YP}static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-badge"]],hostVars:18,hostBindings:function(e,t){2&e&&($g("id",t.id)("role",t.role)("aria-label",t.label)("aria-roledescription",t.roleDescription),ap("igx-badge",t.cssClass)("igx-badge--square",t._squareShape)("igx-badge--outlined",t.outlined)("igx-badge--info",t.infoClass)("igx-badge--success",t.successClass)("igx-badge--warning",t.warningClass)("igx-badge--error",t.errorClass))},inputs:{id:"id",type:"type",value:"value",icon:"icon",iconSet:"iconSet",shape:"shape",outlined:[2,"outlined","outlined",Hf]},ngContentSelectors:zP,decls:4,vars:3,consts:[[1,"igx-badge__value"],[3,"family","name"]],template:function(e,t){1&e&&(lm(),bg(0,BP,2,1,"span",0)(1,GP,2,1,"igx-icon")(2,$P,2,3,"igx-icon",1),dm(3)),2&e&&(Ip(t.value||0===t.value&&!t.icon?0:-1),Hc(),Ip(t.icon&&!t.iconSet?1:-1),Hc(),Ip(t.icon&&t.iconSet?2:-1))},dependencies:[DA],encapsulation:2})}}return e})(),XP=["*"];function QP(e,t){if(1&e&&(Lp(0,"igx-icon"),ym(1),Np()),2&e){let e=om().$implicit;Hc(),_m(e.icon)}}function JP(e,t){if(1&e&&(Lp(0,"span",2),ym(1),Np()),2&e){let e=om().$implicit;Hc(),_m(e.label)}}function eV(e,t){if(1&e&&(Lp(0,"button",1)(1,"span"),bg(2,QP,2,1,"igx-icon")(3,JP,2,1,"span",2),Np()()),2&e){let e=t.$implicit,i=om();rp("selected",e.selected)("disabled",i.disabled||e.disabled)("igxLabel",e.label)("igxRipple",e.ripple),$g("data-togglable",e.togglable),Hc(),wp("igx-button-group__item-content ",i.itemContentCssClass,""),Hc(),Ip(e.icon?2:-1),Hc(),Ip(e.label?3:-1)}}var tV="horizontal",iV="vertical",nV=0,rV=(()=>{class e{get buttons(){return[...this.viewButtons.toArray(),...this.templateButtons.toArray()]}set itemContentCssClass(e){this._itemContentCssClass=e||this._itemContentCssClass}get itemContentCssClass(){return this._itemContentCssClass}get multiSelection(){return"multi"===this.selectionMode}set multiSelection(e){this.selectionMode=e?"multi":"single"}get selectionMode(){return this._selectionMode}set selectionMode(e){this.viewButtons&&e!==this._selectionMode?(this.buttons.forEach(((e,t)=>{this.deselectButton(t)})),this._selectionMode=e):this._selectionMode=e}get disabled(){return this._disabled}set disabled(e){this._disabled!==e&&(this._disabled=e,this.viewButtons&&this.templateButtons&&this.buttons.forEach((e=>e.disabled=this._disabled)))}set alignment(e){this._isVertical=e===iV}get alignment(){return this._isVertical?iV:tV}get isVertical(){return this._isVertical}constructor(e,t,i){this._cdr=e,this._renderer=t,this._el=i,this.id="igx-buttongroup-"+nV++,this.zIndex=0,this.selected=new wl,this.deselected=new wl,this.selectedIndexes=[],this.buttonClickNotifier$=new Ci,this.queryListNotifier$=new Ci,this._disabled=!1,this._selectionMode="single",this.observerConfig={attributeFilter:["data-selected"],childList:!0,subtree:!0}}get selectedButtons(){return this.buttons.filter(((e,t)=>-1!==this.selectedIndexes.indexOf(t)))}selectButton(e){e>=this.buttons.length||e<0||this.buttons[e].select()}updateSelected(e){let t=this.buttons[e];-1===this.selectedIndexes.indexOf(e)&&this.selectedIndexes.push(e),this._renderer.setAttribute(t.nativeElement,"aria-pressed","true"),this._renderer.addClass(t.nativeElement,"igx-button-group__item--selected");let i=this.viewButtons.toArray().indexOf(t);-1!==i&&(this.values[i].selected=!0),"multi"!==this.selectionMode&&this.selectedIndexes.length>1&&this.buttons.forEach(((t,i)=>{i!==e&&-1!==this.selectedIndexes.indexOf(i)&&(this.deselectButton(i),this.updateDeselected(i))}))}updateDeselected(e){let t=this.buttons[e];-1!==this.selectedIndexes.indexOf(e)&&this.selectedIndexes.splice(this.selectedIndexes.indexOf(e),1),this._renderer.setAttribute(t.nativeElement,"aria-pressed","false"),this._renderer.removeClass(t.nativeElement,"igx-button-group__item--selected");let i=this.viewButtons.toArray().indexOf(t);-1!==i&&(this.values[i].selected=!1)}deselectButton(e){e>=this.buttons.length||e<0||this.buttons[e].deselect()}ngAfterViewInit(){let e=()=>{this.buttonClickNotifier$.next(),this.selectedIndexes.splice(0,this.selectedIndexes.length),this.buttons.forEach(((e,t)=>{let i=e.nativeElement;this._renderer.addClass(i,"igx-button-group__item"),this.disabled&&(e.disabled=!0),e.selected&&this.updateSelected(t),e.buttonClick.pipe(Nn(this.buttonClickNotifier$)).subscribe((e=>this._clickHandler(t)))}))};this.mutationObserver=this.setMutationsObserver(),this.viewButtons.changes.pipe(Nn(this.queryListNotifier$)).subscribe((()=>{this.mutationObserver.disconnect(),e(),this.mutationObserver?.observe(this._el.nativeElement,this.observerConfig)})),this.templateButtons.changes.pipe(Nn(this.queryListNotifier$)).subscribe((()=>{this.mutationObserver.disconnect(),e(),this.mutationObserver?.observe(this._el.nativeElement,this.observerConfig)})),e(),this._cdr.detectChanges(),this.mutationObserver?.observe(this._el.nativeElement,this.observerConfig)}ngOnDestroy(){this.buttonClickNotifier$.next(),this.buttonClickNotifier$.complete(),this.queryListNotifier$.next(),this.queryListNotifier$.complete(),this.mutationObserver?.disconnect()}_clickHandler(e){let t={owner:this,button:this.buttons[e],index:e};"multi"!==this.selectionMode&&this.buttons.forEach(((t,i)=>{i!==e&&-1!==this.selectedIndexes.indexOf(i)&&this.deselected.emit({owner:this,button:t,index:i})})),-1===this.selectedIndexes.indexOf(e)?(this.selectButton(e),this.selected.emit(t)):"singleRequired"!==this.selectionMode&&(this.deselectButton(e),this.deselected.emit(t))}setMutationsObserver(){if(typeof MutationObserver<"u")return new MutationObserver(((e,t)=>{t.disconnect();let i=this.getUpdatedButtons(e);i.length>0&&i.forEach((e=>{let t=this.buttons.map((e=>e.nativeElement)).indexOf(e);this.updateButtonSelectionState(t)})),t.observe(this._el.nativeElement,this.observerConfig)}))}getUpdatedButtons(e){let t=[];return e.filter((e=>"attributes"===e.type)).reduce(((e,t)=>(e.push(t.target),e)),t),t}updateButtonSelectionState(e){this.buttons[e].selected?this.updateSelected(e):this.updateDeselected(e)}static{this.ɵfac=function(t){return new(t||e)(lu(Cf),lu(ru),lu(zl))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-buttongroup"]],contentQueries:function(e,t,i){if(1&e&&gm(i,mR,4),2&e){let e;mm(e=fm())&&(t.templateButtons=e)}},viewQuery:function(e,t){if(1&e&&pm(mR,5),2&e){let e;mm(e=fm())&&(t.viewButtons=e)}},hostVars:3,hostBindings:function(e,t){2&e&&($g("id",t.id),op("z-index",t.zIndex))},inputs:{id:"id",itemContentCssClass:"itemContentCssClass",multiSelection:"multiSelection",selectionMode:"selectionMode",values:"values",disabled:[2,"disabled","disabled",Hf],alignment:"alignment"},outputs:{selected:"selected",deselected:"deselected"},ngContentSelectors:XP,decls:4,vars:2,consts:[["role","group",1,"igx-button-group"],["type","button","igxButton","flat",3,"selected","disabled","igxLabel","igxRipple"],[1,"igx-button-group__button-text"]],template:function(e,t){1&e&&(lm(),Lp(0,"div",0),Op(1,eV,4,10,"button",1,Ap),dm(3),Np()),2&e&&(ap("igx-button-group--vertical",t.isVertical),Hc(),Pp(t.values))},dependencies:[mR,hO,DA],encapsulation:2})}}return e})(),sV=864e5;function oV(e){return MC(e)?lV.from(e):e}function aV(e,t){return e.date!==t.date?t.set({date:0}):t}var lV=class e{static get today(){return e.from(new Date)}static from(t){return new e({year:t.getFullYear(),month:t.getMonth(),date:t.getDate()})}constructor(e){this._date=new Date(e.year,e.month,e.date??1)}clone(){return e.from(this._date)}set(t){return new e({year:t.year??this.year,month:t.month??this.month,date:t.date??this.date})}add(e,t){let i=this.clone();switch(e){case"year":return i._date.setFullYear(i.year+t),aV(this,i);case"quarter":return i._date.setMonth(i.month+3*t),aV(this,i);case"month":return i._date.setMonth(i.month+t),aV(this,i);case"week":return i._date.setDate(i.date+7*t),i;case"day":return i._date.setDate(i.date+t),i;default:throw new Error("Invalid interval")}}get day(){return this._date.getDay()}get year(){return this._date.getFullYear()}get month(){return this._date.getMonth()}get date(){return this._date.getDate()}get timestamp(){return this._date.getTime()}get week(){return this.getWeekNumber()}getWeekNumber(e=1){return 1===e?this.calculateISO8601WeekNumber():this.calculateSimpleWeekNumber(e)}calculateISO8601WeekNumber(){let e=this.getThursdayOfWeek(),t=this.getFirstWeekThursday(e.year),i=this.getWeeksDifference(e,t)+1;return i<=0?this.getPreviousYearLastWeek(e.year-1):i}calculateSimpleWeekNumber(t){let i=new e({year:this.year,month:0,date:1}),n=(t-i.day+7)%7;if(n>0){let r=i.add("day",n);if(this.timestamp<r.timestamp){let i=this.year-1;return new e({year:i,month:11,date:31}).calculateSimpleWeekNumber(t)}let s=Math.floor((this.timestamp-r.timestamp)/sV);return Math.floor(s/7)+1}{let e=Math.floor((this.timestamp-i.timestamp)/sV);return Math.floor(e/7)+1}}getThursdayOfWeek(){let e=(this.day-1+7)%7;return this.add("day",3-e)}getFirstWeekThursday(t){let i=new e({year:t,month:0,date:4}),n=(i.day-1+7)%7;return i.add("day",3-n)}getWeeksDifference(e,t){let i=Math.floor((e.timestamp-t.timestamp)/sV);return Math.floor(i/7)}getPreviousYearLastWeek(t){let i=new e({year:t,month:11,date:31}).getThursdayOfWeek(),n=this.getFirstWeekThursday(t);return this.getWeeksDifference(i,n)+1}get native(){return new Date(this._date)}get weekend(){return this.day<1||this.day>5}equalTo(e){return this.timestamp===oV(e).timestamp}greaterThan(e){return this.timestamp>oV(e).timestamp}lessThan(e){return this.timestamp<oV(e).timestamp}toString(){return`${this.native}`}},dV=new hr("IgxCalendarViewItem"),cV=(()=>{class e{get nativeElement(){return this.elementRef.nativeElement}constructor(e){this.elementRef=e,this.showActive=!1,this.itemSelection=new wl}onMouseDown(e){e.preventDefault(),this.itemSelection.emit(this.value)}static{this.ɵfac=function(t){return new(t||e)(lu(zl))}}static{this.ɵdir=rg({type:e,hostBindings:function(e,t){1&e&&rm("mousedown",(function(e){return t.onMouseDown(e)}))},inputs:{value:"value",date:"date",showActive:"showActive"},outputs:{itemSelection:"itemSelection"}})}}return e})(),hV=(()=>{class e extends cV{get isCurrent(){return lV.today.year===this.value.getFullYear()}get isSelected(){return this.value.getFullYear()===this.date.getFullYear()}get isActive(){return this.isSelected&&this.showActive}static{this.ɵfac=(()=>{let t;return function(i){return(t||(t=ol(e)))(i||e)}})()}static{this.ɵdir=rg({type:e,selectors:[["","igxCalendarYear",""]],hostVars:6,hostBindings:function(e,t){2&e&&ap("igx-calendar-view__item--current",t.isCurrent)("igx-calendar-view__item--selected",t.isSelected)("igx-calendar-view__item--active",t.isActive)},exportAs:["igxCalendarYear"],features:[Pm([{provide:dV,useExisting:e}]),dg]})}}return e})(),uV=(()=>{class e extends cV{get isCurrent(){let e=lV.today,t=lV.from(this.value);return t.year===e.year&&t.month===e.month}get isSelected(){return this.value.getFullYear()===this.date.getFullYear()&&this.value.getMonth()===this.date.getMonth()}get isActive(){return this.isSelected&&this.showActive}static{this.ɵfac=(()=>{let t;return function(i){return(t||(t=ol(e)))(i||e)}})()}static{this.ɵdir=rg({type:e,selectors:[["","igxCalendarMonth",""]],hostVars:6,hostBindings:function(e,t){2&e&&ap("igx-calendar-view__item--current",t.isCurrent)("igx-calendar-view__item--selected",t.isSelected)("igx-calendar-view__item--active",t.isActive)},exportAs:["igxCalendarMonth"],features:[Pm([{provide:dV,useExisting:e}]),dg]})}}return e})(),gV=(()=>{class e{constructor(e){this.template=e}static{this.ɵfac=function(t){return new(t||e)(lu(jh))}}static{this.ɵdir=rg({type:e,selectors:[["","igxCalendarHeaderTitle",""]]})}}return e})(),pV=(()=>{class e{constructor(e){this.template=e}static{this.ɵfac=function(t){return new(t||e)(lu(jh))}}static{this.ɵdir=rg({type:e,selectors:[["","igxCalendarHeader",""]]})}}return e})(),mV=(()=>{class e{constructor(e){this.template=e}static{this.ɵfac=function(t){return new(t||e)(lu(jh))}}static{this.ɵdir=rg({type:e,selectors:[["","igxCalendarSubheader",""]]})}}return e})(),fV=(()=>{class e{constructor(e,t,i){this.element=e,this.zone=t,this.platform=i,this.destroy$=new Ci}onMouseDown(e){e.preventDefault(),this.startScroll()}onMouseUp(e){this.stopScroll(e)}ngAfterViewInit(){Sn(this.element.nativeElement,"keyup").pipe(An((()=>En(100))),Nn(this.destroy$)).subscribe((e=>{this.stopScroll(e)})),this.zone.runOutsideAngular((()=>{Sn(this.element.nativeElement,"keydown").pipe(function(e,t,i){let n=$t(e)?{next:e,error:t,complete:i}:e;return n?vi(((e,t)=>{var i;null===(i=n.subscribe)||void 0===i||i.call(n);let r=!0;e.subscribe(yi(t,(e=>{var i;null===(i=n.next)||void 0===i||i.call(n,e),t.next(e)}),(()=>{var e;r=!1,null===(e=n.complete)||void 0===e||e.call(n),t.complete()}),(e=>{var i;r=!1,null===(i=n.error)||void 0===i||i.call(n,e),t.error(e)}),(()=>{var e,t;r&&(null===(e=n.unsubscribe)||void 0===e||e.call(n)),null===(t=n.finalize)||void 0===t||t.call(n)})))})):gi}((e=>{this.platform.isActivationKey(e)&&(e.preventDefault(),e.stopPropagation())})),An((()=>En(100))),Nn(this.destroy$)).subscribe((e=>{this.platform.isActivationKey(e)&&this.zone.run((()=>this.startScroll(!0)))}))}))}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}static{this.ɵfac=function(t){return new(t||e)(lu(zl),lu(Il),lu(NC))}}static{this.ɵdir=rg({type:e,selectors:[["","igxCalendarScrollPage",""]],hostBindings:function(e,t){1&e&&rm("mousedown",(function(e){return t.onMouseDown(e)}))("mouseup",(function(e){return t.onMouseUp(e)}))},inputs:{startScroll:"startScroll",stopScroll:"stopScroll"}})}}return e})(),vV="single",yV="multi",xV="range",_V="month",wV="year",CV="decade",SV=function(e){return e[e.After=0]="After",e[e.Before=1]="Before",e[e.Between=2]="Between",e[e.Specific=3]="Specific",e[e.Weekdays=4]="Weekdays",e[e.Weekends=5]="Weekends",e}(SV||{});function bV(e,t){let[i,n]=[oV(e),oV(t)];return i.year===n.year&&i.month===n.month}function DV(e,t=[]){for(;IV(e,t);)e=e.add("day",1);return e}function EV(e,t,i=[]){let n=e,r=0;for(;r<366;){if(n=e.add("day",t*(r+1)),!IV(n,i))return n;r++}return n}function*TV(e){let t=oV(e.start),i=e.unit??"day",n="number"==typeof e.end?t.add(i,e.end):oV(e.end),r=n.lessThan(t),s=r?-1:1;for(;r?t.greaterThan(n):t.lessThan(n);)yield t,t=t.add(i,s)}function IV(e,t){let i=oV(e);return t.some((e=>{let t=(e.dateRange??[]).map((e=>oV(e)));switch(e.type){case SV.After:return i.greaterThan(nS(t));case SV.Before:return i.lessThan(nS(t));case SV.Between:{let e=Math.min(nS(t).timestamp,rS(t).timestamp),n=Math.max(nS(t).timestamp,rS(t).timestamp);return i.timestamp>=e&&i.timestamp<=n}case SV.Specific:return t.some((e=>e.equalTo(i)));case SV.Weekdays:return!i.weekend;case SV.Weekends:return i.weekend;default:return!1}}))}var RV=function(e){return e[e.After=0]="After",e[e.Before=1]="Before",e[e.Between=2]="Between",e[e.Specific=3]="Specific",e[e.Weekdays=4]="Weekdays",e[e.Weekends=5]="Weekends",e}(RV||{}),AV=function(e){return e[e.NEXT=1]="NEXT",e[e.PREV=-1]="PREV",e}(AV||{}),kV=new hr("DAY_INTERVAL"),OV=(()=>{class e{get activeDescendant(){if(-1!==this.tabIndex)return this.date.getTime()}set date(e){MC(e)&&(this._date=e)}get date(){return this._date}get locale(){return this._locale}set locale(e){this._locale=e,this.initFormatter()}constructor(e){this.dayInterval=e,this.role="grid",this.tabIndex=0,this.showActive=!1,this.selected=new wl,this.pageChanged=new wl,this.activeDateChanged=new wl,this._locale="en",this._date=new Date,this._onTouchedCallback=ei,this._onChangeCallback=ei,this.initFormatter()}onKeydownArrowDown(e){this.navigateTo(e,AV.NEXT,3)}onKeydownArrowUp(e){this.navigateTo(e,AV.PREV,3)}onKeydownArrowRight(e){this.navigateTo(e,AV.NEXT,1)}onKeydownArrowLeft(e){this.navigateTo(e,AV.PREV,1)}onKeydownHome(e){e.preventDefault(),e.stopPropagation(),this.date=this.range.at(0),this.activeDateChanged.emit(this.date)}onKeydownEnd(e){e.preventDefault(),e.stopPropagation(),this.date=this.range.at(-1),this.activeDateChanged.emit(this.date)}onKeydownEnter(e){e.stopPropagation(),this.selected.emit(this.date),this._onChangeCallback(this.date)}handleFocus(){this.showActive=!0}handleBlur(){this.showActive=!1}selectDate(e){this.date=e,this.selected.emit(this.date),this._onChangeCallback(this.date)}registerOnChange(e){this._onChangeCallback=e}registerOnTouched(e){this._onTouchedCallback=e}writeValue(e){e&&(this.date=e)}navigateTo(e,t,i){e.preventDefault(),e.stopPropagation();let n=DV(lV.from(this.date).add(this.dayInterval,t*i),[]);!IV(n,[{type:RV.Between,dateRange:[this.range.at(0),this.range.at(-1)]}])&&this.pageChanged.emit(n.native),this.date=n.native,this.activeDateChanged.emit(this.date)}static{this.ɵfac=function(t){return new(t||e)(lu(kV))}}static{this.ɵdir=rg({type:e,viewQuery:function(e,t){if(1&e&&pm(dV,5,dV),2&e){let e;mm(e=fm())&&(t.viewItems=e)}},hostVars:3,hostBindings:function(e,t){1&e&&rm("keydown.arrowdown",(function(e){return t.onKeydownArrowDown(e)}))("keydown.arrowup",(function(e){return t.onKeydownArrowUp(e)}))("keydown.arrowright",(function(e){return t.onKeydownArrowRight(e)}))("keydown.arrowleft",(function(e){return t.onKeydownArrowLeft(e)}))("keydown.home",(function(e){return t.onKeydownHome(e)}))("keydown.end",(function(e){return t.onKeydownEnd(e)}))("keydown.enter",(function(e){return t.onKeydownEnter(e)}))("focus",(function(){return t.handleFocus()}))("blur",(function(){return t.handleBlur()})),2&e&&$g("role",t.role)("tabIndex",t.tabIndex)("aria-activeDescendant",t.activeDescendant)},inputs:{role:"role",tabIndex:"tabIndex",formatView:[2,"formatView","formatView",Hf],showActive:[2,"showActive","showActive",Hf],date:"date",locale:"locale"},outputs:{selected:"selected",pageChanged:"pageChanged",activeDateChanged:"activeDateChanged"},features:[Pm([{provide:my,useExisting:e,multi:!0}])]})}}return e})();function FV(e,t){if(1&e){let e=Kp();Lp(0,"span",3,0),rm("itemSelection",(function(t){return Ko(e),jo(om().selectDate(t))}))("mousedown",(function(){return Ko(e),jo(om().onMouseDown())})),Lp(2,"span",4),ym(3),Xm(4,"titlecase"),Np()()}if(2&e){let e=t.$implicit,i=vm(1),n=om();rp("value",e)("date",n.date)("showActive",n.showActive),$g("id",e.getTime())("aria-label",n.formattedMonth(e).long)("aria-selected",i.isSelected),Hc(3),wm(" ",Qm(4,7,n.formattedMonth(e).formatted)," ")}}var PV=0,VV=(()=>{class e extends OV{#e;get standalone(){return this.#e}set standalone(e){this.#e=e}get monthFormat(){return this._monthFormat}set monthFormat(e){this._monthFormat=e,this.initFormatter()}get range(){let e=lV.from(this.date).set({date:1,month:0}),t=e.add(this.dayInterval,12);return Array.from(TV({start:e,end:t,unit:this.dayInterval})).map((e=>e.native))}constructor(e,t){super(t),this.el=e,this.#e=!0,this.id="igx-months-view-"+PV++,this.viewClass=!0,this.formatView=!0,this._monthFormat="short"}onMouseDown(){-1!==this.tabIndex&&this.el.nativeElement.focus()}formattedMonth(e){let t=new Intl.DateTimeFormat(this.locale,{month:"long",year:"numeric"});return this.formatView?{long:t.format(e),formatted:this._formatter.format(e)}:{long:t.format(e),formatted:`${e.getMonth()}`}}monthTracker(e,t){return`${t.getMonth()}}`}initFormatter(){this._formatter=new Intl.DateTimeFormat(this._locale,{month:this.monthFormat})}static{this.ɵfac=function(t){return new(t||e)(lu(zl),lu(kV))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-months-view"]],hostVars:5,hostBindings:function(e,t){2&e&&($g("id",t.id),ap("igx-calendar-view",t.viewClass)("igx-calendar-view--standalone",t.standalone))},inputs:{id:"id",standalone:"standalone",monthFormat:"monthFormat",formatView:[2,"formatView","formatView",Hf]},features:[Pm([{provide:my,useExisting:e,multi:!0},{provide:kV,useValue:"month"}]),dg],decls:3,vars:0,consts:[["item","igxCalendarMonth"],["role","row",1,"igx-calendar-view__items"],["igxCalendarMonth","","role","gridcell",1,"igx-calendar-view__item",3,"value","date","showActive"],["igxCalendarMonth","","role","gridcell",1,"igx-calendar-view__item",3,"itemSelection","mousedown","value","date","showActive"],["aria-hidden","true",1,"igx-calendar-view__item-inner"]],template:function(e,t){1&e&&(Lp(0,"div",1),Op(1,FV,5,9,"span",2,t.monthTracker,!0),Np()),2&e&&(Hc(),Pp(t.range))},dependencies:[uV,ey],encapsulation:2})}}return e})();function MV(e,t){if(1&e){let e=Kp();Lp(0,"span",3,0),rm("itemSelection",(function(t){return Ko(e),jo(om().selectDate(t))}))("mousedown",(function(){return Ko(e),jo(om().onMouseDown())})),Lp(2,"span",4),ym(3),Np()()}if(2&e){let e=t.$implicit,i=vm(1),n=om();rp("value",e)("date",n.date)("showActive",n.showActive),$g("id",e.getTime())("aria-label",n.formattedYear(e).long)("aria-selected",i.isSelected)("aria-current",i.isCurrent),Hc(3),wm(" ",n.formattedYear(e).formatted," ")}}var LV=(()=>{class e extends OV{#e;get standalone(){return this.#e}set standalone(e){this.#e=e}get yearFormat(){return this._yearFormat}set yearFormat(e){this._yearFormat=e,this.initFormatter()}get range(){let e=this.date.getFullYear(),t=new lV({year:Math.floor(e/this._yearsPerPage)*this._yearsPerPage,month:this.date.getMonth()}),i=t.add(this.dayInterval,this._yearsPerPage);return Array.from(TV({start:t,end:i,unit:this.dayInterval})).map((e=>e.native))}constructor(e,t){super(t),this.el=e,this.#e=!0,this.viewClass=!0,this._yearFormat="numeric",this._yearsPerPage=15}formattedYear(e){let t=new Intl.DateTimeFormat(this.locale,{year:"numeric"});return this.formatView?{long:t.format(e),formatted:this._formatter.format(e)}:{long:t.format(e),formatted:`${e.getFullYear()}`}}yearTracker(e,t){return`${t.getFullYear()}}`}initFormatter(){this._formatter=new Intl.DateTimeFormat(this._locale,{year:this.yearFormat})}onMouseDown(){-1!==this.tabIndex&&this.el.nativeElement.focus()}static{this.ɵfac=function(t){return new(t||e)(lu(zl),lu(kV))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-years-view"]],hostVars:4,hostBindings:function(e,t){2&e&&ap("igx-calendar-view",t.viewClass)("igx-calendar-view--standalone",t.standalone)},inputs:{standalone:"standalone",yearFormat:"yearFormat"},features:[Pm([{provide:my,useExisting:e,multi:!0},{provide:kV,useValue:"year"}]),dg],decls:3,vars:0,consts:[["item","igxCalendarYear"],["role","row",1,"igx-calendar-view__items"],["igxCalendarYear","","role","gridcell",1,"igx-calendar-view__item",3,"value","date","showActive"],["igxCalendarYear","","role","gridcell",1,"igx-calendar-view__item",3,"itemSelection","mousedown","value","date","showActive"],["aria-hidden","true",1,"igx-calendar-view__item-inner"]],template:function(e,t){1&e&&(Lp(0,"div",1),Op(1,MV,4,8,"span",2,t.yearTracker,!0),Np()),2&e&&(Hc(),Pp(t.range))},dependencies:[hV],encapsulation:2})}}return e})(),NV=["*"],HV=(()=>{class e{get selected(){return this._selected}set selected(e){this._selected=e}get hideLeading(){return this.hideLeadingDays&&this.isPreviousMonth}get hideTrailing(){return this.hideTrailingDays&&this.isNextMonth}get isCurrentMonth(){return bV(this.date,this.viewDate)}get isPreviousMonth(){return function(e,t){let[i,n]=[oV(e),oV(t)];return i.year===n.year?i.month<n.month:i.year<n.year}(this.date,this.viewDate)}get isNextMonth(){return function(e,t){let[i,n]=[oV(e),oV(t)];return i.year===n.year?i.month>n.month:i.year>n.year}(this.date,this.viewDate)}get nativeElement(){return this.elementRef.nativeElement}get isSelectedCSS(){let e=!this.isInactive||this.isWithinPreviewRange||this.isWithinRange&&"range"===this.selection;return!this.isDisabled&&e&&this.selected}get isInactive(){return!this.isCurrentMonth}get isHidden(){return(this.hideLeading||this.hideTrailing)&&this.isInactive}get isToday(){return!this.isInactive&&this.date.equalTo(lV.today)}get isWeekend(){return this.date.weekend}get isDisabled(){return!!this.disabledDates&&IV(this.date,this.disabledDates)}get isFocusable(){return this.isCurrentMonth&&!this.isHidden&&!this.isDisabled}onMouseEnter(){this.mouseEnter.emit()}onMouseLeave(){this.mouseLeave.emit()}onMouseDown(e){e.preventDefault(),this.mouseDown.emit()}get isWithinRangeCSS(){return!this.isSingleSelection&&this.isWithinRange}get isWithinPreviewRangeCSS(){return!this.isSingleSelection&&this.isWithinPreviewRange}get isSpecial(){return!!this.specialDates&&!this.isInactive&&IV(this.date,this.specialDates)}get isDisabledCSS(){return this.isHidden||this.isDisabled}get isSingleSelection(){return this.selection!==xV}constructor(e){this.elementRef=e,this.hideOutsideDays=!1,this.isLastInRange=!1,this.isFirstInRange=!1,this.isWithinRange=!1,this.isWithinPreviewRange=!1,this.hideLeadingDays=!1,this.hideTrailingDays=!1,this.dateSelection=new wl,this.mouseEnter=new wl,this.mouseLeave=new wl,this.mouseDown=new wl,this.isActive=!1,this._selected=!1}static{this.ɵfac=function(t){return new(t||e)(lu(zl))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-day-item"]],hostVars:26,hostBindings:function(e,t){2&e&&ap("igx-days-view__date--last",t.isLastInRange)("igx-days-view__date--first",t.isFirstInRange)("igx-days-view__date--active",t.isActive)("igx-days-view__date--selected",t.isSelectedCSS)("igx-days-view__date--inactive",t.isInactive)("igx-days-view__date--hidden",t.isHidden)("igx-days-view__date--current",t.isToday)("igx-days-view__date--weekend",t.isWeekend)("igx-days-view__date--range",t.isWithinRangeCSS)("igx-days-view__date--range-preview",t.isWithinPreviewRangeCSS)("igx-days-view__date--special",t.isSpecial)("igx-days-view__date--disabled",t.isDisabledCSS)("igx-days-view__date--single",t.isSingleSelection)},inputs:{date:"date",viewDate:"viewDate",selection:"selection",selected:"selected",disabledDates:"disabledDates",specialDates:"specialDates",hideOutsideDays:[2,"hideOutsideDays","hideOutsideDays",Hf],isLastInRange:[2,"isLastInRange","isLastInRange",Hf],isFirstInRange:[2,"isFirstInRange","isFirstInRange",Hf],isWithinRange:[2,"isWithinRange","isWithinRange",Hf],isWithinPreviewRange:[2,"isWithinPreviewRange","isWithinPreviewRange",Hf],hideLeadingDays:[2,"hideLeadingDays","hideLeadingDays",Hf],hideTrailingDays:[2,"hideTrailingDays","hideTrailingDays",Hf],isActive:[2,"isActive","isActive",Hf]},outputs:{dateSelection:"dateSelection",mouseEnter:"mouseEnter",mouseLeave:"mouseLeave",mouseDown:"mouseDown"},ngContentSelectors:NV,decls:2,vars:0,consts:[["aria-hidden","true",1,"igx-days-view__date-inner",3,"mouseenter","mouseleave","mousedown"]],template:function(e,t){1&e&&(lm(),Lp(0,"span",0),rm("mouseenter",(function(){return t.onMouseEnter()}))("mouseleave",(function(){return t.onMouseLeave()}))("mousedown",(function(e){return t.onMouseDown(e)})),dm(1),Np())},encapsulation:2,changeDetection:0})}}return e})(),zV={igx_calendar_previous_month:"Previous Month",igx_calendar_next_month:"Next Month",igx_calendar_previous_year:"Previous Year",igx_calendar_next_year:"Next Year",igx_calendar_previous_years:"Previous {0} Years",igx_calendar_next_years:"Next {0} Years",igx_calendar_select_date:"Select Date",igx_calendar_select_month:"Select Month",igx_calendar_select_year:"Select Year",igx_calendar_range_start:"Range start",igx_calendar_range_end:"Range end",igx_calendar_range_label_start:"Start",igx_calendar_range_label_end:"End",igx_calendar_range_placeholder:"Select Range",igx_calendar_selected_month_is:"Selected month is ",igx_calendar_first_picker_of:"First picker of {0} starts from",igx_calendar_multi_selection:"Multi selection calendar with {0} date pickers",igx_calendar_range_selection:"Range selection calendar with {0} date pickers",igx_calendar_single_selection:"Calendar with {0} date pickers",igx_calendar_singular_multi_selection:"Multi selection calendar",igx_calendar_singular_range_selection:"Range selection calendar",igx_calendar_singular_single_selection:"Calendar"},BV=(()=>{class e{constructor(e,t){this.eventManager=e,this.ngZone=t,this.keyHandlers=new Map,this.eventUnsubscribeFn=null}attachKeyboardHandlers(e,t){return this.detachKeyboardHandlers(),this.ngZone.runOutsideAngular((()=>{this.eventUnsubscribeFn=this.eventManager.addEventListener(e.nativeElement,"keydown",(e=>{let i=this.keyHandlers.get(e.key);i&&this.ngZone.run(i.bind(t,e))}))})),this}detachKeyboardHandlers(){this.eventUnsubscribeFn&&(this.eventUnsubscribeFn(),this.eventUnsubscribeFn=null),this.keyHandlers.clear()}set(e,t){return this.keyHandlers.set(e,t),this}unset(e){return this.keyHandlers.delete(e),this}static{this.ɵfac=function(t){return new(t||e)(Vr(CR),Vr(Il))}}static{this.ɵprov=ir({token:e,factory:e.ɵfac})}}return e})(),GV=["yearsBtn"],$V=(()=>{class e{set resourceStrings(e){this._resourceStrings=Object.assign({},this._resourceStrings,e)}get resourceStrings(){return this._resourceStrings}get weekStart(){return this._weekStart}set weekStart(e){this._weekStart=e}get locale(){return this._locale}set locale(e){this._locale=e;try{tv(this._locale)}catch{this._locale=this._localeId}this.weekStart||(this.weekStart=tv(this._locale)),this.initFormatters()}get formatOptions(){return this._formatOptions}set formatOptions(e){this._formatOptions=Qe(Qe({},this._formatOptions),e),this.initFormatters()}get formatViews(){return this._formatViews}set formatViews(e){this._formatViews=Object.assign(this._formatViews,e)}get activeView(){return this._activeView}set activeView(e){this._activeView=e,this.activeViewSubject.next(e)}get isDefaultView(){return this._activeView===_V}get isDecadeView(){return this._activeView===CV}activeViewDecade(e=0){this.activeView=CV,this.activeViewIdx=e}activeViewDecadeKB(e,t=0){e.stopPropagation(),this.platform.isActivationKey(e)&&(e.preventDefault(),this.activeViewDecade(t))}changeYear(e){this.previousViewDate=this.viewDate,this.viewDate=lV.from(e).add("month",-this.activeViewIdx).native,this.activeView=_V}formattedYear(e){if(!Array.isArray(e))return this.formatViews.year?this.formatterYear.format(e):`${e.getFullYear()}`}formattedYears(e){return e.map((e=>this.formattedYear(e))).join(" - ")}prevNavLabel(e){switch(this.activeView){case"month":return`${this.resourceStrings.igx_calendar_previous_month}, ${e}`;case"year":return this.resourceStrings.igx_calendar_previous_year;case"decade":return this.resourceStrings.igx_calendar_previous_years.replace("{0}","15")}}nextNavLabel(e){switch(this.activeView){case"month":return`${this.resourceStrings.igx_calendar_next_month}, ${e}`;case"year":return this.resourceStrings.igx_calendar_next_year;case"decade":return this.resourceStrings.igx_calendar_next_years.replace("{0}","15")}}getDecadeRange(){let e=function(e,t){let i=oV(e).year,n=15*Math.floor(i/15);return{start:n,end:n+15-1}}(this.viewDate),t=lV.from(this.viewDate).set({date:1,year:e.start}),i=lV.from(this.viewDate).set({date:1,year:e.end});return{start:this.formatterYear.format(t.native),end:this.formatterYear.format(i.native)}}get selection(){return this._selection}set selection(e){switch(e){case vV:this.selectedDates=null;break;case yV:case xV:this.selectedDates=[];break;default:throw new Error("Invalid selection value")}this._onChangeCallback(this.selectedDates),this.rangeStarted=!1,this._selection=e}get viewDate(){return this._viewDate}set viewDate(e){if(Array.isArray(e))return;"string"==typeof e&&(e=OS.parseIsoDate(e));let t=this.validateDate(e);this._viewDate&&(this.initialSelection=t);let i=this.getDateOnly(t).setDate(1);this._viewDate=new Date(i)}get disabledDates(){return this._disabledDates}set disabledDates(e){this._disabledDates=e}isDateDisabled(e){return!!this.disabledDates&&("string"==typeof e&&(e=OS.parseIsoDate(e)),IV(e,this.disabledDates))}get specialDates(){return this._specialDates}set specialDates(e){this._specialDates=e}get value(){return this.selection===vV?this.selectedDates?.at(0):this.selectedDates}set value(e){"string"==typeof e&&(e=OS.parseIsoDate(e)),!e||Array.isArray(e)&&0===e.length?this.initialSelection=new Date:(this.initialSelection||(this.viewDate=Array.isArray(e)?new Date(Math.min(...e)):e),this.selectDate(e),this.initialSelection=e)}constructor(e,t,i,n){this.platform=e,this._localeId=t,this.keyboardNavigation=i,this.cdr=n,this.activeViewIdx=0,this._activeView=_V,this.activeViewSubject=new Ci,this.activeView$=this.activeViewSubject.asObservable(),this.hideOutsideDays=!1,this.selected=new wl,this.viewDateChanged=new wl,this.activeViewChanged=new wl,this.rangeStarted=!1,this.pageScrollDirection="none",this.scrollPage$=new Ci,this.stopPageScroll$=new Ci,this.startPageScroll$=new Ci,this.shiftKey=!1,this._onTouchedCallback=ei,this._onChangeCallback=ei,this._disabledDates=[],this._specialDates=[],this._selection=vV,this._resourceStrings=TA(zV),this._formatOptions={day:"numeric",month:"long",weekday:"narrow",year:"numeric"},this._formatViews={day:!1,month:!0,year:!1},this.locale=t,this.viewDate=this.viewDate?this.viewDate:new Date,this.initFormatters()}onPointerdown(e){this.shiftKey=0===e.button&&e.shiftKey}registerOnChange(e){this._onChangeCallback=e}registerOnTouched(e){this._onTouchedCallback=e}writeValue(e){this.value=e}selectDate(e){if("string"==typeof e&&(e=OS.parseIsoDate(e)),!(null==e||Array.isArray(e)&&0===e.length))switch(this.selection){case vV:MC(e)&&!this.isDateDisabled(e)&&this.selectSingle(e);break;case yV:this.selectMultiple(e);break;case xV:this.selectRange(e,!0)}}deselectDate(e){if(this.selectedDates&&0!==this.selectedDates.length){if("string"==typeof e&&(e=OS.parseIsoDate(e)),null==e)return this.selectedDates=this.selection===vV?null:[],this.rangeStarted=!1,void this._onChangeCallback(this.selectedDates);switch(this.selection){case vV:this.deselectSingle(e);break;case yV:this.deselectMultiple(e);break;case xV:this.deselectRange(e)}}}selectSingle(e){LC(this.selectedDates?.at(0),e)||(this.selectedDates=[this.getDateOnly(e)],this._onChangeCallback(this.selectedDates.at(0)))}deselectSingle(e){null!==this.selectedDates&&this.getDateOnlyInMs(e)===this.getDateOnlyInMs(this.selectedDates.at(0))&&(this.selectedDates=null,this._onChangeCallback(this.selectedDates))}selectMultiple(e){if(Array.isArray(e)){let t=e.map((e=>this.getDateOnly(e).getTime())),i=this.selectedDates.map((e=>this.getDateOnly(e).getTime()));if(JSON.stringify(t)===JSON.stringify(i))return;0===i.length||i.length>t.length?this.selectedDates=t.map((e=>new Date(e))):this.selectedDates=Array.from(new Set([...t,...i])).map((e=>new Date(e)))}else{let t=[];if(this.shiftKey&&this.lastSelectedDate){[this._startDate,this._endDate]=this.lastSelectedDate.getTime()<e.getTime()?[this.lastSelectedDate,e]:[e,this.lastSelectedDate];let i=[this._startDate,...this.generateDateRange(this._startDate,this._endDate)].filter((e=>!this.isDateDisabled(e)&&this.selectedDates.every((t=>t.getTime()!==e.getTime()))));this.selectedDates.some((e=>e.getTime()===this.lastSelectedDate.getTime()))&&i.length?t=i:(this.selectedDates=this.selectedDates.filter((e=>e.getTime()<this._startDate.getTime()||e.getTime()>this._endDate.getTime())),this.selectedDates.push(e),this._deselectDate=!0),this._startDate=this._endDate=void 0}else this.selectedDates.every((t=>t.getTime()!==e.getTime()))?t.push(e):(this.selectedDates=this.selectedDates.filter((t=>t.getTime()!==e.getTime())),this._deselectDate=!0);t.length>0&&(this.selectedDates=this.selectedDates.concat(t),this._deselectDate=!1),this.lastSelectedDate=e}this.selectedDates=this.selectedDates.filter((e=>!this.isDateDisabled(e))),this.selectedDates.sort(((e,t)=>e.valueOf()-t.valueOf())),this._onChangeCallback(this.selectedDates)}deselectMultiple(e){e=e.filter((e=>null!==e));let t=this.selectedDates.length,i=new Set(e.map((e=>this.getDateOnlyInMs(e))));for(let e=this.selectedDates.length-1;e>=0;e--)i.has(this.getDateOnlyInMs(this.selectedDates[e]))&&this.selectedDates.splice(e,1);this.selectedDates.length!==t&&this._onChangeCallback(this.selectedDates)}selectRange(e,t=!1){if(Array.isArray(e))e.sort(((e,t)=>e.valueOf()-t.valueOf())),this._startDate=this.getDateOnly(e[0]),this._endDate=this.getDateOnly(e[e.length-1]);else{if(this.shiftKey&&this.lastSelectedDate){if(this.lastSelectedDate.getTime()===e.getTime())return this.selectedDates=1===this.selectedDates.length?[]:[e],this.rangeStarted=!!this.selectedDates.length,void this._onChangeCallback(this.selectedDates);this.selectedDates.some((t=>t.getTime()===e.getTime()))?this.lastSelectedDate.getTime()<e.getTime()?this._startDate=e:this._endDate=e:this.lastSelectedDate.getTime()<e.getTime()?(this._startDate=this._startDate??this.lastSelectedDate,this._endDate=e):(this._startDate=e,this._endDate=this._endDate??this.lastSelectedDate),this.rangeStarted=!1}else if(this.rangeStarted){if(this.rangeStarted=!1,this.selectedDates?.at(0)?.getTime()===e.getTime())return this.selectedDates=[],void this._onChangeCallback(this.selectedDates);[this._startDate,this._endDate]=this.lastSelectedDate.getTime()<e.getTime()?[this.lastSelectedDate,e]:[e,this.lastSelectedDate]}else this.rangeStarted=!0,this.selectedDates=[e],this._startDate=this._endDate=void 0;this.lastSelectedDate=e}this._startDate&&this._endDate&&(this.selectedDates=[this._startDate,...this.generateDateRange(this._startDate,this._endDate)]),t&&(this.selectedDates=this.selectedDates.filter((e=>!this.isDateDisabled(e)))),this._onChangeCallback(this.selectedDates)}deselectRange(e){if((e=e.filter((e=>null!==e))).length<1)return;e.sort(((e,t)=>e.valueOf()-t.valueOf()));let t=this.getDateOnlyInMs(e[0]),i=this.getDateOnlyInMs(e[e.length-1]);this.selectedDates.sort(((e,t)=>e.valueOf()-t.valueOf()));let n=this.getDateOnlyInMs(this.selectedDates[0]),r=this.getDateOnlyInMs(this.selectedDates[this.selectedDates.length-1]);!(i<n)&&!(t>r)&&(this.selectedDates=[],this.rangeStarted=!1,this._onChangeCallback(this.selectedDates))}initFormatters(){this.formatterDay=new Intl.DateTimeFormat(this._locale,{day:this._formatOptions.day}),this.formatterWeekday=new Intl.DateTimeFormat(this._locale,{weekday:this._formatOptions.weekday}),this.formatterMonth=new Intl.DateTimeFormat(this._locale,{month:this._formatOptions.month}),this.formatterYear=new Intl.DateTimeFormat(this._locale,{year:this._formatOptions.year}),this.formatterMonthday=new Intl.DateTimeFormat(this._locale,{month:this._formatOptions.month,day:this._formatOptions.day}),this.formatterRangeday=new Intl.DateTimeFormat(this._locale,{day:this._formatOptions.day,month:"short"})}getDateOnly(e){let t=this.validateDate(e);return new Date(t.getFullYear(),t.getMonth(),t.getDate())}getDateOnlyInMs(e){return this.getDateOnly(e).getTime()}generateDateRange(e,t){let i=[];for(e=this.getDateOnly(e),t=this.getDateOnly(t);e.getTime()<t.getTime();)e=lV.from(e).add("day",1).native,i.push(e);return i}validateDate(e){return OS.isValidDate(e)?e:new Date}static{this.ɵfac=function(t){return new(t||e)(lu(NC),lu(uf),lu(BV),lu(Cf))}}static{this.ɵdir=rg({type:e,selectors:[["","igxCalendarBase",""]],viewQuery:function(e,t){if(1&e&&pm(GV,5),2&e){let e;mm(e=fm())&&(t.yearsBtns=e)}},hostBindings:function(e,t){1&e&&rm("pointerdown",(function(e){return t.onPointerdown(e)}))},inputs:{hideOutsideDays:[2,"hideOutsideDays","hideOutsideDays",Hf],resourceStrings:"resourceStrings",weekStart:"weekStart",locale:"locale",formatOptions:"formatOptions",formatViews:"formatViews",activeView:"activeView",selection:"selection",viewDate:"viewDate",disabledDates:"disabledDates",specialDates:"specialDates",value:"value"},outputs:{selected:"selected",viewDateChanged:"viewDateChanged",activeViewChanged:"activeViewChanged"},features:[Pm([BV])]})}}return e})(),WV=(e,t)=>t.long;function KV(e,t){if(1&e&&(Lp(0,"div",2)(1,"span")(2,"i"),ym(3),Xm(4,"titlecase"),Np()()()),2&e){let e=om();Hc(3),_m(Qm(4,1,e.weekNumberHeader.short))}}function jV(e,t){if(1&e&&(Lp(0,"span",3)(1,"span",5),ym(2),Xm(3,"titlecase"),Np()()),2&e){let e=t.$implicit;$g("aria-label",e.long),Hc(2),wm(" ",Qm(3,2,e.formatted)," ")}}function UV(e,t){if(1&e&&(Lp(0,"div",6)(1,"span",8),ym(2),Np()()),2&e){let e=om().$implicit,t=om();Hc(2),wm(" ",t.getWeekNumber(e[0])," ")}}function qV(e,t){if(1&e){let e=Kp();Lp(0,"igx-day-item",9,0),rm("click",(function(){Ko(e);let t=vm(1);return jo(om(2).handleDateClick(t))}))("mouseEnter",(function(){let t=Ko(e).$implicit;return jo(om(2).changePreviewRange(t.native))}))("mouseLeave",(function(){return Ko(e),jo(om(2).clearPreviewRange())})),ym(2),Np()}if(2&e){let e=t.$implicit,i=vm(1),n=om(2);rp("date",e)("viewDate",n.viewDate)("selection",n.selection)("selected",n.isSelected(e))("isActive",n.isActiveDate(e))("isLastInRange",n.isLastInRange(e))("isFirstInRange",n.isFirstInRange(e))("isWithinRange",n.isWithinRange(e.native,!0))("isWithinPreviewRange",n.isWithinPreviewRange(e.native))("disabledDates",n.disabledDates)("specialDates",n.specialDates)("hideLeadingDays",n.hideLeadingDays)("hideTrailingDays",n.hideTrailingDays),$g("id",i.isCurrentMonth&&e.timestamp)("aria-selected",n.isSelected(e))("aria-disabled",n.isDateDisabled(e.native))("aria-label",n.isFirstInRange(e)?e.native.toDateString()+", "+n.resourceStrings.igx_calendar_range_start:n.isLastInRange(e)?e.native.toDateString()+", "+n.resourceStrings.igx_calendar_range_end:e.native.toDateString())("tabindex",-1),Hc(2),wm(" ",n.formattedDate(e.native)," ")}}function YV(e,t){if(1&e&&(Lp(0,"div",4),bg(1,UV,3,1,"div",6),Op(2,qV,3,19,"igx-day-item",7,$o()[Bs][Ps].dateTracker,!0),Np()),2&e){let e=t.$implicit,i=om();Hc(),Ip(i.showWeekNumbers?1:-1),Hc(),Pp(e)}}var ZV=0,XV=(()=>{class e extends $V{#e;get standalone(){return this.#e}set standalone(e){this.#e=e}get activeDescendant(){if(-1!==this.tabIndex)return this.activeDate.getTime()}set activeDate(e){this._activeDate=e,this.changePreviewRange(e),this.activeDateChange.emit(this._activeDate)}get activeDate(){return this._activeDate??this.viewDate}set previewRangeDate(e){this._previewRangeDate=e,this.previewRangeDateChange.emit(e)}get previewRangeDate(){return this._previewRangeDate}set hideLeadingDays(e){this._hideLeadingDays=e,this.cdr.detectChanges()}get hideLeadingDays(){return this._hideLeadingDays??this.hideOutsideDays}set hideTrailingDays(e){this._hideTrailingDays=e,this.cdr.detectChanges()}get hideTrailingDays(){return this._hideTrailingDays??this.hideOutsideDays}set showActiveDay(e){this._showActiveDay=e}get showActiveDay(){return this._showActiveDay}constructor(e,t,i,n){super(e,t,null,n),this.el=i,this.cdr=n,this.#e=!0,this.id="igx-days-view-"+ZV++,this.tabIndex=0,this.role="grid",this.viewClass=!0,this.dateSelected=new wl,this.pageChanged=new wl,this.activeDateChange=new wl,this.previewRangeDateChange=new wl}handleArrowKeydown(e,t){e.preventDefault(),e.stopPropagation();let i=EV(lV.from(this.activeDate),t,this.disabledDates);bV(this.activeDate,i.native)||this.pageChanged.emit({monthAction:t>0?"next":"prev",key:e.key,nextDate:i.native}),this.activeDate=i.native,this.viewDate=i.native,this.clearPreviewRange(),this.changePreviewRange(i.native),this.cdr.detectChanges()}onArrowRight(e){this.handleArrowKeydown(e,1)}onArrowLeft(e){this.handleArrowKeydown(e,-1)}onArrowUp(e){this.handleArrowKeydown(e,-7)}onArrowDown(e){this.handleArrowKeydown(e,7)}onKeydownEnter(e){e.stopPropagation(),this.selectActiveDate()}onKeydownHome(e){e.preventDefault(),e.stopPropagation();let t=lV.from(this.activeDate);this.activeDate=DV(t.set({date:1}),this.disabledDates).native}onKeydownEnd(e){e.preventDefault(),e.stopPropagation();let t=lV.from(this.activeDate);this.activeDate=function(e,t=[]){for(;IV(e,t);)e=e.add("day",-1);return e}(t.set({month:t.month+1,date:0}),this.disabledDates).native}handleFocus(){this._showActiveDay=!0,this.changePreviewRange(this.activeDate)}handleBlur(){this._showActiveDay=!1,this.clearPreviewRange()}handleDateClick(e){let t=e.date.native;e.isPreviousMonth&&this.pageChanged.emit({monthAction:"prev",key:"",nextDate:t}),e.isNextMonth&&this.pageChanged.emit({monthAction:"next",key:"",nextDate:t}),-1!==this.tabIndex&&this.el.nativeElement.focus(),this.activeDate=e.date.native,this.selectActiveDate()}selectActiveDate(){this.selectDate(this.activeDate),this.dateSelected.emit(this.activeDate),this.selected.emit(this.selectedDates),this.clearPreviewRange()}get calendarMonth(){return Array.from(function*(e,t){let{year:i,month:n}=oV(e),r=new lV({year:i,month:n}),s=function(e,t){return(e%7+7)%7}(r.day-t);yield*(e=>{var t,i=e[Ze("asyncIterator")],n=!1,r={};return null==i?(i=e[Ze("iterator")](),t=e=>r[e]=t=>i[e](t)):(i=i.call(e),t=e=>r[e]=t=>{if(n){if(n=!1,"throw"===e)throw t;return t}return n=!0,{done:!1,value:new ot(new Promise((n=>{var r=i[e](t);r instanceof Object||(e=>{throw TypeError("Object expected")})(),n(r)})),1)}}),r[Ze("iterator")]=()=>r,t("next"),"throw"in i?t("throw"):r.throw=e=>{throw e},"return"in i&&t("return"),r})(TV({start:r.add("day",-s),end:42}))}(this.viewDate,this.weekStart))}get monthWeeks(){return Array.from(function*(e,t){for(let t=0;t<e.length;t+=7)yield e.slice(t,t+7)}(this.calendarMonth))}getWeekNumber(e){return e.getWeekNumber(this.weekStart)}formattedDate(e){return this.formatViews.day?this.formatterDay.format(e):`${e.getDate()}`}get weekHeaderLabels(){let e=[],t=new Intl.DateTimeFormat(this.locale,{weekday:"long"});for(let i of this.monthWeeks.at(0))e.push({long:t.format(i.native),formatted:this.formatterWeekday.format(i.native)});return e}get weekNumberHeader(){let e=e=>new Intl.DisplayNames(this.locale,{type:"dateTimeField",style:e}).of("weekOfYear");return{short:e("narrow").substring(0,1),long:e("long")}}rowTracker(e,t){return`${t[0].month}${t[0].date}`}dateTracker(e,t){return`${t.month}--${t.date}`}isSelected(e){let t=this.value,i=this.value||Array.isArray(this.value)&&1===this.value.length;return!IV(e,this.disabledDates)&&(this.selection===vV?!!this.value&&e.equalTo(this.value):!!i&&(this.selection===yV&&t.length>0?IV(e,[{type:RV.Specific,dateRange:t}]):this.selection===xV&&t.length>0?IV(e,[{type:RV.Between,dateRange:[t.at(0),t.at(-1)]}]):void 0))}isFirstInRange(e){let t=this.selectedDates;if(this.isSingleSelection||0===t.length)return!1;let i=t.at(0);return this.previewRangeDate&&this.previewRangeDate<i&&(i=this.previewRangeDate),e.equalTo(i)}isLastInRange(e){let t=this.selectedDates;if(this.isSingleSelection||0===t.length)return!1;let i=t.at(-1);return this.previewRangeDate&&this.previewRangeDate>i&&(i=this.previewRangeDate),e.equalTo(i)}isActiveDate(e){return this._showActiveDay&&e.equalTo(this.activeDate)}isWithinRange(e,t,i,n){let r=this.selectedDates;return!(t&&!(Array.isArray(r)&&r.length>1))&&(i=i||r.at(0),n=n||r.at(-1),IV(e,[{type:RV.Between,dateRange:[i,n]}]))}isWithinPreviewRange(e){if("range"!==this.selection)return!1;let t=this.selectedDates;return!!(t.length>0&&this.previewRangeDate)&&IV(e,[{type:RV.Between,dateRange:[t.at(0),this.previewRangeDate]}])}get isSingleSelection(){return this.selection!==xV}changePreviewRange(e){let t=this.value;"range"===this.selection&&1===t.length&&(lV.from(t.at(0)).equalTo(e)||this.setPreviewRangeDate(e))}clearPreviewRange(){this.previewRangeDate&&this.setPreviewRangeDate(void 0)}setPreviewRangeDate(e){this.previewRangeDate=e}static{this.ɵfac=function(t){return new(t||e)(lu(NC),lu(uf),lu(zl),lu(Cf))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-days-view"]],viewQuery:function(e,t){if(1&e&&pm(HV,5,HV),2&e){let e;mm(e=fm())&&(t.dates=e)}},hostVars:8,hostBindings:function(e,t){1&e&&rm("keydown.arrowright",(function(e){return t.onArrowRight(e)}))("keydown.arrowleft",(function(e){return t.onArrowLeft(e)}))("keydown.arrowup",(function(e){return t.onArrowUp(e)}))("keydown.arrowdown",(function(e){return t.onArrowDown(e)}))("keydown.Space",(function(e){return t.onKeydownEnter(e)}))("keydown.enter",(function(e){return t.onKeydownEnter(e)}))("keydown.home",(function(e){return t.onKeydownHome(e)}))("keydown.end",(function(e){return t.onKeydownEnd(e)}))("focus",(function(){return t.handleFocus()}))("blur",(function(){return t.handleBlur()})),2&e&&($g("id",t.id)("tabIndex",t.tabIndex)("role",t.role)("aria-activeDescendant",t.activeDescendant),ap("igx-days-view",t.viewClass)("igx-days-view--standalone",t.standalone))},inputs:{id:"id",tabIndex:"tabIndex",role:"role",standalone:"standalone",showWeekNumbers:[2,"showWeekNumbers","showWeekNumbers",Hf],activeDate:"activeDate",previewRangeDate:"previewRangeDate",hideLeadingDays:[2,"hideLeadingDays","hideLeadingDays",Hf],hideTrailingDays:[2,"hideTrailingDays","hideTrailingDays",Hf],showActiveDay:[2,"showActiveDay","showActiveDay",Hf]},outputs:{dateSelected:"dateSelected",pageChanged:"pageChanged",activeDateChange:"activeDateChange",previewRangeDateChange:"previewRangeDateChange"},features:[Pm([{multi:!0,provide:my,useExisting:e}]),dg],decls:7,vars:4,consts:[["item",""],["role","row",1,"igx-days-view__row",3,"title"],["role","columnheader",1,"igx-days-view__label","igx-days-view__label--week-number"],["role","columnheader",1,"igx-days-view__label"],["role","row",1,"igx-days-view__row"],[1,"igx-days-view__label-inner"],[1,"igx-days-view__date","igx-days-view__date--week-number"],["role","gridcell",1,"igx-days-view__date",3,"date","viewDate","selection","selected","isActive","isLastInRange","isFirstInRange","isWithinRange","isWithinPreviewRange","disabledDates","specialDates","hideLeadingDays","hideTrailingDays"],["role","rowheader",1,"igx-days-view__date-inner","igx-days-view__date-inner--week-number"],["role","gridcell",1,"igx-days-view__date",3,"click","mouseEnter","mouseLeave","date","viewDate","selection","selected","isActive","isLastInRange","isFirstInRange","isWithinRange","isWithinPreviewRange","disabledDates","specialDates","hideLeadingDays","hideTrailingDays"]],template:function(e,t){1&e&&(Lp(0,"div",1),Xm(1,"titlecase"),bg(2,KV,5,3,"div",2),Op(3,jV,4,4,"span",3,WV),Np(),Op(5,YV,4,1,"div",4,t.rowTracker,!0)),2&e&&(rp("title",Qm(1,2,t.weekNumberHeader.long)),Hc(2),Ip(t.showWeekNumbers?2:-1),Hc(),Pp(t.weekHeaderLabels),Hc(2),Pp(t.monthWeeks))},dependencies:[HV,ey],encapsulation:2,changeDetection:0})}}return e})(),QV=(()=>{class e{transform(e){return new Array(e)}static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵpipe=sg({name:"IgxMonthViewSlots",type:e,pure:!0})}}return e})(),JV=(()=>{class e{constructor(){this.calendar=new class{timedelta(e,t,i){let n=new Date(e),r=()=>{n.getDate()!==e.getDate()&&n.setDate(0)};switch(t.toLowerCase()){case"year":n.setFullYear(n.getFullYear()+i),r();break;case"quarter":n.setMonth(n.getMonth()+3*i),r();break;case"month":n.setMonth(n.getMonth()+i),r();break;case"week":n.setDate(n.getDate()+7*i);break;case"day":n.setDate(n.getDate()+i);break;case"hour":n.setTime(n.getTime()+36e5*i);break;case"minute":n.setTime(n.getTime()+6e4*i);break;case"second":n.setTime(n.getTime()+1e3*i);break;default:throw new Error("Invalid interval specifier")}return n}}}transform(e,t,i=!0){let n=this.calendar.timedelta(t,"month",e);return i?n:n.getMonth()}static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵpipe=sg({name:"IgxGetViewDate",type:e,pure:!0})}}return e})(),eM=["wrapper"],tM=["decade"],iM=["months"],nM=["days"],rM=["prevPageBtn"],sM=["nextPageBtn"],oM=["monthsBtn"],aM=e=>({$implicit:e});function lM(e,t){if(1&e&&(Lp(0,"span"),ym(1),Np()),2&e){let e=om(2);Hc(),_m(e.resourceStrings.igx_calendar_select_date)}}function dM(e,t){if(1&e&&(Lp(0,"span"),ym(1),Np()),2&e){let e=om(2);Hc(),_m(e.resourceStrings.igx_calendar_range_placeholder)}}function cM(e,t){if(1&e&&bg(0,lM,2,1,"span")(1,dM,2,1,"span"),2&e){let e=om();Ip("single"===e.selection?0:-1),Hc(),Ip("range"===e.selection?1:-1)}}function hM(e,t){if(1&e&&(Lp(0,"span"),ym(1),Np(),Lp(2,"span"),ym(3),Np()),2&e){let e=om(2);Hc(),wm("",e.getFormattedDate().weekday,", "),Hc(2),_m(e.getFormattedDate().monthday)}}function uM(e,t){if(1&e&&(Lp(0,"span"),ym(1),Np(),Lp(2,"span"),ym(3," - "),Np(),Lp(4,"span"),ym(5),Np()),2&e){let e=om(2);Hc(),_m(0===e.selectedDates.length?"Start":e.getFormattedRange().start),Hc(4),_m(e.selectedDates.length<=1?"End":e.getFormattedRange().end)}}function gM(e,t){if(1&e&&bg(0,hM,4,2)(1,uM,6,2),2&e){let e=om();Ip("single"===e.selection?0:-1),Hc(),Ip("range"===e.selection?1:-1)}}function pM(e,t){if(1&e){let e=Kp();Lp(0,"span",28,14),Xm(2,"date"),rm("keydown",(function(t){let i=Ko(e).$implicit;return jo(om().onActiveViewYearKB(i.date,t,i.index))}))("mousedown",(function(t){let i=Ko(e).$implicit;return jo(om().onActiveViewYear(t,i.date,i.index))})),ym(3),Np()}if(2&e){let e=t.$implicit,i=om();$g("aria-label",Jm(2,2,e.date,"LLLL")+", "+i.resourceStrings.igx_calendar_select_month),Hc(3),wm(" ",i.formattedMonth(e.date)," ")}}function mM(e,t){if(1&e&&(Lp(0,"span",29),ym(1),Np()),2&e){let e=om().$implicit,t=om();Hc(),_m(t.formattedYear(e.date))}}function fM(e,t){if(1&e){let e=Kp();bg(0,mM,2,1,"span",29),Lp(1,"span",28,15),Xm(3,"date"),rm("keydown",(function(t){let i=Ko(e).$implicit;return jo(om().onActiveViewDecadeKB(i.date,t,i.index))}))("mousedown",(function(t){let i=Ko(e).$implicit;return jo(om().onActiveViewDecade(t,i.date,i.index))})),ym(4),Np()}if(2&e){let e=t.$implicit,i=om();Ip("year"===i.activeView?0:-1),Hc(),$g("aria-label",Jm(3,3,e.date,"yyyy")+", "+i.resourceStrings.igx_calendar_select_year),Hc(3),wm(" ",i.formattedYear(e.date)," ")}}function vM(e,t){if(1&e&&(Lp(0,"span",29),ym(1),Xm(2,"date"),Xm(3,"date"),Np()),2&e){let e=om().$implicit,t=om();Hc(),wm(" ",t.monthsViewNumber>1?t.resourceStrings.igx_calendar_first_picker_of.replace("{0}",t.monthsViewNumber.toString())+" "+Jm(2,1,e.date,"LLLL yyyy"):t.resourceStrings.igx_calendar_selected_month_is+Jm(3,4,e.date,"LLLL yyyy")," ")}}function yM(e,t){1&e&&$p(0)}function xM(e,t){1&e&&$p(0)}function _M(e,t){if(1&e&&bg(0,vM,4,7,"span",29)(1,yM,1,0,"ng-container",30)(2,xM,1,0,"ng-container",30),2&e){let e=t.$implicit,i=om(),n=vm(5),r=vm(7);Ip(i.monthsViewNumber<2||e.index<1?0:-1),Hc(),rp("ngTemplateOutlet",n)("ngTemplateOutletContext",Mm(5,aM,e)),Hc(),rp("ngTemplateOutlet",r)("ngTemplateOutletContext",Mm(7,aM,e))}}function wM(e,t){if(1&e&&(Lp(0,"span"),ym(1),Np()),2&e){let e=om();Hc(),Cm("",e.getDecadeRange().start," - ",e.getDecadeRange().end,"")}}function CM(e,t){1&e&&Hp(0,"igx-icon",31)}function SM(e,t){1&e&&Hp(0,"igx-icon",32)}function bM(e,t){1&e&&$p(0)}function DM(e,t){if(1&e){let e=Kp();Lp(0,"div",33,16),Xm(2,"date"),rm("keydown",(function(t){return Ko(e),jo(t.stopPropagation())})),bg(3,bM,1,0,"ng-container",34),Np()}if(2&e){let e=om(),t=vm(13);rp("startScroll",e.startPrevPageScroll)("stopScroll",e.stopPageScroll),$g("aria-label",e.prevNavLabel(Jm(2,4,e.getPrevMonth(e.viewDate),"LLLL"))),Hc(3),rp("ngTemplateOutlet",t)}}function EM(e,t){1&e&&$p(0)}function TM(e,t){if(1&e){let e=Kp();Lp(0,"div",35,17),Xm(2,"date"),rm("keydown",(function(t){return Ko(e),jo(t.stopPropagation())})),bg(3,EM,1,0,"ng-container",34),Np()}if(2&e){let e=om(),t=vm(15);rp("startScroll",e.startNextPageScroll)("stopScroll",e.stopPageScroll),$g("aria-label",e.nextNavLabel(Jm(2,4,e.getNextMonth(e.viewDate,e.monthsViewNumber),"LLLL"))),Hc(3),rp("ngTemplateOutlet",t)}}function IM(e,t){1&e&&$p(0)}function RM(e,t){1&e&&$p(0)}function AM(e,t){1&e&&$p(0)}function kM(e,t){if(1&e&&(Lp(0,"div",38),bg(1,RM,1,0,"ng-container",34)(2,AM,1,0,"ng-container",34),Np()),2&e){om(2);let e=vm(17),t=vm(19);Hc(),rp("ngTemplateOutlet",e),Hc(),rp("ngTemplateOutlet",t)}}function OM(e,t){if(1&e&&(Lp(0,"section",36)(1,"div",37),Xm(2,"IgxGetViewDate"),bg(3,IM,1,0,"ng-container",30),Np(),bg(4,kM,3,2,"div",38),Np()),2&e){let e=t.$implicit,i=om(),n=vm(9);op("--calendar-row-start",1+2*e),Hc(),$g("data-month",ef(2,6,e,i.viewDate,!1)),Hc(2),rp("ngTemplateOutlet",i.subheaderTemplate?i.subheaderTemplate:n)("ngTemplateOutletContext",i.getContext(e)),Hc(),Ip(("horizontal"===i.orientation?e===i.monthsViewNumber-1:0===e)?4:-1)}}function FM(e,t){1&e&&$p(0)}function PM(e,t){1&e&&$p(0)}function VM(e,t){1&e&&$p(0)}function MM(e,t){if(1&e&&(Lp(0,"section",36)(1,"div",37),bg(2,FM,1,0,"ng-container",30),Np(),Lp(3,"div",38),bg(4,PM,1,0,"ng-container",34)(5,VM,1,0,"ng-container",34),Np()()),2&e){let e=om(),t=vm(7),i=vm(17),n=vm(19);Hc(2),rp("ngTemplateOutlet",e.subheaderTemplate?e.subheaderTemplate:t)("ngTemplateOutletContext",e.getContext(0)),Hc(2),rp("ngTemplateOutlet",i),Hc(),rp("ngTemplateOutlet",n)}}function LM(e,t){1&e&&$p(0)}function NM(e,t){1&e&&$p(0)}function HM(e,t){1&e&&$p(0)}function zM(e,t){if(1&e&&(Lp(0,"section",36)(1,"div",39),bg(2,LM,1,0,"ng-container",34),Np(),Lp(3,"div",38),bg(4,NM,1,0,"ng-container",34)(5,HM,1,0,"ng-container",34),Np()()),2&e){let e=om(),t=vm(11),i=vm(17),n=vm(19);Hc(2),rp("ngTemplateOutlet",e.subheaderTemplate?e.subheaderTemplate:t),Hc(2),rp("ngTemplateOutlet",i),Hc(),rp("ngTemplateOutlet",n)}}function BM(e,t){1&e&&$p(0)}function GM(e,t){1&e&&$p(0)}function $M(e,t){if(1&e&&(Lp(0,"header",21)(1,"h5",40),bg(2,BM,1,0,"ng-container",30),Np(),Lp(3,"h2",41),bg(4,GM,1,0,"ng-container",30),Np()()),2&e){let e,t=om(),i=vm(1),n=vm(3);Hc(2),rp("ngTemplateOutlet",null!==(e=t.headerTitleTemplate)&&void 0!==e?e:i)("ngTemplateOutletContext",t.headerContext),Hc(2),rp("ngTemplateOutlet",t.headerTemplate?t.headerTemplate:n)("ngTemplateOutletContext",t.headerContext)}}function WM(e,t){if(1&e&&ym(0),2&e){let e=om();wm(" ",e.monthsViewNumber&&e.monthsViewNumber>1?e.resourceStrings.igx_calendar_multi_selection.replace("{0}",e.monthsViewNumber.toString()):e.resourceStrings.igx_calendar_singular_multi_selection," ")}}function KM(e,t){if(1&e&&ym(0),2&e){let e=om();wm(" ",e.monthsViewNumber&&e.monthsViewNumber>1?e.resourceStrings.igx_calendar_range_selection.replace("{0}",e.monthsViewNumber.toString()):e.resourceStrings.igx_calendar_singular_range_selection," ")}}function jM(e,t){if(1&e&&ym(0),2&e){let e=om();wm(" ",e.monthsViewNumber&&e.monthsViewNumber>1?e.resourceStrings.igx_calendar_single_selection.replace("{0}",e.monthsViewNumber.toString()):e.resourceStrings.igx_calendar_singular_single_selection," ")}}function UM(e,t){1&e&&$p(0)}function qM(e,t){if(1&e&&bg(0,UM,1,0,"ng-container",30),2&e){let e=t.$index;om(2),rp("ngTemplateOutlet",vm(21))("ngTemplateOutletContext",Mm(2,aM,e))}}function YM(e,t){1&e&&(Op(0,qM,1,4,"ng-container",null,Rp),Xm(2,"IgxMonthViewSlots")),2&e&&Pp(Qm(2,0,om().monthsViewNumber))}function ZM(e,t){1&e&&$p(0)}function XM(e,t){1&e&&bg(0,ZM,1,0,"ng-container",34),2&e&&(om(),rp("ngTemplateOutlet",vm(23)))}function QM(e,t){1&e&&$p(0)}function JM(e,t){1&e&&bg(0,QM,1,0,"ng-container",34),2&e&&(om(),rp("ngTemplateOutlet",vm(25)))}function eL(e,t){if(1&e){let e=Kp();Lp(0,"igx-days-view",43,18),Xm(2,"IgxGetViewDate"),Em("activeDateChange",(function(t){Ko(e);let i=om(2);return Dm(i.activeDate,t)||(i.activeDate=t),jo(t)}))("previewRangeDateChange",(function(t){Ko(e);let i=om(2);return Dm(i.previewRangeDate,t)||(i.previewRangeDate=t),jo(t)})),rm("swiperight",(function(){return Ko(e),jo(om(2).previousPage())}))("swipeleft",(function(){return Ko(e),jo(om(2).nextPage())}))("dateSelected",(function(t){return Ko(e),jo(om(2).handleDateSelection(t))}))("mousedown",(function(t){return Ko(e),jo(t.preventDefault())})),Np()}if(2&e){let e=t.$index,i=om(2);op("--calendar-row-start",2*(e+1)),rp("tabIndex",-1)("selection",i.selection)("locale",i.locale)("value",i.value),bm("activeDate",i.activeDate)("previewRangeDate",i.previewRangeDate),rp("viewDate",Jm(2,19,e,i.viewDate))("weekStart",i.weekStart)("formatOptions",i.formatOptions)("formatViews",i.formatViews)("disabledDates",i.disabledDates)("specialDates",i.specialDates)("hideLeadingDays",i.hideOutsideDays||0!==e)("hideTrailingDays",i.hideOutsideDays||e!==i.monthsViewNumber-1)("showWeekNumbers",i.showWeekNumbers)("showActiveDay",i.showActiveDay)("standalone",!1)}}function tL(e,t){1&e&&(Op(0,eL,3,22,"igx-days-view",42,Rp),Xm(2,"IgxMonthViewSlots")),2&e&&Pp(Qm(2,0,om().monthsViewNumber))}function iL(e,t){if(1&e){let e=Kp();Lp(0,"igx-months-view",44,19),rm("swiperight",(function(){return Ko(e),jo(om().previousPage())}))("swipeleft",(function(){return Ko(e),jo(om().nextPage())}))("pageChanged",(function(t){return Ko(e),jo(om().updateYear(t))}))("activeDateChanged",(function(t){return Ko(e),jo(om().updateActiveDescendant(t))}))("selected",(function(t){return Ko(e),jo(om().changeMonth(t))}))("mousedown",(function(t){return Ko(e),jo(t.preventDefault())})),Np()}if(2&e){let e=om();rp("tabIndex",-1)("date",e.viewDate)("locale",e.locale)("formatView",e.formatViews.month)("monthFormat",e.formatOptions.month)("showActive",e.showActiveDay)("standalone",!1)}}function nL(e,t){if(1&e){let e=Kp();Lp(0,"igx-years-view",45,20),rm("swiperight",(function(){return Ko(e),jo(om().previousPage())}))("swipeleft",(function(){return Ko(e),jo(om().nextPage())}))("pageChanged",(function(t){return Ko(e),jo(om().updateYear(t))}))("activeDateChanged",(function(t){return Ko(e),jo(om().updateActiveDescendant(t))}))("selected",(function(t){return Ko(e),jo(om().changeYear(t))}))("mousedown",(function(t){return Ko(e),jo(t.preventDefault())})),Np()}if(2&e){let e=om();rp("tabIndex",-1)("date",e.viewDate)("locale",e.locale)("formatView",e.formatViews.year)("yearFormat",e.formatOptions.year)("showActive",e.showActiveDay)("standalone",!1)}}var rL=0,sL=(()=>{class e extends $V{constructor(){super(...arguments),this.id="igx-calendar-"+rL++,this.hasHeader=!0,this.vertical=!1,this.orientation="horizontal",this.headerOrientation="horizontal",this.showWeekNumbers=!1,this.styleClass=!0,this.activeDate=lV.today.native,this.isKeydownTrigger=!1,this._monthsViewNumber=1,this.startPrevPageScroll=(e=!1)=>{this.startPageScroll$.next(),this.pageScrollDirection="prev",this.previousPage(e)},this.startNextPageScroll=(e=!1)=>{this.startPageScroll$.next(),this.pageScrollDirection="next",this.nextPage(e)},this.stopPageScroll=e=>{e.stopPropagation(),this.stopPageScroll$.next(!0),this.stopPageScroll$.complete(),this.platform.isActivationKey(e)&&this.resetActiveDate(this.viewDate),this.pageScrollDirection="none"}}get monthsViewNumber(){return this._monthsViewNumber}set monthsViewNumber(e){e<1||(this._monthsViewNumber=e)}get styleVerticalClass(){return"vertical"===this.headerOrientation}get isYearView(){return this.activeView===wV}get headerTitleTemplate(){return this.headerTitleTemplateDirective?this.headerTitleTemplateDirective.template:null}set headerTitleTemplate(e){this.headerTitleTemplateDirective=e}get headerTemplate(){return this.headerTemplateDirective?this.headerTemplateDirective.template:null}set headerTemplate(e){this.headerTemplateDirective=e}get subheaderTemplate(){return this.subheaderTemplateDirective?this.subheaderTemplateDirective.template:null}set subheaderTemplate(e){this.subheaderTemplateDirective=e}get headerContext(){return this.generateContext(this.headerDate)}get context(){let e=this.viewDate;return this.generateContext(e)}get headerDate(){return this.selectedDates?.at(0)??new Date}onMouseDown(e){e.stopPropagation(),this.wrapper.nativeElement.focus()}set showActiveDay(e){this._showActiveDay=e,this.cdr.detectChanges()}get showActiveDay(){return this._showActiveDay}get activeDescendant(){return"month"===this.activeView?this.activeDate.getTime():this._activeDescendant??this.viewDate.getTime()}set activeDescendant(e){this._activeDescendant=e.getTime()}ngAfterViewInit(){this.keyboardNavigation.attachKeyboardHandlers(this.wrapper,this).set("ArrowUp",this.onArrowUp).set("ArrowDown",this.onArrowDown).set("ArrowLeft",this.onArrowLeft).set("ArrowRight",this.onArrowRight).set("Enter",this.onEnter).set(" ",this.onEnter).set("Home",this.onHome).set("End",this.onEnd).set("PageUp",this.handlePageUp).set("PageDown",this.handlePageDown),this.startPageScroll$.pipe(Nn(this.stopPageScroll$),Ln((()=>this.scrollPage$.pipe(vi(((e,t)=>{let i=new Array(1),n=0;return e.subscribe(yi(t,(e=>{let r=n++;if(r<1)i[r]=e;else{let n=r%1,s=i[n];i[n]=e,t.next(s)}}))),()=>{i=null}})),An((()=>En(300))),Nn(this.stopPageScroll$))))).subscribe((()=>{switch(this.pageScrollDirection){case"prev":this.previousPage();break;case"next":this.nextPage()}})),this.activeView$.subscribe((e=>{this.activeViewChanged.emit(e),this.viewDateChanged.emit({previousValue:this.previousViewDate,currentValue:this.viewDate})}))}onWrapperFocus(e){this.showActiveDay=!0,this.monthViews.forEach((e=>e.changePreviewRange(this.activeDate)))}onWrapperBlur(e){this.showActiveDay=!1,this.monthViews.forEach((e=>e.clearPreviewRange())),this._onTouchedCallback()}handleArrowKeydown(e,t){e.preventDefault();let i=EV(lV.from(this.activeDate),t,this.disabledDates);this.activeDate=i.native;let n=this.viewDates.some((e=>e.date.equalTo(this.activeDate)));this.monthViews.forEach((e=>e.clearPreviewRange())),n||(t>0?this.nextPage(!0):this.previousPage(!0))}handlePageUpDown(e,t){e.preventDefault();let i=t>0?"next":"prev";this.activeView===_V&&e.shiftKey?(this.viewDate=lV.from(this.viewDate).add("year",t).native,this.resetActiveDate(this.viewDate),this.cdr.detectChanges()):this.changePage(!1,i)}handlePageUp(e){this.handlePageUpDown(e,-1)}handlePageDown(e){this.handlePageUpDown(e,1)}onArrowUp(e){this.activeView===_V&&(this.handleArrowKeydown(e,-7),this.cdr.detectChanges()),this.activeView===wV&&this.monthsView.onKeydownArrowUp(e),this.activeView===CV&&this.dacadeView.onKeydownArrowUp(e)}onArrowDown(e){this.activeView===_V&&(this.handleArrowKeydown(e,7),this.cdr.detectChanges()),this.activeView===wV&&this.monthsView.onKeydownArrowDown(e),this.activeView===CV&&this.dacadeView.onKeydownArrowDown(e)}onArrowLeft(e){this.activeView===_V&&(this.handleArrowKeydown(e,-1),this.cdr.detectChanges()),this.activeView===wV&&this.monthsView.onKeydownArrowLeft(e),this.activeView===CV&&this.dacadeView.onKeydownArrowLeft(e)}onArrowRight(e){this.activeView===_V&&(this.handleArrowKeydown(e,1),this.cdr.detectChanges()),this.activeView===wV&&this.monthsView.onKeydownArrowRight(e),this.activeView===CV&&this.dacadeView.onKeydownArrowRight(e)}onEnter(e){this.activeView===_V&&(this.handleDateSelection(this.activeDate),this.cdr.detectChanges()),this.activeView===wV&&this.monthsView.onKeydownEnter(e),this.activeView===CV&&this.dacadeView.onKeydownEnter(e),this.monthViews.forEach((e=>e.clearPreviewRange()))}onHome(e){if(this.activeView===_V){let e=this.monthViews.toArray().flatMap((e=>e.dates.toArray())).filter((e=>e.isCurrentMonth&&e.isFocusable));this.activeDate=e.at(0).date.native,this.cdr.detectChanges()}this.activeView===wV&&this.monthsView.onKeydownHome(e),this.activeView===CV&&this.dacadeView.onKeydownHome(e)}onEnd(e){if(this.activeView===_V){let e=this.monthViews.toArray().flatMap((e=>e.dates.toArray())).filter((e=>e.isCurrentMonth&&e.isFocusable));this.activeDate=e.at(-1).date.native,this.cdr.detectChanges()}this.activeView===wV&&this.monthsView.onKeydownEnd(e),this.activeView===CV&&this.dacadeView.onKeydownEnd(e)}formattedMonth(e){return this.formatViews.month?this.formatterMonth.format(e):`${e.getMonth()}`}previousPage(e=!1){e&&"next"===this.pageScrollDirection||this.changePage(e,"prev")}nextPage(e=!1){e&&"prev"===this.pageScrollDirection||this.changePage(e,"next")}changePage(e=!1,t){switch(this.previousViewDate=this.viewDate,this.isKeydownTrigger=e,this.activeView){case"month":"prev"===t&&(this.viewDate=lV.from(this.viewDate).add("month",-1).native),"next"===t&&(this.viewDate=lV.from(this.viewDate).add("month",1).native),this.viewDateChanged.emit({previousValue:this.previousViewDate,currentValue:this.viewDate});break;case"year":"prev"===t&&(this.viewDate=lV.from(this.viewDate).add("year",-1).native),"next"===t&&(this.viewDate=lV.from(this.viewDate).add("year",1).native);break;case"decade":"prev"===t&&(this.viewDate=lV.from(this.viewDate).add("year",-15).native),"next"===t&&(this.viewDate=lV.from(this.viewDate).add("year",15).native)}this.isKeydownTrigger||this.resetActiveDate(this.viewDate)}onActiveViewDecade(e,t,i){e.preventDefault(),super.activeViewDecade(i),this.viewDate=t}onActiveViewDecadeKB(e,t,i){super.activeViewDecadeKB(t,i),this.platform.isActivationKey(t)&&(this.viewDate=e,this.wrapper.nativeElement.focus())}onYearsViewClick(e){let t=e.composed?e.composedPath():[e.target];this.dacadeView.viewItems.toArray().some((e=>t.includes(e.nativeElement)))&&(this.activeView=wV)}onYearsViewKeydown(e){this.platform.isActivationKey(e)&&(this.activeView=wV)}getFormattedDate(){let e=this.headerDate,t=new Intl.DateTimeFormat(this.locale,{month:"short",day:"numeric"}),i=new Intl.DateTimeFormat(this.locale,{weekday:"short"});return{monthday:t.format(e),weekday:i.format(e)}}getFormattedRange(){let e=this.selectedDates;return{start:this.formatterRangeday.format(e.at(0)),end:this.formatterRangeday.format(e.at(-1))}}get viewDates(){return this.monthViews.toArray().flatMap((e=>e.dates.toArray())).filter((e=>e.isCurrentMonth))}handleDateSelection(e){!this.viewDates.some((t=>t.date.equalTo(e)))&&(this.viewDate=e),this.selectDate(e),this.monthViews.forEach((e=>{e.shiftKey=this.shiftKey,e.selectedDates=this.selectedDates,e.cdr.markForCheck()})),"single"!==this.selection?this.selected.emit(this.selectedDates):this.selected.emit(this.selectedDates.at(0))}changeMonth(e){this.previousViewDate=this.viewDate,this.viewDate=lV.from(e).add("month",-this.activeViewIdx).native,this.activeView=_V,this.resetActiveDate(e)}changeYear(e){this.previousViewDate=this.viewDate,this.viewDate=lV.from(e).add("month",-this.activeViewIdx).native,this.activeView=wV}updateYear(e){this.previousViewDate=this.viewDate,this.viewDate=lV.from(e).add("year",-this.activeViewIdx).native}updateActiveDescendant(e){this.activeDescendant=e}onActiveViewYear(e,t,i){e.preventDefault(),this.activeView=wV,this.activeViewIdx=i,this.viewDate=t}onActiveViewYearKB(e,t,i){t.stopPropagation(),this.platform.isActivationKey(t)&&(t.preventDefault(),this.activeView=wV,this.activeViewIdx=i,this.viewDate=e,this.wrapper.nativeElement.focus())}deselectDate(e){super.deselectDate(e),this.monthViews.forEach((e=>{e.selectedDates=this.selectedDates,e.rangeStarted=!1,e.cdr.markForCheck()})),this._onChangeCallback(this.selectedDates)}getContext(e){let t=lV.from(this.viewDate).add("month",e).native;return this.generateContext(t,e)}resetActiveDate(e){let t=lV.from(this.activeDate).set({month:e.getMonth(),year:e.getFullYear()}),i=!bV(e,t)||IV(t,this.disabledDates);this.activeDate=i?e:t.native}ngOnDestroy(){this.keyboardNavigation.detachKeyboardHandlers()}getPrevMonth(e){return lV.from(e).add("month",-1).native}getNextMonth(e,t){return lV.from(e).add("month",t).native}generateContext(e,t){let i=(e,t)=>Qe({index:t,date:e},function(e,t,i,n){let r=new Intl.DateTimeFormat(t,i),s={date:e,full:r.format(e)};if("formatToParts"in r){let t=r.formatToParts(e);n.forEach((e=>s[e]=((e,t)=>{let i=e.find((({type:e})=>e===t)),n=e[e.indexOf(i)+1],r=i?.value||"",s="literal"===n?.type?n.value:"";return{value:r,literal:s,combined:r+s}})(t,e)))}else n.forEach((e=>s[e]={value:"",literal:"",combined:""}));return s}(e,this.locale,this.formatOptions,["era","year","month","day","weekday"]));return{$implicit:Array.isArray(e)?e.map(((e,t)=>i(e,t))):i(e,t)}}static{this.ɵfac=(()=>{let t;return function(i){return(t||(t=ol(e)))(i||e)}})()}static{this.ɵcmp=Qu({type:e,selectors:[["igx-calendar"]],contentQueries:function(e,t,i){if(1&e&&(gm(i,pV,7,pV),gm(i,gV,7,gV),gm(i,mV,7,mV)),2&e){let e;mm(e=fm())&&(t.headerTemplateDirective=e.first),mm(e=fm())&&(t.headerTitleTemplateDirective=e.first),mm(e=fm())&&(t.subheaderTemplateDirective=e.first)}},viewQuery:function(e,t){if(1&e&&(pm(eM,5),pm(tM,5,LV),pm(iM,5,VV),pm(nM,5,XV),pm(rM,5),pm(sM,5),pm(oM,5),pm(nM,5,XV)),2&e){let e;mm(e=fm())&&(t.wrapper=e.first),mm(e=fm())&&(t.dacadeView=e.first),mm(e=fm())&&(t.monthsView=e.first),mm(e=fm())&&(t.daysView=e.first),mm(e=fm())&&(t.prevPageBtn=e.first),mm(e=fm())&&(t.nextPageBtn=e.first),mm(e=fm())&&(t.monthsBtns=e),mm(e=fm())&&(t.monthViews=e)}},hostVars:5,hostBindings:function(e,t){1&e&&rm("mousedown",(function(e){return t.onMouseDown(e)})),2&e&&($g("id",t.id),ap("igx-calendar--vertical",t.styleVerticalClass)("igx-calendar",t.styleClass))},inputs:{id:"id",hasHeader:[2,"hasHeader","hasHeader",Hf],vertical:[2,"vertical","vertical",Hf],orientation:"orientation",headerOrientation:"headerOrientation",monthsViewNumber:"monthsViewNumber",showWeekNumbers:[2,"showWeekNumbers","showWeekNumbers",Hf]},features:[Pm([{multi:!0,provide:my,useExisting:e},{multi:!1,provide:BV}]),dg],decls:41,vars:23,consts:[["defaultHeaderTitle",""],["defaultHeaderDate",""],["defaultMonth",""],["defaultYear",""],["defaultMonthYear",""],["defaultDecade",""],["prevArrow",""],["nextArrow",""],["prevPageButton",""],["nextPageButton",""],["calendarDaysPicker",""],["calendarYearPicker",""],["calendarDecadePicker",""],["wrapper",""],["monthsBtn",""],["yearsBtn",""],["prevPageBtn",""],["nextPageBtn",""],["days",""],["months",""],["decade",""],["aria-labelledby","igx-aria-calendar-title-month igx-aria-calendar-title-year",1,"igx-calendar__header"],["aria-labelledby","calendar-desc","role","grid",1,"igx-calendar__wrapper",3,"focus","blur","tabIndex"],["id","calendar-desc","tabindex","-1",1,"igx-calendar__aria-off-screen"],[1,"igx-calendar__pickers"],["role","presentation",1,"igx-calendar__body"],["role","rowgroup",3,"tabIndex","date","locale","formatView","monthFormat","showActive","standalone"],["role","rowgroup",3,"tabIndex","date","locale","formatView","yearFormat","showActive","standalone"],["tabindex","0","role","button",1,"igx-calendar-picker__date",3,"keydown","mousedown"],["aria-live","polite",1,"igx-calendar__aria-off-screen"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true","family","default","name","arrow_prev"],["aria-hidden","true","family","default","name","arrow_next"],["tabindex","0","role","button","data-action","prev","igxCalendarScrollPage","",1,"igx-calendar-picker__prev",3,"keydown","startScroll","stopScroll"],[4,"ngTemplateOutlet"],["tabindex","0","role","button","data-action","next","igxCalendarScrollPage","",1,"igx-calendar-picker__next",3,"keydown","startScroll","stopScroll"],[1,"igx-calendar-picker"],[1,"igx-calendar-picker__dates"],[1,"igx-calendar-picker__nav"],["aria-live","polite",1,"igx-calendar-picker__dates"],["id","igx-aria-calendar-title-year",1,"igx-calendar__header-year"],["id","igx-aria-calendar-title-month",1,"igx-calendar__header-date"],["role","rowgroup",3,"tabIndex","selection","locale","value","activeDate","previewRangeDate","viewDate","weekStart","formatOptions","formatViews","disabledDates","specialDates","--calendar-row-start","hideLeadingDays","hideTrailingDays","showWeekNumbers","showActiveDay","standalone"],["role","rowgroup",3,"activeDateChange","previewRangeDateChange","swiperight","swipeleft","dateSelected","mousedown","tabIndex","selection","locale","value","activeDate","previewRangeDate","viewDate","weekStart","formatOptions","formatViews","disabledDates","specialDates","hideLeadingDays","hideTrailingDays","showWeekNumbers","showActiveDay","standalone"],["role","rowgroup",3,"swiperight","swipeleft","pageChanged","activeDateChanged","selected","mousedown","tabIndex","date","locale","formatView","monthFormat","showActive","standalone"],["role","rowgroup",3,"swiperight","swipeleft","pageChanged","activeDateChanged","selected","mousedown","tabIndex","date","locale","formatView","yearFormat","showActive","standalone"]],template:function(e,t){if(1&e){let e=Kp();bg(0,cM,2,2,"ng-template",null,0,sf)(2,gM,2,2,"ng-template",null,1,sf)(4,pM,4,5,"ng-template",null,2,sf)(6,fM,5,6,"ng-template",null,3,sf)(8,_M,3,9,"ng-template",null,4,sf)(10,wM,2,2,"ng-template",null,5,sf)(12,CM,1,0,"ng-template",null,6,sf)(14,SM,1,0,"ng-template",null,7,sf)(16,DM,4,7,"ng-template",null,8,sf)(18,TM,4,7,"ng-template",null,9,sf)(20,OM,5,10,"ng-template",null,10,sf)(22,MM,6,4,"ng-template",null,11,sf)(24,zM,6,3,"ng-template",null,12,sf)(26,$M,5,4,"header",21),Lp(27,"div",22,13),rm("focus",(function(i){return Ko(e),jo(t.onWrapperFocus(i))}))("blur",(function(i){return Ko(e),jo(t.onWrapperBlur(i))})),Lp(29,"caption",23),bg(30,WM,1,1)(31,KM,1,1)(32,jM,1,1),Np(),Lp(33,"section",24),bg(34,YM,3,2)(35,XM,1,1,"ng-container")(36,JM,1,1,"ng-container"),Np(),Lp(37,"section",25),bg(38,tL,3,2)(39,iL,2,7,"igx-months-view",26)(40,nL,2,7,"igx-years-view",27),Np()()}2&e&&(Hc(26),Ip("single"===t.selection&&t.hasHeader||"range"===t.selection&&t.hasHeader?26:-1),Hc(),op("--calendar-months",t.monthsViewNumber),ap("igx-calendar__wrapper--vertical","vertical"===t.orientation),rp("tabIndex",0),$g("aria-activedescendant",t.activeDescendant)("aria-multiselectable","single"!==t.selection),Hc(3),Ip("multi"===t.selection?30:-1),Hc(),Ip("range"===t.selection?31:-1),Hc(),Ip("single"===t.selection?32:-1),Hc(),ap("igx-calendar__pickers--days",t.isDefaultView)("igx-calendar__pickers--vertical","vertical"===t.orientation),Hc(),Ip(t.isDefaultView?34:-1),Hc(),Ip(t.isYearView?35:-1),Hc(),Ip(t.isDecadeView?36:-1),Hc(),ap("igx-calendar__body--vertical","vertical"===t.orientation),Hc(),Ip(t.isDefaultView?38:-1),Hc(),Ip(t.isYearView?39:-1),Hc(),Ip(t.isDecadeView?40:-1))},dependencies:[qv,fV,DA,XV,VV,LV,ny,QV,JV],encapsulation:2})}}return e})(),oL=class e{static{this.Hammer=typeof window<"u"?window.Hammer:null}constructor(t,i,n){this._zone=t,this.doc=i,this.platformUtil=n,this.hammerOptions={},this._hammerManagers=[],this.platformBrowser=this.platformUtil.isBrowser,this.platformBrowser&&e.Hammer&&(this.hammerOptions={inputClass:e.Hammer.TouchInput,recognizers:[[e.Hammer.Pan,{threshold:0}],[e.Hammer.Swipe,{direction:e.Hammer.DIRECTION_HORIZONTAL}],[e.Hammer.Tap],[e.Hammer.Tap,{event:"doubletap",taps:2},["tap"]]]})}supports(e){return e.toLowerCase().endsWith(".precise")}addEventListener(t,i,n,r=null){if(this.platformBrowser)return this._zone.runOutsideAngular((()=>{if(!e.Hammer)return;let s=this.getManagerForElement(t);null===s&&(s=new e.Hammer(t,Object.assign(this.hammerOptions,r)),this.addManagerForElement(t,s));let o=e=>this._zone.run((()=>n(e)));return s.on(i,o),()=>s.off(i,o)}))}addGlobalEventListener(t,i,n){if(!this.platformBrowser||!e.Hammer)return;let r=this.getGlobalEventTarget(t);return this.addEventListener(r,i,n)}getGlobalEventTarget(e){return Uf().getGlobalEventTarget(this.doc,e)}setManagerOption(e,t,i){this.getManagerForElement(e).get(t).set(i)}addManagerForElement(e,t){this._hammerManagers.push({element:e,manager:t})}getManagerForElement(e){let t=this._hammerManagers.filter((t=>t.element===e));return t.length?t[0].manager:null}removeManagerForElement(e){let t=null;for(let i=0;i<this._hammerManagers.length;i++)if(e===this._hammerManagers[i].element){t=i;break}null!==t&&this._hammerManagers.splice(t,1)[0].manager.destroy()}destroy(){for(let e of this._hammerManagers)e.manager.destroy();this._hammerManagers=[]}static{this.ɵfac=function(t){return new(t||e)(Vr(Il),Vr(Kf),Vr(NC))}}static{this.ɵprov=ir({token:e,factory:e.ɵfac})}},aL={igx_chip_remove:"remove chip",igx_chip_select:"select chip"},lL=["chipArea"],dL=["defaultRemoveIcon"],cL=["defaultSelectIcon"],hL=[[["igx-prefix"],["","igxPrefix",""]],"*",[["igx-suffix"],["","igxSuffix",""]]],uL=["igx-prefix,[igxPrefix]","*","igx-suffix,[igxSuffix]"],gL=e=>({chip:e});function pL(e,t){1&e&&$p(0)}function mL(e,t){if(1&e&&(Lp(0,"div",6),bg(1,pL,1,0,"ng-container",10),Np()),2&e){let e=om();rp("ngClass",e.selectClass(e.selected)),Hc(),rp("ngTemplateOutlet",e.selectIconTemplate)}}function fL(e,t){1&e&&$p(0)}function vL(e,t){if(1&e){let e=Kp();Lp(0,"div",11),rm("keydown",(function(t){return Ko(e),jo(om().onRemoveBtnKeyDown(t))}))("pointerdown",(function(t){return Ko(e),jo(om().onRemoveMouseDown(t))}))("mousedown",(function(t){return Ko(e),jo(om().onRemoveMouseDown(t))}))("click",(function(t){return Ko(e),jo(om().onRemoveClick(t))}))("touchmove",(function(){return Ko(e),jo(om().onRemoveTouchMove())}))("touchend",(function(t){return Ko(e),jo(om().onRemoveTouchEnd(t))})),bg(1,fL,1,0,"ng-container",10),Np()}if(2&e){let e=om();$g("tabIndex",e.tabIndex),Hc(),rp("ngTemplateOutlet",e.removeButtonTemplate)}}function yL(e,t){1&e&&Hp(0,"igx-icon",12),2&e&&$g("aria-label",om().resourceStrings.igx_chip_select)}function xL(e,t){1&e&&Hp(0,"igx-icon",13),2&e&&$g("aria-label",om().resourceStrings.igx_chip_remove)}var _L="primary",wL="info",CL="success",SL="warning",bL="danger",DL=0,EL=(()=>{class e{set tabIndex(e){this._tabIndex=e}get tabIndex(){return null!==this._tabIndex?this._tabIndex:this.disabled?null:0}set selected(e){this.changeSelection(e)}get selected(){return this._selected}set color(e){this.chipArea.nativeElement.style.backgroundColor=e}get color(){return this.chipArea.nativeElement.style.backgroundColor}set resourceStrings(e){this._resourceStrings=Object.assign({},this._resourceStrings,e)}get resourceStrings(){return this._resourceStrings}get isPrimary(){return this.variant===_L}get isInfo(){return this.variant===wL}get isSuccess(){return this.variant===CL}get isWarning(){return this.variant===SL}get isDanger(){return this.variant===bL}get removeButtonTemplate(){if(!this.disabled)return this.removeIcon||this.defaultRemoveIcon}get selectIconTemplate(){return this.selectIcon||this.defaultSelectIcon}get ghostStyles(){return{"--ig-size":`${this.chipSize}`}}get nativeElement(){return this.ref.nativeElement}get chipSize(){return this.computedStyles?.getPropertyValue("--ig-size")||vb}constructor(e,t,i,n){this.cdr=e,this.ref=t,this.renderer=i,this.document=n,this.id="igx-chip-"+DL++,this.role="option",this.draggable=!1,this.animateOnRelease=!0,this.hideBaseOnDrag=!0,this.removable=!1,this.selectable=!1,this.class="",this.disabled=!1,this.selectedChange=new wl,this.moveStart=new wl,this.moveEnd=new wl,this.remove=new wl,this.chipClick=new wl,this.selectedChanging=new wl,this.selectedChanged=new wl,this.keyDown=new wl,this.dragEnter=new wl,this.dragLeave=new wl,this.dragOver=new wl,this.dragDrop=new wl,this.defaultClass="igx-chip",this.hideBaseElement=!1,this.destroy$=new Ci,this._tabIndex=null,this._selected=!1,this._selectedItemClass="igx-chip__item--selected",this._movedWhileRemoving=!1,this._resourceStrings=TA(aL)}keyEvent(e){this.onChipKeyDown(e)}selectClass(e){let t="igx-chip__select";return{[t]:e,[`${t}--hidden`]:!e}}onSelectTransitionDone(e){e.target.tagName&&this.selectedChanged.emit({owner:this,originalEvent:e})}onChipKeyDown(e){let t={originalEvent:e,owner:this,cancel:!1};this.keyDown.emit(t),!t.cancel&&(("Delete"===e.key||"Del"===e.key)&&this.removable&&this.remove.emit({originalEvent:e,owner:this}),(" "===e.key||"Spacebar"===e.key)&&this.selectable&&!this.disabled&&this.changeSelection(!this.selected,e),"Tab"!==e.key&&e.preventDefault())}onRemoveBtnKeyDown(e){(" "===e.key||"Spacebar"===e.key||"Enter"===e.key)&&(this.remove.emit({originalEvent:e,owner:this}),e.preventDefault(),e.stopPropagation())}onRemoveMouseDown(e){e.stopPropagation()}onRemoveClick(e){this.remove.emit({originalEvent:e,owner:this})}onRemoveTouchMove(){this._movedWhileRemoving=!0}onRemoveTouchEnd(e){this._movedWhileRemoving||this.onRemoveClick(e),this._movedWhileRemoving=!1}onChipDragStart(e){this.moveStart.emit({originalEvent:e,owner:this}),e.cancel=!this.draggable||this.disabled}onChipDragEnd(){this.animateOnRelease&&this.dragDirective.transitionToOrigin()}onChipMoveEnd(e){this.moveEnd.emit({originalEvent:e,owner:this}),this.selected&&this.chipArea.nativeElement.focus()}onChipGhostCreate(){this.hideBaseElement=this.hideBaseOnDrag}onChipGhostDestroy(){this.hideBaseElement=!1}onChipDragClicked(e){let t={originalEvent:e,owner:this,cancel:!1};this.chipClick.emit(t),!t.cancel&&this.selectable&&!this.disabled&&this.changeSelection(!this.selected,e)}onChipDragEnterHandler(e){if(this.dragDirective===e.drag)return;let t={owner:this,dragChip:e.drag.data?.chip,originalEvent:e};this.dragEnter.emit(t)}onChipDragLeaveHandler(e){if(this.dragDirective===e.drag)return;let t={owner:this,dragChip:e.drag.data?.chip,originalEvent:e};this.dragLeave.emit(t)}onChipDrop(e){if(e.cancel=!0,this.dragDirective===e.drag)return;let t={owner:this,dragChip:e.drag.data?.chip,originalEvent:e};this.dragDrop.emit(t)}onChipOverHandler(e){if(this.dragDirective===e.drag)return;let t={owner:this,dragChip:e.drag.data?.chip,originalEvent:e};this.dragOver.emit(t)}changeSelection(e,t=null){let i={originalEvent:t,owner:this,selected:!1,cancel:!1};e&&!this._selected?(i.selected=!0,this.selectedChanging.emit(i),i.cancel||(this.renderer.addClass(this.chipArea.nativeElement,this._selectedItemClass),this._selected=e,this.selectedChange.emit(this._selected),this.selectedChanged.emit({owner:this,originalEvent:t}))):!e&&this._selected&&(this.selectedChanging.emit(i),i.cancel||(this.renderer.removeClass(this.chipArea.nativeElement,this._selectedItemClass),this._selected=e,this.selectedChange.emit(this._selected),this.selectedChanged.emit({owner:this,originalEvent:t})))}ngOnInit(){this.computedStyles=this.document.defaultView.getComputedStyle(this.nativeElement)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static{this.ɵfac=function(t){return new(t||e)(lu(Cf),lu(zl),lu(ru),lu(Kf))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-chip"]],viewQuery:function(e,t){if(1&e&&(pm(lL,7,Mk),pm(lL,7,zl),pm(dL,7,jh),pm(cL,7,jh)),2&e){let e;mm(e=fm())&&(t.dragDirective=e.first),mm(e=fm())&&(t.chipArea=e.first),mm(e=fm())&&(t.defaultRemoveIcon=e.first),mm(e=fm())&&(t.defaultSelectIcon=e.first)}},hostVars:18,hostBindings:function(e,t){1&e&&rm("keydown",(function(e){return t.keyEvent(e)})),2&e&&($g("id",t.id)("role",t.role)("tabIndex",t.tabIndex)("aria-selected",t.selected),ap("igx-chip--disabled",t.disabled)("igx-chip",t.defaultClass)("igx-chip--primary",t.isPrimary)("igx-chip--info",t.isInfo)("igx-chip--success",t.isSuccess)("igx-chip--warning",t.isWarning)("igx-chip--danger",t.isDanger))},inputs:{variant:"variant",id:"id",tabIndex:"tabIndex",data:"data",draggable:[2,"draggable","draggable",Hf],animateOnRelease:[2,"animateOnRelease","animateOnRelease",Hf],hideBaseOnDrag:[2,"hideBaseOnDrag","hideBaseOnDrag",Hf],removable:[2,"removable","removable",Hf],removeIcon:"removeIcon",selectable:[2,"selectable","selectable",Hf],selectIcon:"selectIcon",class:"class",disabled:[2,"disabled","disabled",Hf],selected:[2,"selected","selected",Hf],color:"color",resourceStrings:"resourceStrings"},outputs:{selectedChange:"selectedChange",moveStart:"moveStart",moveEnd:"moveEnd",remove:"remove",chipClick:"chipClick",selectedChanging:"selectedChanging",selectedChanged:"selectedChanged",keyDown:"keyDown",dragEnter:"dragEnter",dragLeave:"dragLeave",dragOver:"dragOver",dragDrop:"dragDrop"},ngContentSelectors:uL,decls:15,vars:8,consts:[["chipArea",""],["selectContainer",""],["defaultSelectIcon",""],["defaultRemoveIcon",""],["ghostClass","igx-chip__ghost","igxDrop","",1,"igx-chip__item",3,"dragStart","ghostCreate","ghostDestroy","dragEnd","transitioned","dragClick","enter","leave","over","dropped","igxDrag","ghostStyle"],[1,"igx-chip__start"],[3,"ngClass"],[1,"igx-chip__content"],[1,"igx-chip__end"],[1,"igx-chip__remove"],[4,"ngTemplateOutlet"],[1,"igx-chip__remove",3,"keydown","pointerdown","mousedown","click","touchmove","touchend"],["family","default","name","selected"],["family","default","name","remove"]],template:function(e,t){if(1&e){let e=Kp();lm(hL),Lp(0,"div",4,0),rm("dragStart",(function(i){return Ko(e),jo(t.onChipDragStart(i))}))("ghostCreate",(function(){return Ko(e),jo(t.onChipGhostCreate())}))("ghostDestroy",(function(){return Ko(e),jo(t.onChipGhostDestroy())}))("dragEnd",(function(){return Ko(e),jo(t.onChipDragEnd())}))("transitioned",(function(i){return Ko(e),jo(t.onChipMoveEnd(i))}))("dragClick",(function(i){return Ko(e),jo(t.onChipDragClicked(i))}))("enter",(function(i){return Ko(e),jo(t.onChipDragEnterHandler(i))}))("leave",(function(i){return Ko(e),jo(t.onChipDragLeaveHandler(i))}))("over",(function(i){return Ko(e),jo(t.onChipOverHandler(i))}))("dropped",(function(i){return Ko(e),jo(t.onChipDrop(i))})),Lp(2,"div",5,1),bg(4,mL,2,2,"div",6),dm(5),Np(),Lp(6,"div",7),dm(7,1),Np(),Lp(8,"div",8),dm(9,2),bg(10,vL,2,2,"div",9),Np()(),bg(11,yL,1,1,"ng-template",null,2,sf)(13,xL,1,1,"ng-template",null,3,sf)}2&e&&(op("visibility",t.hideBaseElement?"hidden":"visible"),rp("igxDrag",Mm(6,gL,t))("ghostStyle",t.ghostStyles),Hc(4),Ip(t.selected?4:-1),Hc(6),Ip(t.removable?10:-1))},dependencies:[Lk,Mk,jv,qv,DA],encapsulation:2})}}return e})(),TL=["*"],IL=(()=>{class e{get _widthToRem(){return iS(this.width)}get _heightToRem(){return iS(this.height)}constructor(e,t,i){this.cdr=e,this.element=t,this._iterableDiffers=i,this.role="listbox",this.ariaLabel="chip area",this.reorder=new wl,this.selectionChange=new wl,this.moveStart=new wl,this.moveEnd=new wl,this.destroy$=new Ci,this.hostClass="igx-chip-area",this._differ=null,this._differ=this._iterableDiffers.find([]).create(null)}ngAfterViewInit(){if(this.chipsList.length){let e=this.chipsList.filter((e=>e.selected));e.length&&this.selectionChange.emit({originalEvent:null,newSelection:e,owner:this})}}ngDoCheck(){if(this.chipsList){let e=this._differ.diff(this.chipsList.toArray());e&&(e.forEachAddedItem((e=>{e.item.moveStart.pipe(Nn(e.item.destroy$)).subscribe((e=>{this.onChipMoveStart(e)})),e.item.moveEnd.pipe(Nn(e.item.destroy$)).subscribe((e=>{this.onChipMoveEnd(e)})),e.item.dragEnter.pipe(Nn(e.item.destroy$)).subscribe((e=>{this.onChipDragEnter(e)})),e.item.keyDown.pipe(Nn(e.item.destroy$)).subscribe((e=>{this.onChipKeyDown(e)})),e.item.selectable&&e.item.selectedChanging.pipe(Nn(e.item.destroy$)).subscribe((e=>{this.onChipSelectionChange(e)}))})),this.modifiedChipsArray=this.chipsList.toArray())}}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}onChipKeyDown(e){let t=!1,i=this.chipsList.toArray(),n=i.findIndex((t=>t===e.owner));!0===e.originalEvent.shiftKey?"ArrowLeft"===e.originalEvent.key||"Left"===e.originalEvent.key?(t=this.positionChipAtIndex(n,n-1,!1,e.originalEvent),t&&setTimeout((()=>{this.chipsList.get(n-1).nativeElement.focus()}))):("ArrowRight"===e.originalEvent.key||"Right"===e.originalEvent.key)&&(t=this.positionChipAtIndex(n,n+1,!0,e.originalEvent)):("ArrowLeft"===e.originalEvent.key||"Left"===e.originalEvent.key)&&n>0?i[n-1].nativeElement.focus():("ArrowRight"===e.originalEvent.key||"Right"===e.originalEvent.key)&&n<i.length-1&&i[n+1].nativeElement.focus()}onChipMoveStart(e){this.moveStart.emit({originalEvent:e.originalEvent,owner:this})}onChipMoveEnd(e){this.moveEnd.emit({originalEvent:e.originalEvent,owner:this})}onChipDragEnter(e){let t=this.chipsList.toArray().findIndex((t=>t===e.owner)),i=this.chipsList.toArray().findIndex((t=>t===e.dragChip));i<t?this.positionChipAtIndex(i,t,!0,e.originalEvent):this.positionChipAtIndex(i,t,!1,e.originalEvent)}positionChipAtIndex(e,t,i,n){if(e<0||this.chipsList.length<=e||t<0||this.chipsList.length<=t)return!1;let r=this.chipsList.toArray(),s=[];for(let n=0;n<r.length;n++)i?e<=n&&n<t?s.push(r[n+1]):n===t?s.push(r[e]):s.push(r[n]):t<n&&n<=e?s.push(r[n-1]):n===t?s.push(r[e]):s.push(r[n]);this.modifiedChipsArray=s;let o={chipsArray:this.modifiedChipsArray,originalEvent:n,owner:this};return this.reorder.emit(o),!0}onChipSelectionChange(e){let t=this.chipsList.filter((e=>e.selected));e.selected&&!t.includes(e.owner)?t.push(e.owner):!e.selected&&t.includes(e.owner)&&(t=t.filter((t=>t.id!==e.owner.id))),this.selectionChange.emit({originalEvent:e.originalEvent,newSelection:t,owner:this})}static{this.ɵfac=function(t){return new(t||e)(lu(Cf),lu(zl),lu(Pf))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-chips-area"]],contentQueries:function(e,t,i){if(1&e&&gm(i,EL,5),2&e){let e;mm(e=fm())&&(t.chipsList=e)}},hostVars:8,hostBindings:function(e,t){2&e&&($g("role",t.role)("aria-label",t.ariaLabel),lp(t.hostClass),op("width",t._widthToRem,"rem")("height",t._heightToRem,"rem"))},inputs:{width:"width",height:"height"},outputs:{reorder:"reorder",selectionChange:"selectionChange",moveStart:"moveStart",moveEnd:"moveEnd"},ngContentSelectors:TL,decls:1,vars:0,template:function(e,t){1&e&&(lm(),dm(0))},encapsulation:2})}}return e})(),RL=(()=>{class e{constructor(){this.disableTransitions=!1}get valueKey(){return null!==this.combo.valueKey&&void 0!==this.combo.valueKey?this.combo.valueKey:null}get item_focusable(){return!1}get isRemote(){return this.combo.isRemote}get comboID(){return this.combo.id}register(e){this.combo=e}clear(){this.combo=null}add_custom_item(){this.combo&&this.combo.addItemToCollection()}set_selected_item(e,t){let i=this.combo.isItemSelected(e);void 0!==e&&(i?this.combo.deselect([e],t):this.combo.select([e],!1,t))}is_item_selected(e){return this.combo.isItemSelected(e)}static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵprov=ir({token:e,factory:e.ɵfac})}}return e})(),AL=["*"];function kL(e,t){if(1&e){let e=Kp();Lp(0,"igx-checkbox",2),rm("click",(function(t){return Ko(e),jo(om().disableCheck(t))})),Np()}if(2&e){let e=om();rp("checked",e.selected)("readonly",!0)("disableRipple",!0)("disableTransitions",e.disableTransitions)("tabindex",-1)}}var OL=(()=>{class e extends uF{get _itemHeightToRem(){if(this.itemHeight)return iS(this.itemHeight)}get ariaLabel(){let e=this.comboAPI.valueKey;return null!==e&&null!=this.value?this.value[e]:this.value}get itemID(){let e=this.comboAPI.valueKey;return null!==e?this.value[e]:this.value}get comboID(){return this.comboAPI.comboID}get disableTransitions(){return this.comboAPI.disableTransitions}constructor(e,t,i,n){super(t,i,null,n),this.comboAPI=e,this.itemHeight=""}get selected(){return this.comboAPI.is_item_selected(this.itemID)}set selected(e){this.isHeader||(this._selected=e)}isVisible(e){let t=this.element.nativeElement.getBoundingClientRect(),i=this.element.nativeElement.parentElement.parentElement.getBoundingClientRect();return e===YI.Down?t.y+t.height<=i.y+i.height:t.y>=i.y}clicked(e){this.comboAPI.disableTransitions=!1,this.isSelectable&&(this.dropDown.navigateItem(this.index),this.comboAPI.set_selected_item(this.itemID,e))}disableCheck(e){e.preventDefault()}static{this.ɵfac=function(t){return new(t||e)(lu(RL),lu(JI),lu(zl),lu(nF))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-combo-item"]],hostVars:3,hostBindings:function(e,t){2&e&&($g("aria-label",t.ariaLabel),op("height",t._itemHeightToRem,"rem"))},inputs:{itemHeight:"itemHeight",ariaLabel:"ariaLabel",singleMode:[2,"singleMode","singleMode",Hf]},features:[dg],ngContentSelectors:AL,decls:3,vars:1,consts:[[1,"igx-combo__checkbox",3,"checked","readonly","disableRipple","disableTransitions","tabindex"],[1,"igx-drop-down__inner"],[1,"igx-combo__checkbox",3,"click","checked","readonly","disableRipple","disableTransitions","tabindex"]],template:function(e,t){1&e&&(lm(),bg(0,kL,1,5,"igx-checkbox",0),Lp(1,"span",1),dm(2),Np()),2&e&&Ip(t.isHeader||t.singleMode?-1:0)},dependencies:[OF],encapsulation:2})}}return e})(),FL=(()=>{class e{static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵdir=rg({type:e,selectors:[["","igxComboHeader",""]]})}}return e})(),PL=(()=>{class e{static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵdir=rg({type:e,selectors:[["","igxComboFooter",""]]})}}return e})(),VL=(()=>{class e{static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵdir=rg({type:e,selectors:[["","igxComboItem",""]]})}}return e})(),ML=(()=>{class e{static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵdir=rg({type:e,selectors:[["","igxComboEmpty",""]]})}}return e})(),LL=(()=>{class e{static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵdir=rg({type:e,selectors:[["","igxComboHeaderItem",""]]})}}return e})(),NL=(()=>{class e{static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵdir=rg({type:e,selectors:[["","igxComboAddItem",""]]})}}return e})(),HL=(()=>{class e{static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵdir=rg({type:e,selectors:[["","igxComboToggleIcon",""]]})}}return e})(),zL=(()=>{class e{static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵdir=rg({type:e,selectors:[["","igxComboClearIcon",""]]})}}return e})(),BL={igx_combo_empty_message:"The list is empty",igx_combo_filter_search_placeholder:"Enter a Search Term",igx_combo_addCustomValues_placeholder:"Add Item",igx_combo_clearItems_placeholder:"Clear Selection"},GL=["inputGroup"],$L=["comboInput"],WL=["searchInput"],KL=["dropdownItemContainer"],jL=["primitive"],UL=["complex"],qL=new hr("IgxComboComponentToken"),YL=0,ZL=(()=>{class e{get disableFiltering(){return this._disableFiltering}set disableFiltering(e){this._disableFiltering=e}get id(){return this._id}set id(e){if(!e)return;let t=this.selectionService.get(this._id);this.selectionService.clear(this._id),this._id=e,t&&this.selectionService.set(this._id,t)}get itemsMaxHeight(){return this.itemHeight&&!this._itemsMaxHeight?this.itemHeight*this.itemsInContainer:this._itemsMaxHeight}set itemsMaxHeight(e){this._itemsMaxHeight=e}get itemsMaxHeightInRem(){if(this.itemsMaxHeight)return iS(this.itemsMaxHeight)}get itemHeight(){return this._itemHeight}set itemHeight(e){this._itemHeight=e}get data(){return this._data}set data(e){this._data=e?e.filter((e=>void 0!==e)):[]}set displayKey(e){this._displayKey=e}get displayKey(){return this._displayKey?this._displayKey:this.valueKey}set groupKey(e){this._groupKey=e}get groupKey(){return this._groupKey}get groupSortingDirection(){return this._groupSortingDirection}set groupSortingDirection(e){this._groupSortingDirection=e}get type(){return this._type||this._inputGroupType||"box"}set type(e){this._type=e}get resourceStrings(){return this._resourceStrings}set resourceStrings(e){this._resourceStrings=Object.assign({},this._resourceStrings,e)}get searchValue(){return this._searchValue}set searchValue(e){this.filterValue=e,this._searchValue=e}get isRemote(){return this.totalItemCount>0&&this.valueKey&&"complex"===this.dataType}get dataType(){return this.displayKey?"complex":"primitive"}get valid(){return this._valid}set valid(e){this._valid=e,this.comboInput.valid=e}get value(){return this._value}get displayValue(){return this._displayValue}get virtualizationState(){return this.virtDir.state}set virtualizationState(e){this.virtDir.state=e}get collapsed(){return this.dropdown.collapsed}get totalItemCount(){return this.virtDir.totalItemCount}set totalItemCount(e){this.virtDir.totalItemCount=e}get template(){return this._dataType=this.dataType,this.itemTemplate?this.itemTemplate:"complex"===this._dataType?this.complexTemplate:this.primitiveTemplate}get filteringOptions(){return this._filteringOptions||this._defaultFilteringOptions}set filteringOptions(e){this._filteringOptions=e}constructor(e,t,i,n,r,s,o,a){this.elementRef=e,this.cdr=t,this.selectionService=i,this.comboAPI=n,this.document=r,this._inputGroupType=s,this._injector=o,this._iconService=a,this.showSearchCaseIcon=!1,this.overlaySettings=null,this.allowCustomValues=!1,this.valueKey=null,this.cssClass="igx-combo",this.disabled=!1,this.opening=new wl,this.opened=new wl,this.closing=new wl,this.closed=new wl,this.addition=new wl,this.searchInputUpdate=new wl,this.dataPreLoad=new wl,this.itemTemplate=null,this.headerTemplate=null,this.footerTemplate=null,this.headerItemTemplate=null,this.addItemTemplate=null,this.emptyTemplate=null,this.toggleIconTemplate=null,this.clearIconTemplate=null,this.searchInput=null,this.dropdownContainer=null,this.customValueFlag=!0,this.filterValue="",this.defaultFallbackGroup="Other",this.activeDescendant="",this.containerSize=void 0,this.itemSize=void 0,this._data=[],this._value=[],this._displayValue="",this._groupKey="",this._searchValue="",this._filteredData=[],this._remoteSelection={},this._resourceStrings=TA(BL),this._valid=sR.INITIAL,this.ngControl=null,this.destroy$=new Ci,this._onTouchedCallback=ei,this._onChangeCallback=ei,this.compareCollator=new Intl.Collator,this._id="igx-combo-"+YL++,this._disableFiltering=!1,this._type=null,this._dataType="",this._itemHeight=void 0,this._itemsMaxHeight=null,this._groupSortingDirection=cS.Asc,this._defaultFilteringOptions={caseSensitive:!1},this.itemsInContainer=10,this.onStatusChanged=()=>{this.ngControl&&this.isTouchedOrDirty&&!this.disabled?!this.hasValidators||this.collapsed&&!this.inputGroup.isFocused?this.valid=this.ngControl.valid?sR.INITIAL:sR.INVALID:this.valid=this.ngControl.valid?sR.VALID:sR.INVALID:this.valid=sR.INITIAL,this.manageRequiredAsterisk()},this.findMatch=e=>{let t=this.displayKey?e[this.displayKey]:e,i=this.searchValue||this.comboInput?.value;return t?.toString().trim().toLowerCase()===i.trim().toLowerCase()}}ngAfterViewChecked(){let e=this.inputGroup.element.nativeElement.querySelector(".igx-input-group__bundle");this._overlaySettings={target:e,scrollStrategy:new BI,positionStrategy:new FI,modal:!1,closeOnOutsideClick:!0,excludeFromOutsideClick:[e]}}ngAfterContentChecked(){if(this.inputGroup&&this.prefixes?.length>0&&(this.inputGroup.prefixes=this.prefixes),this.inputGroup){let e=this.suffixes?.toArray()??[],t=this.internalSuffixes?.toArray()??[],i=new jl;i.reset([...e,...t]),this.inputGroup.suffixes=i}}ngOnInit(){this.ngControl=this._injector.get(Wy,null),this.selectionService.set(this.id,new Set),this._iconService?.addSvgIconFromText(SP.name,SP.value,"imx-icons"),this.computedStyles=this.document.defaultView.getComputedStyle(this.elementRef.nativeElement)}ngAfterViewInit(){this.filteredData=[...this.data],this.ngControl&&(this.ngControl.statusChanges.pipe(Nn(this.destroy$)).subscribe(this.onStatusChanged),this.manageRequiredAsterisk(),this.cdr.detectChanges()),this.virtDir.chunkPreload.pipe(Nn(this.destroy$)).subscribe((e=>{let t=Object.assign({},e,{owner:this});this.dataPreLoad.emit(t)})),this.dropdown?.opening.subscribe((e=>{let t=this.dropdownContainer.nativeElement.getBoundingClientRect().height;t&&(this.containerSize=parseFloat(t)),this.dropdown.children?.first&&(this.itemSize=this.dropdown.children.first.element.nativeElement.getBoundingClientRect().height)}))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.comboAPI.clear(),this.selectionService.delete(this.id)}toggle(){this.collapsed&&0!==this._displayValue.length&&(this.filterValue="",this.cdr.detectChanges());let e=Object.assign({},this._overlaySettings,this.overlaySettings);this.dropdown.toggle(e),this.collapsed||this.setActiveDescendant()}open(){this.collapsed&&0!==this._displayValue.length&&(this.filterValue="",this.cdr.detectChanges());let e=Object.assign({},this._overlaySettings,this.overlaySettings);this.dropdown.open(e),this.setActiveDescendant()}close(){this.dropdown.close()}triggerCheck(){this.cdr.detectChanges()}get selection(){let e=this.selectionService.get(this.id);return e?this.convertKeysToItems(Array.from(e)):[]}isItemSelected(e){return this.selectionService.is_item_selected(this.id,e)}get toggleIcon(){return this.dropdown.collapsed?"input_expand":"input_collapse"}addItemToCollection(){if(!this.searchValue)return;let e=this.displayKey?{[this.valueKey]:this.searchValue,[this.displayKey]:this.searchValue}:this.searchValue;this.groupKey&&Object.assign(e,{[this.groupKey]:this.defaultFallbackGroup});let t={oldCollection:[...this.data],addedItem:e,newCollection:[...this.data,e],owner:this,cancel:!1};this.addition.emit(t),!t.cancel&&(this.data.push(t.addedItem),this.data=RC(this.data),this.select(null!==this.valueKey&&void 0!==this.valueKey?[t.addedItem[this.valueKey]]:[t.addedItem],!1),this.customValueFlag=!1,this.searchInput?.nativeElement.focus(),this.dropdown.focusedItem=null,this.virtDir.scrollTo(0))}isAddButtonVisible(){return""!==this.searchValue&&this.customValueFlag}handleInputChange(e){if(void 0!==e){let t={searchText:"string"==typeof e?e:e.target.value,owner:this,cancel:!1};this.searchInputUpdate.emit(t),t.cancel&&(this.filterValue=null)}this.checkMatch()}handleOpening(e){let t={owner:this,event:e.event,cancel:e.cancel};this.opening.emit(t),e.cancel=t.cancel}handleClosing(e){let t={owner:this,event:e.event,cancel:e.cancel};this.closing.emit(t),e.cancel=t.cancel,!e.cancel&&(this.searchValue="",e.event?(this._onTouchedCallback(),this.updateValidity()):this.comboInput?.nativeElement.focus())}handleClosed(){this.closed.emit({owner:this})}handleKeyDown(e){("ArrowUp"===e.key||"Up"===e.key)&&(e.preventDefault(),e.stopPropagation(),this.close())}registerOnChange(e){this._onChangeCallback=e}registerOnTouched(e){this._onTouchedCallback=e}setDisabledState(e){this.disabled=e}onClick(e){e.stopPropagation(),e.preventDefault(),this.disabled||this.toggle()}onBlur(){this.collapsed&&(this._onTouchedCallback(),this.updateValidity())}setActiveDescendant(){this.activeDescendant=this.dropdown.focusedItem?.id||""}toggleCaseSensitive(){this.filteringOptions=Object.assign({},this.filteringOptions,{caseSensitive:!this.filteringOptions.caseSensitive})}updateValidity(){this.ngControl&&this.ngControl.invalid?this.valid=sR.INVALID:this.valid=sR.INITIAL}get isTouchedOrDirty(){return this.ngControl.control.touched||this.ngControl.control.dirty}get hasValidators(){return!!this.ngControl.control.validator||!!this.ngControl.control.asyncValidator}convertKeysToItems(e){return null===this.valueKey||void 0===this.valueKey?e:e.map((e=>{let t=this.data.find((t=>CC(t[this.valueKey],e)));return void 0!==t?t:{[this.valueKey]:e}}))}checkMatch(){let e=this.filteredData.some(this.findMatch);this.customValueFlag=this.allowCustomValues&&!e}manageRequiredAsterisk(){this.ngControl&&(this.inputGroup.isRequired=this.required)}registerRemoteEntries(e,t=!0){if(t){let t=this.getValueDisplayPairs(e);for(let e of t)this._remoteSelection[e[this.valueKey]]=e[this.displayKey]}else for(let t of e)delete this._remoteSelection[t]}getValueDisplayPairs(e){return this.data.filter((t=>e.indexOf(t[this.valueKey])>-1)).map((e=>({[this.valueKey]:e[this.valueKey],[this.displayKey]:e[this.displayKey]})))}getRemoteSelection(e,t){if(!e.length)return this.registerRemoteEntries(t,!1),"";let i=t.filter((t=>e.indexOf(t)<0)),n=e.filter((e=>t.indexOf(e)<0));return this.registerRemoteEntries(n),this.registerRemoteEntries(i,!1),Object.keys(this._remoteSelection).map((e=>this._remoteSelection[e])).join(", ")}get required(){if(this.ngControl&&this.ngControl.control&&this.ngControl.control.validator){let e=this.ngControl.control.validator({});return e&&e.required}return!1}static{this.ɵfac=function(t){return new(t||e)(lu(zl),lu(Cf),lu(nF),lu(RL),lu(Kf),lu(fR,8),lu(hl,8),lu(_A,8))}}static{this.ɵdir=rg({type:e,contentQueries:function(e,t,i){if(1&e&&(gm(i,VL,5,jh),gm(i,FL,5,jh),gm(i,PL,5,jh),gm(i,LL,5,jh),gm(i,NL,5,jh),gm(i,ML,5,jh),gm(i,HL,5,jh),gm(i,zL,5,jh),gm(i,lR,7),gm(i,dR,5),gm(i,cR,5)),2&e){let e;mm(e=fm())&&(t.itemTemplate=e.first),mm(e=fm())&&(t.headerTemplate=e.first),mm(e=fm())&&(t.footerTemplate=e.first),mm(e=fm())&&(t.headerItemTemplate=e.first),mm(e=fm())&&(t.addItemTemplate=e.first),mm(e=fm())&&(t.emptyTemplate=e.first),mm(e=fm())&&(t.toggleIconTemplate=e.first),mm(e=fm())&&(t.clearIconTemplate=e.first),mm(e=fm())&&(t.label=e.first),mm(e=fm())&&(t.prefixes=e),mm(e=fm())&&(t.suffixes=e)}},viewQuery:function(e,t){if(1&e&&(pm(GL,7,Ek),pm($L,7,oR),pm(WL,5),pm(eO,7),pm(eO,7,eO),pm(KL,7),pm(jL,7,jh),pm(UL,7,jh),pm(cR,5)),2&e){let e;mm(e=fm())&&(t.inputGroup=e.first),mm(e=fm())&&(t.comboInput=e.first),mm(e=fm())&&(t.searchInput=e.first),mm(e=fm())&&(t.virtualScrollContainer=e.first),mm(e=fm())&&(t.virtDir=e.first),mm(e=fm())&&(t.dropdownContainer=e.first),mm(e=fm())&&(t.primitiveTemplate=e.first),mm(e=fm())&&(t.complexTemplate=e.first),mm(e=fm())&&(t.internalSuffixes=e)}},hostVars:5,hostBindings:function(e,t){2&e&&($g("id",t.id),op("width",t.width),ap("igx-combo",t.cssClass))},inputs:{showSearchCaseIcon:[2,"showSearchCaseIcon","showSearchCaseIcon",Hf],disableFiltering:[2,"disableFiltering","disableFiltering",Hf],overlaySettings:"overlaySettings",id:"id",width:"width",allowCustomValues:[2,"allowCustomValues","allowCustomValues",Hf],itemsMaxHeight:"itemsMaxHeight",itemHeight:"itemHeight",itemsWidth:"itemsWidth",placeholder:"placeholder",data:"data",valueKey:"valueKey",displayKey:"displayKey",groupKey:"groupKey",groupSortingDirection:"groupSortingDirection",filterFunction:"filterFunction",ariaLabelledBy:"ariaLabelledBy",disabled:[2,"disabled","disabled",Hf],type:"type",resourceStrings:"resourceStrings",filteringOptions:"filteringOptions"},outputs:{opening:"opening",opened:"opened",closing:"closing",closed:"closed",addition:"addition",searchInputUpdate:"searchInputUpdate",dataPreLoad:"dataPreLoad"}})}}return e})(),XL=["*"],QL=(()=>{class e extends OL{get isDropDownItem(){return!1}get selected(){return!1}set selected(e){}clicked(e){this.comboAPI.disableTransitions=!1,this.comboAPI.add_custom_item()}static{this.ɵfac=(()=>{let t;return function(i){return(t||(t=ol(e)))(i||e)}})()}static{this.ɵcmp=Qu({type:e,selectors:[["igx-combo-add-item"]],hostVars:2,hostBindings:function(e,t){2&e&&ap("igx-drop-down__item",t.isDropDownItem)},features:[Pm([{provide:OL,useExisting:e}]),dg],ngContentSelectors:XL,decls:1,vars:0,template:function(e,t){1&e&&(lm(),dm(0))},encapsulation:2})}}return e})(),JL=["*"];function eN(e,t){1&e&&dm(0)}var tN=(()=>{class e extends yF{get scrollContainer(){return this.virtDir.dc.location.nativeElement}get isScrolledToLast(){let e=this.virtDir.scrollPosition,t=this.virtDir.getScroll().scrollHeight;return Math.floor(e+this.virtDir.igxForContainerSize)===t}get lastVisibleIndex(){return this.combo.totalItemCount?Math.floor(this.combo.itemsMaxHeight/this.combo.itemHeight):this.items.length-1}get sortedChildren(){return void 0!==this.children?this.children.toArray().sort(((e,t)=>e.index-t.index)):null}get items(){let e=[];if(void 0!==this.children){let t=this.sortedChildren;for(let i of t)i.isHeader||e.push(i)}return e}constructor(e,t,i,n,r,s){super(e,t,i,n),this.combo=r,this.comboAPI=s,this.singleMode=!1,this.children=null,this.scrollHandler=()=>{this.comboAPI.disableTransitions=!0}}onFocus(){this.focusedItem=this._focusedItem||this.items[0],this.combo.setActiveDescendant()}onBlur(e){this.focusedItem=null,this.combo.setActiveDescendant()}onToggleOpened(){this.opened.emit()}navigateFirst(){this.navigateItem(this.virtDir.igxForOf.findIndex((e=>!e?.isHeader))),this.combo.setActiveDescendant()}navigatePrev(){this._focusedItem&&0===this._focusedItem.index&&0===this.virtDir.state.startIndex?(this.combo.focusSearchInput(!1),this.focusedItem=null):super.navigatePrev(),this.combo.setActiveDescendant()}navigateNext(){let e=this.combo.totalItemCount?this.combo.totalItemCount-1:this.virtDir.igxForOf.length-1;this._focusedItem&&this._focusedItem.index===e?this.focusAddItemButton():super.navigateNext(),this.combo.setActiveDescendant()}selectItem(e){null!=e&&(this.comboAPI.set_selected_item(e.itemID),this._focusedItem=e,this.combo.setActiveDescendant())}updateScrollPosition(){this.virtDir.getScroll().scrollTop=this._scrollPosition}onItemActionKey(e){switch(e){case XI:this.handleEnter();break;case QI:this.handleSpace();break;case ZI:this.close()}}ngAfterViewInit(){this.virtDir.getScroll().addEventListener("scroll",this.scrollHandler)}ngOnDestroy(){this.virtDir.getScroll().removeEventListener("scroll",this.scrollHandler),super.ngOnDestroy()}scrollToHiddenItem(e){}handleEnter(){this.isAddItemFocused()?this.combo.addItemToCollection():(this.singleMode&&this.focusedItem&&this.combo.select(this.focusedItem.itemID),this.close())}handleSpace(){this.isAddItemFocused()||this.selectItem(this.focusedItem)}isAddItemFocused(){return this.focusedItem instanceof QL}focusAddItemButton(){this.combo.isAddButtonVisible()&&(this.focusedItem=this.items[this.items.length-1])}static{this.ɵfac=function(t){return new(t||e)(lu(zl),lu(Cf),lu(Kf),lu(nF),lu(qL),lu(RL))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-combo-drop-down"]],contentQueries:function(e,t,i){if(1&e&&gm(i,OL,5),2&e){let e;mm(e=fm())&&(t.children=e)}},inputs:{singleMode:[2,"singleMode","singleMode",Hf]},features:[Pm([{provide:JI,useExisting:e}]),dg],ngContentSelectors:JL,decls:4,vars:9,consts:[["scrollContainer",""],["igxToggle","",1,"igx-drop-down__list",3,"appended","opening","opened","closing","closed"],["role","listbox",1,"igx-drop-down__list-scroll"]],template:function(e,t){if(1&e){let e=Kp();lm(),Lp(0,"div",1),rm("appended",(function(i){return Ko(e),jo(t.onToggleContentAppended(i))}))("opening",(function(i){return Ko(e),jo(t.onToggleOpening(i))}))("opened",(function(){return Ko(e),jo(t.onToggleOpened())}))("closing",(function(i){return Ko(e),jo(t.onToggleClosing(i))}))("closed",(function(){return Ko(e),jo(t.onToggleClosed())})),Lp(1,"div",2,0),bg(3,eN,1,0),Np()()}2&e&&(op("width",t.width),Hc(),op("height",t.height)("max-height",t.maxHeight),$g("id",t.listId)("aria-labelledby",t.labelledBy),Hc(2),Ip(t.collapsed?-1:3))},dependencies:[SO],encapsulation:2})}}return e})(),iN=(()=>{class e{transform(e,t,i,n,r=rN,s=!1){return e?s?e:(n.filteringKey=n.filteringKey??i,r(e,t,n)):[]}static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵpipe=sg({name:"comboFiltering",type:e,pure:!0})}}return e})(),nN=(()=>{class e{constructor(e){this.combo=e}transform(e,t,i,n,r){if(this.combo.filteredData=e,!t&&0!==t||!e.length)return e;let s=Object.entries(function(e,t){let i={},n=t;for(let t of e){let e=n(t),r=i[e];Array.isArray(r)?r.push(t):i[e]=[t]}return i}(e,(e=>e[t]??"Other")));if(n!==cS.None){let e=n===cS.Desc?-1:1;s.sort(((t,i)=>r.compare(t[0],i[0])*e))}return s.flatMap((([e,n])=>(n.unshift({isHeader:!0,[i]:n[0][t],[t]:n[0][t]}),n)))}static{this.ɵfac=function(t){return new(t||e)(lu(qL,16))}}static{this.ɵpipe=sg({name:"comboGrouping",type:e,pure:!0})}}return e})();function rN(e,t,i){if(!t)return e;let{caseSensitive:n,filteringKey:r}=i,s=n?t:t.toLowerCase();return e.filter((e=>{let t=r?`${e[r]}`:`${e}`;return(n?t:t.toLowerCase()).includes(s)}))}var sN=[[["","igxLabel",""]],[["igx-prefix"],["","igxPrefix",""]],[["igx-hint"],["","igxHint",""]],[["igx-suffix"],["","igxSuffix",""]]],oN=["[igxLabel]","igx-prefix,[igxPrefix]","igx-hint, [igxHint]","igx-suffix,[igxSuffix]"],aN=(e,t,i,n,r,s)=>[e,t,i,n,r,s],lN=(e,t,i,n,r)=>[e,t,i,n,r],dN=e=>({$implicit:e}),cN=(e,t,i,n,r)=>({$implicit:e,data:t,valueKey:i,groupKey:n,displayKey:r}),hN=(e,t,i,n)=>({$implicit:e,data:t,valueKey:i,displayKey:n});function uN(e,t){1&e&&$p(0)}function gN(e,t){1&e&&bg(0,uN,1,0,"ng-container",22),2&e&&rp("ngTemplateOutlet",om(2).clearIconTemplate)}function pN(e,t){1&e&&Hp(0,"igx-icon",27)}function mN(e,t){if(1&e){let e=Kp();Lp(0,"igx-suffix",26),rm("click",(function(t){return Ko(e),jo(om().handleClearItems(t))})),bg(1,gN,1,1,"ng-container")(2,pN,1,0,"igx-icon",27),Np()}if(2&e){let e=om();$g("aria-label",e.resourceStrings.igx_combo_clearItems_placeholder),Hc(),Ip(e.clearIconTemplate?1:-1),Hc(),Ip(e.clearIconTemplate?-1:2)}}function fN(e,t){1&e&&$p(0)}function vN(e,t){if(1&e&&bg(0,fN,1,0,"ng-container",28),2&e){let e=om();rp("ngTemplateOutlet",e.toggleIconTemplate)("ngTemplateOutletContext",Mm(2,dN,e.collapsed))}}function yN(e,t){1&e&&Hp(0,"igx-icon",19),2&e&&rp("name",om().toggleIcon)}function xN(e,t){if(1&e){let e=Kp();Lp(0,"igx-suffix",31),rm("click",(function(){return Ko(e),jo(om(2).toggleCaseSensitive())})),Lp(1,"span",32),Hp(2,"igx-icon",33),Np()()}if(2&e){let e=om(2);Hc(),rp("ngClass",e.filteringOptions.caseSensitive?"igx-combo__case-icon--active":"igx-combo__case-icon"),Hc(),rp("active",e.filteringOptions.caseSensitive)}}function _N(e,t){if(1&e){let e=Kp();Lp(0,"div",21)(1,"igx-input-group",29)(2,"input",30,9),Em("ngModelChange",(function(t){Ko(e);let i=om();return Dm(i.searchValue,t)||(i.searchValue=t),jo(t)})),rm("ngModelChange",(function(t){return Ko(e),jo(om().handleInputChange(t))}))("keyup",(function(t){return Ko(e),jo(om().handleKeyUp(t))}))("keydown",(function(t){return Ko(e),jo(om().handleKeyDown(t))}))("focus",(function(t){return Ko(e),jo(om().dropdown.onBlur(t))})),Np(),bg(4,xN,3,2,"igx-suffix"),Np()()}if(2&e){let e=om();Hc(2),bm("ngModel",e.searchValue),$g("placeholder",e.getSearchPlaceholderText()),Hc(2),Ip(e.showSearchCaseIcon?4:-1)}}function wN(e,t){1&e&&$p(0)}function CN(e,t){1&e&&$p(0)}function SN(e,t){if(1&e&&bg(0,CN,1,0,"ng-container",28),2&e){let e=om().$implicit,t=om(),i=vm(36);rp("ngTemplateOutlet",t.headerItemTemplate?t.headerItemTemplate:i)("ngTemplateOutletContext",zm(2,cN,e,t.data,t.valueKey,t.groupKey,t.displayKey))}}function bN(e,t){1&e&&$p(0,null,10)}function DN(e,t){if(1&e&&bg(0,bN,2,0,"ng-container",28),2&e){let e=om().$implicit,t=om();rp("ngTemplateOutlet",t.template)("ngTemplateOutletContext",Hm(2,hN,e,t.data,t.valueKey,t.displayKey))}}function EN(e,t){if(1&e&&(Lp(0,"igx-combo-item",34),bg(1,SN,1,8,"ng-container")(2,DN,1,7,"ng-container"),Np()),2&e){let e=t.$implicit,i=t.index;rp("itemHeight",om().itemHeight)("value",e)("isHeader",null==e?null:e.isHeader)("index",i)("role",null!=e&&e.isHeader?"group":"option"),Hc(),Ip(null!=e&&e.isHeader?1:-1),Hc(),Ip(null!=e&&e.isHeader?-1:2)}}function TN(e,t){1&e&&$p(0)}function IN(e,t){if(1&e&&(Lp(0,"div",35),bg(1,TN,1,0,"ng-container",22),Np()),2&e){let e=om(2),t=vm(32);Hc(),rp("ngTemplateOutlet",e.emptyTemplate?e.emptyTemplate:t)}}function RN(e,t){1&e&&$p(0)}function AN(e,t){if(1&e&&(Lp(0,"igx-combo-add-item",36),bg(1,RN,1,0,"ng-container",22),Np()),2&e){let e=om(2),t=vm(34);rp("itemHeight",e.itemHeight)("tabindex",e.dropdown.collapsed?-1:e.customValueFlag?1:-1)("index",e.virtualScrollContainer.igxForOf.length),$g("aria-label",e.resourceStrings.igx_combo_addCustomValues_placeholder),Hc(),rp("ngTemplateOutlet",e.addItemTemplate?e.addItemTemplate:t)}}function kN(e,t){if(1&e&&(Lp(0,"div",25),bg(1,IN,2,1,"div",35)(2,AN,2,5,"igx-combo-add-item",36),Np()),2&e){let e=om();Hc(),Ip(0===e.filteredData.length?1:-1),Hc(),Ip(e.isAddButtonVisible()?2:-1)}}function ON(e,t){1&e&&$p(0)}function FN(e,t){1&e&&ym(0),2&e&&wm(" ",t.$implicit[t.displayKey],"\n")}function PN(e,t){1&e&&ym(0),2&e&&wm(" ",t.$implicit,"\n")}function VN(e,t){if(1&e&&(Lp(0,"span"),ym(1),Np()),2&e){let e=om();Hc(),_m(e.resourceStrings.igx_combo_empty_message)}}function MN(e,t){if(1&e&&(Lp(0,"button",37),ym(1),Np()),2&e){let e=om();Hc(),_m(e.resourceStrings.igx_combo_addCustomValues_placeholder)}}function LN(e,t){1&e&&ym(0),2&e&&wm(" ",t.$implicit[t.valueKey],"\n")}var NN=(e,t)=>{let i=[];return e.forEach((e=>{t.has(e)||i.push(e)})),i},HN=(()=>{class e extends ZL{get filteredData(){return this.disableFiltering?this.data:this._filteredData}set filteredData(e){this._filteredData=this.groupKey?(e||[]).filter((e=>!0!==e.isHeader)):e,this.checkMatch()}constructor(e,t,i,n,r,s,o,a){super(e,t,i,n,r,s,o,a),this.autoFocusSearch=!0,this.selectionChanging=new wl,this._prevInputValue="",this.comboAPI.register(this)}onArrowDown(e){e.preventDefault(),e.stopPropagation(),this.open()}get displaySearchInput(){return!this.disableFiltering||this.allowCustomValues}handleKeyUp(e){"ArrowDown"===e.key||"Down"===e.key?(this.dropdown.focusedItem=this.dropdown.items[0],this.dropdownContainer.nativeElement.focus()):("Escape"===e.key||"Esc"===e.key)&&this.toggle()}handleSelectAll(e){e.checked?this.selectAllItems():this.deselectAllItems()}writeValue(e){let t=Array.isArray(e)?e.filter((e=>void 0!==e)):[],i=this.selection;this.selectionService.select_items(this.id,t,!0),this.cdr.markForCheck(),this._displayValue=this.createDisplayText(this.selection,i),this._value=this.valueKey?this.selection.map((e=>e[this.valueKey])):this.selection}ngDoCheck(){this.data?.length&&this.selection.length&&(this._displayValue=this._displayText||this.createDisplayText(this.selection,[]),this._value=this.valueKey?this.selection.map((e=>e[this.valueKey])):this.selection)}getEditElement(){return this.comboInput.nativeElement}get context(){return{$implicit:this}}handleClearItems(e){this.disabled||(this.deselectAllItems(!0,e),this.collapsed?this.getEditElement().focus():this.focusSearchInput(!0),e.stopPropagation())}select(e,t,i){if(e){let n=this.selectionService.add_items(this.id,e,t);this.setSelection(n,i)}}deselect(e,t){if(e){let i=this.selectionService.delete_items(this.id,e);this.setSelection(i,t)}}selectAllItems(e,t){let i=this.selectionService.get_all_ids(e?this.data:this.filteredData,this.valueKey),n=this.selectionService.add_items(this.id,i);this.setSelection(n,t)}deselectAllItems(e,t){let i=this.selectionService.get_empty();this.filteredData.length!==this.data.length&&!e&&(i=this.selectionService.delete_items(this.id,this.selectionService.get_all_ids(this.filteredData,this.valueKey))),this.setSelection(i,t)}setSelectedItem(e,t=!0,i){void 0!==e&&(t?this.select([e],!1,i):this.deselect([e],i))}handleOpened(){this.triggerCheck(),this.autoFocusSearch?this.focusSearchInput(!0):this.dropdownContainer.nativeElement.focus(),this.opened.emit({owner:this})}focusSearchInput(e){this.displaySearchInput&&this.searchInput?this.searchInput.nativeElement.focus():e?this.dropdownContainer.nativeElement.focus():(this.comboInput.nativeElement.focus(),this.toggle())}setSelection(e,t){let i=this.selectionService.get(this.id),n=this.convertKeysToItems(NN(i,e)),r=this.convertKeysToItems(NN(e,i)),s=Array.from(e),o=Array.from(i||[]),a=this.convertKeysToItems(s),l=this.convertKeysToItems(o),d=this.createDisplayText(this.convertKeysToItems(s),o),c={newValue:s,oldValue:o,newSelection:a,oldSelection:l,added:r,removed:n,event:t,owner:this,displayText:d,cancel:!1};this.selectionChanging.emit(c),c.cancel?this.isRemote&&this.registerRemoteEntries(NN(e,i),!1):(this.selectionService.select_items(this.id,c.newValue,!0),this._value=c.newValue,this._displayValue=d!==c.displayText?this._displayText=c.displayText:this.createDisplayText(this.selection,c.oldSelection),this._onChangeCallback(c.newValue))}createDisplayText(e,t){let i=this.valueKey?e.map((e=>e[this.valueKey])):e;return this.isRemote?this.getRemoteSelection(i,t):this.concatDisplayText(e)}getSearchPlaceholderText(){return this.searchPlaceholder||(this.disableFiltering?this.resourceStrings.igx_combo_addCustomValues_placeholder:this.resourceStrings.igx_combo_filter_search_placeholder)}concatDisplayText(e){return null!==this.displayKey&&void 0!==this.displayKey?e.map((e=>e[this.displayKey])).join(", "):e.join(", ")}static{this.ɵfac=function(t){return new(t||e)(lu(zl),lu(Cf),lu(nF),lu(RL),lu(Kf),lu(fR,8),lu(hl,8),lu(_A,8))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-combo"]],viewQuery:function(e,t){if(1&e&&pm(tN,7),2&e){let e;mm(e=fm())&&(t.dropdown=e.first)}},hostBindings:function(e,t){1&e&&rm("keydown.ArrowDown",(function(e){return t.onArrowDown(e)}))("keydown.Alt.ArrowDown",(function(e){return t.onArrowDown(e)}))},inputs:{autoFocusSearch:[2,"autoFocusSearch","autoFocusSearch",Hf],searchPlaceholder:"searchPlaceholder"},outputs:{selectionChanging:"selectionChanging"},features:[Pm([RL,{provide:qL,useExisting:e},{provide:my,useExisting:e,multi:!0}]),dg],ngContentSelectors:oN,decls:37,vars:55,consts:[["inputGroup",""],["comboInput",""],["igxComboDropDown",""],["dropdownItemContainer",""],["complex",""],["primitive",""],["empty",""],["addItemDefault",""],["headerItemBase",""],["searchInput",""],["listItem",""],[3,"click","type"],["ngProjectAs","[igxLabel]",5,["","igxLabel",""]],["ngProjectAs","igx-prefix",5,["igx-prefix"]],["ngProjectAs","igx-hint, [igxHint]",5,["igx-hint"]],["igxInput","","name","comboInput","type","text","readonly","","role","combobox","aria-haspopup","listbox",3,"blur","value","disabled"],["ngProjectAs","igx-suffix",5,["igx-suffix"]],[1,"igx-combo__clear-button"],[1,"igx-combo__toggle-button"],["family","default",3,"name"],[1,"igx-combo__drop-down",3,"opening","closing","opened","closed","labelledBy","width"],[1,"igx-combo__search"],[4,"ngTemplateOutlet"],["aria-multiselectable","true",1,"igx-combo__content",3,"focus","igxDropDownItemNavigation","tabindex"],[3,"itemHeight","value","isHeader","index","role",4,"igxFor","igxForOf","igxForInitialChunkSize","igxForContainerSize","igxForItemSize","igxForScrollOrientation"],[1,"igx-combo__add"],[1,"igx-combo__clear-button",3,"click"],["family","default","name","input_clear"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","line"],["igxInput","","name","searchInput","autocomplete","off","type","text","aria-autocomplete","list","role","searchbox","aria-label","search",3,"ngModelChange","keyup","keydown","focus","ngModel"],[3,"click"],[3,"ngClass"],["family","default","name","case_sensitive",3,"active"],[3,"itemHeight","value","isHeader","index","role"],[1,"igx-combo__empty"],["role","button",1,"igx-combo__add-item",3,"itemHeight","tabindex","index"],["type","button","igxButton","flat","igxRipple",""]],template:function(e,t){if(1&e){let e=Kp();lm(sN),Lp(0,"igx-input-group",11,0),rm("click",(function(i){return Ko(e),jo(t.onClick(i))})),Bp(2,12),dm(3),Gp(),Bp(4,13),dm(5,1),Gp(),Bp(6,14),dm(7,2),Gp(),Lp(8,"input",15,1),rm("blur",(function(){return Ko(e),jo(t.onBlur())})),Np(),Bp(10,16),dm(11,3),Gp(),bg(12,mN,3,3,"igx-suffix",17),Lp(13,"igx-suffix",18),bg(14,vN,1,4,"ng-container")(15,yN,1,1,"igx-icon",19),Np()(),Lp(16,"igx-combo-drop-down",20,2),rm("opening",(function(i){return Ko(e),jo(t.handleOpening(i))}))("closing",(function(i){return Ko(e),jo(t.handleClosing(i))}))("opened",(function(){return Ko(e),jo(t.handleOpened())}))("closed",(function(){return Ko(e),jo(t.handleClosed())})),bg(18,_N,5,3,"div",21)(19,wN,1,0,"ng-container",22),Lp(20,"div",23,3),rm("focus",(function(){return Ko(e),jo(t.dropdown.onFocus())})),bg(22,EN,3,7,"igx-combo-item",24),Xm(23,"comboFiltering"),Xm(24,"comboGrouping"),Np(),bg(25,kN,3,2,"div",25)(26,ON,1,0,"ng-container",22),Np(),bg(27,FN,1,1,"ng-template",null,4,sf)(29,PN,1,1,"ng-template",null,5,sf)(31,VN,2,1,"ng-template",null,6,sf)(33,MN,2,1,"ng-template",null,7,sf)(35,LN,1,1,"ng-template",null,8,sf)}2&e&&(rp("type","search"===t.type?"box":t.type),Hc(8),rp("value",t.displayValue)("disabled",t.disabled),$g("placeholder",t.placeholder)("aria-expanded",!t.dropdown.collapsed)("aria-controls",t.dropdown.listId)("aria-labelledby",t.ariaLabelledBy||(null==t.label?null:t.label.id)||t.placeholder),Hc(4),Ip(t.displayValue?12:-1),Hc(2),Ip(t.toggleIconTemplate?14:-1),Hc(),Ip(t.toggleIconTemplate?-1:15),Hc(),rp("labelledBy",t.ariaLabelledBy||(null==t.label?null:t.label.id)||t.placeholder||"")("width",t.itemsWidth||"100%"),Hc(2),Ip(t.displaySearchInput?18:-1),Hc(),rp("ngTemplateOutlet",t.headerTemplate),Hc(),op("overflow","hidden")("max-height",t.itemsMaxHeightInRem,"rem"),rp("igxDropDownItemNavigation",t.dropdown)("tabindex",t.dropdown.collapsed?-1:0),$g("id",t.dropdown.id)("aria-activedescendant",t.activeDescendant),Hc(2),rp("igxForOf",nf(24,36,zm(49,lN,nf(23,29,Bm(42,aN,t.data,t.filterValue,t.displayKey,t.filteringOptions,t.filterFunction,t.disableFiltering)),t.groupKey,t.valueKey,t.groupSortingDirection,t.compareCollator)))("igxForInitialChunkSize",10)("igxForContainerSize",t.itemsMaxHeight||t.containerSize)("igxForItemSize",t.itemHeight||t.itemSize)("igxForScrollOrientation","vertical"),Hc(3),Ip(0===t.filteredData.length||t.isAddButtonVisible()?25:-1),Hc(),rp("ngTemplateOutlet",t.footerTemplate))},dependencies:[qv,jv,Px,yy,jy,Dx,Ek,oR,cR,DA,tN,eR,eO,OL,QL,mR,hO,iN,nN],encapsulation:2})}}return e})(),zN=["*"],BN=(()=>{class e{constructor(){this.clicked=new wl}onClick(e){e.stopPropagation(),this.clicked.emit()}static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-picker-toggle"]],hostBindings:function(e,t){1&e&&rm("click",(function(e){return t.onClick(e)}))},outputs:{clicked:"clicked"},ngContentSelectors:zN,decls:1,vars:0,template:function(e,t){1&e&&(lm(),dm(0))},encapsulation:2})}}return e})(),GN=(()=>{class e extends BN{static{this.ɵfac=(()=>{let t;return function(i){return(t||(t=ol(e)))(i||e)}})()}static{this.ɵcmp=Qu({type:e,selectors:[["igx-picker-clear"]],features:[dg],ngContentSelectors:zN,decls:1,vars:0,template:function(e,t){1&e&&(lm(),dm(0))},encapsulation:2})}}return e})(),$N=(()=>{class e{constructor(e){this.template=e}static{this.ɵfac=function(t){return new(t||e)(lu(jh))}}static{this.ɵdir=rg({type:e,selectors:[["","igxPickerActions",""]]})}}return e})(),WN={igx_date_picker_change_date:"Change Date",igx_date_picker_choose_date:"Choose Date"},KN="horizontal",jN="vertical",UN="dropdown",qN="dialog",YN=e=>({$implicit:e});function ZN(e,t){if(1&e){let e=Kp();Lp(0,"button",6,1),rm("click",(function(){Ko(e);let t=om(3);return jo(t.calendarClose.emit({owner:t}))})),ym(2),Np()}if(2&e){let e=om(3);Hc(2),wm(" ",e.closeButtonLabel," ")}}function XN(e,t){if(1&e){let e=Kp();Lp(0,"button",6,2),rm("click",(function(){Ko(e);let t=om(3);return jo(t.todaySelection.emit({owner:t}))})),ym(2),Np()}if(2&e){let e=om(3);Hc(2),wm(" ",e.todayButtonLabel," ")}}function QN(e,t){if(1&e&&(Lp(0,"div",4),bg(1,ZN,3,1,"button",5)(2,XN,3,1,"button",5),Np()),2&e){let e=om(2);Hc(),Ip(e.closeButtonLabel?1:-1),Hc(),Ip(e.todayButtonLabel?2:-1)}}function JN(e,t){if(1&e&&bg(0,QN,3,2,"div",4),2&e){let e=om();Ip(e.closeButtonLabel||e.todayButtonLabel?0:-1)}}function eH(e,t){1&e&&Hp(0,"igx-divider")}function tH(e,t){1&e&&$p(0)}function iH(e,t){if(1&e&&(Lp(0,"div",3),bg(1,tH,1,0,"ng-container",7),Np()),2&e){let e=om(),t=vm(1);Hc(),rp("ngTemplateOutlet",(null==e.pickerActions?null:e.pickerActions.template)||t)("ngTemplateOutletContext",Mm(2,YN,e.calendar))}}var nH=(()=>{class e{constructor(){this.calendarClose=new wl,this.todaySelection=new wl,this.styleClass="igx-date-picker",this.vertical=!1,this.mode=UN}get dropdownCSS(){return this.mode===UN}onEscape(e){e.preventDefault(),this.calendarClose.emit()}get isReadonly(){return this.mode===qN}static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-calendar-container"]],viewQuery:function(e,t){if(1&e&&pm(sL,7),2&e){let e;mm(e=fm())&&(t.calendar=e.first)}},hostVars:4,hostBindings:function(e,t){1&e&&rm("keydown.alt.arrowup",(function(e){return t.onEscape(e)})),2&e&&ap("igx-date-picker",t.styleClass)("igx-date-picker--dropdown",t.dropdownCSS)},outputs:{calendarClose:"calendarClose",todaySelection:"todaySelection"},decls:5,vars:2,consts:[["defaultPickerActions",""],["closeButton",""],["todayButton",""],[1,"igx-date-picker__actions"],[1,"igx-date-picker__buttons"],["type","button","igxButton","flat","igxRipple",""],["type","button","igxButton","flat","igxRipple","",3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(bg(0,JN,1,1,"ng-template",null,0,sf),Hp(2,"igx-calendar"),bg(3,eH,1,0,"igx-divider")(4,iH,2,4,"div",3)),2&e&&(Hc(3),Ip(null!=t.pickerActions&&t.pickerActions.template||t.closeButtonLabel||t.todayButtonLabel?3:-1),Hc(),Ip(null!=t.pickerActions&&t.pickerActions.template||t.closeButtonLabel||t.todayButtonLabel?4:-1))},dependencies:[mR,hO,sL,qv,Ak],styles:["[_nghost-%COMP%]{display:block}"]})}}return e})(),rH=(()=>{class e{get locale(){return this._locale}set locale(e){this._locale=e;try{tv(this._locale)}catch{this._locale=this._localeId}}get weekStart(){return this._weekStart??tv(this._locale)}set weekStart(e){this._weekStart=e}set type(e){this._type=e}get type(){return this._type||this._inputGroupType}get collapsed(){return this._collapsed}get isDropdown(){return this.mode===UN}get isFocused(){let e=this.element.nativeElement?.getRootNode();return!!e?.activeElement&&(this.element.nativeElement.contains(e.activeElement)||!this.collapsed&&this.toggleContainer.contains(e.activeElement))}constructor(e,t,i){this.element=e,this._localeId=t,this._inputGroupType=i,this.placeholder="",this.mode=UN,this.disabled=!1,this.opening=new wl,this.opened=new wl,this.closing=new wl,this.closed=new wl,this._collapsed=!0,this._destroy$=new Ci,this.locale=this.locale||this._localeId}ngAfterViewInit(){this.subToIconsClicked(this.toggleComponents,(()=>this.open())),this.toggleComponents.changes.pipe(Nn(this._destroy$)).subscribe((()=>this.subToIconsClicked(this.toggleComponents,(()=>this.open()))))}ngAfterContentChecked(){this.inputGroup&&this.prefixes?.length>0&&(this.inputGroup.prefixes=this.prefixes),this.inputGroup&&this.suffixes?.length>0&&(this.inputGroup.suffixes=this.suffixes)}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}subToIconsClicked(e,t){e.forEach((i=>{i.clicked.pipe(Nn(Tn(e.changes,this._destroy$))).subscribe(t)}))}static{this.ɵfac=function(t){return new(t||e)(lu(zl),lu(uf),lu(fR,8))}}static{this.ɵdir=rg({type:e,contentQueries:function(e,t,i){if(1&e&&(gm(i,BN,5),gm(i,dR,5),gm(i,cR,5)),2&e){let e;mm(e=fm())&&(t.toggleComponents=e),mm(e=fm())&&(t.prefixes=e),mm(e=fm())&&(t.suffixes=e)}},viewQuery:function(e,t){if(1&e&&pm(Ek,5),2&e){let e;mm(e=fm())&&(t.inputGroup=e.first)}},inputs:{inputFormat:"inputFormat",displayFormat:"displayFormat",placeholder:"placeholder",mode:"mode",overlaySettings:"overlaySettings",disabled:[2,"disabled","disabled",Hf],locale:"locale",weekStart:"weekStart",outlet:"outlet",type:"type",tabIndex:"tabIndex"},outputs:{opening:"opening",opened:"opened",closing:"closing",closed:"closed"}})}}return e})(),sH=[[["","igxLabel",""]],[["igx-prefix"],["","igxPrefix",""]],[["igx-suffix"],["","igxSuffix",""]],[["igx-hint"],["","igxHint",""]]],oH=["[igxLabel]","igx-prefix,[igxPrefix]","igx-suffix,[igxSuffix]","igx-hint,[igxHint]"];function aH(e,t){if(1&e){let e=Kp();Lp(0,"igx-prefix",6),rm("click",(function(){return Ko(e),jo(om().toggle())})),Hp(1,"igx-icon",7),Np()}if(2&e){let e=om();Hc(),rp("title",e.value?e.pickerResourceStrings.igx_date_picker_change_date:e.pickerResourceStrings.igx_date_picker_choose_date)}}function lH(e,t){if(1&e){let e=Kp();Lp(0,"igx-suffix",6),rm("click",(function(){return Ko(e),jo(om().clear())})),Hp(1,"igx-icon",8),Np()}}var dH=0,cH=(()=>{class e extends rH{get disabledDates(){return this._disabledDates}set disabledDates(e){this._disabledDates=e,this._onValidatorChange()}get specialDates(){return this._specialDates}set specialDates(e){this._specialDates=e}get value(){return this._value}set value(e){this._value=e,this.setDateValue(e),this.dateTimeEditor.value!==e&&(this.dateTimeEditor.value=this._dateValue),this.valueChange.emit(this.dateValue),this._onChangeCallback(this.dateValue)}set minValue(e){this._minValue=e,this._onValidatorChange()}get minValue(){return this._minValue}set maxValue(e){this._maxValue=e,this._onValidatorChange()}get maxValue(){return this._maxValue}get dialogOverlaySettings(){return Object.assign({},this._dialogOverlaySettings,this.overlaySettings)}get dropDownOverlaySettings(){return Object.assign({},this._dropDownOverlaySettings,this.overlaySettings)}get inputGroupElement(){return this.inputGroup?.element.nativeElement}get dateValue(){return this._dateValue}get pickerFormatViews(){return Object.assign({},this._defFormatViews,this.formatViews)}get pickerCalendarFormat(){return Object.assign({},this._calendarFormat,this.calendarFormat)}constructor(e,t,i,n,r,s,o,a){super(e,t,a),this._overlayService=i,this._injector=n,this._renderer=r,this.platform=s,this.cdr=o,this.displayMonthsCount=1,this.headerOrientation=KN,this.spinLoop=!0,this.id="igx-date-picker-"+dH++,this.readOnly=!1,this.valueChange=new wl,this.validationFailed=new wl,this.displayValue={transform:e=>this.formatter(e)},this._resourceStrings=TA(WN),this._ngControl=null,this._specialDates=null,this._disabledDates=null,this._overlaySubFilter=[Rn((e=>e.id===this._overlayId)),Nn(this._destroy$)],this._dropDownOverlaySettings={target:this.inputGroupElement,closeOnOutsideClick:!0,modal:!1,closeOnEscape:!0,scrollStrategy:new BI,positionStrategy:new FI({openAnimation:rE,closeAnimation:sE})},this._dialogOverlaySettings={closeOnOutsideClick:!0,modal:!0,closeOnEscape:!0},this._calendarFormat={day:"numeric",month:"short",weekday:"short",year:"numeric"},this._defFormatViews={day:!1,month:!0,year:!1},this._onChangeCallback=ei,this._onTouchedCallback=ei,this._onValidatorChange=ei,this.onStatusChanged=()=>{this.disabled=this._ngControl.disabled,this.updateValidity(),this.inputGroup.isRequired=this.required},this.locale=this.locale||this._localeId}get required(){if(this._ngControl&&this._ngControl.control&&this._ngControl.control.validator){let e=this._ngControl.control.validator({});return e&&e.required}return!1}get pickerResourceStrings(){return Object.assign({},this._resourceStrings,this.resourceStrings)}get toggleContainer(){return this._calendarContainer}onKeyDown(e){switch(e.key){case this.platform.KEYMAP.ARROW_UP:e.altKey&&this.close();break;case this.platform.KEYMAP.ARROW_DOWN:e.altKey&&this.open();break;case this.platform.KEYMAP.SPACE:e.preventDefault(),this.open()}}open(e){if(!this.collapsed||this.disabled)return;let t=Object.assign({},this.isDropdown?this.dropDownOverlaySettings:this.dialogOverlaySettings,e);this.isDropdown&&this.inputGroupElement&&(t.target=this.inputGroupElement),this.outlet&&(t.outlet=this.outlet),this._overlayId=this._overlayService.attach(nH,this.viewContainerRef,t),this._overlayService.show(this._overlayId)}toggle(e){this.collapsed?this.open(e):this.close()}close(){this.collapsed||this._overlayService.hide(this._overlayId)}select(e){this.value=e}selectToday(){let e=new Date;e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),this.select(e),this.close()}clear(){this.disabled||(this._calendar?.deselectDate(),this.dateTimeEditor.clear())}increment(e,t){this.dateTimeEditor.increment(e,t)}decrement(e,t){this.dateTimeEditor.decrement(e,t)}writeValue(e){this._value=e,this.setDateValue(e),this.dateTimeEditor.value!==e&&(this.dateTimeEditor.value=this._dateValue)}registerOnChange(e){this._onChangeCallback=e}registerOnTouched(e){this._onTouchedCallback=e}setDisabledState(e){this.disabled=e}registerOnValidatorChange(e){this._onValidatorChange=e}validate(e){if(!e.value)return null;if(MC(e.value)&&!OS.isValidDate(e.value))return{value:!0};let t={},i=OS.isValidDate(e.value)?e.value:OS.parseIsoDate(e.value);return i&&this.disabledDates&&IV(i,this.disabledDates)&&Object.assign(t,{dateIsDisabled:!0}),Object.assign(t,OS.validateMinMax(i,this.minValue,this.maxValue,!1)),Object.keys(t).length>0?t:null}ngOnInit(){this._ngControl=this._injector.get(Wy,null),this.locale=this.locale||this._localeId}ngAfterViewInit(){super.ngAfterViewInit(),this.subscribeToClick(),this.subscribeToOverlayEvents(),this.subscribeToDateEditorEvents(),this.subToIconsClicked(this.clearComponents,(()=>this.clear())),this.clearComponents.changes.pipe(Nn(this._destroy$)).subscribe((()=>this.subToIconsClicked(this.clearComponents,(()=>this.clear())))),this._dropDownOverlaySettings.excludeFromOutsideClick=[this.inputGroup.element.nativeElement],Sn(this.inputDirective.nativeElement,"blur").pipe(Nn(this._destroy$)).subscribe((()=>{this.collapsed&&(this._onTouchedCallback(),this.updateValidity())})),this._ngControl&&(this._statusChanges$=this._ngControl.statusChanges.subscribe(this.onStatusChanged.bind(this)),this._ngControl.control.validator&&(this.inputGroup.isRequired=this.required,this.cdr.detectChanges()))}ngAfterViewChecked(){this.labelDirective&&this._renderer.setAttribute(this.inputDirective.nativeElement,"aria-labelledby",this.labelDirective.id)}ngOnDestroy(){super.ngOnDestroy(),this._statusChanges$&&this._statusChanges$.unsubscribe(),this._overlayId&&(this._overlayService.detach(this._overlayId),delete this._overlayId)}getEditElement(){return this.inputDirective.nativeElement}subscribeToClick(){Sn(this.getEditElement(),"click").pipe(Nn(this._destroy$)).subscribe((()=>{this.isDropdown||this.toggle()}))}setDateValue(e){MC(e)&&isNaN(e.getTime())?this._dateValue=e:this._dateValue=OS.isValidDate(e)?e:OS.parseIsoDate(e)}updateValidity(){this._ngControl&&!this.disabled&&this.isTouchedOrDirty?this.hasValidators&&this.inputGroup.isFocused?this.inputDirective.valid=this._ngControl.valid?sR.VALID:sR.INVALID:this.inputDirective.valid=this._ngControl.valid?sR.INITIAL:sR.INVALID:this.inputDirective.valid=sR.INITIAL}get isTouchedOrDirty(){return this._ngControl.control.touched||this._ngControl.control.dirty}get hasValidators(){return!!this._ngControl.control.validator||!!this._ngControl.control.asyncValidator}handleSelection(e){this.dateValue&&OS.isValidDate(this.dateValue)&&(e.setHours(this.dateValue.getHours()),e.setMinutes(this.dateValue.getMinutes()),e.setSeconds(this.dateValue.getSeconds()),e.setMilliseconds(this.dateValue.getMilliseconds())),this.value=e,this._calendar.viewDate=e,this.close()}subscribeToDateEditorEvents(){this.dateTimeEditor.valueChange.pipe(Nn(this._destroy$)).subscribe((e=>{this.value=e})),this.dateTimeEditor.validationFailed.pipe(Nn(this._destroy$)).subscribe((e=>{this.validationFailed.emit({owner:this,prevValue:e.oldValue,currentValue:this.value})}))}subscribeToOverlayEvents(){this._overlayService.opening.pipe(...this._overlaySubFilter).subscribe((e=>{let t={owner:this,event:e.event,cancel:e.cancel};this.opening.emit(t),e.cancel=t.cancel,t.cancel?this._overlayService.detach(this._overlayId):(this._initializeCalendarContainer(e.componentRef.instance),this._calendarContainer=e.componentRef.location.nativeElement,this._collapsed=!1)})),this._overlayService.opened.pipe(...this._overlaySubFilter).subscribe((()=>{this.opened.emit({owner:this}),this._calendar.wrapper?.nativeElement?.focus(),this._targetViewDate&&(this._targetViewDate.setHours(0,0,0,0),this._calendar.activeDate=this._targetViewDate)})),this._overlayService.closing.pipe(...this._overlaySubFilter).subscribe((e=>{let t={owner:this,event:e.event,cancel:e.cancel};if(this.closing.emit(t),e.cancel=t.cancel,t.cancel)return;let i=t.event&&t.event.key!==this.platform.KEYMAP.ESCAPE;!this.getEditElement()||i&&this.isDropdown?(this._onTouchedCallback(),this.updateValidity()):this.inputDirective.focus()})),this._overlayService.closed.pipe(...this._overlaySubFilter).subscribe((()=>{this.closed.emit({owner:this}),this._overlayService.detach(this._overlayId),this._collapsed=!0,this._overlayId=null,this._calendar=null,this._calendarContainer=void 0}))}getMinMaxDates(){return{minValue:OS.isValidDate(this.minValue)?this.minValue:OS.parseIsoDate(this.minValue),maxValue:OS.isValidDate(this.maxValue)?this.maxValue:OS.parseIsoDate(this.maxValue)}}setDisabledDates(){this._calendar.disabledDates=this.disabledDates?[...this.disabledDates]:[];let{minValue:e,maxValue:t}=this.getMinMaxDates();e&&this._calendar.disabledDates.push({type:RV.Before,dateRange:[e]}),t&&this._calendar.disabledDates.push({type:RV.After,dateRange:[t]})}_initializeCalendarContainer(e){this._calendar=e.calendar,this._calendar.hasHeader=!this.isDropdown,this._calendar.formatOptions=this.pickerCalendarFormat,this._calendar.formatViews=this.pickerFormatViews,this._calendar.locale=this.locale,this._calendar.weekStart=this.weekStart,this._calendar.specialDates=this.specialDates,this._calendar.headerTitleTemplate=this.headerTitleTemplate,this._calendar.headerTemplate=this.headerTemplate,this._calendar.subheaderTemplate=this.subheaderTemplate,this._calendar.headerOrientation=this.headerOrientation,this._calendar.hideOutsideDays=this.hideOutsideDays,this._calendar.monthsViewNumber=this.displayMonthsCount,this._calendar.showWeekNumbers=this.showWeekNumbers,this._calendar.selected.pipe(Nn(this._destroy$)).subscribe((e=>this.handleSelection(e))),this.setDisabledDates(),OS.isValidDate(this.dateValue)&&(this._calendar.value=this.dateValue),this.setCalendarViewDate(),e.mode=this.mode,e.closeButtonLabel=this.cancelButtonLabel,e.todayButtonLabel=this.todayButtonLabel,e.pickerActions=this.pickerActions,e.calendarClose.pipe(Nn(this._destroy$)).subscribe((()=>this.close())),e.todaySelection.pipe(Nn(this._destroy$)).subscribe((()=>this.selectToday()))}setCalendarViewDate(){let{minValue:e,maxValue:t}=this.getMinMaxDates(),i=OS.isValidDate(this.dateValue)?this.dateValue:new Date;e&&OS.lessThanMinValue(i,e)?this._calendar.viewDate=this._targetViewDate=e:t&&OS.greaterThanMaxValue(i,t)?this._calendar.viewDate=this._targetViewDate=t:this._calendar.viewDate=this._targetViewDate=i}static{this.ɵfac=function(t){return new(t||e)(lu(zl),lu(uf),lu(zI),lu(hl),lu(ru),lu(NC),lu(Cf),lu(fR,8))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-date-picker"]],contentQueries:function(e,t,i){if(1&e&&(gm(i,lR,5),gm(i,gV,5),gm(i,pV,5),gm(i,mV,5),gm(i,$N,5),gm(i,GN,4)),2&e){let e;mm(e=fm())&&(t.label=e.first),mm(e=fm())&&(t.headerTitleTemplate=e.first),mm(e=fm())&&(t.headerTemplate=e.first),mm(e=fm())&&(t.subheaderTemplate=e.first),mm(e=fm())&&(t.pickerActions=e.first),mm(e=fm())&&(t.clearComponents=e)}},viewQuery:function(e,t){if(1&e&&(pm(AO,7),pm(Ek,5,Su),pm(lR,5),pm(oR,5)),2&e){let e;mm(e=fm())&&(t.dateTimeEditor=e.first),mm(e=fm())&&(t.viewContainerRef=e.first),mm(e=fm())&&(t.labelDirective=e.first),mm(e=fm())&&(t.inputDirective=e.first)}},hostVars:1,hostBindings:function(e,t){1&e&&rm("keydown",(function(e){return t.onKeyDown(e)})),2&e&&$g("id",t.id)},inputs:{hideOutsideDays:[2,"hideOutsideDays","hideOutsideDays",Hf],displayMonthsCount:"displayMonthsCount",showWeekNumbers:[2,"showWeekNumbers","showWeekNumbers",Hf],formatter:"formatter",headerOrientation:"headerOrientation",todayButtonLabel:"todayButtonLabel",cancelButtonLabel:"cancelButtonLabel",spinLoop:[2,"spinLoop","spinLoop",Hf],spinDelta:"spinDelta",outlet:"outlet",id:"id",formatViews:"formatViews",disabledDates:"disabledDates",specialDates:"specialDates",calendarFormat:"calendarFormat",value:"value",minValue:"minValue",maxValue:"maxValue",resourceStrings:"resourceStrings",readOnly:[2,"readOnly","readOnly",Hf]},outputs:{valueChange:"valueChange",validationFailed:"validationFailed"},features:[Pm([{provide:my,useExisting:e,multi:!0},{provide:wy,useExisting:e,multi:!0}]),dg],ngContentSelectors:oH,decls:12,vars:17,consts:[[3,"type"],["igxInput","","aria-haspopup","dialog","aria-autocomplete","none","role","combobox",1,"igx-date-picker__input-date",3,"displayValuePipe","igxDateTimeEditor","displayFormat","minValue","maxValue","spinDelta","spinLoop","disabled","placeholder","readonly","igxTextSelection","locale"],["ngProjectAs","[igxLabel]",5,["","igxLabel",""]],["ngProjectAs","igx-prefix",5,["igx-prefix"]],["ngProjectAs","igx-suffix",5,["igx-suffix"]],["ngProjectAs","igx-hint",5,["igx-hint"]],[3,"click"],["family","default","name","today",3,"title"],["family","default","name","input_clear"]],template:function(e,t){1&e&&(lm(sH),Lp(0,"igx-input-group",0),bg(1,aH,2,1,"igx-prefix"),Hp(2,"input",1),bg(3,lH,2,0,"igx-suffix"),Bp(4,2),dm(5),Gp(),Bp(6,3),dm(7,1),Gp(),Bp(8,4),dm(9,2),Gp(),Bp(10,5),dm(11,3),Gp(),Np()),2&e&&(rp("type",t.type),Hc(),Ip(t.toggleComponents.length?-1:1),Hc(),rp("displayValuePipe",t.formatter?t.displayValue:null)("igxDateTimeEditor",t.inputFormat)("displayFormat",t.displayFormat)("minValue",t.minValue)("maxValue",t.maxValue)("spinDelta",t.spinDelta)("spinLoop",t.spinLoop)("disabled",t.disabled)("placeholder",t.placeholder)("readonly",!t.isDropdown||t.readOnly)("igxTextSelection",t.isDropdown&&!t.readOnly)("locale",t.locale),$g("aria-expanded",!t.collapsed)("aria-labelledby",null==t.label?null:t.label.id),Hc(),Ip(!t.clearComponents.length&&t.value?3:-1))},dependencies:[Ek,dR,DA,oR,AO,_O,cR],styles:["[_nghost-%COMP%]{display:block}"]})}}return e})(),hH=[[["igx-dialog-title"],["","igxDialogTitle",""]],"*",[["igx-dialog-actions"],["","igxDialogActions",""]]],uH=["igx-dialog-title,[igxDialogTitle]","*","igx-dialog-actions,[igxDialogActions]"];function gH(e,t){if(1&e&&(Lp(0,"div",4),ym(1),Np()),2&e){let e=om();$g("id",e.titleId),Hc(),wm(" ",e.title," ")}}function pH(e,t){1&e&&dm(0)}function mH(e,t){if(1&e&&(Lp(0,"span",6),ym(1),Np()),2&e){let e=om();Hc(),wm(" ",e.message," ")}}function fH(e,t){1&e&&dm(0,1)}function vH(e,t){if(1&e){let e=Kp();Lp(0,"button",9),rm("click",(function(t){return Ko(e),jo(om(2).onInternalLeftButtonSelect(t))})),ym(1),Np()}if(2&e){let e=om(2);cm("igxRipple",e.leftButtonRipple),rp("igxFocus",e.isOpen)("igxButton",e.leftButtonType),Hc(),wm(" ",e.leftButtonLabel," ")}}function yH(e,t){if(1&e){let e=Kp();Lp(0,"button",9),rm("click",(function(t){return Ko(e),jo(om(2).onInternalRightButtonSelect(t))})),ym(1),Np()}if(2&e){let e=om(2);cm("igxRipple",e.rightButtonRipple),rp("igxFocus",e.isOpen)("igxButton",e.rightButtonType),Hc(),wm(" ",e.rightButtonLabel," ")}}function xH(e,t){if(1&e&&(Lp(0,"div",7),bg(1,vH,2,4,"button",8)(2,yH,2,4,"button",8),Np()),2&e){let e=om();Hc(),Ip(e.leftButtonLabel?1:-1),Hc(),Ip(e.rightButtonLabel?2:-1)}}function _H(e,t){1&e&&dm(0,2)}var wH=0,CH=(()=>{class e{static{this.NEXT_ID=1}static{this.DIALOG_CLASS="igx-dialog"}get isModal(){return this._isModal}set isModal(e){this._overlayDefaultSettings.modal=e,this._isModal=e}get closeOnEscape(){return this._closeOnEscape}set closeOnEscape(e){this._overlayDefaultSettings.closeOnEscape=e,this._closeOnEscape=e}get closeOnOutsideSelect(){return this._closeOnOutsideSelect}set closeOnOutsideSelect(e){this._overlayDefaultSettings.closeOnOutsideClick=e,this._closeOnOutsideSelect=e}get positionSettings(){return this._positionSettings}set positionSettings(e){this._positionSettings=e,this._overlayDefaultSettings.positionStrategy=new VI(this._positionSettings)}get element(){return this.elementRef.nativeElement}get state(){return this.isOpen?"open":"close"}get isOpen(){return!!this.toggleRef&&!this.toggleRef.collapsed}set isOpen(e){e!==this.isOpen&&(this.isOpenChange.emit(e),e?requestAnimationFrame((()=>{this.open()})):this.close())}get isCollapsed(){return this.toggleRef.collapsed}get role(){return""!==this.leftButtonLabel&&""!==this.rightButtonLabel?"dialog":""!==this.leftButtonLabel||""!==this.rightButtonLabel?"alertdialog":"alert"}get titleId(){return this._titleId}constructor(t,i){this.elementRef=t,this.navService=i,this.id="igx-dialog-"+wH++,this.focusTrap=!0,this.title="",this.message="",this.leftButtonLabel="",this.leftButtonType="flat",this.leftButtonRipple="",this.rightButtonLabel="",this.rightButtonType="flat",this.rightButtonRipple="",this.tabindex=-1,this.opening=new wl,this.opened=new wl,this.closing=new wl,this.closed=new wl,this.leftButtonSelect=new wl,this.rightButtonSelect=new wl,this.isOpenChange=new wl,this.destroy$=new Ci,this._positionSettings={openAnimation:rE,closeAnimation:sE},this._closeOnOutsideSelect=!1,this._closeOnEscape=!0,this._isModal=!0,this._titleId=e.NEXT_ID+++"_title",this._overlayDefaultSettings={positionStrategy:new VI(this._positionSettings),scrollStrategy:new HI,modal:this.isModal,closeOnEscape:this._closeOnEscape,closeOnOutsideClick:this.closeOnOutsideSelect}}ngAfterContentInit(){this.toggleRef.closing.pipe(Nn(this.destroy$)).subscribe((e=>this.emitCloseFromDialog(e))),this.toggleRef.closed.pipe(Nn(this.destroy$)).subscribe((e=>this.emitClosedFromDialog(e))),this.toggleRef.opened.pipe(Nn(this.destroy$)).subscribe((e=>this.emitOpenedFromDialog(e)))}open(e=this._overlayDefaultSettings){let t={dialog:this,event:null,cancel:!1};this.opening.emit(t),t.cancel||(e=Qe(Qe({},this._overlayDefaultSettings),e),this.toggleRef.open(e),this.isOpenChange.emit(!0),!this.leftButtonLabel&&!this.rightButtonLabel&&this.toggleRef.element.focus())}close(){this.toggleRef?.close()}toggle(){this.isOpen?this.close():this.open()}onDialogSelected(t){t.stopPropagation(),this.isOpen&&this.closeOnOutsideSelect&&t.target.classList.contains(e.DIALOG_CLASS)&&this.close()}onInternalLeftButtonSelect(e){this.leftButtonSelect.emit({dialog:this,event:e})}onInternalRightButtonSelect(e){this.rightButtonSelect.emit({dialog:this,event:e})}ngOnInit(){this.navService&&this.id&&this.navService.add(this.id,this)}ngOnDestroy(){this.navService&&this.id&&this.navService.remove(this.id)}emitCloseFromDialog(e){let t={dialog:this,event:e.event,cancel:e.cancel};this.closing.emit(t),e.cancel=t.cancel,e.cancel||this.isOpenChange.emit(!1)}emitClosedFromDialog(e){this.closed.emit({dialog:this,event:e.event})}emitOpenedFromDialog(e){this.opened.emit({dialog:this,event:e.event})}static{this.ɵfac=function(t){return new(t||e)(lu(zl),lu(Wf,8))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-dialog"]],viewQuery:function(e,t){if(1&e&&pm(SO,7),2&e){let e;mm(e=fm())&&(t.toggleRef=e.first)}},hostVars:4,hostBindings:function(e,t){2&e&&($g("id",t.id)("tabindex",t.tabindex),ap("igx-dialog--hidden",t.isCollapsed))},inputs:{id:"id",isModal:[2,"isModal","isModal",Hf],closeOnEscape:[2,"closeOnEscape","closeOnEscape",Hf],focusTrap:[2,"focusTrap","focusTrap",Hf],title:"title",message:"message",leftButtonLabel:"leftButtonLabel",leftButtonType:"leftButtonType",leftButtonRipple:"leftButtonRipple",rightButtonLabel:"rightButtonLabel",rightButtonType:"rightButtonType",rightButtonRipple:"rightButtonRipple",closeOnOutsideSelect:[2,"closeOnOutsideSelect","closeOnOutsideSelect",Hf],positionSettings:"positionSettings",isOpen:[2,"isOpen","isOpen",Hf],role:"role",titleId:"titleId"},outputs:{opening:"opening",opened:"opened",closing:"closing",closed:"closed",leftButtonSelect:"leftButtonSelect",rightButtonSelect:"rightButtonSelect",isOpenChange:"isOpenChange"},ngContentSelectors:uH,decls:11,vars:9,consts:[["dialog",""],["dialogWindow",""],["tabindex","0","igxToggle","",1,"igx-dialog",3,"click","igxFocusTrap"],[1,"igx-dialog__window"],[1,"igx-dialog__window-title"],[1,"igx-dialog__window-content"],[1,"igx-dialog__window-message"],[1,"igx-dialog__window-actions"],["type","button",3,"igxFocus","igxButton","igxRipple"],["type","button",3,"click","igxFocus","igxButton","igxRipple"]],template:function(e,t){if(1&e){let e=Kp();lm(hH),Lp(0,"div",2,0),rm("click",(function(i){return Ko(e),jo(t.onDialogSelected(i))})),Lp(2,"div",3,1),bg(4,gH,2,2,"div",4)(5,pH,1,0),Lp(6,"div",5),bg(7,mH,2,1,"span",6)(8,fH,1,0),Np(),bg(9,xH,3,2,"div",7)(10,_H,1,0),Np()()}2&e&&(rp("igxFocusTrap",t.focusTrap),Hc(2),$g("role",t.role)("aria-labelledby",t.titleId),Hc(2),Ip(t.title?4:-1),Hc(),Ip(t.title?-1:5),Hc(2),Ip(t.message?7:-1),Hc(),Ip(t.message?-1:8),Hc(),Ip(t.leftButtonLabel||t.rightButtonLabel?9:-1),Hc(),Ip(t.leftButtonLabel||t.rightButtonLabel?-1:10))},dependencies:[SO,zk,Hk,mR,hO],encapsulation:2})}}return e})();function SH(e,t){if(1&e&&(Lp(0,"h4",1),ym(1),Np()),2&e){let e=om();$g("id",e.titleID),Hc(),_m(e.title)}}function bH(e,t){if(1&e){let e=Kp();Lp(0,"igx-input-group",2)(1,"input",7),Em("ngModelChange",(function(t){Ko(e);let i=om();return Dm(i.filterCriteria,t)||(i.filterCriteria=t),jo(t)})),Np()()}if(2&e){let e=om();Hc(),bm("ngModel",e.filterCriteria),rp("placeholder",e.filterColumnsPrompt),$g("aria-describedby",e.titleID)}}function DH(e,t){if(1&e){let e=Kp();Lp(0,"igx-checkbox",8),rm("click",(function(){let t=Ko(e).$implicit;return jo(om().toggleColumn(t))})),ym(1),Np()}if(2&e){let e=t.$implicit,i=om();op("margin-left",e.level*i.indentation,"px"),rp("readonly",!0)("checked",i.actionsDirective.columnChecked(e)),Hc(),wm(" ",e.header||e.field," ")}}var EH=0,TH=(()=>{class e{constructor(e){this.differs=e,this.indentation=30,this.cssClass="igx-column-actions",this.columnsAreaMaxHeight="100%",this.hideFilter=!1,this.title="",this.columnToggled=new wl,this.actionableColumns=[],this.filteredColumns=[],this.pipeTrigger=0,this._differ=null,this._filterColumnsPrompt="",this._filterCriteria="",this._columnDisplayOrder=ub,this._id="igx-column-actions-"+EH++,this.trackChanges=(e,t)=>t.field+"_"+this.actionsDirective.actionEnabledColumnsFilter(t,e,[]),this._differ=this.differs.find([]).create(this.trackChanges)}get filterColumnsPrompt(){return this._filterColumnsPrompt}set filterColumnsPrompt(e){this._filterColumnsPrompt=e||""}get filterCriteria(){return this._filterCriteria}set filterCriteria(e){(e=e||"")!==this._filterCriteria&&(this._filterCriteria=e,this.pipeTrigger++)}get columnDisplayOrder(){return this._columnDisplayOrder}set columnDisplayOrder(e){e&&e!==this._columnDisplayOrder&&(this._columnDisplayOrder=e,this.pipeTrigger++)}get uncheckAllText(){return this._uncheckAllText||this.actionsDirective.uncheckAllLabel}set uncheckAllText(e){this._uncheckAllText=e}get checkAllText(){return this._checkAllText||this.actionsDirective.checkAllLabel}set checkAllText(e){this._checkAllText=e}get checkAllDisabled(){return this.actionsDirective.allUnchecked}get uncheckAllDisabled(){return this.actionsDirective.allChecked}get id(){return this._id}set id(e){this._id=e}get titleID(){return this.id+"_title"}ngDoCheck(){this._differ&&this._differ.diff(this.grid?.columnList)&&this.pipeTrigger++}uncheckAllColumns(){this.actionsDirective.uncheckAll()}checkAllColumns(){this.actionsDirective.checkAll()}toggleColumn(e){this.actionsDirective.toggleColumn(e),this.columnToggled.emit({column:e,checked:this.actionsDirective.columnChecked(e)})}static{this.ɵfac=function(t){return new(t||e)(lu(Pf))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-column-actions"]],viewQuery:function(e,t){if(1&e&&pm(OF,5),2&e){let e;mm(e=fm())&&(t.columnItems=e)}},hostVars:3,hostBindings:function(e,t){2&e&&($g("id",t.id),lp(t.cssClass))},inputs:{grid:"grid",indentation:"indentation",columnsAreaMaxHeight:"columnsAreaMaxHeight",hideFilter:[2,"hideFilter","hideFilter",Hf],title:"title",filterColumnsPrompt:"filterColumnsPrompt",filterCriteria:"filterCriteria",columnDisplayOrder:"columnDisplayOrder",uncheckAllText:"uncheckAllText",checkAllText:"checkAllText",id:"id"},outputs:{columnToggled:"columnToggled"},decls:14,vars:20,consts:[[1,"igx-column-actions__header"],[1,"igx-column-actions__header-title"],[1,"igx-column-actions__header-input"],["tabindex","0",1,"igx-column-actions__columns"],[1,"igx-column-actions__columns-item",3,"readonly","checked","margin-left"],[1,"igx-column-actions__buttons"],["type","button","igxButton","","igxRipple","",3,"click","disabled"],["igxInput","","type","text","autocomplete","off",3,"ngModelChange","ngModel","placeholder"],[1,"igx-column-actions__columns-item",3,"click","readonly","checked"]],template:function(e,t){1&e&&(Lp(0,"div",0),bg(1,SH,2,2,"h4",1)(2,bH,2,3,"igx-input-group",2),Np(),Lp(3,"div",3),Op(4,DH,2,5,"igx-checkbox",4,Ap),Xm(6,"columnActionEnabled"),Xm(7,"filterActionColumns"),Xm(8,"sortActionColumns"),Np(),Lp(9,"div",5)(10,"button",6),rm("click",(function(){return t.uncheckAllColumns()})),ym(11),Np(),Lp(12,"button",6),rm("click",(function(){return t.checkAllColumns()})),ym(13),Np()()),2&e&&(Hc(),Ip(t.title?1:-1),Hc(),Ip(t.hideFilter?-1:2),Hc(),op("max-height",t.columnsAreaMaxHeight),Hc(),Pp(ef(8,16,ef(7,12,ef(6,8,null==t.grid?null:t.grid._columns,t.actionsDirective.actionEnabledColumnsFilter,t.pipeTrigger),t.filterCriteria,t.pipeTrigger),t.columnDisplayOrder,t.pipeTrigger)),Hc(6),rp("disabled",t.uncheckAllDisabled),Hc(),_m(t.uncheckAllText),Hc(),rp("disabled",t.checkAllDisabled),Hc(),_m(t.checkAllText))},dependencies:()=>[Ek,Px,yy,jy,Dx,oR,OF,mR,hO,IH,RH,AH],encapsulation:2})}}return e})(),IH=(()=>{class e{constructor(e){this.columnActions=e}transform(e,t,i){if(!e)return e;let n=e.slice(0);return n.length&&n[0].grid.hasColumnLayouts&&(n=n.filter((e=>e.columnLayout))),t&&(n=n.filter(t)),this.columnActions.actionableColumns=n,n}static{this.ɵfac=function(t){return new(t||e)(lu(TH,16))}}static{this.ɵpipe=sg({name:"columnActionEnabled",type:e,pure:!0})}}return e})(),RH=(()=>{class e{constructor(e){this.columnActions=e}transform(e,t,i){if(!e)return e;let n=e.slice(0);if(t&&t.length>0){let i=e=>{let n=e.header||e.field;return!!n&&(n.toLocaleLowerCase().indexOf(t.toLocaleLowerCase())>=0||(e.children?.some(i)??!1))};n=e.filter(i)}return this.columnActions.filteredColumns=n,n}static{this.ɵfac=function(t){return new(t||e)(lu(TH,16))}}static{this.ɵpipe=sg({name:"filterActionColumns",type:e,pure:!0})}}return e})(),AH=(()=>{class e{transform(e,t,i){return t===hb?e.sort(((e,t)=>(e.header||e.field).localeCompare(t.header||t.field))):e}static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵpipe=sg({name:"sortActionColumns",type:e,pure:!0})}}return e})(),kH=(()=>{class e{static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵdir=rg({type:e})}}return e})(),OH=(()=>{class e extends kH{constructor(e){super(),this.columnActions=e,this.actionEnabledColumnsFilter=e=>!e.disableHiding,e.actionsDirective=this}get checkAllLabel(){return this.columnActions.grid?.resourceStrings.igx_grid_hiding_check_all_label??"Show All"}get uncheckAllLabel(){return this.columnActions.grid?.resourceStrings.igx_grid_hiding_uncheck_all_label??"Hide All"}checkAll(){this.columnActions.filteredColumns.forEach((e=>e.toggleVisibility(!1)))}uncheckAll(){this.columnActions.filteredColumns.forEach((e=>e.toggleVisibility(!0)))}columnChecked(e){return!e.hidden}toggleColumn(e){e.toggleVisibility()}get allChecked(){return this.columnActions.filteredColumns.every((e=>!this.columnChecked(e)))}get allUnchecked(){return this.columnActions.filteredColumns.every((e=>this.columnChecked(e)))}static{this.ɵfac=function(t){return new(t||e)(lu(TH))}}static{this.ɵdir=rg({type:e,selectors:[["","igxColumnHiding",""]],features:[dg]})}}return e})(),FH=(()=>{class e extends kH{constructor(e){super(),this.columnActions=e,this.actionEnabledColumnsFilter=e=>!e.disablePinning&&!e.level,e.actionsDirective=this}get checkAllLabel(){return this.columnActions.grid?.resourceStrings.igx_grid_pinning_check_all_label??"Pin All"}get uncheckAllLabel(){return this.columnActions.grid?.resourceStrings.igx_grid_pinning_uncheck_all_label??"Unpin All"}checkAll(){this.columnActions.filteredColumns.forEach((e=>e.pinned=!0))}uncheckAll(){this.columnActions.filteredColumns.forEach((e=>e.pinned=!1))}columnChecked(e){return e.pinned}toggleColumn(e){e.pinned=!e.pinned}get allUnchecked(){return!this.columnActions.filteredColumns.some((e=>!this.columnChecked(e)))}get allChecked(){return!this.columnActions.filteredColumns.some((e=>this.columnChecked(e)))}static{this.ɵfac=function(t){return new(t||e)(lu(TH))}}static{this.ɵdir=rg({type:e,selectors:[["","igxColumnPinning",""]],features:[dg]})}}return e})();function PH(){return(e,t,i)=>{let n="_"+t.toString();(i=i||{configurable:!0,enumerable:!0}).get=i.get||function(){return this[n]};let r=i.set||function(e){this[n]=e};return i.set=function(e){let i=this._init,n=this[t];if((e!==n||"object"==typeof e&&e===n)&&(r.call(this,e),this.ngOnChanges&&!i)){let i={[t]:new uo(n,e,!1)};this.ngOnChanges(i)}},i}}function VH(){return(e,t,i)=>{let n="_"+t.toString();(i=i||{configurable:!0,enumerable:!0}).get=i.get||function(){return this[n]};let r=i.set||function(e){this[n]=e};return i.set=function(e){let i=this[t];r.call(this,e),(e!==i||"object"==typeof e&&e===i)&&this.columnChange&&this.columnChange.emit()},i}}function MH(e=!1){return(t,i,n)=>{let r=`__${i}`,s=(n=n||{enumerable:!0,configurable:!0})?n.set:null;return n.get=n.get||function(){return this[r]},n.set=function(t){if(s)s.call(this,t),this.grid&&this.grid.notifyChanges(e&&"pivot"!==this.type);else{if(t===this[i])return;this[r]=t,this.grid&&this.grid.notifyChanges(e&&"pivot"!==this.type)}},n}}var LH=(()=>{class e{constructor(e){this.template=e}static ngTemplateContextGuard(e,t){return!0}static{this.ɵfac=function(t){return new(t||e)(lu(jh))}}static{this.ɵdir=rg({type:e,selectors:[["","igxFilterCellTemplate",""]]})}}return e})(),NH=(()=>{class e{constructor(e){this.template=e}static ngTemplateContextGuard(e,t){return!0}static{this.ɵfac=function(t){return new(t||e)(lu(jh))}}static{this.ɵdir=rg({type:e,selectors:[["","igxCell",""]]})}}return e})(),HH=(()=>{class e{constructor(e){this.template=e}static ngTemplateContextGuard(e,t){return!0}static{this.ɵfac=function(t){return new(t||e)(lu(jh))}}static{this.ɵdir=rg({type:e,selectors:[["","igxCellValidationError",""]]})}}return e})(),zH=(()=>{class e{constructor(e){this.template=e}static ngTemplateContextGuard(e,t){return!0}static{this.ɵfac=function(t){return new(t||e)(lu(jh))}}static{this.ɵdir=rg({type:e,selectors:[["","igxHeader",""]]})}}return e})(),BH=(()=>{class e{constructor(e){this.template=e}static ngTemplateContextGuard(e,t){return!0}static{this.ɵfac=function(t){return new(t||e)(lu(jh))}}static{this.ɵdir=rg({type:e,selectors:[["","igxCellEditor",""]]})}}return e})(),GH=(()=>{class e{constructor(e){this.template=e}static ngTemplateContextGuard(e,t){return!0}static{this.ɵfac=function(t){return new(t||e)(lu(jh))}}static{this.ɵdir=rg({type:e,selectors:[["","igxCollapsibleIndicator",""]]})}}return e})(),$H=(()=>{class e{constructor(e){this.template=e}static ngTemplateContextGuard(e,t){return!0}static{this.ɵfac=function(t){return new(t||e)(lu(jh))}}static{this.ɵdir=rg({type:e,selectors:[["","igxSummary",""]]})}}return e})(),WH=function(e){return e[e.BeforeDropTarget=0]="BeforeDropTarget",e[e.AfterDropTarget=1]="AfterDropTarget",e}(WH||{}),KH=(()=>{class e{static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵprov=ir({token:e,factory:e.ɵfac,providedIn:"root"})}}return e})(),jH=class{constructor(e,t,i){this.grid=e,"number"==typeof t?this._rowIndex=t:(this._row=t,this._rowIndex=t.index),this._column=i}get row(){return this._row||this.grid.createRow(this._rowIndex)}get column(){return this._column}get editValue(){if(this.isCellInEditMode())return this.grid.crudService.cell.editValue}set editValue(e){this.isCellInEditMode()&&(this.grid.crudService.cell.editValue=e)}get validation(){let e=this.grid.validation.getFormControl(this.row.key,this.column.field);return{status:e?.status||"VALID",errors:e?.errors}}get editable(){return this.column.editable&&!this.row?.disabled}get width(){return this.column.width}get value(){return this.column.field?this.column.hasNestedPath?QC(this.row?.data,XC(this.column.field)):this.row?.data[this.column.field]:void 0}set value(e){this.update(e)}get id(){let e=this.grid.primaryKey;return{rowID:e?this.row?.data[e]:this.row?.data,columnID:this.column.index,rowIndex:this._rowIndex||this.row?.index}}get editMode(){return this.isCellInEditMode()}set editMode(e){let t=this.isCellInEditMode();!this.row||this.row?.deleted||t===e||(this.editable&&e?(this.endEdit(),this.grid.crudService.enterEditMode(this)):this.grid.crudService.endCellEdit(),this.grid.notifyChanges())}get selected(){return this.grid.selectionService.selected(this.selectionNode)}set selected(e){let t=this.selectionNode;e?this.grid.selectionService.add(t):this.grid.selectionService.remove(t),this.grid.notifyChanges()}get active(){let e=this.grid.navigation.activeNode;return!!e&&e.row===this.row?.index&&e.column===this.column.visibleIndex}update(e){if(this.row?.deleted)return;this.endEdit();let t=this.isCellInEditMode()?this.grid.crudService.cell:this.grid.crudService.createCell(this);t.editValue=e,this.grid.gridAPI.update_cell(t),this.grid.crudService.endCellEdit(),this.grid.notifyChanges()}get selectionNode(){return{row:this.row?.index,column:this.column.columnLayoutChild?this.column.parent.visibleIndex:this.column.visibleIndex,layout:this.column.columnLayoutChild?{rowStart:this.column.rowStart,colStart:this.column.colStart,rowEnd:this.column.rowEnd,colEnd:this.column.colEnd,columnVisibleIndex:this.column.visibleIndex}:null}}isCellInEditMode(){if(this.grid.crudService.cellInEditMode){let e=this.grid.crudService.cell.id;return e.rowID===this.id.rowID&&e.rowIndex===this.id.rowIndex&&e.columnID===this.id.columnID}return!1}endEdit(){this.isCellInEditMode()||(this.grid.gridAPI.update_cell(this.grid.crudService.cell),this.grid.crudService.endCellEdit())}},UH=(()=>{class e{set field(e){this._field=e,this.hasNestedPath=e?.includes(".")}get field(){return this._field}get selectable(){return this._selectable}set selectable(e){this._selectable=e}get groupable(){return this._groupable}set groupable(e){this._groupable=e,this.grid.groupablePipeTrigger++}get editable(){let e=this.grid&&this.grid.rowEditable,t=this.grid&&this.grid.transactions.enabled;return(!this.isPrimaryColumn||!e&&!t)&&(void 0!==this._editable?this._editable:e)}set editable(e){this._editable=e}get hasSummary(){return this._hasSummary}set hasSummary(e){this._hasSummary=e,this.grid&&this.grid.summaryService.resetSummaryHeight()}get hidden(){return this._hidden}set hidden(e){if(this._hidden!==e){if(this._hidden=e,this.hiddenChange.emit(this._hidden),this.columnLayoutChild&&this.parent.hidden!==e)return void(this.parent.hidden=e);this.grid&&(this.grid.crudService.endEdit(!1),this.grid.summaryService.resetSummaryHeight(),this.grid.filteringService.refreshExpressions(),this.grid.filteringService.hideFilteringRowOnColumnVisibilityChange(this),this.grid.notifyChanges())}}get selected(){return this.grid.selectionService.isColumnSelected(this.field)}set selected(e){this.selectable&&e!==this.selected&&(e?this.grid.selectionService.selectColumnsWithNoEvent([this.field]):this.grid.selectionService.deselectColumnsWithNoEvent([this.field]),this.grid.notifyChanges())}get width(){return this._width&&"string"==typeof this._width&&"auto"===this._width?this.autoSize?this.autoSize+"px":"fit-content":this.widthSetByUser?this._width:this.defaultWidth}set width(e){e&&(this._calcWidth=null,this.calcPixelWidth=NaN,this.widthSetByUser=!0,("number"==typeof e||e.match(/^[0-9]*$/))&&(e+="px"),"fit-content"===e&&(e="auto"),this._width=e,this.grid&&this.cacheCalcWidth(),this.widthChange.emit(this._width))}set maxWidth(e){this._maxWidth=e,this.grid.notifyChanges(!0)}get maxWidth(){return this._maxWidth}get calcWidth(){return this.getCalcWidth()}get maxWidthPx(){let e=this.grid.calcWidth;return this.maxWidth&&"string"==typeof this.maxWidth&&-1!==this.maxWidth.indexOf("%")?parseFloat(this.maxWidth)/100*e:parseFloat(this.maxWidth)}get maxWidthPercent(){let e=this.grid.calcWidth;return this.maxWidth&&"string"==typeof this.maxWidth&&-1!==this.maxWidth.indexOf("%")?parseFloat(this.maxWidth):parseFloat(this.maxWidth)/e*100}get minWidthPx(){let e=this.grid.calcWidth;return this.minWidth&&"string"==typeof this.minWidth&&-1!==this.minWidth.indexOf("%")?parseFloat(this.minWidth)/100*e:parseFloat(this.minWidth)}get userSetMinWidthPx(){let e=this.grid.calcWidth;return this._defaultMinWidth&&"string"==typeof this._defaultMinWidth&&-1!==this._defaultMinWidth.indexOf("%")?parseFloat(this._defaultMinWidth)/100*e:parseFloat(this._defaultMinWidth)}get minWidthPercent(){let e=this.grid.calcWidth;return this.minWidth&&"string"==typeof this.minWidth&&-1!==this.minWidth.indexOf("%")?parseFloat(this.minWidth):parseFloat(this.minWidth)/e*100}set minWidth(e){let t=parseFloat(e);Number.isNaN(t)||(this._defaultMinWidth=e,this.grid.notifyChanges(!0))}get minWidth(){return this._defaultMinWidth?this._defaultMinWidth:this.defaultMinWidth}get resolvedWidth(){return this.columnLayoutChild?"":this._width&&"string"==typeof this._width&&"auto"===this._width?this.width:this.calcPixelWidth+"px"}get index(){return this.grid._columns.indexOf(this)}get pinned(){return this._pinned}set pinned(e){if(this._pinned!==e){let t=this.width&&"string"==typeof this.width&&"fit-content"===this.width;if(this.grid&&this.width&&(t||!isNaN(parseInt(this.width,10))))return void(e?this.pin():this.unpin());this._pinned=e,this.pinnedChange.emit(this._pinned)}}get summaries(){return this._summaries}set summaries(e){(e=>"function"==typeof e&&!!e.prototype&&!!e.prototype.constructor)(e)&&(this._summaries=new e),this.grid&&(this.grid.summaryService.removeSummariesCachePerColumn(this.field),this.grid.summaryPipeTrigger++,this.grid.summaryService.resetSummaryHeight())}get disabledSummaries(){return this._disabledSummaries}set disabledSummaries(e){CC(this._disabledSummaries,e)||(this._disabledSummaries=e,this.grid&&(this.grid.summaryService.removeSummariesCachePerColumn(this.field),this.grid.summaryPipeTrigger++,this.grid.summaryService.resetSummaryHeight()))}get filters(){return this._filters}set filters(e){this._filters=e}get sortStrategy(){return this._sortStrategy}set sortStrategy(e){this._sortStrategy=e}get groupingComparer(){return this._groupingComparer}set groupingComparer(e){this._groupingComparer=e}get defaultMinWidth(){if(!this.grid)return"80";switch(this.grid.gridSize){case vb:return"64";case fb:return"56";default:return"80"}}get summaryTemplate(){return this._summaryTemplate}set summaryTemplate(e){this._summaryTemplate=e}get bodyTemplate(){return this._bodyTemplate}set bodyTemplate(e){this._bodyTemplate=e}get headerTemplate(){return this._headerTemplate}set headerTemplate(e){this._headerTemplate=e}get inlineEditorTemplate(){return this._inlineEditorTemplate}set inlineEditorTemplate(e){this._inlineEditorTemplate=e}get errorTemplate(){return this._errorTemplate}set errorTemplate(e){this._errorTemplate=e}get filterCellTemplate(){return this._filterCellTemplate}set filterCellTemplate(e){this._filterCellTemplate=e}get cells(){return this.grid.dataView.map(((e,t)=>{if(!this.grid.isGroupByRecord(e)&&!this.grid.isSummaryRow(e))return"remote"===this.grid.pagingMode&&0!==this.grid.page?t+=this.grid.perPage*this.grid.page:t=this.grid.dataRowList.first.index+t,new jH(this.grid,t,this)})).filter((e=>e))}get _cells(){return this.grid.rowList.filter((e=>e instanceof aP)).map((e=>{if(e._cells)return e._cells.filter((e=>e.columnIndex===this.index))})).reduce(((e,t)=>e.concat(t)),[])}get visibleIndex(){if(!isNaN(this._vIndex))return this._vIndex;let e=this.grid.unpinnedColumns.filter((e=>!e.columnGroup)),t=this.grid.pinnedColumns.filter((e=>!e.columnGroup)),i=this,n=-1;if(this.columnGroup&&(i=this.allChildren.filter((e=>!e.columnGroup&&!e.hidden))[0]),this.columnLayoutChild)return this.parent.childrenVisibleIndexes.find((e=>e.column===this)).index;if(this.pinned){let r=t.indexOf(i);n=this.grid.isPinningToStart?r:e.length+r}else{let r=e.indexOf(i);n=-1===r?-1:this.grid.isPinningToStart?t.length+r:r}return this._vIndex=n,n}get columnGroup(){return!1}get columnLayout(){return!1}get columnLayoutChild(){return this.parent&&this.parent.columnLayout}get childColumns(){return[]}get allChildren(){return[]}get level(){let e=this.parent,t=0;for(;e;)t++,e=e.parent;return t}get isLastPinned(){return this.grid.isPinningToStart&&this.grid.pinnedColumns[this.grid.pinnedColumns.length-1]===this}get isFirstPinned(){let e=this.grid.pinnedColumns.filter((e=>!e.columnGroup));return!this.grid.isPinningToStart&&e[0]===this}get rightPinnedOffset(){return this.pinned&&!this.grid.isPinningToStart?-this.grid.pinnedWidth-this.grid.headerFeaturesWidth+"px":null}get gridRowSpan(){return this.rowEnd&&this.rowStart?this.rowEnd-this.rowStart:1}get gridColumnSpan(){return this.colEnd&&this.colStart?this.colEnd-this.colStart:1}set visibleWhenCollapsed(e){this._visibleWhenCollapsed=e,this.visibleWhenCollapsedChange.emit(this._visibleWhenCollapsed),this.parent&&this.parent?.setExpandCollapseState?.()}get visibleWhenCollapsed(){return this._visibleWhenCollapsed}set pipeArgs(e){this._columnPipeArgs=Object.assign(this._columnPipeArgs,e),this.grid.summaryService.clearSummaryCache(),this.grid.pipeTrigger++}get pipeArgs(){return this._columnPipeArgs}set editorOptions(e){this._editorOptions=e}get editorOptions(){return this._editorOptions}get collapsible(){return!1}set collapsible(e){}get expanded(){return!0}set expanded(e){}get filteringExpressionsTree(){return BS.find(this.grid.filteringExpressionsTree,this.field)}get isPrimaryColumn(){return void 0!==this.field&&void 0!==this.grid&&this.field===this.grid.primaryKey}constructor(e,t,i,n){this.grid=e,this._validators=t,this.cdr=i,this.platform=n,this.validators=[],this.header="",this.title="",this.sortable=!1,this.filterable=!0,this.resizable=!1,this.autosizeHeader=!0,this.hiddenChange=new wl,this.expandedChange=new wl,this.collapsibleChange=new wl,this.visibleWhenCollapsedChange=new wl,this.columnChange=new wl,this.disableHiding=!1,this.disablePinning=!1,this.headerClasses="",this.headerStyles=null,this.headerGroupClasses="",this.headerGroupStyles=null,this.cellStyles=null,this.filteringIgnoreCase=!0,this.sortingIgnoreCase=!0,this.searchable=!0,this.dataType=bS.String,this.widthChange=new wl,this.pinnedChange=new wl,this.defaultTimeFormat="hh:mm:ss a",this.defaultDateTimeFormat="dd/MM/yyyy HH:mm:ss a",this.parent=null,this.destroy$=new Ci,this.widthConstrained=!1,this._applySelectableClass=!1,this._vIndex=NaN,this._pinned=!1,this._summaries=null,this._disabledSummaries=[],this._filters=null,this._sortStrategy=hS.instance(),this._hidden=!1,this._disablePinning=!1,this._defaultMinWidth="",this._hasSummary=!1,this._groupable=!1,this._collapsible=!1,this._expanded=!0,this._selectable=!0,this._calcWidth=null,this._columnPipeArgs={digitsInfo:"1.0-3"},this._editorOptions={},this.validators=t}resetCaches(){this._vIndex=NaN,this.grid&&this.cacheCalcWidth()}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}ngAfterContentInit(){if(this.summaryTemplateDirective&&(this._summaryTemplate=this.summaryTemplateDirective.template),this.cellTemplate&&(this._bodyTemplate=this.cellTemplate.template),this.cellValidationErrorTemplate&&(this._errorTemplate=this.cellValidationErrorTemplate.template),this.headTemplate&&this.headTemplate.length&&(this._headerTemplate=this.headTemplate.toArray()[0].template),this.editorTemplate&&(this._inlineEditorTemplate=this.editorTemplate.template),this.filterCellTemplateDirective&&(this._filterCellTemplate=this.filterCellTemplateDirective.template),this._columnPipeArgs.format||(this._columnPipeArgs.format=this.dataType===bS.Time?"mediumTime":this.dataType===bS.DateTime?"medium":"mediumDate"),!this.summaries)switch(this.dataType){case bS.Number:case bS.Currency:case bS.Percent:this.summaries=jF;break;case bS.Date:case bS.DateTime:this.summaries=UF;break;case bS.Time:this.summaries=qF;break;case bS.String:case bS.Boolean:default:this.summaries=KF}if(!this.filters)switch(this.dataType){case bS.Boolean:this.filters=PS.instance();break;case bS.Number:case bS.Currency:case bS.Percent:this.filters=HS.instance();break;case bS.Date:this.filters=MS.instance();break;case bS.Time:this.filters=NS.instance();break;case bS.DateTime:this.filters=LS.instance();break;case bS.Image:this.filterable=!1;break;case bS.String:default:this.filters=zS.instance()}}getGridTemplate(e){return e?`repeat(${"pivot"!==this.grid.type?this.grid.multiRowLayoutRowSize:this.children.length-1},1fr)`:this.getColumnSizesString(this.children)}getInitialChildColumnSizes(e){let t=[];e.forEach((e=>{if(!e.colStart)return;let i=e.widthSetByUser&&t[e.colStart-1]&&!t[e.colStart-1].widthSetByUser,n=t[e.colStart-1]&&t[e.colStart-1].colSpan>e.gridColumnSpan,r=e.widthSetByUser&&t[e.colStart-1]&&t[e.colStart-1].widthSetByUser,s=!e.widthSetByUser&&t[e.colStart-1]&&!t[e.colStart-1].widthSetByUser;if(void 0===t[e.colStart-1])t[e.colStart-1]={ref:e,width:"fit-content"===e.width?e.autoSize:e.widthSetByUser||this.grid.columnWidthSetByUser?parseFloat(e.calcWidth):null,colSpan:e.gridColumnSpan,colEnd:e.colStart+e.gridColumnSpan,widthSetByUser:e.widthSetByUser};else if(i||n&&(r||s)){if(r&&n)for(let i=e.colStart-1+e.gridColumnSpan;i<t[e.colStart-1].colEnd-1&&(!t[i]||!t[i].widthSetByUser);i++)t[i]=t[e.colStart-1];t[e.colStart-1]={ref:e,width:"fit-content"===e.width?e.autoSize:e.widthSetByUser||this.grid.columnWidthSetByUser?parseFloat(e.calcWidth):null,colSpan:e.gridColumnSpan,colEnd:e.colStart+e.gridColumnSpan,widthSetByUser:e.widthSetByUser}}else if(r&&t[e.colStart-1].colSpan<e.gridColumnSpan)for(let i=e.colStart-1+t[e.colStart-1].colSpan;i<e.colStart-1+e.gridColumnSpan&&(!t[i]||!t[i].widthSetByUser);i++)t[i]={ref:e,width:"fit-content"===e.width?e.autoSize:e.widthSetByUser||this.grid.columnWidthSetByUser?parseFloat(e.calcWidth):null,colSpan:e.gridColumnSpan,colEnd:e.colStart+e.gridColumnSpan,widthSetByUser:e.widthSetByUser}}));for(let e=0;e<t.length;e++)if(t[e]&&t[e].colSpan>1){let i=1;for(;i<t[e].colSpan&&e+i+1<t[e].colEnd&&(!t[e+i]||!(!t[e].width&&t[e+i].width||!t[e].width&&!t[e+i].width&&t[e+i].colSpan<=t[e].colSpan||t[e+i].width&&t[e+i].colSpan<=t[e].colSpan));i++){let n=t[e].widthSetByUser?t[e].width/t[e].colSpan:t[e].width;t[e+i]={ref:t[e].ref,width:n,colSpan:1,colEnd:t[e].colEnd,widthSetByUser:t[e].widthSetByUser}}t[e].width=t[e].widthSetByUser?t[e].width/t[e].colSpan:t[e].width,t[e].colSpan=1,e+=i-1}return t}getFilledChildColumnSizes(e){let t=this.getInitialChildColumnSizes(e),i=[];for(let e of t)if(e&&e.width)i.push(e.width+"px");else{let e=parseFloat(this.grid.getPossibleColumnWidth());i.push(this.getConstrainedSizePx(e)+"px")}return i}getResizableColUnderEnd(){if(this.columnLayout||!this.columnLayoutChild||this.columnGroup)return[{target:this,spanUsed:1}];let e=this.getInitialChildColumnSizes(this.parent.children),t=[],i=this.colEnd?this.colEnd:this.colStart+1;for(let n=0;n<e.length;n++)this.colStart<=n+1&&n+1<i&&t.push({target:e[n].ref,spanUsed:1});let n=[];for(let e of t)n.length&&n[n.length-1].target.field===e.target.field?n[n.length-1].spanUsed++:n.push(e);return n}pin(e){let t=this.grid;if(this._pinned)return!1;if(this.parent&&!this.parent.pinned)return this.topLevelParent.pin(e);let i=void 0!==e;if(i&&(e<0||e>t.pinnedColumns.length)||!this.parent&&!this.pinnable)return!1;let n=t._pinnedColumns.filter((e=>0===e.level)),r={column:this,insertAtIndex:e=i?e:n.length,isPinned:!1,cancel:!1};if(this.grid.columnPin.emit(r),r.cancel)return;this.grid.crudService.endEdit(!1),this._pinned=!0,this.pinnedChange.emit(this._pinned);let s=r.insertAtIndex===t._pinnedColumns.length?t._pinnedColumns[r.insertAtIndex-1]:t._pinnedColumns[r.insertAtIndex];if(-1===t._pinnedColumns.indexOf(this)){if(t.hasColumnGroups){0===this.level&&n.splice(r.insertAtIndex,0,this);let e=[];n.forEach((t=>{e.push(t),e=e.concat(t.allChildren)})),t._pinnedColumns=e}else t._pinnedColumns.splice(r.insertAtIndex,0,this);if(-1!==t._unpinnedColumns.indexOf(this)){let e=this.allChildren.length;t._unpinnedColumns.splice(t._unpinnedColumns.indexOf(this),1+e)}}i&&(e===t._pinnedColumns.length-1?t._moveColumns(this,s,WH.AfterDropTarget):t._moveColumns(this,s,WH.BeforeDropTarget)),this.columnGroup&&(this.allChildren.forEach((e=>e.pin())),t.reinitPinStates()),t.resetCaches(),t.notifyChanges(),this.columnLayoutChild&&this.grid.columns.filter((e=>e.columnLayout)).forEach((e=>e.populateVisibleIndexes())),this.grid.filteringService.refreshExpressions();let o={column:this,insertAtIndex:e,isPinned:!0};return this.grid.columnPinned.emit(o),!0}unpin(e){let t=this.grid;if(!this._pinned)return!1;if(this.parent&&this.parent.pinned)return this.topLevelParent.unpin(e);let i=void 0!==e;if(i&&(e<0||e>t._unpinnedColumns.length))return!1;if(!i){let i=t._unpinnedColumns.map((e=>e.index));i.push(this.index),i.sort(((e,t)=>e-t)),e=i.indexOf(this.index)}let n={column:this,insertAtIndex:e,isPinned:!0,cancel:!1};if(this.grid.columnPin.emit(n),n.cancel)return;this.grid.crudService.endEdit(!1),this._pinned=!1,this.pinnedChange.emit(this._pinned);let r=n.insertAtIndex===t._unpinnedColumns.length?t._unpinnedColumns[n.insertAtIndex-1]:t._unpinnedColumns[n.insertAtIndex];return i||(t._unpinnedColumns.splice(e,0,this),-1!==t._pinnedColumns.indexOf(this)&&t._pinnedColumns.splice(t._pinnedColumns.indexOf(this),1)),i&&t.moveColumn(this,r),this.columnGroup&&this.allChildren.forEach((e=>e.unpin())),t.reinitPinStates(),t.resetCaches(),t.notifyChanges(),this.columnLayoutChild&&this.grid.columns.filter((e=>e.columnLayout)).forEach((e=>e.populateVisibleIndexes())),this.grid.filteringService.refreshExpressions(),this.grid.columnPinned.emit({column:this,insertAtIndex:e,isPinned:!1}),!0}move(e){let t,i=this.grid.columns.filter((e=>e.visibleIndex>-1)),n=i.map((e=>e.visibleIndex)).reduce(((e,t)=>Math.max(e,t))),r=this.parent,s=this.visibleIndex<e;if(e===this.visibleIndex||e<0||e>n||(r&&(i=i.filter((e=>e.level>=this.level&&e!==this&&e.parent!==this&&e.topLevelParent===this.topLevelParent))),s?(i=i.filter((e=>e.visibleIndex>this.visibleIndex)),t=i.find((t=>t.level===this.level&&t.visibleIndex+t.calcChildren()-this.calcChildren()===e))):(i=i.filter((e=>e.visibleIndex<this.visibleIndex)),t=i.find((t=>t.level===this.level&&t.visibleIndex===e))),!t||t.pinned&&this.disablePinning))return;let o=s?WH.AfterDropTarget:WH.BeforeDropTarget;this.grid.moveColumn(this,t,o)}calcChildren(){return this.hidden?0:1}toggleVisibility(e){let t=e??!this.hidden,i={column:this,newValue:t,cancel:!1};this.grid.columnVisibilityChanging.emit(i),!i.cancel&&(this.hidden=t,this.grid.columnVisibilityChanged.emit({column:this,newValue:t}))}get topLevelParent(){let e=this.parent;for(;e&&e.parent;)e=e.parent;return e??void 0}get headerCell(){return this.grid.headerCellList.find((e=>e.column===this))}get filterCell(){return this.grid.filterCellList.find((e=>e.column===this))}get headerGroup(){return this.grid.headerGroupsList.find((e=>e.column===this))}autosize(e=!1){this.columnGroup||(this.width=this.getAutoSize(e),this.grid.reflow())}getAutoSize(e=!1){let t,i=e?Object.values(this.getHeaderCellWidths()).reduce(((e,t)=>e+t))+"px":this.getLargestCellWidth(),n=this.width&&"string"==typeof this.width&&-1!==this.width.indexOf("%");if(n){let e=this.grid.calcWidth;t=parseFloat(i)/e*100+"%"}else t=i;let r=n?this.maxWidthPercent:this.maxWidthPx,s=n?this.minWidthPercent:this.minWidthPx;return this.maxWidth&&parseFloat(t)>r?t=n?r+"%":r+"px":parseFloat(t)<s&&(t=n?s+"%":s+"px"),t}getCalcWidth(){return this._calcWidth&&!isNaN(this.calcPixelWidth)||this.cacheCalcWidth(),this._calcWidth}getHeaderCellWidths(){return this.grid.getHeaderCellWidth(this.headerCell.nativeElement)}getLargestCellWidth(){let e=this.grid.document.createRange(),t=new Map;if(this._cells.length>0){let i=[];this._cells.forEach((t=>i.push(t.calculateSizeToFit(e))));let n=i.indexOf(Math.max(...i)),r=this.grid.document.defaultView.getComputedStyle(this._cells[n].nativeElement),s=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth);t.set(Math.max(...i),s)}if(this.headerCell&&this.autosizeHeader){let e=this.getHeaderCellWidths();t.set(e.width,e.padding)}let i=Math.max(...Array.from(t.keys())),n=Math.ceil(i+t.get(i));return Number.isNaN(n)?this.width:n+"px"}getCellWidth(){let e=this.width,t=e&&"string"==typeof e&&-1!==e.indexOf("%");if(this.columnLayoutChild)return"";if(e&&!t){let t=e;return("string"!=typeof t||!1===t.endsWith("px"))&&(t+="px"),t}return e}populateVisibleIndexes(){}getColumnSizesString(e){return this.getFilledChildColumnSizes(e).join(" ")}getConstrainedSizePx(e){return this.maxWidth&&e>this.maxWidthPx?(this.widthConstrained=!0,this.maxWidthPx):this.minWidth&&e<this.userSetMinWidthPx?(this.widthConstrained=!0,this.userSetMinWidthPx):(this.widthConstrained=!1,e)}cacheCalcWidth(){let e=this.width,t=e&&"string"==typeof e&&-1!==e.indexOf("%"),i=e&&"string"==typeof e&&"fit-content"===e;if(t&&this.grid.isColumnWidthSum)this._calcWidth=this.userSetMinWidthPx?this.userSetMinWidthPx:this.grid.minColumnWidth;else if(t){let t=parseFloat(e)/100*this.grid.calcWidth;this._calcWidth=this.grid.calcWidth?this.getConstrainedSizePx(t):0}else if(!e||i&&!this.autoSize){let e=this.defaultWidth||this.grid.getPossibleColumnWidth();this._calcWidth=this.getConstrainedSizePx(e)}else{let e=parseFloat(this.width);this._calcWidth=this.getConstrainedSizePx(e)}this.calcPixelWidth=parseFloat(this._calcWidth)}setExpandCollapseState(){this.children.filter((e=>void 0!==e.visibleWhenCollapsed)).forEach((e=>{this.collapsible?e.hidden=this._expanded?e.visibleWhenCollapsed:!e.visibleWhenCollapsed:e.hidden=this.hidden}))}checkCollapsibleState(){if(!this.children)return!1;let e=this.children.map((e=>e.visibleWhenCollapsed));return e.some((e=>!0===e))&&e.some((e=>!1===e))}get pinnable(){return this.grid._init||!this.pinned}get applySelectableClass(){return this._applySelectableClass}set applySelectableClass(e){this.selectable&&(this._applySelectableClass=e)}static{this.ɵfac=function(t){return new(t||e)(lu(zF),lu(wy,10),lu(Cf),lu(NC))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-column"]],contentQueries:function(e,t,i){if(1&e&&(gm(i,LH,5,LH),gm(i,$H,5,$H),gm(i,NH,5,NH),gm(i,HH,5,HH),gm(i,BH,5,BH),gm(i,GH,5,GH),gm(i,zH,4,zH)),2&e){let e;mm(e=fm())&&(t.filterCellTemplateDirective=e.first),mm(e=fm())&&(t.summaryTemplateDirective=e.first),mm(e=fm())&&(t.cellTemplate=e.first),mm(e=fm())&&(t.cellValidationErrorTemplate=e.first),mm(e=fm())&&(t.editorTemplate=e.first),mm(e=fm())&&(t.collapseIndicatorTemplate=e.first),mm(e=fm())&&(t.headTemplate=e)}},inputs:{field:"field",header:"header",title:"title",sortable:[2,"sortable","sortable",Hf],selectable:"selectable",groupable:[2,"groupable","groupable",Hf],editable:[2,"editable","editable",Hf],filterable:[2,"filterable","filterable",Hf],resizable:[2,"resizable","resizable",Hf],autosizeHeader:[2,"autosizeHeader","autosizeHeader",Hf],hasSummary:[2,"hasSummary","hasSummary",Hf],hidden:[2,"hidden","hidden",Hf],disableHiding:[2,"disableHiding","disableHiding",Hf],disablePinning:[2,"disablePinning","disablePinning",Hf],width:"width",maxWidth:"maxWidth",headerClasses:"headerClasses",headerStyles:"headerStyles",headerGroupClasses:"headerGroupClasses",headerGroupStyles:"headerGroupStyles",cellClasses:"cellClasses",cellStyles:"cellStyles",formatter:"formatter",summaryFormatter:"summaryFormatter",filteringIgnoreCase:[2,"filteringIgnoreCase","filteringIgnoreCase",Hf],sortingIgnoreCase:[2,"sortingIgnoreCase","sortingIgnoreCase",Hf],searchable:[2,"searchable","searchable",Hf],dataType:"dataType",collapsibleIndicatorTemplate:"collapsibleIndicatorTemplate",rowEnd:"rowEnd",colEnd:"colEnd",rowStart:"rowStart",colStart:"colStart",additionalTemplateContext:"additionalTemplateContext",minWidth:"minWidth",pinned:[2,"pinned","pinned",Hf],summaries:"summaries",disabledSummaries:"disabledSummaries",filters:"filters",sortStrategy:"sortStrategy",groupingComparer:"groupingComparer",summaryTemplate:"summaryTemplate",bodyTemplate:[0,"cellTemplate","bodyTemplate"],headerTemplate:"headerTemplate",inlineEditorTemplate:[0,"cellEditorTemplate","inlineEditorTemplate"],errorTemplate:"errorTemplate",filterCellTemplate:"filterCellTemplate",visibleWhenCollapsed:[2,"visibleWhenCollapsed","visibleWhenCollapsed",Hf],pipeArgs:"pipeArgs",editorOptions:"editorOptions"},outputs:{hiddenChange:"hiddenChange",expandedChange:"expandedChange",collapsibleChange:"collapsibleChange",visibleWhenCollapsedChange:"visibleWhenCollapsedChange",columnChange:"columnChange",widthChange:"widthChange",pinnedChange:"pinnedChange"},decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0})}}return Hi([MH(),VH()],e.prototype,"header",void 0),Hi([MH(),VH()],e.prototype,"title",void 0),Hi([VH()],e.prototype,"sortable",void 0),Hi([VH()],e.prototype,"selectable",null),Hi([MH(!0),VH()],e.prototype,"groupable",null),Hi([VH()],e.prototype,"editable",null),Hi([MH(),VH()],e.prototype,"filterable",void 0),Hi([VH()],e.prototype,"resizable",void 0),Hi([VH()],e.prototype,"autosizeHeader",void 0),Hi([MH(!0),VH()],e.prototype,"hasSummary",null),Hi([MH(!0),VH()],e.prototype,"hidden",null),Hi([MH(),VH()],e.prototype,"disableHiding",void 0),Hi([MH(),VH()],e.prototype,"disablePinning",void 0),Hi([MH(!0),VH()],e.prototype,"width",null),Hi([VH()],e.prototype,"maxWidth",null),Hi([MH(),VH()],e.prototype,"headerClasses",void 0),Hi([MH(),VH()],e.prototype,"headerStyles",void 0),Hi([MH(),VH()],e.prototype,"headerGroupClasses",void 0),Hi([MH(),VH()],e.prototype,"headerGroupStyles",void 0),Hi([MH(),VH()],e.prototype,"cellClasses",void 0),Hi([MH(),VH()],e.prototype,"cellStyles",void 0),Hi([MH(),VH()],e.prototype,"formatter",void 0),Hi([MH(),VH()],e.prototype,"summaryFormatter",void 0),Hi([VH()],e.prototype,"filteringIgnoreCase",void 0),Hi([VH()],e.prototype,"sortingIgnoreCase",void 0),Hi([MH(),VH()],e.prototype,"searchable",void 0),Hi([MH(),VH()],e.prototype,"minWidth",null),Hi([VH()],e.prototype,"pinned",null),Hi([MH(!0),VH()],e.prototype,"summaries",null),Hi([VH()],e.prototype,"disabledSummaries",null),Hi([MH(),VH()],e.prototype,"summaryTemplate",null),Hi([MH(),VH()],e.prototype,"bodyTemplate",null),Hi([MH(),VH()],e.prototype,"headerTemplate",null),Hi([MH(),VH()],e.prototype,"inlineEditorTemplate",null),Hi([MH(),VH()],e.prototype,"errorTemplate",null),Hi([MH(),VH()],e.prototype,"filterCellTemplate",null),Hi([MH(!0)],e.prototype,"visibleWhenCollapsed",null),Hi([MH(),VH()],e.prototype,"pipeArgs",null),Hi([MH(),VH()],e.prototype,"editorOptions",null),e})(),qH=[[["igx-column"],["igc-column"],["igx-column-group"],["igc-column-group"]]],YH=["igx-column,igc-column,igx-column-group,igc-column-group"];function ZH(e,t){1&e&&(Lp(0,"div",1,0),dm(2),Np())}var XH=(()=>{class e extends UH{constructor(){super(...arguments),this.children=new jl,this.searchable=!0}set collapsible(e){this._collapsible=e,this.collapsibleChange.emit(this._collapsible),this.children&&!this.hidden&&(this._collapsible?this.setExpandCollapseState():this.children.forEach((e=>e.hidden=!1)))}get collapsible(){return this._collapsible&&this.checkCollapsibleState()}set expanded(e){this._expanded=e,this.expandedChange.emit(this._expanded),this.collapsible&&!this.hidden&&this.children&&this.setExpandCollapseState()}get expanded(){return this._expanded}get summaries(){return this._summaries}set summaries(e){}get filters(){return this._filters}set filters(e){}get selectable(){return this.children&&this.children.some((e=>e.selectable))}set selectable(e){}get bodyTemplate(){return this._bodyTemplate}set bodyTemplate(e){}get inlineEditorTemplate(){return this._inlineEditorTemplate}set inlineEditorTemplate(e){}get cells(){return[]}get hidden(){return this.allChildren.every((e=>e.hidden))}set hidden(e){this._hidden=e,this.hiddenChange.emit(this._hidden),this._hidden||!this.collapsible?this.children.forEach((e=>e.hidden=this._hidden)):this.children.forEach((e=>{void 0!==e.visibleWhenCollapsed?e.hidden=this.expanded?e.visibleWhenCollapsed:!e.visibleWhenCollapsed:e.hidden=!1}))}get selected(){let e=this.allChildren.filter((e=>!e.columnGroup&&e.selectable&&!e.hidden));return e.length>0&&e.every((e=>e.selected))}set selected(e){this.selectable&&this.children.forEach((t=>{t.selected=e}))}ngAfterContentInit(){this.headTemplate&&this.headTemplate.length&&(this._headerTemplate=this.headTemplate.toArray()[0].template),this.collapseIndicatorTemplate&&(this.collapsibleIndicatorTemplate=this.collapseIndicatorTemplate.template),this.children.first===this&&this.children.reset(this.children.toArray().slice(1)),this.children.forEach((e=>{e.parent=this,this.pinned&&(e.pinned=this.pinned),this._hidden&&(e.hidden=this._hidden)})),this.collapsible&&this.setExpandCollapseState(),this.children.changes.pipe(Nn(this.destroy$)).subscribe((e=>{let t=!1;e.forEach((e=>{e.parent=this,this.pinned&&e.pinned!==this.pinned&&(t=!0,e.pinned=this.pinned)})),this.collapsible&&this.setExpandCollapseState(),t&&this.grid.initPinning()}))}get childColumns(){return this.children.toArray()}get allChildren(){return HC(this.children.toArray())}get columnGroup(){return!0}get columnLayout(){return!1}get width(){return`${this.children.reduce(((e,t)=>t.hidden?e:e+parseFloat(t.calcWidth)),0)}px`}set width(e){}get resolvedWidth(){return this.width}get applySelectableClass(){return this._applySelectableClass}set applySelectableClass(e){this.selectable&&(this._applySelectableClass=e,this.children.forEach((t=>{t.applySelectableClass=e})))}calcChildren(){let e=this.allChildren.filter((e=>e.visibleIndex>-1)),t=e[0].visibleIndex;return e[e.length-1].visibleIndex-t+1}static{this.ɵfac=(()=>{let t;return function(i){return(t||(t=ol(e)))(i||e)}})()}static{this.ɵcmp=Qu({type:e,selectors:[["igx-column-group"]],contentQueries:function(e,t,i){if(1&e&&gm(i,UH,4,UH),2&e){let e;mm(e=fm())&&(t.children=e)}},inputs:{collapsible:[2,"collapsible","collapsible",Hf],expanded:[2,"expanded","expanded",Hf],summaries:"summaries",searchable:[2,"searchable","searchable",Hf],filters:"filters",collapsibleIndicatorTemplate:"collapsibleIndicatorTemplate",hidden:[2,"hidden","hidden",Hf]},features:[Pm([{provide:UH,useExisting:Jn((()=>e))}]),dg],ngContentSelectors:YH,decls:1,vars:1,consts:[["sink",""],[2,"display","none"]],template:function(e,t){1&e&&(lm(qH),bg(0,ZH,3,0,"div",1)),2&e&&Ip(t.platform.isElements?0:-1)},encapsulation:2,changeDetection:0})}}return e})(),QH=[[["igx-column"],["igc-column"]]],JH=["igx-column,igc-column"];function ez(e,t){1&e&&(Lp(0,"div",1,0),dm(2),Np())}var tz=(()=>{class e extends XH{constructor(){super(...arguments),this.childrenVisibleIndexes=[]}get width(){return this.getFilledChildColumnSizes(this.children).reduce(((e,t)=>e+parseFloat(t)),0)}set width(e){}get columnLayout(){return!0}getCalcWidth(){let e=0;if(this.headerGroup&&this.headerGroup.hasLastPinnedChildColumn){let t=this.grid.document.defaultView.getComputedStyle(this.headerGroup.nativeElement.children[0]);e=parseFloat(t.borderRightWidth)}return super.getCalcWidth()+e}get visibleIndex(){if(!isNaN(this._vIndex))return this._vIndex;let e=this.grid.unpinnedColumns.filter((e=>e.columnLayout&&!e.hidden)),t=this.grid.pinnedColumns.filter((e=>e.columnLayout&&!e.hidden)),i=-1;if(this.pinned)i=t.indexOf(this);else{let n=e.indexOf(this);i=-1===n?-1:t.length+n}return this._vIndex=i,i}get hidden(){return this._hidden}set hidden(e){if(this._hidden=e,this.children.forEach((t=>t.hidden=e)),this.grid&&this.grid.columns&&this.grid.columns.length>0){let e=this.grid&&this.grid.pinnedColumns&&this.grid.unpinnedColumns?this.grid.pinnedColumns.concat(this.grid.unpinnedColumns):[];!this._hidden&&!e.find((e=>e.field===this.field))&&this.grid.resetColumnCollections(),this.grid.columns.filter((e=>e.columnLayout)).forEach((e=>e.populateVisibleIndexes()))}}ngAfterContentInit(){super.ngAfterContentInit(),this.hidden?this.children.forEach((e=>e.hidden=this.hidden)):this.hidden=this.allChildren.some((e=>e.hidden))}get hasLastPinnedChildColumn(){return this.children.some((e=>e.isLastPinned))}get hasFirstPinnedChildColumn(){return this.children.some((e=>e.isFirstPinned))}populateVisibleIndexes(){this.childrenVisibleIndexes=[];let e=this.grid?.pinnedColumns&&this.grid?.unpinnedColumns?this.grid.pinnedColumns.concat(this.grid.unpinnedColumns):[],t=e.filter((e=>!e.columnGroup&&!e.hidden)).sort(((t,i)=>t.rowStart-i.rowStart||e.indexOf(t.parent)-e.indexOf(i.parent)||t.colStart-i.colStart));this.children.forEach((e=>{let i=e.rowStart||1,n=0;n=t.filter((e=>!e.columnGroup&&(e.rowStart||1)<=i)).indexOf(e),this.childrenVisibleIndexes.push({column:e,index:n})}))}static{this.ɵfac=(()=>{let t;return function(i){return(t||(t=ol(e)))(i||e)}})()}static{this.ɵcmp=Qu({type:e,selectors:[["igx-column-layout"]],inputs:{hidden:[2,"hidden","hidden",Hf]},features:[Pm([{provide:UH,useExisting:Jn((()=>e))}]),dg],ngContentSelectors:JH,decls:1,vars:1,consts:[["sink",""],[2,"display","none"]],template:function(e,t){1&e&&(lm(QH),bg(0,ez,3,0,"div",1)),2&e&&Ip(t.platform.isElements?0:-1)},encapsulation:2,changeDetection:0})}}return e})(),iz={igx_query_builder_date_placeholder:"Select date",igx_query_builder_time_placeholder:"Select time",igx_query_builder_datetime_placeholder:"Select date & time",igx_query_builder_filter_operator_and:"And",igx_query_builder_filter_operator_or:"Or",igx_query_builder_filter_contains:"Contains",igx_query_builder_filter_doesNotContain:"Does Not Contain",igx_query_builder_filter_startsWith:"Starts With",igx_query_builder_filter_endsWith:"Ends With",igx_query_builder_filter_equals:"Equals",igx_query_builder_filter_doesNotEqual:"Does Not Equal",igx_query_builder_filter_empty:"Empty",igx_query_builder_filter_notEmpty:"Not Empty",igx_query_builder_filter_null:"Null",igx_query_builder_filter_notNull:"Not Null",igx_query_builder_filter_in:"In",igx_query_builder_filter_notIn:"Not In",igx_query_builder_filter_before:"Before",igx_query_builder_filter_after:"After",igx_query_builder_filter_at:"At",igx_query_builder_filter_not_at:"Not At",igx_query_builder_filter_at_before:"At or Before",igx_query_builder_filter_at_after:"At or After",igx_query_builder_filter_today:"Today",igx_query_builder_filter_yesterday:"Yesterday",igx_query_builder_filter_thisMonth:"This Month",igx_query_builder_filter_lastMonth:"Last Month",igx_query_builder_filter_nextMonth:"Next Month",igx_query_builder_filter_thisYear:"This Year",igx_query_builder_filter_lastYear:"Last Year",igx_query_builder_filter_nextYear:"Next Year",igx_query_builder_filter_greaterThan:"Greater Than",igx_query_builder_filter_lessThan:"Less Than",igx_query_builder_filter_greaterThanOrEqualTo:"Greater Than Or Equal To",igx_query_builder_filter_lessThanOrEqualTo:"Less Than Or Equal To",igx_query_builder_filter_true:"True",igx_query_builder_filter_false:"False",igx_query_builder_filter_all:"All",igx_query_builder_from_label:"From",igx_query_builder_select_label:"Select",igx_query_builder_where_label:"Where",igx_query_builder_and_group:'"And" Group',igx_query_builder_or_group:'"Or" Group',igx_query_builder_end_group:"End Group",igx_query_builder_and_label:"and",igx_query_builder_or_label:"or",igx_query_builder_switch_group:"Switch to {0}",igx_query_builder_add_condition:"Add condition",igx_query_builder_add_group:"Add group",igx_query_builder_add_condition_root:"Condition",igx_query_builder_add_group_root:"Group",igx_query_builder_ungroup:"Ungroup",igx_query_builder_delete:"Delete",igx_query_builder_delete_filters:"Delete filters",igx_query_builder_initial_text:'Start with creating a group of conditions linked with "And" or "Or"',igx_query_builder_column_placeholder:"Select column",igx_query_builder_condition_placeholder:"Select filter",igx_query_builder_value_placeholder:"Value",igx_query_builder_query_value_placeholder:"Sub-query results",igx_query_builder_all_fields:"All fields",igx_query_builder_details:"Details",igx_query_builder_search:"Search",igx_query_builder_select_all:"Select All",igx_query_builder_select_entity:"Select entity",igx_query_builder_select_return_field_single:"Select return field",igx_query_builder_select_return_fields:"Select return fields",igx_query_builder_dialog_title:"Confirmation",igx_query_builder_dialog_message:"By changing the entity, you will lose your current settings. Are you sure you want to do that?",igx_query_builder_dialog_checkbox_text:"Do not show this dialog again",igx_query_builder_dialog_cancel:"Cancel",igx_query_builder_dialog_confirm:"Confirm",igx_query_builder_drop_ghost_text:"Drop here to insert"},nz=[[["igx-prefix"],["","igxPrefix",""]],"*",[["igx-suffix"],["","igxSuffix",""]]],rz=["igx-prefix, [igxPrefix]","*","igx-suffix, [igxSuffix]"],sz=(()=>{class e extends uF{get text(){return this._text}set text(e){this._text=e}get itemText(){return void 0!==this._text?this._text:this.elementRef.nativeElement.textContent.trim()}get selected(){return!this.isHeader&&!this.disabled&&this.selection.is_item_selected(this.dropDown.id,this)}set selected(e){e&&!this.isHeader&&!this.disabled&&this.dropDown.selectItem(this)}static{this.ɵfac=(()=>{let t;return function(i){return(t||(t=ol(e)))(i||e)}})()}static{this.ɵcmp=Qu({type:e,selectors:[["igx-select-item"]],inputs:{text:"text"},features:[dg],ngContentSelectors:rz,decls:5,vars:0,consts:[[1,"igx-drop-down__content"],[1,"igx-drop-down__inner"]],template:function(e,t){1&e&&(lm(nz),Lp(0,"span",0),dm(1),Lp(2,"span",1),dm(3,1),Np(),dm(4,2),Np())},encapsulation:2})}}return e})(),oz=(()=>{let e=class extends OI{constructor(e,t,i){super(),this.select=e,this.platform=i,this._selectDefaultSettings={horizontalDirection:SI.Right,verticalDirection:bI.Bottom,horizontalStartPoint:SI.Left,verticalStartPoint:bI.Top,openAnimation:rE,closeAnimation:sE},this.global_yOffset=0,this.global_xOffset=0,this.global_styles={},this.settings=Object.assign({},this._selectDefaultSettings,t)}position(e,t,i,n,r){let s=r,o=super.calculateElementRectangles(e,s),a={verticalOffset:this.global_yOffset,horizontalOffset:this.global_xOffset,targetRect:o.targetRect,contentElementRect:o.elementRect,styles:this.global_styles,scrollContainer:this.select.scrollContainer,scrollContainerRect:this.select.scrollContainer.getBoundingClientRect()};n&&(this.select.scrollContainer.scrollTop=0,a.viewPortRect=AI.getViewportRect(i),a.itemElement=this.getInteractionItemElement(),a.itemRect=a.itemElement.getBoundingClientRect(),a.styles=this.calculateStyles(a,s),a.scrollAmount=this.calculateScrollAmount(a),this.calculateYoffset(a),this.calculateXoffset(a),super.updateViewPortFit(a),(a.fitVertical.back<0||a.fitVertical.forward<0)&&this.fitInViewport(e,a),this.select.scrollContainer.scrollTop=a.scrollAmount),this.setStyles(e,a)}getInteractionItemElement(){let e;return e=this.select.selectedItem?this.select.selectedItem.element.nativeElement:this.select.getFirstItemElement(),e}fitInViewport(e,t){let i=t.scrollContainerRect.bottom-t.contentElementRect.bottom,n=t.scrollContainerRect.top-t.contentElementRect.top,r=t.targetRect.bottom+t.styles.itemTextToInputTextDiff-i,s=t.targetRect.top-t.styles.itemTextToInputTextDiff-n;t.fitVertical.back<0?t.scrollContainer.scrollHeight-t.scrollContainerRect.height-t.scrollAmount+t.fitVertical.back>0&&s>t.viewPortRect.top?(t.scrollAmount-=t.fitVertical.back,t.verticalOffset-=t.fitVertical.back,this.global_yOffset=t.verticalOffset):(t.verticalOffset=0,this.global_yOffset=0):t.fitVertical.forward<0&&(t.scrollAmount+t.fitVertical.forward>0&&r<t.viewPortRect.bottom?(t.scrollAmount+=t.fitVertical.forward,t.verticalOffset+=t.fitVertical.forward,this.global_yOffset=t.verticalOffset):(t.verticalOffset=-t.contentElementRect.height+t.targetRect.height,this.global_yOffset=t.verticalOffset))}setStyles(e,t){super.setStyle(e,t.targetRect,t.contentElementRect,t),e.style.width=`${t.styles.contentElementNewWidth}px`,this.global_styles.contentElementNewWidth=t.styles.contentElementNewWidth}calculateScrollAmount(e){let t=e.itemRect,i=e.scrollContainer,n=e.scrollContainerRect,r=n.top-t.top,s=i.scrollTop-r;return s-=i.clientHeight/2,s+=t.height/2,Math.round(Math.min(Math.max(0,s),i.scrollHeight-n.height))}calculateStyles(e,t){let i={},n=window.getComputedStyle(t),r=window.getComputedStyle(e.itemElement),s=parseFloat(n.fontSize),o=parseFloat(n.paddingTop),a=parseFloat(n.paddingBottom),l=parseFloat(r.fontSize),d=(e.targetRect.bottom-a-(e.targetRect.top+o)-s)/2,c=(e.itemRect.height-l)/2;i.itemTextToInputTextDiff=Math.round(c-d-o);let h=parseFloat(r.paddingLeft),u=parseFloat(r.textIndent);return i.itemTextPadding=h,i.itemTextIndent=u,i.contentElementNewWidth=e.targetRect.width+24+2*h,i}calculateYoffset(e){e.verticalOffset=-(e.itemRect.top-e.contentElementRect.top+e.styles.itemTextToInputTextDiff-e.scrollAmount),this.global_yOffset=e.verticalOffset}calculateXoffset(e){e.horizontalOffset=e.styles.itemTextIndent-e.styles.itemTextPadding,this.global_xOffset=e.horizontalOffset}};return e=Hi([zi(2,Br())],e),e})(),az=(()=>{class e extends eR{get target(){return this._target}set target(e){this._target=e||this.dropdown}constructor(){super(null),this._target=null,this.inputStream="",this.clearStream$=Ut.EMPTY}handleKeyDown(e){if(!e)return;let t=e.key.toLowerCase();if(!e.altKey||"arrowdown"!==t&&"arrowup"!==t&&"down"!==t&&"up"!==t){if(this.target.collapsed)switch(t){case"space":case"spacebar":case" ":case"enter":return e.preventDefault(),void this.target.open();case"arrowdown":case"down":return this.target.navigateNext(),this.target.selectItem(this.target.focusedItem),void e.preventDefault();case"arrowup":case"up":return this.target.navigatePrev(),this.target.selectItem(this.target.focusedItem),void e.preventDefault()}else("tab"===t||e.shiftKey&&"tab"===t)&&this.target.close();super.handleKeyDown(e),this.captureKey(e)}else this.target.toggle()}captureKey(e){if(!e||!e.key||e.key.length>1||" "===e.key||"spacebar"===e.key)return;this.clearStream$.unsubscribe(),this.clearStream$=Dn(500).subscribe((()=>{this.inputStream=""})),this.inputStream+=e.key;let t=this.target.focusedItem;t&&this.inputStream.length>1&&t.itemText.toLowerCase().startsWith(this.inputStream.toLowerCase())||this.activateItemByText(this.inputStream)}activateItemByText(e){let t=this.target.items,i=this.findNextItem(t,e);!i&&e.charAt(0)===e.charAt(e.length-1)&&(e=e.slice(0,1),i=this.findNextItem(t,e)),i&&(this.target.collapsed&&this.target.selectItem(i),this.target.navigateItem(t.indexOf(i)))}ngOnDestroy(){this.clearStream$.unsubscribe()}findNextItem(e,t){let i=e.indexOf(this.target.focusedItem)||0;return e.slice(i+1).find((e=>!e.disabled&&e.itemText.toLowerCase().startsWith(t.toLowerCase())))||e.slice(0,i).find((e=>!e.disabled&&e.itemText.toLowerCase().startsWith(t.toLowerCase())))}static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵdir=rg({type:e,selectors:[["","igxSelectItemNavigation",""]],inputs:{target:[0,"igxSelectItemNavigation","target"]},features:[dg]})}}return e})(),lz=["inputGroup"],dz=["input"],cz=[[["","igxLabel",""]],[["igx-prefix"],["","igxPrefix",""]],[["igx-suffix"],["","igxSuffix",""]],[["igx-hint"],["","igxHint",""]],[["igx-select-item"],["igx-select-item-group"]],"*"],hz=["[igxLabel]","igx-prefix,[igxPrefix]","igx-suffix,[igxSuffix]","igx-hint, [igxHint]","igx-select-item, igx-select-item-group","*"],uz=e=>({$implicit:e});function gz(e,t){1&e&&$p(0)}function pz(e,t){if(1&e&&bg(0,gz,1,0,"ng-container",15),2&e){let e=om();rp("ngTemplateOutlet",e.toggleIconTemplate)("ngTemplateOutletContext",Mm(2,uz,e.collapsed))}}function mz(e,t){1&e&&Hp(0,"igx-icon",9),2&e&&(rp("name",om().toggleIcon),$g("aria-hidden",!0))}function fz(e,t){1&e&&dm(0,5,["*ngTemplateOutlet","headerTemplate"])}function vz(e,t){if(1&e&&(Lp(0,"div",12),bg(1,fz,1,0,"ng-content",16),Np()),2&e){let e=om();Hc(),rp("ngTemplateOutlet",e.headerTemplate)}}function yz(e,t){1&e&&$p(0)}function xz(e,t){if(1&e&&(Lp(0,"div",14),bg(1,yz,1,0,"ng-container",16),Np()),2&e){let e=om();Hc(),rp("ngTemplateOutlet",e.footerTemplate)}}var _z=(()=>{class e{static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵdir=rg({type:e,selectors:[["","igxSelectToggleIcon",""]]})}}return e})(),wz=(()=>{class e{static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵdir=rg({type:e,selectors:[["","igxSelectHeader",""]]})}}return e})(),Cz=(()=>{class e{static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵdir=rg({type:e,selectors:[["","igxSelectFooter",""]]})}}return e})(),Sz=(()=>{class e extends yF{get value(){return this._value}set value(e){this._value!==e&&(this._value=e,this.setSelection(this.items.find((e=>e.value===this.value))))}get type(){return this._type||this._inputGroupType||"line"}set type(e){this._type=e}get selectionValue(){let e=this.selectedItem;return e?e.itemText:""}get selectedItem(){return this.selection.first_item(this.id)}constructor(e,t,i,n,r,s,o){super(e,t,i,n),this.overlayService=r,this._inputGroupType=s,this._injector=o,this.disabled=!1,this.maxHeight="256px",this.opening=new wl,this.opened=new wl,this.closing=new wl,this.closed=new wl,this.toggleIconTemplate=null,this.headerTemplate=null,this.footerTemplate=null,this.cssClass=!1,this.allowItemsFocus=!1,this.ngControl=null,this._type=null,this._onChangeCallback=ei,this._onTouchedCallback=ei,this.writeValue=e=>{this.value=e}}registerOnChange(e){this._onChangeCallback=e}registerOnTouched(e){this._onTouchedCallback=e}setDisabledState(e){this.disabled=e}getEditElement(){return this.input.nativeElement}selectItem(e,t){let i=this.selectedItem??{};if(null===e||e.disabled||e.isHeader)return;if(e===i)return void this.toggleDirective.close();let n={oldSelection:i,newSelection:e,cancel:!1,owner:this};this.selectionChanging.emit(n),!n.cancel&&(this.setSelection(e),this._value=e.value,t&&this.toggleDirective.close(),this.cdr.detectChanges(),this._onChangeCallback(this.value))}getFirstItemElement(){return this.children.first.element.nativeElement}open(e){this.disabled||0===this.items.length||(this.selectedItem||this.navigateFirst(),super.open(Object.assign({},this._overlayDefaults,this.overlaySettings,e)))}inputGroupClick(e,t){let i=e.target;this.hintElement&&i.contains(this.hintElement.nativeElement)||this.toggle(Object.assign({},this._overlayDefaults,this.overlaySettings,t))}ngAfterContentInit(){this._overlayDefaults={target:this.getEditElement(),modal:!1,positionStrategy:new oz(this),scrollStrategy:new BI,excludeFromOutsideClick:[this.inputGroup.element.nativeElement]};let e=this.children.changes.pipe(Nn(this.destroy$)).subscribe((()=>{this.setSelection(this.items.find((e=>e.value===this.value))),this.cdr.detectChanges()}));Promise.resolve().then((()=>{e.closed||this.children.notifyOnChanges()}))}handleOpening(e){let t={owner:this,event:e.event,cancel:e.cancel};this.opening.emit(t),e.cancel=t.cancel}onToggleContentAppended(e){this.overlayService.getOverlayById(e.id)?.settings?.positionStrategy instanceof oz||super.onToggleContentAppended(e)}handleOpened(){this.updateItemFocus(),this.opened.emit({owner:this})}handleClosing(e){let t={owner:this,event:e.event,cancel:e.cancel};this.closing.emit(t),e.cancel=t.cancel}handleClosed(){this.focusItem(!1),this.closed.emit({owner:this})}onBlur(){this._onTouchedCallback(),this.ngControl&&this.ngControl.invalid?this.input.valid=sR.INVALID:this.input.valid=sR.INITIAL}onFocus(){this._onTouchedCallback()}ngOnInit(){this.ngControl=this._injector.get(Wy,null)}ngAfterViewInit(){super.ngAfterViewInit(),this.ngControl&&(this.ngControl.statusChanges.pipe(Nn(this.destroy$)).subscribe(this.onStatusChanged.bind(this)),this.manageRequiredAsterisk()),this.cdr.detectChanges()}ngAfterContentChecked(){if(this.inputGroup&&this.prefixes?.length>0&&(this.inputGroup.prefixes=this.prefixes),this.inputGroup){let e=this.suffixes?.toArray()??[],t=this.internalSuffixes?.toArray()??[],i=new jl;i.reset([...e,...t]),this.inputGroup.suffixes=i}}get toggleIcon(){return this.collapsed?"input_expand":"input_collapse"}mousedownHandler(e){e.preventDefault()}onStatusChanged(){this.manageRequiredAsterisk(),this.ngControl&&!this.disabled&&this.isTouchedOrDirty?this.hasValidators&&this.inputGroup.isFocused?this.input.valid=this.ngControl.valid?sR.VALID:sR.INVALID:this.input.valid=this.ngControl.valid?sR.INITIAL:sR.INVALID:this.input.valid=sR.INITIAL}get isTouchedOrDirty(){return this.ngControl.control.touched||this.ngControl.control.dirty}get hasValidators(){return!!this.ngControl.control.validator||!!this.ngControl.control.asyncValidator}navigate(e,t){this.collapsed&&this.selectedItem&&this.navigateItem(this.selectedItem.itemIndex),super.navigate(e,t)}manageRequiredAsterisk(){let e=this.elementRef.nativeElement.hasAttribute("required"),t=!1;if(this.ngControl&&this.ngControl.control.validator){let e=this.ngControl.control.validator({});t=!(!e||!e.required)}this.inputGroup.isRequired=t,this.input?.nativeElement&&this.input.nativeElement.setAttribute("aria-required",t.toString()),!t&&!e&&(this.input.valid=sR.INITIAL),this.cdr.markForCheck()}setSelection(e){e&&void 0!==e.value&&null!==e.value?this.selection.set(this.id,new Set([e])):this.selection.clear(this.id)}static{this.ɵfac=function(t){return new(t||e)(lu(zl),lu(Cf),lu(Kf),lu(nF),lu(zI),lu(fR,8),lu(hl))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-select"]],contentQueries:function(e,t,i){if(1&e&&(gm(i,lR,7),gm(i,_z,5,jh),gm(i,wz,5,jh),gm(i,Cz,5,jh),gm(i,iR,5,zl),gm(i,sz,5),gm(i,dR,5),gm(i,cR,5)),2&e){let e;mm(e=fm())&&(t.label=e.first),mm(e=fm())&&(t.toggleIconTemplate=e.first),mm(e=fm())&&(t.headerTemplate=e.first),mm(e=fm())&&(t.footerTemplate=e.first),mm(e=fm())&&(t.hintElement=e.first),mm(e=fm())&&(t.children=e),mm(e=fm())&&(t.prefixes=e),mm(e=fm())&&(t.suffixes=e)}},viewQuery:function(e,t){if(1&e&&(pm(lz,7,Ek),pm(dz,7,oR),pm(cR,5)),2&e){let e;mm(e=fm())&&(t.inputGroup=e.first),mm(e=fm())&&(t.input=e.first),mm(e=fm())&&(t.internalSuffixes=e)}},hostVars:2,hostBindings:function(e,t){2&e&&op("max-height",t.maxHeight)},inputs:{placeholder:"placeholder",disabled:[2,"disabled","disabled",Hf],overlaySettings:"overlaySettings",value:"value",type:"type"},outputs:{opening:"opening",opened:"opened",closing:"closing",closed:"closed"},features:[Pm([{provide:my,useExisting:e,multi:!0},{provide:JI,useExisting:e}]),dg],ngContentSelectors:hz,decls:21,vars:17,consts:[["inputGroup",""],["input",""],["scrollContainer",""],[1,"input-group",3,"click","type"],["ngProjectAs","[igxLabel]",5,["","igxLabel",""]],["ngProjectAs","igx-prefix",5,["igx-prefix"]],["type","text","igxInput","","readonly","true","role","combobox","aria-haspopup","listbox",1,"input",3,"blur","focus","igxSelectItemNavigation","disabled","value"],["ngProjectAs","igx-suffix",5,["igx-suffix"]],[1,"igx-select__toggle-button"],["family","default",3,"name"],["ngProjectAs","igx-hint, [igxHint]",5,["igx-hint"]],["igxToggle","",1,"igx-drop-down__list",3,"mousedown","appended","opening","opened","closing","closed"],[1,"igx-drop-down__select-header"],["unselectable","on","role","listbox",1,"igx-drop-down__list-scroll"],[1,"igx-drop-down__select-footer"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngTemplateOutlet"]],template:function(e,t){if(1&e){let e=Kp();lm(cz),Lp(0,"igx-input-group",3,0),rm("click",(function(i){return Ko(e),jo(t.inputGroupClick(i))})),Bp(2,4),dm(3),Gp(),Bp(4,5),dm(5,1),Gp(),Lp(6,"input",6,1),rm("blur",(function(){return Ko(e),jo(t.onBlur())}))("focus",(function(){return Ko(e),jo(t.onFocus())})),Np(),Bp(8,7),dm(9,2),Gp(),Lp(10,"igx-suffix",8),bg(11,pz,1,4,"ng-container")(12,mz,1,2,"igx-icon",9),Np(),Bp(13,10),dm(14,3),Gp(),Np(),Lp(15,"div",11),rm("mousedown",(function(i){return Ko(e),jo(t.mousedownHandler(i))}))("appended",(function(i){return Ko(e),jo(t.onToggleContentAppended(i))}))("opening",(function(i){return Ko(e),jo(t.handleOpening(i))}))("opened",(function(){return Ko(e),jo(t.handleOpened())}))("closing",(function(i){return Ko(e),jo(t.handleClosing(i))}))("closed",(function(){return Ko(e),jo(t.handleClosed())})),bg(16,vz,2,1,"div",12),Lp(17,"div",13,2),dm(19,4),Np(),bg(20,xz,2,1,"div",14),Np()}2&e&&(rp("type","search"===t.type?"line":t.type),Hc(6),rp("igxSelectItemNavigation",t)("disabled",t.disabled)("value",t.selectionValue),$g("placeholder",t.placeholder)("aria-labelledby",null==t.label?null:t.label.id)("aria-expanded",!t.collapsed)("aria-owns",t.listId)("aria-activedescendant",t.collapsed||null==t.focusedItem?null:t.focusedItem.id),Hc(5),Ip(t.toggleIconTemplate?11:-1),Hc(),Ip(t.toggleIconTemplate?-1:12),Hc(4),Ip(t.headerTemplate?16:-1),Hc(),op("max-height",t.maxHeight),$g("id",t.listId)("aria-labelledby",null==t.label?null:t.label.id),Hc(3),Ip(t.footerTemplate?20:-1))},dependencies:[Ek,oR,az,cR,qv,DA,SO],styles:["[_nghost-%COMP%]{display:block}"]})}}return e})(),bz="IgxTimePickerComponentToken",Dz=(()=>{class e{constructor(e,t,i){this.timePicker=e,this.elementRef=t,this.touchManager=i,this.tabindex=0,this.SCROLL_THRESHOLD=50,this.PAN_THRESHOLD=10,this.scrollAccumulator=0,this.onPanMove=e=>{let t=e.deltaY<0?-1:e.deltaY>0?1:0;0!==t&&this.nextItem(t)}}get defaultCSS(){return!0}get hourCSS(){return"hourList"===this.type}get minuteCSS(){return"minuteList"===this.type}get secondsCSS(){return"secondsList"===this.type}get ampmCSS(){return"ampmList"===this.type}onFocus(){this.isActive=!0}onBlur(){this.isActive=!1}onKeydownArrowDown(e){e.preventDefault(),this.nextItem(1)}onKeydownArrowUp(e){e.preventDefault(),this.nextItem(-1)}onKeydownArrowRight(e){e.preventDefault();let t=e.target.className;-1!==t.indexOf("hourList")&&this.timePicker.minuteList?this.timePicker.minuteList.nativeElement.focus():-1===t.indexOf("hourList")&&-1===t.indexOf("minuteList")||!this.timePicker.secondsList?(-1!==t.indexOf("hourList")||-1!==t.indexOf("minuteList")||-1!==t.indexOf("secondsList"))&&this.timePicker.ampmList&&this.timePicker.ampmList.nativeElement.focus():this.timePicker.secondsList.nativeElement.focus()}onKeydownArrowLeft(e){e.preventDefault();let t=e.target.className;-1!==t.indexOf("ampmList")&&this.timePicker.secondsList?this.timePicker.secondsList.nativeElement.focus():-1!==t.indexOf("secondsList")&&this.timePicker.secondsList&&t.indexOf("minutesList")&&this.timePicker.minuteList||-1!==t.indexOf("ampmList")&&this.timePicker.minuteList?this.timePicker.minuteList.nativeElement.focus():(-1!==t.indexOf("ampmList")||-1!==t.indexOf("secondsList")||-1!==t.indexOf("minuteList"))&&this.timePicker.hourList&&this.timePicker.hourList.nativeElement.focus()}onKeydownEnter(e){e.preventDefault(),this.timePicker.okButtonClick()}onKeydownEscape(e){e.preventDefault(),this.timePicker.cancelButtonClick()}onHover(){this.elementRef.nativeElement.focus()}onScroll(e){e.preventDefault(),e.stopPropagation(),this.scrollAccumulator+=e.deltaY,Math.abs(this.scrollAccumulator)>this.SCROLL_THRESHOLD&&(this.nextItem(this.scrollAccumulator),this.scrollAccumulator=0)}ngOnInit(){let e={recognizers:[[oL.Hammer?.Pan,{direction:oL.Hammer?.DIRECTION_VERTICAL,threshold:this.PAN_THRESHOLD}]]};this.touchManager.addEventListener(this.elementRef.nativeElement,"pan",this.onPanMove,e)}ngOnDestroy(){this.touchManager.destroy()}nextItem(e){switch(this.type){case"hourList":this.timePicker.nextHour(e);break;case"minuteList":this.timePicker.nextMinute(e);break;case"secondsList":this.timePicker.nextSeconds(e);break;case"ampmList":this.timePicker.nextAmPm(e)}}static{this.ɵfac=function(t){return new(t||e)(lu(bz),lu(zl),lu(oL))}}static{this.ɵdir=rg({type:e,selectors:[["","igxItemList",""]],hostVars:11,hostBindings:function(e,t){1&e&&rm("focus",(function(){return t.onFocus()}))("blur",(function(){return t.onBlur()}))("keydown.arrowdown",(function(e){return t.onKeydownArrowDown(e)}))("keydown.arrowup",(function(e){return t.onKeydownArrowUp(e)}))("keydown.arrowright",(function(e){return t.onKeydownArrowRight(e)}))("keydown.arrowleft",(function(e){return t.onKeydownArrowLeft(e)}))("keydown.enter",(function(e){return t.onKeydownEnter(e)}))("keydown.escape",(function(e){return t.onKeydownEscape(e)}))("mouseover",(function(){return t.onHover()}))("wheel",(function(e){return t.onScroll(e)})),2&e&&($g("tabindex",t.tabindex),ap("igx-time-picker__column",t.defaultCSS)("igx-time-picker__hourList",t.hourCSS)("igx-time-picker__minuteList",t.minuteCSS)("igx-time-picker__secondsList",t.secondsCSS)("igx-time-picker__ampmList",t.ampmCSS))},inputs:{type:[0,"igxItemList","type"]},features:[Pm([oL])]})}}return e})(),Ez=(()=>{class e{get defaultCSS(){return!0}get selectedCSS(){return this.isSelectedTime}get activeCSS(){return this.isSelectedTime&&this.itemList.isActive}get isSelectedTime(){let e=this.value.length<2?`0${this.value}`:this.value,t=this.itemList.type,i=OS.parseDateTimeFormat(this.timePicker.appliedFormat);switch(t){case"hourList":let t=i.find((e=>"hours"===e.type));return OS.getPartValue(this.timePicker.selectedDate,t,t.format.length)===e;case"minuteList":let n=i.find((e=>"minutes"===e.type));return OS.getPartValue(this.timePicker.selectedDate,n,n.format.length)===e;case"secondsList":let r=i.find((e=>"seconds"===e.type));return OS.getPartValue(this.timePicker.selectedDate,r,r.format.length)===e;case"ampmList":let s=i.find((e=>-1!==e.format.indexOf("a")||"tt"===e.format));return OS.getPartValue(this.timePicker.selectedDate,s,s.format.length)===this.value}}get minValue(){let e=this.itemList.type,t=OS.parseDateTimeFormat(this.timePicker.appliedFormat);switch(e){case"hourList":return this.getHourPart(this.timePicker.minDropdownValue);case"minuteList":if(this.timePicker.selectedDate.getHours()===this.timePicker.minDropdownValue.getHours()){let e=t.find((e=>"minutes"===e.type));return OS.getPartValue(this.timePicker.minDropdownValue,e,e.format.length)}return"00";case"secondsList":let e=new Date(this.timePicker.selectedDate),i=new Date(this.timePicker.minDropdownValue);if(e.setSeconds(0),i.setSeconds(0),e.getTime()===i.getTime()){let e=t.find((e=>"seconds"===e.type));return OS.getPartValue(this.timePicker.minDropdownValue,e,e.format.length)}return"00";case"ampmList":let n=t.find((e=>-1!==e.format.indexOf("a")||"tt"===e.format));return OS.getPartValue(this.timePicker.minDropdownValue,n,n.format.length)}}get maxValue(){let e=this.itemList.type,t=OS.parseDateTimeFormat(this.timePicker.appliedFormat);switch(e){case"hourList":return this.getHourPart(this.timePicker.maxDropdownValue);case"minuteList":if(this.timePicker.selectedDate.getHours()===this.timePicker.maxDropdownValue.getHours()){let e=t.find((e=>"minutes"===e.type));return OS.getPartValue(this.timePicker.maxDropdownValue,e,e.format.length)}{let e=new Date(this.timePicker.selectedDate),i=this.timePicker.itemsDelta.minutes,n=60%i,r=0===n?60-i:60-n;e.setMinutes(r);let s=t.find((e=>"minutes"===e.type));return OS.getPartValue(e,s,s.format.length)}case"secondsList":let e=new Date(this.timePicker.selectedDate),i=new Date(this.timePicker.maxDropdownValue);if(e.setSeconds(0),i.setSeconds(0),e.getTime()===i.getTime()){let e=t.find((e=>"seconds"===e.type));return OS.getPartValue(this.timePicker.maxDropdownValue,e,e.format.length)}{let i=this.timePicker.itemsDelta.seconds,n=60%i,r=0===n?60-i:60-n;e.setSeconds(r);let s=t.find((e=>"seconds"===e.type));return OS.getPartValue(e,s,s.format.length)}case"ampmList":let n=t.find((e=>-1!==e.format.indexOf("a")||"tt"===e.format));return OS.getPartValue(this.timePicker.maxDropdownValue,n,n.format.length)}}get hourValue(){return this.getHourPart(this.timePicker.selectedDate)}constructor(e,t){this.timePicker=e,this.itemList=t}onClick(e){if(""!==e){let t=this.itemList.type;this.timePicker.onItemClick(e,t)}}getHourPart(e){let t=OS.parseDateTimeFormat(this.timePicker.appliedFormat),i=t.find((e=>"hours"===e.type)),n=t.find((e=>-1!==e.format.indexOf("a")||"tt"===e.format)),r=OS.getPartValue(e,i,i.format.length);return n?`${r} ${OS.getPartValue(e,n,n.format.length)}`:r}static{this.ɵfac=function(t){return new(t||e)(lu(bz),lu(Dz))}}static{this.ɵdir=rg({type:e,selectors:[["","igxTimeItem",""]],hostVars:6,hostBindings:function(e,t){1&e&&rm("click",(function(){return t.onClick(t.value)})),2&e&&ap("igx-time-picker__item",t.defaultCSS)("igx-time-picker__item--selected",t.selectedCSS)("igx-time-picker__item--active",t.activeCSS)},inputs:{value:[0,"igxTimeItem","value"]},exportAs:["timeItem"]})}}return e})(),Tz={igx_time_picker_ok:"OK",igx_time_picker_cancel:"Cancel",igx_time_picker_change_time:"Change Time",igx_time_picker_choose_time:"Choose Time"},Iz=(()=>{class e{constructor(e){this.timePicker=e}transform(e){let t=this.timePicker.appliedFormat.replace("tt","aa");return new ny(this.timePicker.locale).transform(e,t)}static{this.ɵfac=function(t){return new(t||e)(lu(bz,16))}}static{this.ɵpipe=sg({name:"timeFormatPipe",type:e,pure:!0})}}return e})(),Rz=(()=>{class e{constructor(e){this.timePicker=e}transform(e,t,i,n,r){let s,o;switch(t){case"hour":s=this.generateHours(n,r);let e=this.timePicker.isTwelveHourFormat?this.toTwelveHourFormat(i.getHours()):i.getHours();s=this.scrollListItem(e,s),o=TS.Hours;break;case"minutes":s=this.generateMinutes(i,n,r),s=this.scrollListItem(i.getMinutes(),s),o=TS.Minutes;break;case"seconds":s=this.generateSeconds(i,n,r),s=this.scrollListItem(i.getSeconds(),s),o=TS.Seconds;break;case"ampm":let t=this.timePicker.getPartValue(i,"ampm");s=this.generateAmPm(n,r,t),s=this.scrollListItem(t,s),o=TS.AmPm}return this.getListView(s,o)}getListView(e,t){for(let i=0;i<e.length;i++)e[i]=this.getItemView(e[i],t);return e}getItemView(e,t){return null===e?e="":t&&"string"!=typeof e&&(e={hours:e<10&&(-1!==this.timePicker.appliedFormat?.indexOf("hh")||-1!==this.timePicker.appliedFormat?.indexOf("HH")),minutes:e<10&&-1!==this.timePicker.appliedFormat?.indexOf("mm"),seconds:e<10&&-1!==this.timePicker.appliedFormat?.indexOf("ss")}[t]?"0"+e:`${e}`),e}scrollListItem(e,t){let i,n=t.length;if(t){let r=t.indexOf(e);r<3?(i=t.slice(n-(3-r),n),i=i.concat(t.slice(0,r+4))):r+4>n?(i=t.slice(r-3,n),i=i.concat(t.slice(0,r+4-n))):i=t.slice(r-3,r+4)}return i}generateHours(e,t){let i=[],n=this.timePicker.isTwelveHourFormat?13:24;n/=this.timePicker.itemsDelta.hours;let r=e.getHours(),s=t.getHours();if(n>1)for(let e=0;e<24;e++){let t=e*this.timePicker.itemsDelta.hours;t>=r&&t<=s&&(t=this.timePicker.isTwelveHourFormat?this.toTwelveHourFormat(t):t,i.find((e=>e===t))||i.push(t))}else i.push(0);if(i.length<7||n<7||!this.timePicker.spinLoop){let e=!this.timePicker.spinLoop||i.length<7&&n<7?6:3;for(let t=0;t<e;t++)i.push(null)}return i}generateMinutes(e,t,i){let n=[],r=60/this.timePicker.itemsDelta.minutes;e=new Date(e);for(let s=0;s<r;s++){let r=s*this.timePicker.itemsDelta.minutes;e.setMinutes(r),e>=t&&e<=i&&n.push(s*this.timePicker.itemsDelta.minutes)}if(n.length<7||r<7||!this.timePicker.spinLoop){let e=!this.timePicker.spinLoop||n.length<7&&r<7?6:3;for(let t=0;t<e;t++)n.push(null)}return n}generateSeconds(e,t,i){let n=[],r=60/this.timePicker.itemsDelta.seconds;e=new Date(e);for(let s=0;s<r;s++){let r=s*this.timePicker.itemsDelta.seconds;e.setSeconds(r),e.getTime()>=t.getTime()&&e.getTime()<=i.getTime()&&n.push(s*this.timePicker.itemsDelta.seconds)}if(n.length<7||r<7||!this.timePicker.spinLoop){let e=!this.timePicker.spinLoop||n.length<7&&r<7?6:3;for(let t=0;t<e;t++)n.push(null)}return n}generateAmPm(e,t,i){let n=[],r=e.getHours(),s=t.getHours();r<12&&n.push(OS.getAmPmValue(i.length,!0)),(r>=12||s>=12)&&n.push(OS.getAmPmValue(i.length,!1));for(let e=0;e<5;e++)n.push(null);return n}toTwelveHourFormat(e){return e>12?e-=12:0===e&&(e=12),e}static{this.ɵfac=function(t){return new(t||e)(lu(bz,16))}}static{this.ɵpipe=sg({name:"timeItemPipe",type:e,pure:!0})}}return e})(),Az=["hourList"],kz=["minuteList"],Oz=["secondsList"],Fz=["ampmList"],Pz=["inputGroup"],Vz=[[["","igxLabel",""]],[["igx-prefix"],["","igxPrefix",""]],[["igx-suffix"],["","igxSuffix",""]],[["igx-hint"],["","igxHint",""]]],Mz=["[igxLabel]","igx-prefix,[igxPrefix]","igx-suffix,[igxSuffix]","igx-hint,[igxHint]"],Lz=(e,t)=>({"igx-time-picker--dropdown":e,"igx-time-picker--vertical":t}),Nz=(e,t,i,n)=>[e,"hour",t,i,n],Hz=(e,t,i,n)=>[e,"minutes",t,i,n],zz=(e,t,i,n)=>[e,"seconds",t,i,n],Bz=(e,t,i,n)=>[e,"ampm",t,i,n],Gz=(e,t)=>t+e;function $z(e,t){if(1&e){let e=Kp();Lp(0,"igx-prefix",20),rm("click",(function(){return Ko(e),jo(om().toggle())})),Hp(1,"igx-icon",21),Np()}if(2&e){let e=om();Hc(),rp("title",e.value?e.resourceStrings.igx_time_picker_change_time:e.resourceStrings.igx_time_picker_choose_time)}}function Wz(e,t){if(1&e){let e=Kp();Lp(0,"igx-suffix",20),rm("click",(function(t){return Ko(e),om().clear(),jo(t.stopPropagation())})),Hp(1,"igx-icon",22),Np()}}function Kz(e,t){if(1&e){let e=Kp();Lp(0,"button",25),rm("click",(function(){return Ko(e),jo(om(3).cancelButtonClick())})),ym(1),Np()}if(2&e){let e=om(3);Hc(),wm(" ",e.cancelButtonLabel," ")}}function jz(e,t){if(1&e){let e=Kp();Lp(0,"button",25),rm("click",(function(){return Ko(e),jo(om(3).okButtonClick())})),ym(1),Np()}if(2&e){let e=om(3);Hc(),wm(" ",e.okButtonLabel," ")}}function Uz(e,t){if(1&e&&(Lp(0,"div",23),bg(1,Kz,2,1,"button",24)(2,jz,2,1,"button",24),Np()),2&e){let e=om(2);Hc(),Ip(e.cancelButtonLabel?1:-1),Hc(),Ip(e.okButtonLabel?2:-1)}}function qz(e,t){if(1&e&&bg(0,Uz,3,2,"div",23),2&e){let e=om();Ip(e.cancelButtonLabel||e.okButtonLabel?0:-1)}}function Yz(e,t){if(1&e&&(Lp(0,"div",16)(1,"h2",26)(2,"span"),ym(3),Xm(4,"timeFormatPipe"),Np()()()),2&e){let e=om();Hc(3),_m(Qm(4,1,e.selectedDate))}}function Zz(e,t){if(1&e&&(Lp(0,"span",27,4),ym(2),Np()),2&e){let e=t.$implicit,i=vm(1);rp("igxTimeItem",e),$g("role",i.isSelectedTime?"spinbutton":null)("aria-valuenow",i.isSelectedTime?i.hourValue:null)("aria-valuemin",i.isSelectedTime?i.minValue:null)("aria-valuemax",i.isSelectedTime?i.maxValue:null),Hc(2),_m(e)}}function Xz(e,t){if(1&e&&(Lp(0,"div",18,3),Op(2,Zz,3,6,"span",27,Gz),Xm(4,"timeItemPipe"),Np()),2&e){let e=om();rp("igxItemList","hourList"),Hc(2),Pp(nf(4,1,Hm(7,Nz,e.hourItems,e.selectedDate,e.minDropdownValue,e.maxDropdownValue)))}}function Qz(e,t){if(1&e&&(Lp(0,"span",28,4),ym(2),Np()),2&e){let e=t.$implicit,i=vm(1);rp("igxTimeItem",e),$g("role",i.isSelectedTime?"spinbutton":null)("aria-valuenow",i.isSelectedTime?e:null)("aria-valuemin",i.isSelectedTime?i.minValue:null)("aria-valuemax",i.isSelectedTime?i.maxValue:null),Hc(2),_m(e)}}function Jz(e,t){if(1&e&&(Lp(0,"div",18,5),Op(2,Qz,3,6,"span",28,Gz),Xm(4,"timeItemPipe"),Np()),2&e){let e=om();rp("igxItemList","minuteList"),Hc(2),Pp(nf(4,1,Hm(7,Hz,e.minuteItems,e.selectedDate,e.minDropdownValue,e.maxDropdownValue)))}}function eB(e,t){if(1&e&&(Lp(0,"span",29,4),ym(2),Np()),2&e){let e=t.$implicit,i=vm(1);rp("igxTimeItem",e),$g("role",i.isSelectedTime?"spinbutton":null)("aria-valuenow",i.isSelectedTime?e:null)("aria-valuemin",i.isSelectedTime?i.minValue:null)("aria-valuemax",i.isSelectedTime?i.maxValue:null),Hc(2),_m(e)}}function tB(e,t){if(1&e&&(Lp(0,"div",18,6),Op(2,eB,3,6,"span",29,Gz),Xm(4,"timeItemPipe"),Np()),2&e){let e=om();rp("igxItemList","secondsList"),Hc(2),Pp(nf(4,1,Hm(7,zz,e.secondsItems,e.selectedDate,e.minDropdownValue,e.maxDropdownValue)))}}function iB(e,t){if(1&e&&(Lp(0,"span",30,4),ym(2),Np()),2&e){let e=t.$implicit,i=vm(1);rp("igxTimeItem",e),$g("role",i.isSelectedTime?"spinbutton":null)("aria-valuenow",i.isSelectedTime?e:null)("aria-valuemin",i.isSelectedTime?i.minValue:null)("aria-valuemax",i.isSelectedTime?i.maxValue:null),Hc(2),_m(e)}}function nB(e,t){if(1&e&&(Lp(0,"div",18,7),Op(2,iB,3,6,"span",30,Gz),Xm(4,"timeItemPipe"),Np()),2&e){let e=om();rp("igxItemList","ampmList"),Hc(2),Pp(nf(4,1,Hm(7,Bz,e.ampmItems,e.selectedDate,e.minDropdownValue,e.maxDropdownValue)))}}function rB(e,t){1&e&&$p(0)}var sB=0,oB=(()=>{class e extends rH{set minValue(e){this._minValue=e;let t=this.parseToDate(e);t&&(this._dateMinValue=new Date,this._dateMinValue.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),this.minDropdownValue=this.setMinMaxDropdownValue("min",this._dateMinValue)),this.setSelectedValue(this._selectedDate),this._onValidatorChange()}get minValue(){return this._minValue}get collapsed(){return this.toggleRef?.collapsed}set maxValue(e){this._maxValue=e;let t=this.parseToDate(e);t&&(this._dateMaxValue=new Date,this._dateMaxValue.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),this.maxDropdownValue=this.setMinMaxDropdownValue("max",this._dateMaxValue)),this.setSelectedValue(this._selectedDate),this._onValidatorChange()}get maxValue(){return this._maxValue}get showClearButton(){return!this.clearComponents.length&&(OS.isValidDate(this.value)?0!==this.value.getHours()||0!==this.value.getMinutes()||0!==this.value.getSeconds()||0!==this.value.getMilliseconds():!!this.dateTimeEditor.value)}get showHoursList(){return-1!==this.appliedFormat?.indexOf("h")||-1!==this.appliedFormat?.indexOf("H")}get showMinutesList(){return-1!==this.appliedFormat?.indexOf("m")}get showSecondsList(){return-1!==this.appliedFormat?.indexOf("s")}get showAmPmList(){return-1!==this.appliedFormat?.indexOf("t")||-1!==this.appliedFormat?.indexOf("a")}get isTwelveHourFormat(){return-1!==this.appliedFormat?.indexOf("h")}get isVertical(){return this.headerOrientation===jN}get selectedDate(){return this._selectedDate}get minDateValue(){if(!this._dateMinValue){let e=new Date;return e.setHours(0,0,0,0),e}return this._dateMinValue}get maxDateValue(){if(!this._dateMaxValue){let e=new Date;return e.setHours(23,59,59,999),e}return this._dateMaxValue}get appliedFormat(){return this.inputFormat||this.dateTimeEditor?.inputFormat}get toggleContainer(){return this.toggleRef?.element}get required(){if(this._ngControl&&this._ngControl.control&&this._ngControl.control.validator){let e=this._ngControl.control.validator({});return!(!e||!e.required)}return!1}get dialogOverlaySettings(){return Object.assign({},this._defaultDialogOverlaySettings,this.overlaySettings)}get dropDownOverlaySettings(){return Object.assign({},this._defaultDropDownOverlaySettings,this.overlaySettings)}get value(){return this._value}set value(e){let t=this._value;this._value=e;let i=this.parseToDate(e);i?(this._dateValue=new Date,this._dateValue.setHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),this.setSelectedValue(this._dateValue)):(this._dateValue=null,this.setSelectedValue(null)),this.dateTimeEditor&&(this.dateTimeEditor.value=i),this.emitValueChange(t,this._value),this._onChangeCallback(this._value)}set resourceStrings(e){this._resourceStrings=Object.assign({},this._resourceStrings,e)}get resourceStrings(){return this._resourceStrings}set okButtonLabel(e){this._okButtonLabel=e}get okButtonLabel(){return null===this._okButtonLabel?this.resourceStrings.igx_time_picker_ok:this._okButtonLabel}set cancelButtonLabel(e){this._cancelButtonLabel=e}get cancelButtonLabel(){return null===this._cancelButtonLabel?this.resourceStrings.igx_time_picker_cancel:this._cancelButtonLabel}set itemsDelta(e){Object.assign(this._itemsDelta,e)}get itemsDelta(){return this._itemsDelta}constructor(e,t,i,n,r,s){super(e,t,i),this._injector=n,this.platform=r,this.cdr=s,this.id="igx-time-picker-"+sB++,this.mode=UN,this.spinLoop=!0,this.headerOrientation=KN,this.readOnly=!1,this.selected=new wl,this.valueChange=new wl,this.validationFailed=new wl,this.cleared=!1,this.isNotEmpty=!1,this.displayValue={transform:e=>this.formatter(e)},this.hourItems=[],this.minuteItems=[],this.secondsItems=[],this.ampmItems=[],this._resourceStrings=TA(Tz),this._okButtonLabel=null,this._cancelButtonLabel=null,this._itemsDelta={hours:1,minutes:1,seconds:1,fractionalSeconds:1},this._ngControl=null,this._onChangeCallback=ei,this._onTouchedCallback=ei,this._onValidatorChange=ei,this._defaultDialogOverlaySettings={closeOnOutsideClick:!0,modal:!0,closeOnEscape:!0,outlet:this.outlet},this._defaultDropDownOverlaySettings={target:this.element.nativeElement,modal:!1,closeOnOutsideClick:!0,scrollStrategy:new BI,positionStrategy:new FI,outlet:this.outlet},this.locale=this.locale||this._localeId}onKeyDown(e){switch(e.key){case this.platform.KEYMAP.ARROW_UP:e.altKey&&this.isDropdown&&this.close();break;case this.platform.KEYMAP.ARROW_DOWN:e.altKey&&this.isDropdown&&this.open();break;case this.platform.KEYMAP.ESCAPE:this.cancelButtonClick();break;case this.platform.KEYMAP.SPACE:this.open(),e.preventDefault()}}getPartValue(e,t){let i=OS.parseDateTimeFormat(this.appliedFormat).find((e=>e.type===t));return OS.getPartValue(e,i,i.format?.length)}toISOString(e){return e.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3})}writeValue(e){this._value=e;let t=this.parseToDate(e);t?(this._dateValue=new Date,this._dateValue.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),this.setSelectedValue(this._dateValue)):this.setSelectedValue(null),this.dateTimeEditor&&(this.dateTimeEditor.value=t)}registerOnChange(e){this._onChangeCallback=e}registerOnTouched(e){this._onTouchedCallback=e}registerOnValidatorChange(e){this._onValidatorChange=e}validate(e){if(!e.value)return null;if(MC(e.value)&&!OS.isValidDate(e.value))return{value:!0};let t={},i=OS.isValidDate(e.value)?e.value:OS.parseIsoDate(e.value);return Object.assign(t,OS.validateMinMax(i,this.minValue,this.maxValue,!0,!1)),Object.keys(t).length>0?t:null}setDisabledState(e){this.disabled=e}ngOnInit(){this._ngControl=this._injector.get(Wy,null),this.minDropdownValue=this.setMinMaxDropdownValue("min",this.minDateValue),this.maxDropdownValue=this.setMinMaxDropdownValue("max",this.maxDateValue),this.setSelectedValue(this._dateValue)}ngAfterViewInit(){super.ngAfterViewInit(),this.subscribeToDateEditorEvents(),this.subscribeToToggleDirectiveEvents(),this._defaultDropDownOverlaySettings.excludeFromOutsideClick=[this._inputGroup.element.nativeElement],Sn(this.inputDirective.nativeElement,"blur").pipe(Nn(this._destroy$)).subscribe((()=>{this.collapsed&&this.updateValidityOnBlur()})),this.subToIconsClicked(this.clearComponents,(()=>this.clear())),this.clearComponents.changes.pipe(Nn(this._destroy$)).subscribe((()=>this.subToIconsClicked(this.clearComponents,(()=>this.clear())))),this._ngControl&&(this._statusChanges$=this._ngControl.statusChanges.subscribe(this.onStatusChanged.bind(this)),this._inputGroup.isRequired=this.required,this.cdr.detectChanges())}ngOnDestroy(){super.ngOnDestroy(),this._statusChanges$&&this._statusChanges$.unsubscribe()}getEditElement(){return this.dateTimeEditor.nativeElement}open(e){if(this.disabled||!this.toggleRef.collapsed)return;this.setSelectedValue(this._dateValue);let t=Object.assign({},this.isDropdown?this.dropDownOverlaySettings:this.dialogOverlaySettings,e);this.toggleRef.open(t)}close(){this.toggleRef.close()}toggle(e){this.toggleRef.collapsed?this.open(e):this.close()}clear(){if(!this.disabled)if(this.toggleRef.collapsed||this.close(),OS.isValidDate(this.value)){let e=new Date(this.value);this.value.setHours(0,0,0,0),this.value.getTime()!==e.getTime()&&(this.emitValueChange(e,this.value),this._dateValue.setHours(0,0,0,0),this.dateTimeEditor.value=new Date(this.value),this.setSelectedValue(this._dateValue))}else this.value=null}select(e){this.value=e}increment(e,t){this.dateTimeEditor.increment(e,t)}decrement(e,t){this.dateTimeEditor.decrement(e,t)}cancelButtonClick(){this.setSelectedValue(this._dateValue),this.dateTimeEditor.value=this.parseToDate(this.value),this.close()}okButtonClick(){this.updateValue(this._selectedDate),this.close()}onItemClick(e,t){let i=new Date(this._selectedDate);switch(t){case"hourList":{let t,n=parseInt(e,10);if(this.showAmPmList){t=this.getPartValue(i,"ampm"),n=this.toTwentyFourHourFormat(n,t);let e=this.minDropdownValue?.getHours()||0,r=this.maxDropdownValue?.getHours()||24;(n<e||n>r)&&(n=n<12?n+12:n-12)}i.setHours(n),i=this.validateDropdownValue(i),this.valueInRange(i,this.minDropdownValue,this.maxDropdownValue)&&this.setSelectedValue(i);break}case"minuteList":{let t=parseInt(e,10);i.setMinutes(t),i=this.validateDropdownValue(i),this.setSelectedValue(i);break}case"secondsList":{let t=parseInt(e,10);i.setSeconds(t),this.valueInRange(i,this.minDropdownValue,this.maxDropdownValue)&&this.setSelectedValue(i);break}case"ampmList":{let t=this._selectedDate.getHours();t=OS.isAm(e)?t%12:t%12+12,i.setHours(t),i=this.validateDropdownValue(i,!0),this.setSelectedValue(i);break}}this.updateEditorValue()}nextHour(e){e=e>0?1:-1;let t=new Date(this._selectedDate),i=this.minDropdownValue?.getHours(),n=this.maxDropdownValue?.getHours(),r=t.getHours(),s=r+e*this.itemsDelta.hours;(r===n&&e>0||r===i&&e<0)&&(s=this.spinLoop?e>0?i:n:r),this._selectedDate.setHours(s),this._selectedDate=this.validateDropdownValue(this._selectedDate),this._selectedDate=new Date(this._selectedDate),this.updateEditorValue()}nextMinute(e){e=e>0?1:-1;let t=this.minDropdownValue.getHours(),i=this.maxDropdownValue.getHours(),n=this._selectedDate.getHours(),r=this._selectedDate.getMinutes(),s=n===t?this.minDropdownValue.getMinutes():0,o=n===i?this.maxDropdownValue.getMinutes():60%this.itemsDelta.minutes>0?60-60%this.itemsDelta.minutes:60-this.itemsDelta.minutes;e<0&&r===s||e>0&&r===o?r=this.spinLoop&&r===s?o:this.spinLoop&&r===o?s:r:r+=e*this.itemsDelta.minutes,this._selectedDate.setMinutes(r),this._selectedDate=this.validateDropdownValue(this._selectedDate),this._selectedDate=new Date(this._selectedDate),this.updateEditorValue()}nextSeconds(e){e=e>0?1:-1;let t=this.minDropdownValue.getHours(),i=this.maxDropdownValue.getHours(),n=this._selectedDate.getHours(),r=this._selectedDate.getMinutes(),s=this.minDropdownValue.getMinutes(),o=this.maxDropdownValue.getMinutes(),a=this._selectedDate.getSeconds(),l=n===t&&r===s?this.minDropdownValue.getSeconds():0,d=n===i&&r===o?this.maxDropdownValue.getSeconds():60%this.itemsDelta.seconds>0?60-60%this.itemsDelta.seconds:60-this.itemsDelta.seconds;e<0&&a===l||e>0&&a===d?a=this.spinLoop&&a===l?d:this.spinLoop&&a===d?l:a:a+=e*this.itemsDelta.seconds,this._selectedDate.setSeconds(a),this._selectedDate=this.validateDropdownValue(this._selectedDate),this._selectedDate=new Date(this._selectedDate),this.updateEditorValue()}nextAmPm(e){let t=this.getPartValue(this._selectedDate,"ampm");if(!e||OS.isAm(t)&&e>0||OS.isPm(t)&&e<0){let e=this._selectedDate.getHours();e+=12*(e<12?1:-1),this._selectedDate.setHours(e),this._selectedDate=this.validateDropdownValue(this._selectedDate,!0),this._selectedDate=new Date(this._selectedDate),this.updateEditorValue()}}setSelectedValue(e){this._selectedDate=e?new Date(e):null,OS.isValidDate(this._selectedDate)?this.minValue&&OS.lessThanMinValue(this._selectedDate,this.minDropdownValue,!0,!1)?this._selectedDate=new Date(this.minDropdownValue):this.maxValue&&OS.greaterThanMaxValue(this._selectedDate,this.maxDropdownValue,!0,!1)?this._selectedDate=new Date(this.maxDropdownValue):(this._selectedDate.getHours()%this.itemsDelta.hours>0&&this._selectedDate.setHours(this._selectedDate.getHours()+this.itemsDelta.hours-this._selectedDate.getHours()%this.itemsDelta.hours,0,0),this._selectedDate.getMinutes()%this.itemsDelta.minutes>0&&this._selectedDate.setHours(this._selectedDate.getHours(),this._selectedDate.getMinutes()+this.itemsDelta.minutes-this._selectedDate.getMinutes()%this.itemsDelta.minutes,0),this._selectedDate.getSeconds()%this.itemsDelta.seconds>0&&this._selectedDate.setSeconds(this._selectedDate.getSeconds()+this.itemsDelta.seconds-this._selectedDate.getSeconds()%this.itemsDelta.seconds)):this._selectedDate=new Date(this.minDropdownValue)}onStatusChanged(){this._ngControl&&!this._ngControl.disabled&&this.isTouchedOrDirty?this.hasValidators&&this._inputGroup.isFocused?this.inputDirective.valid=this._ngControl.valid?sR.VALID:sR.INVALID:this.inputDirective.valid=this._ngControl.valid?sR.INITIAL:sR.INVALID:this.inputDirective.valid=sR.INITIAL,this._inputGroup&&this._inputGroup.isRequired!==this.required&&(this._inputGroup.isRequired=this.required)}get isTouchedOrDirty(){return this._ngControl.control.touched||this._ngControl.control.dirty}get hasValidators(){return!!this._ngControl.control.validator||!!this._ngControl.control.asyncValidator}setMinMaxDropdownValue(e,t){let i,n="min"===e?1:-1,r=t.getHours(),s=t.getMinutes(),o=t.getSeconds();return this.showHoursList&&r%this.itemsDelta.hours>0?(i="min"===e?this.itemsDelta.hours-r%this.itemsDelta.hours:r%this.itemsDelta.hours,s="min"===e?0:60%this.itemsDelta.minutes>0?60-60%this.itemsDelta.minutes:60-this.itemsDelta.minutes,o="min"===e?0:60%this.itemsDelta.seconds>0?60-60%this.itemsDelta.seconds:60-this.itemsDelta.seconds,t.setHours(r+n*i,s,o)):this.showMinutesList&&s%this.itemsDelta.minutes>0?(i="min"===e?this.itemsDelta.minutes-s%this.itemsDelta.minutes:s%this.itemsDelta.minutes,o="min"===e?0:60%this.itemsDelta.seconds>0?60-60%this.itemsDelta.seconds:60-this.itemsDelta.seconds,t.setHours(r,s+n*i,o)):this.showSecondsList&&o%this.itemsDelta.seconds>0&&(i="min"===e?this.itemsDelta.seconds-o%this.itemsDelta.seconds:o%this.itemsDelta.seconds,t.setHours(r,s,o+n*i)),t}initializeContainer(){requestAnimationFrame((()=>{this.hourList?this.hourList.nativeElement.focus():this.minuteList?this.minuteList.nativeElement.focus():this.secondsList&&this.secondsList.nativeElement.focus()}))}validateDropdownValue(e,t=!1){return e>this.maxDropdownValue&&(t&&e.getHours()!==this.maxDropdownValue.getHours()?e.setHours(12):e=new Date(this.maxDropdownValue)),e<this.minDropdownValue&&(e=new Date(this.minDropdownValue)),e}emitValueChange(e,t){LC(e,t)||this.valueChange.emit(t)}emitValidationFailedEvent(e){let t={owner:this,previousValue:e,currentValue:this.value};this.validationFailed.emit(t)}updateValidityOnBlur(){this._onTouchedCallback(),this._ngControl&&(this._ngControl.valid?this.inputDirective.valid=sR.INITIAL:this.inputDirective.valid=sR.INVALID)}valueInRange(e,t,i){return!(t&&OS.lessThanMinValue(e,t,!0,!1)||i&&OS.greaterThanMaxValue(e,i,!0,!1))}parseToDate(e){return OS.isValidDate(e)?e:OS.parseIsoDate(e)}toTwentyFourHourFormat(e,t){return OS.isPm(t)&&e<12?e+=12:OS.isAm(t)&&12===e&&(e=0),e}updateValue(e){if(this.value)if(MC(this.value)){let t=new Date(this.value);t.setHours(e?.getHours()||0,e?.getMinutes()||0,e?.getSeconds()||0,e?.getMilliseconds()||0),this.value=t}else this.value=e&&this.toISOString(e);else this.value=e&&new Date(e)}updateEditorValue(){let e=this.dateTimeEditor.value?new Date(this.dateTimeEditor.value):new Date;e.setHours(this._selectedDate.getHours(),this._selectedDate.getMinutes(),this._selectedDate.getSeconds(),this._selectedDate.getMilliseconds()),this.dateTimeEditor.value=e}subscribeToDateEditorEvents(){this.dateTimeEditor.valueChange.pipe(Nn(this._destroy$)).subscribe((e=>{this.updateValue(e)})),this.dateTimeEditor.validationFailed.pipe(Nn(this._destroy$)).subscribe((e=>{this.emitValidationFailedEvent(e.oldValue)}))}subscribeToToggleDirectiveEvents(){this.toggleRef&&(this._inputGroup&&this.platform.isBrowser&&(this.toggleRef.element.style.width=this._inputGroup.element.nativeElement.getBoundingClientRect().width+"px"),this.toggleRef.opening.pipe(Nn(this._destroy$)).subscribe((e=>{let t={owner:this,event:e.event,cancel:!1};this.opening.emit(t),e.cancel=t.cancel,!t.cancel&&this.initializeContainer()})),this.toggleRef.opened.pipe(Nn(this._destroy$)).subscribe((()=>{this.opened.emit({owner:this})})),this.toggleRef.closed.pipe(Nn(this._destroy$)).subscribe((()=>{this.closed.emit({owner:this})})),this.toggleRef.closing.pipe(Nn(this._destroy$)).subscribe((e=>{let t={owner:this,event:e.event,cancel:!1};if(this.closing.emit(t),e.cancel=t.cancel,t.cancel)return;let i=this.parseToDate(this.value);this.dateTimeEditor.value?.getTime()!==i?.getTime()&&this.updateValue(this._selectedDate);let n=this.getEditElement();!n||e.event&&this.isDropdown?this.updateValidityOnBlur():n.focus()})))}static{this.ɵfac=function(t){return new(t||e)(lu(zl),lu(uf),lu(fR,8),lu(hl),lu(NC),lu(Cf))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-time-picker"]],contentQueries:function(e,t,i){if(1&e&&(gm(i,lR,5),gm(i,$N,5),gm(i,GN,4)),2&e){let e;mm(e=fm())&&(t.label=e.first),mm(e=fm())&&(t.timePickerActionsDirective=e.first),mm(e=fm())&&(t.clearComponents=e)}},viewQuery:function(e,t){if(1&e&&(pm(Az,5),pm(kz,5),pm(Oz,5),pm(Fz,5),pm(oR,5,oR),pm(Pz,7,Ek),pm(AO,7),pm(SO,5)),2&e){let e;mm(e=fm())&&(t.hourList=e.first),mm(e=fm())&&(t.minuteList=e.first),mm(e=fm())&&(t.secondsList=e.first),mm(e=fm())&&(t.ampmList=e.first),mm(e=fm())&&(t.inputDirective=e.first),mm(e=fm())&&(t._inputGroup=e.first),mm(e=fm())&&(t.dateTimeEditor=e.first),mm(e=fm())&&(t.toggleRef=e.first)}},hostVars:1,hostBindings:function(e,t){1&e&&rm("keydown",(function(e){return t.onKeyDown(e)})),2&e&&$g("id",t.id)},inputs:{id:"id",displayFormat:"displayFormat",inputFormat:"inputFormat",mode:"mode",minValue:"minValue",maxValue:"maxValue",spinLoop:[2,"spinLoop","spinLoop",Hf],formatter:"formatter",headerOrientation:"headerOrientation",readOnly:[2,"readOnly","readOnly",Hf],value:"value",resourceStrings:"resourceStrings",okButtonLabel:"okButtonLabel",cancelButtonLabel:"cancelButtonLabel",itemsDelta:"itemsDelta"},outputs:{selected:"selected",valueChange:"valueChange",validationFailed:"validationFailed"},features:[Pm([{provide:my,useExisting:e,multi:!0},{provide:bz,useExisting:e},{provide:wy,useExisting:e,multi:!0}]),dg],ngContentSelectors:Mz,decls:26,vars:27,consts:[["inputGroup",""],["defaultTimePickerActions",""],["toggleDirective","toggle"],["hourList",""],["timeItem","timeItem"],["minuteList",""],["secondsList",""],["ampmList",""],[3,"type"],["igxInput","","type","text","defaultFormatType","time","role","combobox","aria-haspopup","dialog",3,"click","displayValuePipe","igxDateTimeEditor","readonly","minValue","maxValue","locale","spinDelta","spinLoop","placeholder","disabled","displayFormat","igxTextSelection"],["ngProjectAs","[igxLabel]",5,["","igxLabel",""]],["ngProjectAs","igx-prefix",5,["igx-prefix"]],["ngProjectAs","igx-suffix",5,["igx-suffix"]],["ngProjectAs","igx-hint",5,["igx-hint"]],["igxToggle","","role","dialog",1,"igx-time-picker",3,"ngClass"],[1,"igx-time-picker__main"],[1,"igx-time-picker__header"],[1,"igx-time-picker__body"],[3,"igxItemList"],[4,"ngTemplateOutlet"],[3,"click"],["family","default","name","clock",3,"title"],["family","default","name","input_clear"],[1,"igx-time-picker__buttons"],["type","button","igxButton","flat"],["type","button","igxButton","flat",3,"click"],[1,"igx-time-picker__header-hour"],["aria-label","hour",3,"igxTimeItem"],["aria-label","minutes",3,"igxTimeItem"],["aria-label","seconds",3,"igxTimeItem"],["aria-label","ampm",3,"igxTimeItem"]],template:function(e,t){if(1&e){let e=Kp();lm(Vz),Lp(0,"igx-input-group",8,0)(2,"input",9),rm("click",(function(){return Ko(e),jo(!t.isDropdown&&t.toggle())})),Np(),bg(3,$z,2,1,"igx-prefix"),Bp(4,10),dm(5),Gp(),Bp(6,11),dm(7,1),Gp(),bg(8,Wz,2,0,"igx-suffix"),Bp(9,12),dm(10,2),Gp(),Bp(11,13),dm(12,3),Gp(),Np(),bg(13,qz,1,1,"ng-template",null,1,sf),Lp(15,"div",14,2)(17,"div",15),bg(18,Yz,5,3,"div",16),Lp(19,"div",17),bg(20,Xz,5,12,"div",18)(21,Jz,5,12,"div",18)(22,tB,5,12,"div",18)(23,nB,5,12,"div",18),Np()(),Hp(24,"igx-divider"),bg(25,rB,1,0,"ng-container",19),Np()}if(2&e){let e=vm(14),i=vm(16);rp("type",t.type),Hc(2),rp("displayValuePipe",t.formatter?t.displayValue:null)("igxDateTimeEditor",t.inputFormat)("readonly",!t.isDropdown||t.readOnly)("minValue",t.minValue)("maxValue",t.maxValue)("locale",t.locale)("spinDelta",t.itemsDelta)("spinLoop",t.spinLoop)("placeholder",t.placeholder)("disabled",t.disabled)("displayFormat",t.displayFormat)("igxTextSelection",t.isDropdown&&!t.readOnly),$g("aria-expanded",!i.collapsed)("aria-labelledby",null==t.label?null:t.label.id),Hc(),Ip(t.toggleComponents.length?-1:3),Hc(5),Ip(t.showClearButton?8:-1),Hc(7),rp("ngClass",Lm(24,Lz,t.isDropdown,t.isVertical&&!t.isDropdown)),Hc(3),Ip(t.isDropdown?-1:18),Hc(2),Ip(t.showHoursList?20:-1),Hc(),Ip(t.showMinutesList?21:-1),Hc(),Ip(t.showSecondsList?22:-1),Hc(),Ip(t.showAmPmList?23:-1),Hc(2),rp("ngTemplateOutlet",t.timePickerActionsDirective?t.timePickerActionsDirective.template:e)}},dependencies:[Ek,oR,AO,_O,dR,DA,cR,mR,SO,jv,Dz,Ez,qv,Iz,Rz,Ak],styles:["[_nghost-%COMP%]{display:block}"]})}}return e})(),aB=(()=>{class e{transform(e,t,i,n){return t(e,i,n)}static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵpipe=sg({name:"fieldFormatter",type:e,pure:!0})}}return e})(),lB=class{constructor(e){this.parent=e}},dB=class extends lB{constructor(e,t){super(t),this.operator=e,this.children=[]}},cB=class extends lB{constructor(e,t){super(t),this.expression=e}},hB="igx-drag-indicator",uB="igx-chip__ghost",gB=(()=>{class e{constructor(){this._keyDragCurrentIndex=0,this._keyDragInitialIndex=0,this._isKeyDragsFirstMove=!0}get getDragGhostElement(){return document.querySelector(`.${uB}[ghostclass="${uB}"]`)}get getDropGhostElement(){return this._queryBuilderTreeComponent.expressionsChips.find((e=>e.data===this.dropGhostExpression))}get getMainExpressionTree(){return this._queryBuilderTreeComponentElRef.nativeElement.querySelector(".igx-filter-tree")}register(e,t){this._queryBuilderTreeComponent=e,this._queryBuilderTreeComponentElRef=t}onMoveStart(e,t,i){this.resetDragAndDrop(!0),this._queryBuilderTreeComponent._expressionTreeCopy=this._queryBuilderTreeComponent._expressionTree,this.isKeyboardDrag=i,this._sourceExpressionItem=t,this._sourceElement=e,this.listenToKeyboard(),this.isKeyboardDrag||(this._sourceElement.style.display="none",this.setDragGhostZIndex())}onMoveEnd(){!this._sourceElement||!this._sourceExpressionItem||(this.dropGhostExpression?this.onChipDropped():this.resetDragAndDrop(!0),this._ghostChipMousemoveSubscription$?.unsubscribe(),this._keyboardSubscription$?.unsubscribe())}onChipEnter(e,t){if(!this._sourceElement||!this._sourceExpressionItem||t===this.dropGhostExpression)return;this._targetExpressionItem&&this.resetDragAndDrop(!1),this._targetExpressionItem=t;let i=this.ghostInLowerPart(e);this.renderDropGhostChip(i)}onDivOver(e,t){this._targetExpressionItem===t?this.onChipOver(e):this.onChipEnter(e,t)}onChipOver(e){if(!this._sourceElement||!this._sourceExpressionItem)return;let t=this.ghostInLowerPart(e);this.renderDropGhostChip(t)}onChipLeave(){!this._sourceElement||!this._sourceExpressionItem||this.dragGhostIsOnDropGhostRow()||this._targetExpressionItem&&this.resetDragAndDrop(!1)}onDivDropped(e){e!==this._sourceExpressionItem&&this.onChipDropped()}onChipDropped(){if(!this._sourceElement||!this._sourceExpressionItem)return;let[e,t]=this.countChipsBeforeDropLocation(this._queryBuilderTreeComponent.rootGroup);this._queryBuilderTreeComponent.deleteItem(this._sourceExpressionItem),this.dropGhostExpression=null,this._queryBuilderTreeComponent.focusChipAfterDrag(e),this.resetDragAndDrop(!0),this._queryBuilderTreeComponent.exitEditAddMode()}onGroupRootOver(e,t){if(!this._sourceElement||!this._sourceExpressionItem)return;let i;i=this.ghostInLowerPart(e)||!t.parent?t.children[0]!==this.dropGhostExpression?t.children[0]:t.children[1]:t,this._targetExpressionItem!==i&&(this.resetDragAndDrop(!1),this._targetExpressionItem=i,this.renderDropGhostChip(!1))}onAddConditionEnter(e,t){if(!this._sourceElement||!this._sourceExpressionItem)return;let i=e.parentElement.previousElementSibling.lastElementChild;this.onChipEnter(i,t.children[t.children.length-1])}onChipDragIndicatorFocus(e,t){this.getDropGhostElement||this.onMoveStart(e,t,!0)}onChipDragIndicatorFocusOut(){"none"!==this._sourceElement?.style?.display&&(this.resetDragAndDrop(!0),this._keyboardSubscription$?.unsubscribe())}onDragFocusOut(){this.isKeyboardDrag&&this.getDropGhostElement&&setTimeout((()=>{-1===document.activeElement.className.indexOf(hB)&&(this.resetDragAndDrop(!0),this._keyboardSubscription$?.unsubscribe())}),0)}dragGhostIsOnDropGhostRow(){let e=this.getDragGhostElement.getBoundingClientRect(),t=this.getDropGhostElement?.nativeElement?.parentElement.getBoundingClientRect();if(!e||!t)return!1;let i=e.bottom-e.top;return!(e.bottom<t.top-i||e.top>t.bottom+i)}ghostInLowerPart(e){let t=this.getDragGhostElement.getBoundingClientRect(),i=e.getBoundingClientRect();return(t.top+t.bottom)/2>=(i.top+i.bottom)/2}renderDropGhostChip(e){if(e!==this._dropUnder||this.isKeyboardDrag){this.clearDropGhost();let t=Qe({},this._sourceExpressionItem);t.parent=this._targetExpressionItem.parent,this.dropGhostExpression=t,this._dropUnder=e;let i=this._targetExpressionItem.parent.children.indexOf(this._targetExpressionItem);this._targetExpressionItem.parent.children.splice(i+(this._dropUnder?1:0),0,t)}if(this.isKeyboardDrag&&setTimeout((()=>{let e=this.getDropGhostElement?.nativeElement?.querySelector(`.${hB}`);e&&e.focus()}),0),!this.isKeyboardDrag&&this.getDragGhostElement&&(!this._ghostChipMousemoveSubscription$||!0===this._ghostChipMousemoveSubscription$?.closed)){let e=Sn(this.getDragGhostElement,"mousemove");this._ghostChipMousemoveSubscription$=e.pipe(function(e,t=Oi){return function(e){return vi(((t,i)=>{let n=!1,r=null;t.subscribe(yi(i,(e=>{n=!0,r=e}))),Qi(e).subscribe(yi(i,(()=>{if(n){n=!1;let e=r;r=null,i.next(e)}}),ei))}))}(En(e,t))}(100)).subscribe((()=>{this.getDropGhostElement&&this.onChipLeave()}))}this.setDragCursor("grab")}setDragCursor(e){this.getDragGhostElement&&(this.getDragGhostElement.style.cursor=e)}clearDropGhost(){if(this.dropGhostExpression){let e=this.dropGhostExpression.parent.children,t=e.indexOf(this.dropGhostExpression);e.splice(t,1),this.dropGhostExpression=null}}resetDragAndDrop(e){this._targetExpressionItem=null,this._dropUnder=null,this.clearDropGhost(),this._keyDragInitialIndex=0,this._keyDragCurrentIndex=0,this._possibleDropLocations=null,this._isKeyDragsFirstMove=!0,this.setDragCursor("no-drop"),this._queryBuilderTreeComponent._expressionTreeCopy&&(this._queryBuilderTreeComponent._expressionTree=this._queryBuilderTreeComponent._expressionTreeCopy),(e||this.isKeyboardDrag)&&this._sourceElement&&(this._sourceElement.style.display=""),e&&(this._queryBuilderTreeComponent._expressionTreeCopy=null,this._sourceExpressionItem=null,this._sourceElement=null)}listenToKeyboard(){this._keyboardSubscription$?.unsubscribe(),this._keyboardSubscription$=Sn(this.getMainExpressionTree,"keydown").pipe(Rn((e=>["ArrowUp","ArrowDown","Enter","Space","Escape","Tab"].includes(e.key)))).pipe(Rn((e=>!e.repeat))).subscribe((e=>{"Escape"===e.key?(this.resetDragAndDrop(!1),this.isKeyboardDrag&&this._sourceElement.firstElementChild.firstElementChild.firstElementChild.firstElementChild.focus()):"ArrowUp"===e.key||"ArrowDown"===e.key?this.arrowDrag(e.key):("Enter"===e.key||"Space"===e.key)&&(this.onChipDropped(),this._keyboardSubscription$.unsubscribe())}))}arrowDrag(e){if(!this._sourceElement||!this._sourceExpressionItem)return;let t=this._queryBuilderTreeComponent.rootGroup;this._isKeyDragsFirstMove&&(this._possibleDropLocations=this.getPossibleDropLocations(t,!0),this._keyDragInitialIndex=this._possibleDropLocations.findIndex((e=>e[0]===this._sourceExpressionItem&&!0===e[1])),this._keyDragCurrentIndex=this._keyDragInitialIndex,-1===this._keyDragInitialIndex&&console.error("Dragged expression not found"),this._sourceElement.style.display="none");let i=this._keyDragCurrentIndex;if("ArrowUp"===e)i&&i--;else{if("ArrowDown"!==e)return void console.error("wrong key");i<this._possibleDropLocations.length-1&&i++}if(i!==this._keyDragCurrentIndex||this._isKeyDragsFirstMove){this._keyDragCurrentIndex=i;let t=this._possibleDropLocations[this._keyDragCurrentIndex];this._targetExpressionItem=t[0],this.renderDropGhostChip(t[1]),(this._keyDragCurrentIndex===this._keyDragInitialIndex||this._isKeyDragsFirstMove&&this._keyDragCurrentIndex===this._keyDragInitialIndex-1)&&(this._isKeyDragsFirstMove=!1,this.arrowDrag(e)),this._isKeyDragsFirstMove=!1}}getPossibleDropLocations(e,t){let i=new Array;i.push([e.children[0],!1]);for(let t=0;t<e.children.length;t++)e.children[t]instanceof dB?i.push(...this.getPossibleDropLocations(e.children[t],!1)):i.push([e.children[t],!0]);return t||i.push([e,!0]),i}countChipsBeforeDropLocation(e){let t=0,i=0,n=!1;for(let r=0;r<e.children.length;r++){let s=e.children[r];if(n)break;s instanceof dB?s===this._targetExpressionItem?(this._dropUnder&&([t]=this.countChipsBeforeDropLocation(s),i+=t),n=!0):([t,n]=this.countChipsBeforeDropLocation(s),i+=t):(s!==this._sourceExpressionItem&&s!==this.dropGhostExpression&&!(s.inEditMode&&!0!==this._queryBuilderTreeComponent.operandCanBeCommitted())&&i++,s===this._targetExpressionItem&&(n=!0,!this._dropUnder&&(!s.inEditMode||!0===this._queryBuilderTreeComponent.operandCanBeCommitted())&&i--))}return-1===i&&i++,[i,n]}setDragGhostZIndex(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=setTimeout((()=>{this.getDragGhostElement?.style&&(this.getDragGhostElement.style.zIndex="10010")}),10)}static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵprov=ir({token:e,factory:e.ɵfac})}}return e})(),pB=["entitySelect"],mB=["editingInputs"],fB=["returnFieldsCombo"],vB=["returnFieldSelect"],yB=["fieldSelect"],xB=["conditionSelect"],_B=["searchValueInput"],wB=["picker"],CB=["addRootAndGroupButton"],SB=["addConditionButton"],bB=["entityChangeDialog"],DB=["addOptionsDropDown"],EB=["groupContextMenuDropDown"],TB=["editingInputsContainer"],IB=["currentGroupButtonsContainer"],RB=["expressionsContainer"],AB=["overlayOutlet"],kB=e=>({"igx-drop-down__item--selected":e}),OB=e=>({"igx-filter-tree__expression-item":!0,"igx-filter-tree__expression-item-keyboard-ghost":e}),FB=()=>[],PB=(e,t)=>({"igx-filter-tree__line--and":e,"igx-filter-tree__line--or":t}),VB=(e,t)=>({"igx-filter-tree__button--and":e,"igx-filter-tree__button--or":t}),MB=(e,t)=>t.name,LB=(e,t)=>t.field;function NB(e,t){return this.trackExpressionItem(t)}function HB(e,t){1&e&&Hp(0,"igx-icon",38)}function zB(e,t){1&e&&Hp(0,"igx-icon",39)}function BB(e,t){if(1&e&&(Lp(0,"igx-select-item",44),ym(1),Np()),2&e){let e=t.$implicit;rp("value",e),Hc(),wm(" ",e.name," ")}}function GB(e,t){if(1&e&&(Lp(0,"span",42),ym(1),Np()),2&e){let e=om(2);Hc(),_m(e.resourceStrings.igx_query_builder_select_label)}}function $B(e,t){if(1&e){let e=Kp();Lp(0,"div",49),rm("click",(function(){return Ko(e),jo(om(3).onSelectAllClicked())})),Hp(1,"igx-checkbox",50),Lp(2,"div",51),ym(3),Np()()}if(2&e){let e=om(3);rp("ngClass",Mm(7,kB,e.selectedEntity&&e.selectedReturnFields&&e.selectedEntity.fields.length===e.selectedReturnFields.length)),Hc(),rp("checked",e.selectedEntity&&e.selectedReturnFields&&e.selectedEntity.fields.length===e.selectedReturnFields.length)("indeterminate",e.selectedEntity&&e.selectedReturnFields&&e.selectedReturnFields.length>0&&e.selectedReturnFields.length<(null==e.selectedEntity.fields?null:e.selectedEntity.fields.length))("readonly",!0)("disableRipple",!0)("tabindex",-1),Hc(2),wm(" ",e.resourceStrings.igx_query_builder_select_all," ")}}function WB(e,t){if(1&e){let e=Kp();Lp(0,"igx-combo",47,10),Em("ngModelChange",(function(t){Ko(e);let i=om(2);return Dm(i.selectedReturnFields,t)||(i.selectedReturnFields=t),jo(t)})),rm("selectionChanging",(function(t){return Ko(e),jo(om(2).onReturnFieldSelectChanging(t))}))("opening",(function(){return Ko(e),jo(om(2).exitEditAddMode())})),bg(2,$B,4,9,"ng-template",48),Np()}if(2&e){let e=om(2);op("display",e.isInEditMode()?"block":"none"),cm("searchPlaceholder",e.resourceStrings.igx_query_builder_search),rp("itemsMaxHeight",250)("data",e.fields)("displayKey","field")("valueKey","field")("disabled",e.disableReturnFieldsChange),bm("ngModel",e.selectedReturnFields),rp("overlaySettings",e.returnFieldSelectOverlaySettings)("placeholder",e.resourceStrings.igx_query_builder_select_return_fields)}}function KB(e,t){if(1&e&&(Lp(0,"igx-select-item",44),ym(1),Np()),2&e){let e=t.$implicit;rp("value",e.field),Hc(),wm(" ",e.field," ")}}function jB(e,t){if(1&e){let e=Kp();Lp(0,"igx-select",52,11),rm("selectionChanging",(function(t){return Ko(e),jo(om(2).onReturnFieldSelectChanging(t))}))("opening",(function(){return Ko(e),jo(om(2).exitEditAddMode())})),Op(2,KB,2,2,"igx-select-item",44,LB),Np()}if(2&e){let e=om(2);op("display",e.isInEditMode()?"block":"none"),rp("overlaySettings",e.returnFieldSelectOverlaySettings)("disabled",!e.selectedEntity)("ngModel",e.selectedReturnFields?e.selectedReturnFields[0]:null)("placeholder",e.resourceStrings.igx_query_builder_select_return_field_single),Hc(2),Pp(e.fields)}}function UB(e,t){if(1&e){let e=Kp();Lp(0,"div",40)(1,"div",41)(2,"span",42),ym(3),Np(),Lp(4,"igx-select",43,9),rm("selectionChanging",(function(t){return Ko(e),jo(om().onEntitySelectChanging(t))}))("opening",(function(){return Ko(e),jo(om().exitEditAddMode(!0))})),Op(6,BB,2,2,"igx-select-item",44,MB),Np()(),Lp(8,"div",41),bg(9,GB,2,1,"span",42)(10,WB,3,11,"igx-combo",45)(11,jB,4,6,"igx-select",46),Np()()}if(2&e){let e=om();op("display",!e.isInEditMode()||e.isAdvancedFiltering()&&!e.isHierarchicalNestedQuery()?"none":"flex"),Hc(3),_m(e.resourceStrings.igx_query_builder_from_label),Hc(),op("display",e.isInEditMode()?"block":"none"),rp("overlaySettings",e.entitySelectOverlaySettings)("ngModel",e.selectedEntity)("placeholder",e.resourceStrings.igx_query_builder_select_entity)("disabled",e.disableEntityChange),Hc(2),Pp(e.entities),Hc(3),Ip(e.isHierarchicalNestedQuery()?-1:9),Hc(),Ip(e.parentExpression?11:10)}}function qB(e,t){1&e&&$p(0)}function YB(e,t){1&e&&$p(0)}function ZB(e,t){1&e&&$p(0)}function XB(e,t){if(1&e){let e=Kp();Lp(0,"button",55),rm("click",(function(){Ko(e);let t=om(),i=t.$implicit,n=t.afterExpression;return jo(om().addReverseGroup(i,n))})),bg(1,ZB,1,0,"ng-container",32),Lp(2,"span"),ym(3),Np()()}if(2&e){let e=om(2),t=vm(1);rp("disabled",e.hasEditedExpression),Hc(),rp("ngTemplateOutlet",t),Hc(2),_m(e.resourceStrings.igx_query_builder_add_group_root)}}function QB(e,t){if(1&e){let e=Kp();Lp(0,"button",53,12),rm("click",(function(){let t=Ko(e),i=t.$implicit,n=t.afterExpression;return jo(om().addCondition(i,n,!0))}))("enter",(function(){let t=Ko(e).$implicit,i=vm(1);return jo(om().dragService.onAddConditionEnter(i,t))}))("leave",(function(){return Ko(e),jo(om().dragService.onChipLeave())})),bg(2,YB,1,0,"ng-container",32),Lp(3,"span"),ym(4),Np()(),bg(5,XB,4,3,"button",54)}if(2&e){let e=om(),t=vm(1);rp("disabled",e.hasEditedExpression),Hc(2),rp("ngTemplateOutlet",t),Hc(2),_m(e.resourceStrings.igx_query_builder_add_condition_root),Hc(),Ip(e.rootGroup?5:-1)}}function JB(e,t){if(1&e&&(Lp(0,"div",58)(1,"igx-chip",60),ym(2),Np()()),2&e){let e=om(2).$implicit,t=om();Hc(),rp("data",e),Hc(),wm(" ",t.resourceStrings.igx_query_builder_drop_ghost_text," ")}}function eG(e,t){if(1&e&&(Bp(0),Lp(1,"strong"),ym(2),Np(),ym(3),Gp()),2&e){let e=om(4).$implicit,t=om();Hc(2),_m(e.expression.searchTree.entity),Hc(),wm(" / ",t.formatReturnFields(e.expression.searchTree)," ")}}function tG(e,t){if(1&e&&(ym(0),Xm(1,"fieldFormatter")),2&e){let e=om(6).$implicit,t=om();wm(" ",ef(1,1,e.expression.searchVal,t.getFormatter(e.expression.fieldName),void 0)," ")}}function iG(e,t){if(1&e&&(ym(0),Xm(1,"date")),2&e){let e=om(6).$implicit,t=om();wm(" ",tf(1,1,e.expression.searchVal,t.getFormat(e.expression.fieldName),void 0,t.locale)," ")}}function nG(e,t){if(1&e&&bg(0,tG,2,5)(1,iG,2,6),2&e){let e=om(5).$implicit;Ip(om().getFormatter(e.expression.fieldName)?0:1)}}function rG(e,t){if(1&e&&(ym(0),Xm(1,"fieldFormatter")),2&e){let e=om(6).$implicit,t=om();wm(" ",ef(1,1,e.expression.searchVal,t.getFormatter(e.expression.fieldName),e.expression.conditionName||(null==e.expression.condition?null:e.expression.condition.name))," ")}}function sG(e,t){1&e&&ym(0),2&e&&wm(" ",om(6).$implicit.expression.searchVal," ")}function oG(e,t){if(1&e&&bg(0,rG,2,5)(1,sG,1,1),2&e){let e=om(5).$implicit;Ip(om().getFormatter(e.expression.fieldName)?0:1)}}function aG(e,t){if(1&e&&(Bp(0),bg(1,nG,2,1)(2,oG,2,1),Gp()),2&e){let e=om(4).$implicit,t=om();Hc(),Ip(t.isDate(e.expression.searchVal)?1:2)}}function lG(e,t){if(1&e&&(Lp(0,"span"),bg(1,eG,4,2,"ng-container")(2,aG,3,1,"ng-container"),Np()),2&e){let e=om(3).$implicit;Hc(),Ip(e.expression.searchTree?1:2)}}function dG(e,t){1&e&&ym(0),2&e&&wm(" ",om(3).$implicit.expression.searchTree.returnFields.join(", ")," ")}function cG(e,t){if(1&e&&ym(0),2&e){let e=om(3).$implicit;wm(" ",om().getConditionFriendlyName(null==e.expression.condition?null:e.expression.condition.name)," ")}}function hG(e,t){if(1&e&&(ym(0),Xm(1,"fieldFormatter")),2&e){let e=om(4).$implicit,t=om();wm(" ",ef(1,1,e.expression.searchVal,t.getFormatter(e.expression.fieldName),e.expression.conditionName||(null==e.expression.condition?null:e.expression.condition.name))," ")}}function uG(e,t){1&e&&ym(0),2&e&&wm(" ",om(4).$implicit.expression.searchVal," ")}function gG(e,t){if(1&e&&bg(0,hG,2,5)(1,uG,1,1),2&e){let e=om(3).$implicit;Ip(om().getFormatter(e.expression.fieldName)?0:1)}}function pG(e,t){if(1&e){let e=Kp();Lp(0,"div",67)(1,"button",68,17),rm("keydown",(function(t){return Ko(e),jo(om(4).invokeClick(t))}))("click",(function(){Ko(e);let t=vm(2);om();let i=vm(3);return jo(om(3).clickExpressionAdd(t,i))}))("blur",(function(){return Ko(e),jo(om(4).addExpressionBlur())})),Hp(3,"igx-icon",69),Np(),Lp(4,"igx-drop-down",70,18),rm("selectionChanging",(function(t){Ko(e);let i=om(3).$implicit;return jo(om().enterExpressionAdd(t,i))})),Lp(6,"igx-drop-down-item",44)(7,"span"),ym(8),Np()(),Lp(9,"igx-drop-down-item",44)(10,"span"),ym(11),Np()()()()}if(2&e){let e=vm(5),t=om(4);Hc(),rp("igxDropDownItemNavigation",e),Hc(5),rp("value","addCondition"),Hc(2),_m(t.resourceStrings.igx_query_builder_add_condition),Hc(),rp("value","addGroup"),Hc(2),_m(t.resourceStrings.igx_query_builder_add_group)}}function mG(e,t){if(1&e){let e=Kp();Lp(0,"div",61,14),rm("enter",(function(){Ko(e);let t=vm(1),i=om(2).$implicit;return jo(om().dragService.onChipEnter(t,i))}))("over",(function(){Ko(e);let t=vm(1),i=om(2).$implicit;return jo(om().dragService.onDivOver(t,i))}))("leave",(function(){return Ko(e),jo(om(3).dragService.onChipLeave())}))("dropped",(function(){Ko(e);let t=om(2).$implicit;return jo(om().dragService.onDivDropped(t))}))("mouseenter",(function(){return Ko(e),jo(om(2).$implicit.hovered=!0)}))("mouseleave",(function(){return Ko(e),jo(om(2).$implicit.hovered=!1)}))("focusin",(function(){Ko(e);let t=om(2).$implicit;return jo(om().onExpressionFocus(t))}))("focusout",(function(t){Ko(e);let i=om(2).$implicit;return jo(om().onExpressionBlur(t,i))})),Lp(2,"igx-chip",62,15),rm("moveStart",(function(){Ko(e);let t=vm(1),i=om(2).$implicit;return jo(om().dragService.onMoveStart(t,i,!1))}))("moveEnd",(function(){return Ko(e),jo(om(3).dragService.onMoveEnd())}))("dragEnter",(function(){Ko(e);let t=vm(1),i=om(2).$implicit;return jo(om().dragService.onChipEnter(t,i))}))("dragOver",(function(){Ko(e);let t=vm(1);return jo(om(3).dragService.onChipOver(t))}))("dragLeave",(function(){return Ko(e),jo(om(3).dragService.onChipLeave())}))("dragDrop",(function(){return Ko(e),jo(om(3).dragService.onChipDropped())}))("keydown",(function(t){return Ko(e),jo(om(3).invokeClick(t))}))("click",(function(){Ko(e);let t=vm(3),i=om(2).$implicit;return jo(om().onChipClick(i,t))}))("remove",(function(){Ko(e);let t=om(2).$implicit;return jo(om().onChipRemove(t))})),Lp(5,"igx-icon",63),rm("focus",(function(){Ko(e);let t=vm(1),i=om(2).$implicit;return jo(om().dragService.onChipDragIndicatorFocus(t,i))}))("focusout",(function(){return Ko(e),jo(om(3).dragService.onChipDragIndicatorFocusOut())})),Np(),Lp(6,"span",64),ym(7),Np(),Lp(8,"span",65),ym(9),Np(),bg(10,lG,3,1,"span"),Np(),Lp(11,"div",66,16),bg(13,dG,1,1)(14,cG,1,1)(15,gG,2,1),Np(),bg(16,pG,12,5,"div",67),Np()}if(2&e){let e=vm(12),t=om(2).$implicit,i=om();rp("ngClass",Mm(12,OB,t===i.dragService.dropGhostExpression)),Hc(2),rp("draggable",!0)("hideBaseOnDrag",!1)("animateOnRelease",!1)("igxTooltipTarget",e)("data",t)("removable",i.isInEditMode()?"true":"false"),Hc(5),wm(" ",t.fieldLabel||t.expression.fieldName," "),Hc(2),wm(" ",i.getConditionFriendlyName(null==t.expression.condition?null:t.expression.condition.name)," "),Hc(),Ip(null!=t.expression.condition&&t.expression.condition.isUnary?-1:10),Hc(3),Ip(t.expression.searchTree?13:null!=t.expression.condition&&t.expression.condition.isUnary?14:15),Hc(3),Ip(t.focused||t.hovered?16:-1)}}function fG(e,t){if(1&e&&bg(0,JB,3,2,"div",58)(1,mG,17,14,"div",59),2&e){let e=om().$implicit,t=om();Ip(t.dragService.dropGhostExpression&&e===t.dragService.dropGhostExpression&&!1===t.dragService.isKeyboardDrag?0:1)}}function vG(e,t){if(1&e&&(Lp(0,"igx-select-item",44),ym(1),Np()),2&e){let e=t.$implicit;rp("value",e),Hc(),wm(" ",e.label||e.header||e.field," ")}}function yG(e,t){if(1&e&&(Lp(0,"igx-prefix"),Hp(1,"igx-icon",80),Np()),2&e){om();let e=vm(7),t=om(2);Hc(),rp("name",t.selectedField.filters.condition(e.value).iconName)}}function xG(e,t){if(1&e&&(Lp(0,"igx-select-item",74)(1,"div",81),Hp(2,"igx-icon",80),Lp(3,"span",82),ym(4),Np()()()),2&e){let e=t.$implicit,i=om(3);rp("value",e)("text",i.getConditionFriendlyName(e)),Hc(2),rp("name",i.selectedField.filters.condition(e).iconName),Hc(2),_m(i.getConditionFriendlyName(e))}}function _G(e,t){1&e&&$p(0)}function wG(e,t){if(1&e){let e=Kp();Lp(0,"igx-input-group",83)(1,"input",86,23),Em("ngModelChange",(function(t){Ko(e);let i=om(4);return Dm(i.searchValue.value,t)||(i.searchValue.value=t),jo(t)})),Np()()}if(2&e){let e=om(4);Hc(),rp("disabled",e.isSearchValueInputDisabled())("placeholder","inQuery"===e.selectedCondition||"notInQuery"===e.selectedCondition?e.resourceStrings.igx_query_builder_query_value_placeholder:e.resourceStrings.igx_query_builder_value_placeholder)("type",e.selectedField&&"number"===e.selectedField.dataType?"number":"text"),bm("ngModel",e.searchValue.value)}}function CG(e,t){if(1&e){let e=Kp();Lp(0,"igx-date-picker",87,24),Em("valueChange",(function(t){Ko(e);let i=om(4);return Dm(i.searchValue.value,t)||(i.searchValue.value=t),jo(t)})),rm("keydown",(function(t){return Ko(e),jo(om(4).openPicker(t))}))("click",(function(){return Ko(e),jo(vm(1).open())})),Hp(2,"igx-picker-toggle")(3,"igx-picker-clear"),Np()}if(2&e){let e=om(4);bm("value",e.searchValue.value),rp("readOnly",!0)("disabled",e.isSearchValueInputDisabled())("locale",e.locale)("outlet",e.pickerOutlet)("formatter",e.selectedField.formatter)("displayFormat",e.selectedField.pipeArgs.format)("weekStart",e.selectedField.pipeArgs.weekStart)("placeholder",e.resourceStrings.igx_query_builder_date_placeholder)}}function SG(e,t){if(1&e){let e=Kp();Lp(0,"igx-time-picker",88,24),Em("valueChange",(function(t){Ko(e);let i=om(4);return Dm(i.searchValue.value,t)||(i.searchValue.value=t),jo(t)})),rm("click",(function(){return Ko(e),jo(vm(1).open())}))("keydown",(function(t){return Ko(e),jo(om(4).openPicker(t))})),Hp(2,"igx-picker-toggle")(3,"igx-picker-clear"),Np()}if(2&e){let e=om(4);bm("value",e.searchValue.value),rp("readOnly",!0)("disabled",e.isSearchValueInputDisabled())("locale",e.locale)("outlet",e.pickerOutlet)("formatter",e.selectedField.formatter)("displayFormat",e.selectedField.pipeArgs.format)("inputFormat",null==e.selectedField.editorOptions?null:e.selectedField.editorOptions.dateTimeFormat)("placeholder",e.resourceStrings.igx_query_builder_time_placeholder)}}function bG(e,t){if(1&e){let e=Kp();Lp(0,"igx-input-group",83,25)(2,"input",89,26),Em("ngModelChange",(function(t){Ko(e);let i=om(4);return Dm(i.searchValue.value,t)||(i.searchValue.value=t),jo(t)})),Np()()}if(2&e){let e=om(4);Hc(2),rp("placeholder",e.resourceStrings.igx_query_builder_datetime_placeholder),bm("ngModel",e.searchValue.value),rp("disabled",e.isSearchValueInputDisabled())("locale",e.locale)("igxDateTimeEditor",null==e.selectedField.editorOptions?null:e.selectedField.editorOptions.dateTimeFormat)("defaultFormatType",e.selectedField.dataType)("displayFormat",e.selectedField.pipeArgs.format)}}function DG(e,t){if(1&e&&bg(0,wG,3,4,"igx-input-group",83)(1,CG,4,9,"igx-date-picker",84)(2,SG,4,9,"igx-time-picker",85)(3,bG,4,7,"igx-input-group",83),2&e){let e=om(3);Ip(!e.selectedField||"date"!==e.selectedField.dataType&&"time"!==e.selectedField.dataType&&"dateTime"!==e.selectedField.dataType?0:e.selectedField&&"date"===e.selectedField.dataType?1:e.selectedField&&"time"===e.selectedField.dataType?2:e.selectedField&&"dateTime"===e.selectedField.dataType?3:-1)}}function EG(e,t){1&e&&$p(0)}function TG(e,t){if(1&e){let e=Kp();Lp(0,"div",71,19),rm("enter",(function(){Ko(e);let t=om().$implicit,i=vm(2);return jo(om().dragService.onChipEnter(i,t))}))("over",(function(){Ko(e);let t=om().$implicit,i=vm(2);return jo(om().dragService.onChipEnter(i,t))}))("leave",(function(){return Ko(e),jo(om(2).dragService.onChipLeave())}))("dropped",(function(){Ko(e);let t=om().$implicit;return jo(om().dragService.onDivDropped(t))})),Lp(2,"igx-select",72,20),Em("ngModelChange",(function(t){Ko(e);let i=om(2);return Dm(i.selectedField,t)||(i.selectedField=t),jo(t)})),Op(4,vG,2,2,"igx-select-item",44,Ap),Np(),Lp(6,"igx-select",73,21),Em("ngModelChange",(function(t){Ko(e);let i=om(2);return Dm(i.selectedCondition,t)||(i.selectedCondition=t),jo(t)})),rm("selectionChanging",(function(t){return Ko(e),jo(om(2).onConditionSelectChanging(t))})),bg(8,yG,2,1,"igx-prefix"),Op(9,xG,5,4,"igx-select-item",74,Ap),Np(),bg(11,_G,1,0,"ng-container",75)(12,DG,4,1,"ng-template",null,22,sf),Lp(14,"div",76)(15,"button",77),rm("click",(function(){return Ko(e),jo(om(2).commitExpression())})),Hp(16,"igx-icon",78),Np(),Lp(17,"button",79),rm("click",(function(){Ko(e);let t=om().$implicit;return jo(om().discardExpression(t))})),bg(18,EG,1,0,"ng-container",32),Np()()()}if(2&e){let e=vm(7),t=vm(13),i=om(2),n=vm(3);Hc(2),rp("overlaySettings",i.fieldSelectOverlaySettings),bm("ngModel",i.selectedField),rp("disabled",!i.fields)("placeholder",i.resourceStrings.igx_query_builder_column_placeholder),Hc(2),Pp(i.fields),Hc(2),rp("overlaySettings",i.conditionSelectOverlaySettings),bm("ngModel",i.selectedCondition),rp("disabled",!i.selectedField)("placeholder",i.resourceStrings.igx_query_builder_condition_placeholder),Hc(2),Ip(i.selectedField&&e.value&&i.selectedField.filters.condition(e.value)?8:-1),Hc(),Pp(i.getConditionList()),Hc(2),rp("ngTemplateOutlet",i.searchValueTemplate?i.searchValueTemplate:t)("ngTemplateOutletContext",i.getSearchValueTemplateContext(t)),Hc(4),rp("disabled",!i.operandCanBeCommitted()),Hc(3),rp("ngTemplateOutlet",n)}}function IG(e,t){if(1&e){let e=Kp();Bp(0),Lp(1,"igx-query-builder-tree",90),rm("inEditModeChange",(function(t){return Ko(e),jo(om(2).onInEditModeChanged(t))})),Np(),Gp()}if(2&e){let e,t,i=om().$implicit,n=om();Hc(),op("display",i.inEditMode||i.expanded?"block":"none"),rp("entities",null!==(e=n.selectedEntity?n.selectedEntity.childEntities:null==n.entities||null==n.entities[0]?null:n.entities[0].childEntities)&&void 0!==e||null!==(e=n.entities)&&void 0!==e?e:Vm(8,FB))("queryBuilder",n.queryBuilder)("parentExpression",i)("expectedReturnField",null==n.selectedField?null:n.selectedField.field)("expressionTree",i.inEditMode?null!==(t=n.innerQueryNewExpressionTree)&&void 0!==t?t:n.getExpressionTreeCopy(i.expression.searchTree,!0):i.expression.searchTree)("searchValueTemplate",n.searchValueTemplate)}}function RG(e,t){if(1&e&&(bg(0,fG,2,1),Lp(1,"div",56,13),bg(3,TG,19,13,"div",57)(4,IG,2,9,"ng-container"),Np()),2&e){let e,i=t.$implicit,n=om();Ip(i.inEditMode?-1:0),Hc(3),Ip(i.inEditMode?3:-1),Hc(),Ip(!i.inEditMode&&i.expression.searchTree&&(null==i.expression.searchTree.filteringOperands?null:i.expression.searchTree.filteringOperands.length)>0||i.inEditMode&&null!=n.selectedField&&null!=n.selectedField.filters&&null!=(e=n.selectedField.filters.condition(n.selectedCondition))&&e.isNestedQuery?4:-1)}}function AG(e,t){1&e&&$p(0)}function kG(e,t){if(1&e&&(Bp(0),bg(1,AG,1,0,"ng-container",75),Gp()),2&e){let e=t.$implicit,i=om(2),n=vm(12),r=vm(14);Hc(),rp("ngTemplateOutlet",i.isExpressionGroup(e)?r:n)("ngTemplateOutletContext",i.context(e))}}function OG(e,t){1&e&&$p(0)}function FG(e,t){if(1&e&&(Lp(0,"div",101,30),bg(2,OG,1,0,"ng-container",75),Np()),2&e){let e=om().$implicit,t=om(),i=vm(10);Hc(2),rp("ngTemplateOutlet",i)("ngTemplateOutletContext",t.context(e))}}function PG(e,t){if(1&e){let e=Kp();Lp(0,"div",91),rm("focusout",(function(){Ko(e);let t=om();return jo(t.parentExpression?null:t.dragService.onDragFocusOut())})),Hp(1,"div",92),Lp(2,"div",93)(3,"div",94,27),rm("enter",(function(){let t=Ko(e).$implicit,i=vm(4);return jo(om().dragService.onGroupRootOver(i,t))}))("over",(function(){let t=Ko(e).$implicit,i=vm(4);return jo(om().dragService.onGroupRootOver(i,t))}))("leave",(function(){return Ko(e),jo(om().dragService.onChipLeave())})),Lp(5,"button",95,28),rm("keydown",(function(t){return Ko(e),jo(om().invokeClick(t))}))("click",(function(){let t=Ko(e).$implicit,i=vm(6),n=vm(11);return jo(om().onGroupClick(n,i,t))})),Lp(7,"span",96),rm("enter",(function(){let t=Ko(e).$implicit,i=vm(4);return jo(om().dragService.onGroupRootOver(i,t))}))("over",(function(){let t=Ko(e).$implicit,i=vm(4);return jo(om().dragService.onGroupRootOver(i,t))}))("leave",(function(){return Ko(e),jo(om().dragService.onChipLeave())})),ym(8),Np(),Hp(9,"igx-icon",97),Np(),Lp(10,"igx-drop-down",98,29),rm("selectionChanging",(function(t){return Ko(e),jo(om().onGroupContextMenuDropDownSelectionChanging(t))})),Lp(12,"igx-drop-down-item",44),ym(13),Np(),Lp(14,"igx-drop-down-item",99),ym(15),Np()()(),Lp(16,"div",100),Op(17,kG,2,2,"ng-container",null,NB,!0),Np(),bg(19,FG,3,2,"div",101),Np()()}if(2&e){let e=t.$implicit,i=vm(11),n=om();Hc(),rp("ngClass",Lm(11,PB,0===n.getOperator(e),1===n.getOperator(e))),Hc(4),rp("ngClass",Lm(14,VB,0===n.getOperator(e),1===n.getOperator(e)))("igxDropDownItemNavigation",i),Hc(3),wm(" ",0===n.getOperator(e)?n.resourceStrings.igx_query_builder_and_label:n.resourceStrings.igx_query_builder_or_label," "),Hc(2),rp("width","fit-content"),Hc(2),rp("value","switchCondition"),Hc(),wm(" ",n.getSwitchGroupText(e)," "),Hc(),rp("value","ungroup")("disabled",n.rootGroup===n.contextualGroup),Hc(),wm(" ",n.resourceStrings.igx_query_builder_ungroup," "),Hc(2),Pp(null==e?null:e.children),Hc(2),Ip(e!==n.rootGroup||n.hasEditedExpression?-1:19)}}function VG(e,t){1&e&&(Lp(0,"span",42),ym(1,"Where"),Np())}function MG(e,t){1&e&&$p(0)}function LG(e,t){if(1&e&&(Lp(0,"div",33),bg(1,VG,2,0,"span",42)(2,MG,1,0,"ng-container",75),Np()),2&e){let e=om(),t=vm(14);Hc(),Ip(e.isAdvancedFiltering()?-1:1),Hc(),rp("ngTemplateOutlet",t)("ngTemplateOutletContext",e.context(e.rootGroup))}}var NG=(()=>{class e{get getClass(){return`igx-query-builder-tree--level-${this.level}`}get parentExpression(){return this._parentExpression}set parentExpression(e){this._parentExpression=e}get fields(){return!this._fields&&this.isAdvancedFiltering()&&(this._fields=this.entities[0].fields),this._fields}set fields(e){this._fields=e,this._fields=this._fields?.map((e=>Je(Qe({},e),{filters:this.getFilters(e),pipeArgs:this.getPipeArgs(e)}))),!this._fields&&this.isAdvancedFiltering()&&(this._fields=this.entities[0].fields)}get expressionTree(){return this._expressionTree}set expressionTree(e){this._expressionTree=e,e||(this._selectedEntity=this.isAdvancedFiltering()&&1===this.entities.length?this.entities[0]:null,this._selectedReturnFields=this._selectedEntity?this._selectedEntity.fields?.map((e=>e.field)):[]),this._preventInit||this.init()}get locale(){return this._locale}set locale(e){this._locale=e;try{tv(this._locale)}catch{this._locale=this._localeId}}set resourceStrings(e){this._resourceStrings=Object.assign({},this._resourceStrings,e)}get resourceStrings(){return this._resourceStrings}set editingInputsContainer(e){(e&&!this._editingInputsContainer||e&&this._editingInputsContainer&&this._editingInputsContainer.nativeElement!==e.nativeElement)&&requestAnimationFrame((()=>{this.scrollElementIntoView(e.nativeElement)})),this._editingInputsContainer=e}get editingInputsContainer(){return this._editingInputsContainer}set currentGroupButtonsContainer(e){(e&&!this._currentGroupButtonsContainer||e&&this._currentGroupButtonsContainer&&this._currentGroupButtonsContainer.nativeElement!==e.nativeElement)&&requestAnimationFrame((()=>{this.scrollElementIntoView(e.nativeElement)})),this._currentGroupButtonsContainer=e}get currentGroupButtonsContainer(){return this._currentGroupButtonsContainer}get disableEntityChange(){return!(this.parentExpression||!this.selectedEntity)&&this.queryBuilder.disableEntityChange}get disableReturnFieldsChange(){return!this.selectedEntity||this.queryBuilder.disableReturnFieldsChange}get level(){let e=this.elRef.nativeElement.parentElement,t=0;for(;e;)"igx-query-builder-tree"===e.localName&&t++,e=e.parentElement;return t}isAdvancedFiltering(){return 1===this.entities?.length&&!this.entities[0]?.name||void 0!==this.entities?.find((e=>e.childEntities?.length>0))||this.entities?.length>0&&this.queryBuilder?.entities?.length>0&&this.entities!==this.queryBuilder?.entities}isHierarchicalNestedQuery(){return this.queryBuilder.entities!==this.entities}isSearchValueInputDisabled(){return!this.selectedField||!this.selectedCondition||this.selectedField&&(this.selectedField.filters.condition(this.selectedCondition).isUnary||this.selectedField.filters.condition(this.selectedCondition).isNestedQuery)}constructor(e,t,i,n,r){this.cdr=e,this.dragService=t,this.platform=i,this.elRef=n,this._localeId=r,this.searchValueTemplate=null,this.expectedReturnField=null,this.expressionTreeChange=new wl,this.inEditModeChange=new wl,this.selectedExpressions=[],this.searchValue={value:null},this.initialOperator=0,this.returnFieldSelectOverlaySettings={scrollStrategy:new BI,modal:!1,closeOnOutsideClick:!0},this.entitySelectOverlaySettings={scrollStrategy:new BI,modal:!1,closeOnOutsideClick:!0},this.fieldSelectOverlaySettings={scrollStrategy:new BI,modal:!1,closeOnOutsideClick:!0},this.conditionSelectOverlaySettings={scrollStrategy:new BI,modal:!1,closeOnOutsideClick:!0},this.addExpressionDropDownOverlaySettings={scrollStrategy:new BI,modal:!1,closeOnOutsideClick:!0},this.groupContextMenuDropDownOverlaySettings={scrollStrategy:new BI,modal:!1,closeOnOutsideClick:!0},this.destroy$=new Ci,this._focusDelay=50,this._preventInit=!1,this._expandedExpressions=[],this._resourceStrings=TA(iz),this._positionSettings={horizontalStartPoint:SI.Right,verticalStartPoint:bI.Top},this._overlaySettings={closeOnOutsideClick:!1,modal:!1,positionStrategy:new kI(this._positionSettings),scrollStrategy:new GI},this.deleteItem=(e,t=!1)=>{if(!e.parent)return this.rootGroup=null,void(this.currentGroup=null);e===this.currentGroup&&(this.currentGroup=this.currentGroup.parent);let i=e.parent.children,n=i.indexOf(e);i.splice(n,1);let r=this.expressionTree?this.expressionTree.entity:null,s=this.expressionTree?this.expressionTree.returnFields:null;this._expressionTree=this.createExpressionTreeFromGroupItem(this.rootGroup,r,s),i.length||this.deleteItem(e.parent,!0),!this.parentExpression&&!t&&this.expressionTreeChange.emit(this._expressionTree)},this.focusChipAfterDrag=e=>{this._lastFocusedChipIndex=e,this.focusEditedExpressionChip()},this.trackExpressionItem=oS,this.locale=this.locale||this._localeId,this.dragService.register(this,n)}ngAfterViewInit(){this._overlaySettings.outlet=this.overlayOutlet,this.entitySelectOverlaySettings.outlet=this.overlayOutlet,this.fieldSelectOverlaySettings.outlet=this.overlayOutlet,this.conditionSelectOverlaySettings.outlet=this.overlayOutlet,this.returnFieldSelectOverlaySettings.outlet=this.overlayOutlet,this.addExpressionDropDownOverlaySettings.outlet=this.overlayOutlet,this.groupContextMenuDropDownOverlaySettings.outlet=this.overlayOutlet,this.isAdvancedFiltering()&&1===this.entities?.length&&(this.selectedEntity=this.entities[0].name,this._selectedEntity.fields.find((e=>e.field===this.expectedReturnField))&&(this._selectedReturnFields=[this.expectedReturnField])),this.cdr.detectChanges()}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}set selectedEntity(e){this._selectedEntity=this.entities?.find((t=>t.name===e))}get selectedEntity(){return this._selectedEntity}onEntitySelectChanging(e){e.cancel=!0,this._entityNewValue=e.newSelection.value,e.oldSelection.value&&this.queryBuilder.showEntityChangeDialog?this.entityChangeDialog.open():this.onEntityChangeConfirm()}onShowEntityChangeDialogChange(e){this.queryBuilder.showEntityChangeDialog=!e.checked}onEntityChangeCancel(){this.entityChangeDialog.close(),this.entitySelect.close(),this._entityNewValue=null}onEntityChangeConfirm(){this._parentExpression&&(this._expressionTree=this.createExpressionTreeFromGroupItem(this.createExpressionGroupItem(this._expressionTree))),this._selectedEntity=this._entityNewValue,this._selectedEntity.fields||(this._selectedEntity.fields=[]),this.fields=this._entityNewValue?this._entityNewValue.fields:[],this._selectedEntity.fields.find((e=>e.field===this.expectedReturnField))?this._selectedReturnFields=[this.expectedReturnField]:this._selectedReturnFields=this.parentExpression?[]:this._entityNewValue.fields?.map((e=>e.field)),this._expressionTree&&(this._expressionTree.entity=this._entityNewValue.name,this._expressionTree.returnFields=this.fields.length===this._selectedReturnFields.length?["*"]:this._selectedReturnFields,this._expressionTree.filteringOperands=[],this._editedExpression=null,this.parentExpression||this.expressionTreeChange.emit(this._expressionTree),this.rootGroup=null,this.currentGroup=this.rootGroup),this._selectedField=null,this.selectedCondition=null,this.searchValue.value=null,this.entityChangeDialog.close(),this.entitySelect.close(),this._entityNewValue=null,this.innerQueryNewExpressionTree=null,this.initExpressionTree(this._selectedEntity.name,this.selectedReturnFields)}set selectedReturnFields(e){this._selectedReturnFields!==e&&(this._selectedReturnFields=e,this._expressionTree&&!this.parentExpression&&(this._expressionTree.returnFields=e.length===this.fields.length?["*"]:e,this.expressionTreeChange.emit(this._expressionTree)))}get selectedReturnFields(){return"string"==typeof this._selectedReturnFields?[this._selectedReturnFields]:this._selectedReturnFields}set selectedField(e){let t=this._selectedField;this._selectedField!==e&&(this._selectedField=e,this._selectedField&&!this._selectedField.dataType&&(this._selectedField.filters=this.getFilters(this._selectedField)),this.selectDefaultCondition(),t&&this._selectedField&&this._selectedField.dataType!==t.dataType&&(this.searchValue.value=null,this.cdr.detectChanges()))}get selectedField(){return this._selectedField}setPickerOutlet(e){this.pickerOutlet=e}get isContextMenuVisible(){return!this.groupContextMenuDropDown.collapsed}get hasEditedExpression(){return void 0!==this._editedExpression&&null!==this._editedExpression}addCondition(e,t,i){this.cancelOperandAdd();let n=new cB({fieldName:null,condition:null,conditionName:null,ignoreCase:!0,searchVal:null},e),r=new dB(this.getOperator(null)??qS.And,e);if(this.contextualGroup=r,this.initialOperator=null,this._lastFocusedChipIndex=void 0===this._lastFocusedChipIndex?-1:this._lastFocusedChipIndex,e){if(t){let i=e.children.indexOf(t);e.children.splice(i+1,0,n)}else e.children.push(n);this._lastFocusedChipIndex++}else this.rootGroup=r,n.parent=r,this.rootGroup.children.push(n),this._lastFocusedChipIndex=0;this._focusDelay=250,i&&!t&&(this._lastFocusedChipIndex=this.expressionsChips.length,this._focusDelay=50),this.enterExpressionEdit(n)}addReverseGroup(e,t){(e=e??this.rootGroup).operator===qS.And?this.addGroup(qS.Or,e,t):this.addGroup(qS.And,e,t)}endGroup(e){this.currentGroup=e.parent}commitExpression(){this.commitOperandEdit(),this.focusEditedExpressionChip()}discardExpression(e){this.cancelOperandEdit(),e&&e.expression.fieldName&&this.focusEditedExpressionChip()}commitOperandEdit(){let e=this.searchValue.value;if(this._editedExpression){this._editedExpression.expression.fieldName=this.selectedField.field,this._editedExpression.expression.condition=this.selectedField.filters.condition(this.selectedCondition),this._editedExpression.expression.conditionName=this.selectedCondition,this._editedExpression.expression.searchVal=DS.parseValue(this.selectedField.dataType,e)||e,this._editedExpression.fieldLabel=this.selectedField.label?this.selectedField.label:this.selectedField.header?this.selectedField.header:this.selectedField.field;let t=this.innerQueries.filter((e=>e.isInEditMode()))[0];if(t&&this.selectedField?.filters?.condition(this.selectedCondition)?.isNestedQuery){t.exitEditAddMode(),this._editedExpression.expression.searchTree=this.getExpressionTreeCopy(t.expressionTree);let e=t.selectedReturnFields.length>0?t.selectedReturnFields:[t.fields[0].field];this._editedExpression.expression.searchTree.returnFields=e}else this._editedExpression.expression.searchTree=null;this.innerQueryNewExpressionTree=null,(this.selectedField.filters.condition(this.selectedCondition)?.isUnary||this.selectedField.filters.condition(this.selectedCondition)?.isNestedQuery)&&(this._editedExpression.expression.searchVal=null),this._editedExpression.inEditMode=!1,this._editedExpression=null}0===this.selectedReturnFields.length&&(this.selectedReturnFields=this.fields.map((e=>e.field))),this._expressionTree=this.createExpressionTreeFromGroupItem(this.rootGroup,this.selectedEntity?.name,this.selectedReturnFields),this.parentExpression||this.expressionTreeChange.emit(this._expressionTree)}cancelOperandAdd(){this._addModeExpression&&(this._addModeExpression.inAddMode=!1,this._addModeExpression=null)}cancelOperandEdit(){if(this.innerQueries){let e=this.innerQueries.filter((e=>e.isInEditMode()))[0];e&&(e._editedExpression&&e.cancelOperandEdit(),e.expressionTree=this.getExpressionTreeCopy(this._editedExpression.expression.searchTree),this.innerQueryNewExpressionTree=null)}this._editedExpression&&(this._editedExpression.inEditMode=!1,this._editedExpression.expression.fieldName||this.deleteItem(this._editedExpression),this._editedExpression=null),!this.expressionTree&&this.contextualGroup&&(this.initialOperator=this.contextualGroup.operator)}operandCanBeCommitted(){let e=this.innerQueries.filter((e=>e.isInEditMode()))[0];return this.selectedField&&this.selectedCondition&&((!Array.isArray(this.searchValue.value)&&!!this.searchValue.value||Array.isArray(this.searchValue.value)&&0!==this.searchValue.value.length)&&!this.selectedField?.filters?.condition(this.selectedCondition)?.isNestedQuery||this.selectedField?.filters?.condition(this.selectedCondition)?.isNestedQuery&&e&&!!e.expressionTree&&e.selectedReturnFields?.length>0||this.selectedField.filters.condition(this.selectedCondition)?.isUnary)}canCommitCurrentState(){let e=this.innerQueries.filter((e=>e.isInEditMode()))[0];return e?this.selectedReturnFields?.length>0&&e.canCommitCurrentState():this.selectedReturnFields?.length>0&&(!this._editedExpression||this._editedExpression&&!this.selectedField||this._editedExpression&&!0===this.operandCanBeCommitted())}commitCurrentState(){let e=this.innerQueries.filter((e=>e.isInEditMode()))[0];e&&e.commitCurrentState(),this._editedExpression&&(this.selectedField?this.commitOperandEdit():(this.deleteItem(this._editedExpression),this._editedExpression=null))}exitEditAddMode(e=!1){this._editedExpression&&(this.exitOperandEdit(),this.cancelOperandAdd(),e&&(this._preventInit=!0))}exitOperandEdit(){this._editedExpression&&(this.operandCanBeCommitted()?this.commitOperandEdit():this.cancelOperandEdit())}isExpressionGroup(e){return e instanceof dB}onExpressionFocus(e){this.prevFocusedExpression&&(this.prevFocusedExpression.focused=!1),e.focused=!0,this.prevFocusedExpression=e}onExpressionBlur(e,t){this._prevFocusedContainer&&this._prevFocusedContainer!==e.target.closest(".igx-filter-tree__expression-item")&&(t.focused=!1),this._prevFocusedContainer=e.target.closest(".igx-filter-tree__expression-item")}onChipRemove(e){this.exitEditAddMode(),this.deleteItem(e)}addExpressionBlur(){this.prevFocusedExpression&&(this.prevFocusedExpression.focused=!1),this.addExpressionItemDropDown&&!this.addExpressionItemDropDown.collapsed&&this.addExpressionItemDropDown.close()}onChipClick(e,t){this.enterExpressionEdit(e,t)}enterExpressionEdit(e,t){this.exitEditAddMode(!0),this.cdr.detectChanges(),this._lastFocusedChipIndex=t?this.expressionsChips.toArray().findIndex((e=>e===t)):this._lastFocusedChipIndex,this.enterEditMode(e)}clickExpressionAdd(e,t){this.exitEditAddMode(!0),this.cdr.detectChanges(),this._lastFocusedChipIndex=this.expressionsChips.toArray().findIndex((e=>e===t)),this.openExpressionAddDialog(e)}openExpressionAddDialog(e){this.addExpressionDropDownOverlaySettings.target=e,this.addExpressionDropDownOverlaySettings.positionStrategy=new kI({horizontalDirection:SI.Right,horizontalStartPoint:SI.Left,verticalStartPoint:bI.Bottom}),this.addExpressionItemDropDown.open(this.addExpressionDropDownOverlaySettings)}enterExpressionAdd(e,t){this._addModeExpression&&(this._addModeExpression.inAddMode=!1),this.parentExpression&&this.inEditModeChange.emit(this.parentExpression);let i=t.parent??this.rootGroup;requestAnimationFrame((()=>{"addCondition"===e.newSelection.value?this.addCondition(i,t):"addGroup"===e.newSelection.value&&this.addReverseGroup(i,t),t.inAddMode=!0,this._addModeExpression=t}))}enterEditMode(e){this._editedExpression&&(this._editedExpression.inEditMode=!1),this.parentExpression&&this.inEditModeChange.emit(this.parentExpression),e.hovered=!1,this.fields=this.selectedEntity?this.selectedEntity.fields:null,this.selectedField=e.expression.fieldName?this.fields?.find((t=>t.field===e.expression.fieldName)):null,this.selectedCondition=e.expression.condition?e.expression.condition.name:null,this.searchValue.value=e.expression.searchVal instanceof Set?Array.from(e.expression.searchVal):e.expression.searchVal,e.inEditMode=!0,this._editedExpression=e,this.cdr.detectChanges(),this.entitySelectOverlaySettings.target=this.entitySelect.element,this.entitySelectOverlaySettings.excludeFromOutsideClick=[this.entitySelect.element],this.entitySelectOverlaySettings.positionStrategy=new FI,this.returnFieldSelect&&(this.returnFieldSelectOverlaySettings.target=this.returnFieldSelect.element,this.returnFieldSelectOverlaySettings.excludeFromOutsideClick=[this.returnFieldSelect.element],this.returnFieldSelectOverlaySettings.positionStrategy=new FI),this.fieldSelect&&(this.fieldSelectOverlaySettings.target=this.fieldSelect.element,this.fieldSelectOverlaySettings.excludeFromOutsideClick=[this.fieldSelect.element],this.fieldSelectOverlaySettings.positionStrategy=new FI),this.conditionSelect&&(this.conditionSelectOverlaySettings.target=this.conditionSelect.element,this.conditionSelectOverlaySettings.excludeFromOutsideClick=[this.conditionSelect.element],this.conditionSelectOverlaySettings.positionStrategy=new FI),this.selectedField?this.selectedField.filters.condition(this.selectedCondition)?.isUnary?this.conditionSelect?.input.nativeElement.focus():(this.searchValueInput?.nativeElement||this.picker?.getEditElement())?.focus():this.fieldSelect.input.nativeElement.focus(),this.editingInputs?.nativeElement.parentElement?.scrollIntoView({block:"nearest",inline:"nearest"})}onConditionSelectChanging(e){e.cancel=!0,this.selectedCondition=e.newSelection.value,this.conditionSelect.close(),this.cdr.detectChanges()}onKeyDown(e){e.stopPropagation()}onGroupClick(e,t,i){this.exitEditAddMode(),this.cdr.detectChanges(),this.groupContextMenuDropDown=e,this.groupContextMenuDropDownOverlaySettings.target=t,this.groupContextMenuDropDownOverlaySettings.positionStrategy=new kI({horizontalDirection:SI.Right,horizontalStartPoint:SI.Left,verticalStartPoint:bI.Bottom}),e.collapsed?(this.contextualGroup=i,e.open(this.groupContextMenuDropDownOverlaySettings)):e.close()}getOperator(e){return e?e.operator:this.expressionTree?this.expressionTree.operator:this.initialOperator}getSwitchGroupText(e){let t=this.getOperator(e)===qS.Or?this.resourceStrings.igx_query_builder_and_label:this.resourceStrings.igx_query_builder_or_label;return this.resourceStrings.igx_query_builder_switch_group.replace("{0}",t.toUpperCase())}onGroupContextMenuDropDownSelectionChanging(e){if(e.cancel=!0,"switchCondition"===e.newSelection.value){let e=0===(this.expressionTree?(this.contextualGroup??this._expressionTree).operator:this.initialOperator)?1:0;this.selectFilteringLogic(e)}else"ungroup"===e.newSelection.value&&this.ungroup();this.groupContextMenuDropDown.close()}ungroup(){let e=this.contextualGroup,t=e.parent;if(t){let i=t.children.indexOf(e);t.children.splice(i,1,...e.children);for(let i of e.children)i.parent=t}this.commitOperandEdit()}selectFilteringLogic(e){this.expressionTree?(this.contextualGroup?(this.contextualGroup.operator=e,this.commitOperandEdit()):this.expressionTree&&(this._expressionTree.operator=e),this.initialOperator=null):this.initialOperator=e}getConditionFriendlyName(e){return this.resourceStrings[`igx_query_builder_filter_${e?.replace("Query","")}`]||e}isDate(e){return e instanceof Date}invokeClick(e){!this.dragService.dropGhostExpression&&this.platform.isActivationKey(e)&&(e.preventDefault(),e.currentTarget.click())}openPicker(e){this.platform.isActivationKey(e)&&(e.preventDefault(),this.picker.open())}onOutletPointerDown(e){e.preventDefault()}getConditionList(){return this.selectedField?(this.selectedField.filters||(this.selectedField.filters=this.getFilters(this.selectedField)),this.isAdvancedFiltering()&&!this.entities[0].childEntities||this.isHierarchicalNestedQuery()&&this.selectedEntity.name&&!this.selectedEntity.childEntities?this.selectedField.filters.conditionList():this.selectedField.filters.extendedConditionList()):[]}getFormatter(e){return this.fields?.find((t=>t.field===e))?.formatter}getFormat(e){return this.fields?.find((t=>t.field===e)).pipeArgs.format}setAddButtonFocus(){this.addRootAndGroupButton?this.addRootAndGroupButton.nativeElement.focus():this.addConditionButton&&this.addConditionButton.nativeElement.focus()}context(e,t){return{$implicit:e,afterExpression:t}}formatReturnFields(e){let t=e.returnFields,i=t.join(", "),n=this.entities?.find((t=>t.name===e.entity));return t.length===n?.fields.length?i=this.resourceStrings.igx_query_builder_all_fields:(i=t.join(", "),i=i.length>25?i.substring(0,25)+" ...":i),i}isInEditMode(){return!this.parentExpression||this.parentExpression&&this.parentExpression.inEditMode}onInEditModeChanged(e){e.inEditMode||this.enterExpressionEdit(e)}getExpressionTreeCopy(e,t){if(!e)return null;let i=new US(e.operator,e.fieldName,e.entity,e.returnFields);return i.filteringOperands=[],e.filteringOperands.forEach((e=>$S(e)?i.filteringOperands.push(this.getExpressionTreeCopy(e)):i.filteringOperands.push(e))),!this.innerQueryNewExpressionTree&&t&&(this.innerQueryNewExpressionTree=i),i}onSelectAllClicked(){this._selectedReturnFields.length>0&&this._selectedReturnFields.length<this._selectedEntity.fields.length||this._selectedReturnFields.length==this._selectedEntity.fields.length?this.returnFieldsCombo.deselectAllItems():this.returnFieldsCombo.selectAllItems()}onReturnFieldSelectChanging(e){let t=[];Array.isArray(e.newSelection)?t=e.newSelection.map((e=>e.field)):(t.push(e.newSelection.value),this._selectedReturnFields=t),this.initExpressionTree(this.selectedEntity.name,t)}initExpressionTree(e,t){this._expressionTree||(this._expressionTree=this.createExpressionTreeFromGroupItem(new dB(qS.And,this.rootGroup),e,t)),this.parentExpression||this.expressionTreeChange.emit(this._expressionTree)}getSearchValueTemplateContext(e){return{$implicit:this.searchValue,selectedField:this.selectedField,selectedCondition:this.selectedCondition,defaultSearchValueTemplate:e}}getPipeArgs(e){let t=Qe({},e.pipeArgs);return t||(t={digitsInfo:"1.0-3"}),t.format||(t.format=e.dataType===SS.Time?"mediumTime":e.dataType===SS.DateTime?"medium":"mediumDate"),t}selectDefaultCondition(){this.selectedField&&this.selectedField.filters&&(this.selectedCondition=this.selectedField.filters.conditionList().indexOf("equals")>=0?"equals":this.selectedField.filters.conditionList()[0])}getFilters(e){if(e.filters)return e.filters;switch(e.dataType){case SS.Boolean:return PS.instance();case SS.Number:case SS.Currency:case SS.Percent:return HS.instance();case SS.Date:return MS.instance();case SS.Time:return NS.instance();case SS.DateTime:return LS.instance();default:return zS.instance()}}addGroup(e,t,i){this.cancelOperandAdd();let n=new dB(e,t);if(t)if(i){let e=t.children.indexOf(i);t.children.splice(e+1,0,n)}else t.children.push(n);else this.rootGroup=n;this.addCondition(n),this.currentGroup=n}createExpressionGroupItem(e,t,i){let n;if(e){if(n=new dB(e.operator,t),!e.filteringOperands)return n;for(let t=0;t<e.filteringOperands.length;t++){let i=e.filteringOperands[t];if($S(i))n.children.push(this.createExpressionGroupItem(i,n,e.entity));else{let e=i,t={fieldName:e.fieldName,condition:e.condition,conditionName:e.condition?.name||e.conditionName,searchVal:e.searchVal,searchTree:e.searchTree,ignoreCase:e.ignoreCase},r=new cB(t,n),s=this.fields?.find((t=>t.field===e.fieldName));r.fieldLabel=s?.label||s?.header||s?.field,this._expandedExpressions.filter((e=>e.searchTree==r.expression.searchTree)).length>0&&(r.expanded=!0),n.children.push(r)}}e.entity&&(i=e.entity);let r=this.entities?.find((e=>e.name===i));r&&(this.fields=r.fields),this._selectedEntity=this.entities?.find((e=>e.name===i)),this._selectedReturnFields=!e.returnFields||e.returnFields.includes("*")||e.returnFields.includes("All")||0===e.returnFields.length?this.fields?.map((e=>e.field)):this.fields?.filter((t=>e.returnFields.indexOf(t.field)>=0)).map((e=>e.field))}return n}createExpressionTreeFromGroupItem(e,t,i){if(!e)return null;let n=new US(e.operator,void 0,t,i);for(let r=0;r<e.children.length;r++){let s=e.children[r];if(s instanceof dB){let e=this.createExpressionTreeFromGroupItem(s,t,i);n.filteringOperands.push(e)}else n.filteringOperands.push(s.expression)}return n}scrollElementIntoView(e){let t=this.expressionsContainer.nativeElement,i=e.offsetTop-t.offsetTop;t.scrollTop+10>i?t.scrollTop=i-10:t.scrollTop+t.clientHeight<i+e.offsetHeight+10&&(t.scrollTop=i+e.offsetHeight+10-t.clientHeight)}focusEditedExpressionChip(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=setTimeout((()=>{if(-1!=this._lastFocusedChipIndex){let e=this.expressionsChips.toArray().sort((function(e,t){return e===t?0:2&e.chipArea.nativeElement.compareDocumentPosition(t.chipArea.nativeElement)?1:-1}))[this._lastFocusedChipIndex]?.nativeElement;e&&e.focus(),this._lastFocusedChipIndex=-1,this._focusDelay=50}}),this._focusDelay)}init(){this.cancelOperandAdd(),this.cancelOperandEdit();let e=["parent","hovered","ignoreCase","inEditMode","inAddMode"],t=function(t,i){if(!(e.indexOf(t)>=0))return i},i=this.createExpressionGroupItem(this.expressionTree);JSON.stringify(this.rootGroup,t)!==JSON.stringify(i,t)&&(this.rootGroup=this.createExpressionGroupItem(this.expressionTree),this.currentGroup=this.rootGroup),0==this.rootGroup?.children?.length&&(this.rootGroup=null,this.currentGroup=null)}static{this.ɵfac=function(t){return new(t||e)(lu(Cf),lu(gB),lu(NC),lu(zl),lu(uf))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-query-builder-tree"]],viewQuery:function(t,i){if(1&t&&(pm(pB,5,Sz),pm(mB,5,zl),pm(fB,5,HN),pm(vB,5,Sz),pm(yB,5,Sz),pm(xB,5,Sz),pm(_B,5,zl),pm(wB,5),pm(CB,5,zl),pm(SB,5,zl),pm(bB,5,CH),pm(DB,5,yF),pm(EB,5,yF),pm(TB,5,zl),pm(IB,5,zl),pm(RB,5),pm(AB,7,DO),pm(EL,5,EL),pm(e,5)),2&t){let e;mm(e=fm())&&(i.entitySelect=e.first),mm(e=fm())&&(i.editingInputs=e.first),mm(e=fm())&&(i.returnFieldsCombo=e.first),mm(e=fm())&&(i.returnFieldSelect=e.first),mm(e=fm())&&(i.fieldSelect=e.first),mm(e=fm())&&(i.conditionSelect=e.first),mm(e=fm())&&(i.searchValueInput=e.first),mm(e=fm())&&(i.picker=e.first),mm(e=fm())&&(i.addRootAndGroupButton=e.first),mm(e=fm())&&(i.addConditionButton=e.first),mm(e=fm())&&(i.entityChangeDialog=e.first),mm(e=fm())&&(i.addExpressionItemDropDown=e.first),mm(e=fm())&&(i.groupContextMenuDropDown=e.first),mm(e=fm())&&(i.editingInputsContainer=e.first),mm(e=fm())&&(i.currentGroupButtonsContainer=e.first),mm(e=fm())&&(i.expressionsContainer=e.first),mm(e=fm())&&(i.overlayOutlet=e.first),mm(e=fm())&&(i.expressionsChips=e),mm(e=fm())&&(i.innerQueries=e)}},hostAttrs:[1,"igx-query-builder-tree"],hostVars:2,hostBindings:function(e,t){2&e&&lp(t.getClass)},inputs:{entities:"entities",queryBuilder:"queryBuilder",searchValueTemplate:"searchValueTemplate",parentExpression:"parentExpression",fields:"fields",expressionTree:"expressionTree",locale:"locale",resourceStrings:"resourceStrings",expectedReturnField:"expectedReturnField"},outputs:{expressionTreeChange:"expressionTreeChange",inEditModeChange:"inEditModeChange"},features:[Pm([gB])],decls:25,vars:9,consts:[["addIcon",""],["closeIcon",""],["selectFromTemplate",""],["expressionsContainer",""],["addExpressionsTemplate",""],["operandTemplate",""],["expressionGroupTemplate",""],["overlayOutlet",""],["entityChangeDialog",""],["entitySelect",""],["returnFieldsCombo",""],["returnFieldSelect",""],["addConditionButton",""],["editingInputsContainer",""],["dragRef",""],["expressionChip","","target","tooltipTarget"],["tooltipRef","tooltip"],["addExpressionButton",""],["addOptionsDropDown",""],["editingInputs",""],["fieldSelect",""],["conditionSelect",""],["defaultSearchValueTemplate",""],["searchValueInput",""],["picker",""],["inputGroup",""],["input",""],["groupRef",""],["changeGroupButton",""],["groupContextMenuDropDown",""],["currentGroupButtonsContainer",""],[1,"igx-query-builder__main"],[4,"ngTemplateOutlet"],[1,"igx-filter-tree__section"],["igxOverlayOutlet","",1,"igx-query-builder__outlet",3,"pointerdown"],[3,"leftButtonSelect","rightButtonSelect","title","leftButtonLabel","rightButtonLabel"],[1,"igx-query-builder-dialog"],[3,"change","disableRipple","tabindex"],["family","default","name","add"],["family","default","name","close"],[1,"igx-filter-tree__inputs"],[1,"igx-filter-tree__inputs-field"],[1,"igx-query-builder__label"],["type","box",3,"selectionChanging","opening","overlaySettings","ngModel","placeholder","disabled"],[3,"value"],[3,"itemsMaxHeight","data","displayKey","valueKey","disabled","ngModel","overlaySettings","placeholder","searchPlaceholder","display"],["type","box",3,"overlaySettings","disabled","ngModel","placeholder","display"],[3,"ngModelChange","selectionChanging","opening","itemsMaxHeight","data","displayKey","valueKey","disabled","ngModel","overlaySettings","placeholder","searchPlaceholder"],["igxComboHeader",""],[1,"igx-drop-down__item","igx-drop-down__item--query-builder",3,"click","ngClass"],[1,"igx-combo__checkbox",3,"checked","indeterminate","readonly","disableRipple","tabindex"],[1,"igx-drop-down__inner"],["type","box",3,"selectionChanging","opening","overlaySettings","disabled","ngModel","placeholder"],["type","button","igxButton","flat","igxDrop","",3,"click","enter","leave","disabled"],["type","button","igxButton","flat",3,"disabled"],["type","button","igxButton","flat",3,"click","disabled"],[1,"igx-filter-tree__subquery"],["igxDrop","",1,"igx-filter-tree__inputs"],[1,"igx-filter-tree__expression-item","igx-filter-tree__expression-item-drop-ghost"],["igxDrop","",3,"ngClass"],[3,"data"],["igxDrop","",3,"enter","over","leave","dropped","mouseenter","mouseleave","focusin","focusout","ngClass"],[3,"moveStart","moveEnd","dragEnter","dragOver","dragLeave","dragDrop","keydown","click","remove","draggable","hideBaseOnDrag","animateOnRelease","igxTooltipTarget","data","removable"],["igxPrefix","","tabindex","0","family","default","name","drag_indicator",1,"igx-drag-indicator",3,"focus","focusout"],["igxPrefix","",1,"igx-filter-tree__expression-column"],["igxPrefix","",1,"igx-filter-tree__expression-condition"],["igxTooltip",""],["igxDragIgnore","",1,"igx-filter-tree__expression-actions"],["igxDragIgnore","","igxIconButton","outlined","aria-labelledby","add-expression",3,"keydown","click","blur","igxDropDownItemNavigation"],["id","add-expression","family","default","name","add"],[3,"selectionChanging"],["igxDrop","",1,"igx-filter-tree__inputs",3,"enter","over","leave","dropped"],["type","box",3,"ngModelChange","overlaySettings","ngModel","disabled","placeholder"],["type","box",3,"ngModelChange","selectionChanging","overlaySettings","ngModel","disabled","placeholder"],[3,"value","text"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"igx-filter-tree__inputs-actions"],["type","button","igxIconButton","outlined",3,"click","disabled"],["family","default","name","confirm"],["type","button","igxIconButton","outlined",3,"click"],["family","default",3,"name"],[1,"igx-grid__filtering-dropdown-items"],[1,"igx-grid__filtering-dropdown-text"],["type","box"],["type","box",3,"value","readOnly","disabled","locale","outlet","formatter","displayFormat","weekStart","placeholder"],["type","box",3,"value","readOnly","disabled","locale","outlet","formatter","displayFormat","inputFormat","placeholder"],["igxInput","",3,"ngModelChange","disabled","placeholder","type","ngModel"],["type","box",3,"valueChange","keydown","click","value","readOnly","disabled","locale","outlet","formatter","displayFormat","weekStart","placeholder"],["type","box",3,"valueChange","click","keydown","value","readOnly","disabled","locale","outlet","formatter","displayFormat","inputFormat","placeholder"],["igxInput","","tabindex","0",3,"ngModelChange","placeholder","ngModel","disabled","locale","igxDateTimeEditor","defaultFormatType","displayFormat"],[3,"inEditModeChange","entities","queryBuilder","parentExpression","expectedReturnField","expressionTree","searchValueTemplate"],[1,"igx-filter-tree",3,"focusout"],[1,"igx-filter-tree__line",3,"ngClass"],[1,"igx-filter-tree__expressions"],["igxDrop","",1,"igx-filter-tree__expression-context-menu",3,"enter","over","leave"],["igxDragIgnore","","igxButton","flat","aria-labelledby","change-group",3,"keydown","click","ngClass","igxDropDownItemNavigation"],["igxDrop","",3,"enter","over","leave"],["family","default","name","arrow_drop_down","role","button"],[3,"selectionChanging","width"],[3,"value","disabled"],[1,"igx-filter-tree__expression-section"],[1,"igx-filter-tree__buttons"]],template:function(e,t){if(1&e){let e=Kp();bg(0,HB,1,0,"ng-template",null,0,sf)(2,zB,1,0,"ng-template",null,1,sf)(4,UB,12,11,"ng-template",null,2,sf),Lp(6,"div",31,3),bg(8,qB,1,0,"ng-container",32)(9,QB,6,4,"ng-template",null,4,sf)(11,RG,5,3,"ng-template",null,5,sf)(13,PG,20,17,"ng-template",null,6,sf)(15,LG,3,3,"div",33),Np(),Lp(16,"div",34,7),rm("pointerdown",(function(i){return Ko(e),jo(t.onOutletPointerDown(i))})),Np(),Lp(18,"igx-dialog",35,8),rm("leftButtonSelect",(function(){return Ko(e),jo(t.onEntityChangeCancel())}))("rightButtonSelect",(function(){return Ko(e),jo(t.onEntityChangeConfirm())})),Lp(20,"section",36)(21,"p"),ym(22),Np(),Lp(23,"igx-checkbox",37),rm("change",(function(i){return Ko(e),jo(t.onShowEntityChangeDialogChange(i))})),ym(24),Np()()()}if(2&e){let e=vm(5);Hc(8),rp("ngTemplateOutlet",e),Hc(7),Ip(t.rootGroup||!t.rootGroup&&(t.selectedEntity||1===(null==t.entities?null:t.entities.length)&&(null==t.entities[0]||!t.entities[0].name))?15:-1),Hc(3),cm("title",t.resourceStrings.igx_query_builder_dialog_title),cm("leftButtonLabel",t.resourceStrings.igx_query_builder_dialog_cancel),cm("rightButtonLabel",t.resourceStrings.igx_query_builder_dialog_confirm),Hc(4),_m(t.resourceStrings.igx_query_builder_dialog_message),Hc(),rp("disableRipple",!0)("tabindex",-1),Hc(),wm(" ",t.resourceStrings.igx_query_builder_dialog_checkbox_text," ")}},dependencies:[e,ny,Px,yy,jy,Dx,mR,OF,EL,HN,FL,cH,AO,CH,Vk,Lk,yF,uF,eR,aB,rO,DA,oR,Ek,DO,GN,BN,dR,Sz,sz,oB,TO,RO,jv,qv],encapsulation:2})}}return e})(),HG=(()=>{class e{constructor(e){this.template=e}static{this.ɵfac=function(t){return new(t||e)(lu(jh))}}static{this.ɵdir=rg({type:e,selectors:[["","igxQueryBuilderSearchValue",""]]})}}return e})(),zG=[[["igx-query-builder-header"]]],BG=["igx-query-builder-header"],GG=(()=>{class e{get entities(){return this._entities}set entities(e){e!==this._entities&&e&&this.expressionTree&&(this._expressionTree=WS(this._expressionTree,e)),this._entities=e}get fields(){return this._fields}set fields(e){e&&(this._fields=e,this.entities=[{name:null,fields:e}])}get expressionTree(){return this._expressionTree}set expressionTree(e){e!==this._expressionTree&&(this.entities&&e?this._expressionTree=WS(e,this.entities):this._expressionTree=e)}set resourceStrings(e){this._resourceStrings=Object.assign({},this._resourceStrings,e)}get resourceStrings(){return this._resourceStrings}constructor(e){this.iconService=e,this.cssClass="igx-query-builder",this.display="block",this.showEntityChangeDialog=!0,this.disableEntityChange=!1,this.disableReturnFieldsChange=!1,this.expressionTreeChange=new wl,this.destroy$=new Ci,this._resourceStrings=TA(iz),this._shouldEmitTreeChange=!0,this.registerSVGIcons()}canCommit(){return!0===this.queryTree?.canCommitCurrentState()}commit(){if(!this.canCommit())throw new Error("Expression tree can't be committed in the current state. Use `canCommit` method to check if the current state is valid.");this._shouldEmitTreeChange=!1,this.queryTree.commitCurrentState(),this._shouldEmitTreeChange=!0}discard(){this.queryTree.cancelOperandEdit()}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}setPickerOutlet(e){this.queryTree.setPickerOutlet(e)}get isContextMenuVisible(){return this.queryTree.isContextMenuVisible}exitOperandEdit(){this.queryTree.exitOperandEdit()}setAddButtonFocus(){this.queryTree.setAddButtonFocus()}onExpressionTreeChange(e){e&&this.entities&&e!==this._expressionTree?this._expressionTree=WS(e,this.entities):this._expressionTree=e,this._shouldEmitTreeChange&&this.expressionTreeChange.emit(e)}registerSVGIcons(){TP.forEach((e=>{this.iconService.addSvgIconFromText(e.name,e.value,"imx-icons"),this.iconService.addIconRef(e.name,"default",{name:e.name,family:"imx-icons"})})),this.iconService.addSvgIconFromText("in",'<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#5f6368"><path d="M560-280H120v-400h720v120h-80v-40H200v240h360v80Zm-360-80v-240 240Zm560 200v-120H640v-80h120v-120h80v120h120v80H840v120h-80Z"/></svg>',"imx-icons"),this.iconService.addIconRef("in","default",{name:"in",family:"imx-icons"}),this.iconService.addSvgIconFromText("not-in",'<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#5f6368"><path d="M560-280H120v-400h720v120h-80v-40H200v240h360v80Zm-360-80v-240 240Zm440 104 84-84-84-84 56-56 84 84 84-84 56 56-83 84 83 84-56 56-84-83-84 83-56-56Z"/></svg>',"imx-icons"),this.iconService.addIconRef("not-in","default",{name:"not-in",family:"imx-icons"}),this.iconService.addIconRef("add","default",{name:"add",family:"material"}),this.iconService.addIconRef("close","default",{name:"close",family:"material"}),this.iconService.addIconRef("check","default",{name:"check",family:"material"}),this.iconService.addIconRef("delete","default",{name:"delete",family:"material"}),this.iconService.addIconRef("edit","default",{name:"edit",family:"material"})}static{this.ɵfac=function(t){return new(t||e)(lu(_A))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-query-builder"]],contentQueries:function(e,t,i){if(1&e&&gm(i,HG,5,jh),2&e){let e;mm(e=fm())&&(t.searchValueTemplate=e.first)}},viewQuery:function(e,t){if(1&e&&pm(NG,5),2&e){let e;mm(e=fm())&&(t.queryTree=e.first)}},hostVars:4,hostBindings:function(e,t){2&e&&(op("display",t.display),ap("igx-query-builder",t.cssClass))},inputs:{showEntityChangeDialog:[2,"showEntityChangeDialog","showEntityChangeDialog",Hf],entities:"entities",fields:"fields",expressionTree:"expressionTree",locale:"locale",resourceStrings:"resourceStrings",disableEntityChange:"disableEntityChange",disableReturnFieldsChange:"disableReturnFieldsChange"},outputs:{expressionTreeChange:"expressionTreeChange"},ngContentSelectors:BG,decls:2,vars:6,consts:[[3,"expressionTreeChange","entities","expressionTree","locale","resourceStrings","queryBuilder","searchValueTemplate"]],template:function(e,t){1&e&&(lm(zG),dm(0),Lp(1,"igx-query-builder-tree",0),rm("expressionTreeChange",(function(e){return t.onExpressionTreeChange(e)})),Np()),2&e&&(Hc(),rp("entities",t.entities)("expressionTree",t.expressionTree)("locale",t.locale)("resourceStrings",t.resourceStrings)("queryBuilder",t)("searchValueTemplate",t.searchValueTemplate))},dependencies:[NG],encapsulation:2})}}return e})(),$G={igx_grid_groupByArea_message:"Drag a column header and drop it here to group by that column.",igx_grid_groupByArea_select_message:"Select all rows in the group with field name {0} and value {1}.",igx_grid_groupByArea_deselect_message:"Deselect all rows in the group with field name {0} and value {1}.",igx_grid_emptyFilteredGrid_message:"No records found.",igx_grid_emptyGrid_message:"Grid has no data.",igx_grid_filter:"Filter",igx_grid_filter_row_close:"Close",igx_grid_filter_row_reset:"Reset",igx_grid_filter_row_placeholder:"Add filter value",igx_grid_filter_row_boolean_placeholder:"All",igx_grid_filter_row_date_placeholder:"Pick up date",igx_grid_filter_row_time_placeholder:"Pick up time",igx_grid_filter_operator_and:"And",igx_grid_filter_operator_or:"Or",igx_grid_complex_filter:"Complex Filter",igx_grid_filter_contains:"Contains",igx_grid_filter_doesNotContain:"Does Not Contain",igx_grid_filter_startsWith:"Starts With",igx_grid_filter_endsWith:"Ends With",igx_grid_filter_equals:"Equals",igx_grid_filter_doesNotEqual:"Does Not Equal",igx_grid_filter_empty:"Empty",igx_grid_filter_notEmpty:"Not Empty",igx_grid_filter_null:"Null",igx_grid_filter_notNull:"Not Null",igx_grid_filter_before:"Before",igx_grid_filter_after:"After",igx_grid_filter_at:"At",igx_grid_filter_not_at:"Not At",igx_grid_filter_at_before:"At or Before",igx_grid_filter_at_after:"At or After",igx_grid_filter_today:"Today",igx_grid_filter_yesterday:"Yesterday",igx_grid_filter_thisMonth:"This Month",igx_grid_filter_lastMonth:"Last Month",igx_grid_filter_nextMonth:"Next Month",igx_grid_filter_thisYear:"This Year",igx_grid_filter_lastYear:"Last Year",igx_grid_filter_nextYear:"Next Year",igx_grid_filter_greaterThan:"Greater Than",igx_grid_filter_lessThan:"Less Than",igx_grid_filter_greaterThanOrEqualTo:"Greater Than Or Equal To",igx_grid_filter_lessThanOrEqualTo:"Less Than Or Equal To",igx_grid_filter_true:"True",igx_grid_filter_false:"False",igx_grid_filter_all:"All",igx_grid_filter_condition_placeholder:"Select filter",igx_grid_filter_in:"In",igx_grid_filter_notIn:"Not In",igx_grid_summary_count:"Count",igx_grid_summary_min:"Min",igx_grid_summary_max:"Max",igx_grid_summary_sum:"Sum",igx_grid_summary_average:"Avg",igx_grid_summary_earliest:"Earliest",igx_grid_summary_latest:"Latest",igx_grid_excel_filter_moving_left:"move left",igx_grid_excel_filter_moving_left_short:"left",igx_grid_excel_filter_moving_right:"move right",igx_grid_excel_filter_moving_right_short:"right",igx_grid_excel_filter_moving_header:"move",igx_grid_excel_filter_sorting_asc:"ascending",igx_grid_excel_filter_sorting_asc_short:"asc",igx_grid_excel_filter_sorting_desc:"descending",igx_grid_excel_filter_sorting_desc_short:"desc",igx_grid_excel_filter_sorting_header:"sort",igx_grid_excel_filter_clear:"Clear column filters",igx_grid_excel_custom_dialog_add:"add filter",igx_grid_excel_custom_dialog_clear:"Clear filter",igx_grid_excel_custom_dialog_header:"Custom auto-filter on column: ",igx_grid_excel_cancel:"Cancel",igx_grid_excel_apply:"Apply",igx_grid_excel_search_placeholder:"Search",igx_grid_excel_select_all:"Select All",igx_grid_excel_select_all_search_results:"Select all search results",igx_grid_excel_add_to_filter:"Add current selection to filter",igx_grid_excel_blanks:"(Blanks)",igx_grid_excel_hide:"Hide column",igx_grid_excel_show:"Show column",igx_grid_excel_pin:"Pin column",igx_grid_excel_unpin:"Unpin column",igx_grid_excel_select:"Select column",igx_grid_excel_deselect:"Deselect column",igx_grid_excel_text_filter:"Text filter",igx_grid_excel_number_filter:"Number filter",igx_grid_excel_date_filter:"Date filter",igx_grid_excel_boolean_filter:"Boolean filter",igx_grid_excel_currency_filter:"Currency filter",igx_grid_excel_custom_filter:"Custom filter...",igx_grid_excel_no_matches:"No matches",igx_grid_excel_matches_count:"{0} matches.",igx_grid_advanced_filter_title:"Advanced Filtering",igx_grid_advanced_filter_from_label:"From",igx_grid_advanced_filter_and_group:'"And" Group',igx_grid_advanced_filter_or_group:'"Or" Group',igx_grid_advanced_filter_end_group:"End Group",igx_grid_advanced_filter_create_and_group:'Create "And" Group',igx_grid_advanced_filter_create_or_group:'Create "Or" Group',igx_grid_advanced_filter_and_label:"and",igx_grid_advanced_filter_or_label:"or",igx_grid_advanced_filter_switch_group:"Switch to {0}",igx_grid_advanced_filter_add_condition:"Add condition",igx_grid_advanced_filter_add_group:"Add group",igx_grid_advanced_filter_add_condition_root:"Condition",igx_grid_advanced_filter_add_group_root:"Group",igx_grid_advanced_filter_ungroup:"Ungroup",igx_grid_advanced_filter_delete:"Delete",igx_grid_advanced_filter_delete_filters:"Delete filters",igx_grid_advanced_filter_initial_text:'Start with creating a group of conditions linked with "And" or "Or"',igx_grid_advanced_filter_column_placeholder:"Select column",igx_grid_advanced_filter_value_placeholder:"Value",igx_grid_advanced_filter_query_value_placeholder:"Sub-query results",igx_grid_advanced_filter_select_entity:"Select entity",igx_grid_advanced_filter_select_return_field_single:"Select return field",igx_grid_advanced_filter_dialog_title:"Confirmation",igx_grid_advanced_filter_dialog_message:"By changing the entity, you will lose your current settings. Are you sure you want to do that?",igx_grid_advanced_filter_dialog_checkbox_text:"Do not show this dialog again",igx_grid_advanced_filter_drop_ghost_text:"Drop here to insert",igx_grid_pinned_row_indicator:"Pinned",igx_grid_hiding_check_all_label:"Show All",igx_grid_hiding_uncheck_all_label:"Hide All",igx_grid_pinning_check_all_label:"Pin All",igx_grid_pinning_uncheck_all_label:"Unpin All",igx_grid_row_edit_btn_done:"Done",igx_grid_row_edit_btn_cancel:"Cancel",igx_grid_row_edit_text:"You have {0} changes in this row and {1} hidden columns",igx_grid_toolbar_actions_filter_prompt:"Filter columns list ...",igx_grid_toolbar_pinning_button_tooltip:"Open column pinning dropdown",igx_grid_toolbar_hiding_button_tooltip:"Open column hiding dropdown",igx_grid_toolbar_pinning_title:"Pinned columns",igx_grid_toolbar_hiding_title:"Visible columns",igx_grid_toolbar_advanced_filtering_button_tooltip:"Open advanced filtering dialog",igx_grid_toolbar_advanced_filtering_button_label:"Advanced filtering",igx_grid_toolbar_exporter_button_tooltip:"Open exporter dropdown",igx_grid_toolbar_exporter_button_label:"Export",igx_grid_toolbar_exporter_excel_entry_text:"Export to Excel",igx_grid_toolbar_exporter_csv_entry_text:"Export to CSV",igx_grid_snackbar_addrow_label:"Row added",igx_grid_snackbar_addrow_actiontext:"SHOW",igx_grid_actions_edit_label:"Edit",igx_grid_actions_add_label:"Add",igx_grid_add_row_label:"ADD ROW",igx_grid_actions_add_child_label:"Add Child",igx_grid_actions_delete_label:"Delete",igx_grid_actions_pin_label:"Pin",igx_grid_actions_unpin_label:"Unpin",igx_grid_actions_jumpUp_label:"Jump up",igx_grid_actions_jumpDown_label:"Jump down",igx_grid_pivot_date_dimension_total:"All Periods",igx_grid_pivot_aggregate_count:"Count",igx_grid_pivot_aggregate_min:"Minimum",igx_grid_pivot_aggregate_max:"Maximum",igx_grid_pivot_aggregate_sum:"Sum",igx_grid_pivot_aggregate_avg:"Average",igx_grid_pivot_aggregate_date_latest:"Latest Date",igx_grid_pivot_aggregate_date_earliest:"Earliest Date",igx_grid_pivot_aggregate_time_latest:"Latest Time",igx_grid_pivot_aggregate_time_earliest:"Earliest Time",igx_grid_pivot_empty_row_drop_area:"Drop Row Fields here.",igx_grid_pivot_empty_column_drop_area:"Drop Column Fields here.",igx_grid_pivot_empty_filter_drop_area:"Drop Filter Fields here.",igx_grid_pivot_empty_value_drop_area:"Drop Value Fields here.",igx_grid_pivot_row_drop_chip:"Drop here to use as row",igx_grid_pivot_column_drop_chip:"Drop here to use as column",igx_grid_pivot_filter_drop_chip:"Drop here to use as filter",igx_grid_pivot_value_drop_chip:"Drop here to use as value",igx_grid_pivot_empty_message:"Pivot grid has no dimensions and values.",igx_grid_pivot_selector_filters:"Filters",igx_grid_pivot_selector_rows:"Rows",igx_grid_pivot_selector_columns:"Columns",igx_grid_pivot_selector_values:"Values",igx_grid_pivot_selector_panel_empty:"Drop Items Here",igx_grid_required_validation_error:"This field is required",igx_grid_min_validation_error:"A value of at least {0} should be entered",igx_grid_max_validation_error:"A value no more than {0} should be entered",igx_grid_min_length_validation_error:"Entry should be at least {0} character(s) long",igx_grid_max_length_validation_error:"Entry should be no more than {0} character(s) long",igx_grid_email_validation_error:"A valid email address should be entered",igx_grid_pattern_validation_error:"Entry does not match the required pattern"},WG=["*"],KG=(()=>{class e{constructor(){this._resourceStrings=TA(iz),this.showLegend=!0}get getClass(){return"igx-query-builder__header"}set resourceStrings(e){this._resourceStrings=Object.assign({},this._resourceStrings,e)}get resourceStrings(){return this._resourceStrings}static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-query-builder-header"]],hostVars:2,hostBindings:function(e,t){2&e&&lp(t.getClass)},inputs:{title:"title",showLegend:"showLegend",resourceStrings:"resourceStrings"},ngContentSelectors:WG,decls:3,vars:1,consts:[[1,"igx-query-builder__title"]],template:function(e,t){1&e&&(lm(),Lp(0,"div",0),ym(1),Np(),dm(2)),2&e&&(Hc(),_m(t.title))},encapsulation:2})}}return e})(),jG=["queryBuilder"],UG=e=>({"igx-advanced-filter":!0,"igx-advanced-filter--inline":e});function qG(e,t){if(1&e){let e=Kp();Lp(0,"article",2),rm("dragStart",(function(t){return Ko(e),jo(om().dragStart(t))}))("dragMove",(function(t){return Ko(e),jo(om().onDragMove(t))}))("keydown",(function(t){return Ko(e),jo(om().onKeyDown(t))})),Lp(1,"igx-query-builder",3,0),Hp(3,"igx-query-builder-header",4),Np(),Lp(4,"footer",5)(5,"div",6)(6,"button",7),rm("click",(function(t){return Ko(e),jo(om().onClearButtonClick(t))})),ym(7),Np()(),Lp(8,"div",8)(9,"button",9),rm("click",(function(){return Ko(e),jo(om().cancelChanges())})),ym(10),Np()(),Lp(11,"div",10)(12,"button",11),rm("click",(function(t){return Ko(e),jo(om().onApplyButtonClick(t))})),ym(13),Np()()()()}if(2&e){let e=om();rp("ghost",!1)("dragTolerance",0)("ngClass",Mm(10,UG,e.inline)),Hc(),rp("locale",e.grid.locale)("entities",e.generateEntity())("expressionTree",e.grid.advancedFilteringExpressionsTree),Hc(2),rp("title",e.grid.resourceStrings.igx_grid_advanced_filter_title),Hc(4),wm(" ",e.grid.resourceStrings.igx_grid_excel_custom_dialog_clear," "),Hc(3),wm(" ",e.grid.resourceStrings.igx_grid_excel_cancel," "),Hc(3),wm(" ",e.grid.resourceStrings.igx_grid_excel_apply," ")}}var YG=(()=>{class e{constructor(e,t){this.cdr=e,this.platform=t,this.display="block",this.inline=!0,this.lastActiveNode={},this.destroy$=new Ci}ngAfterViewInit(){this.queryBuilder.setPickerOutlet(this.grid.outlet)}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}set grid(e){this._grid=e,this._grid&&this._grid.filteringService.registerSVGIcons(),this.assignResourceStrings()}get grid(){return this._grid}get filterableFields(){return this.grid.columns.filter((e=>!e.columnGroup&&e.filterable))}dragStart(e){this._overlayComponentId||(e.cancel=!0)}onDragMove(e){let t=e.nextPageX-e.pageX,i=e.nextPageY-e.pageY;e.cancel=!0,this._overlayService.setOffset(this._overlayComponentId,t,i)}onKeyDown(e){e.stopPropagation(),e.key===this.platform.KEYMAP.ESCAPE&&this.closeDialog()}initialize(e,t,i){this.inline=!1,this.grid=e,this._overlayService=t,this._overlayComponentId=i}onClearButtonClick(e){this.grid.crudService.endEdit(!1,e),this.queryBuilder.expressionTree=this.grid.advancedFilteringExpressionsTree=null}closeDialog(){this._overlayComponentId&&this._overlayService.hide(this._overlayComponentId),this.grid.navigation.activeNode=this.lastActiveNode,this.grid.navigation.activeNode&&-1===this.grid.navigation.activeNode.row&&this.grid.theadRow.nativeElement.focus()}applyChanges(e){this.grid.crudService.endEdit(!1,e),this.queryBuilder.exitOperandEdit(),this.grid.advancedFilteringExpressionsTree=this.queryBuilder.expressionTree}cancelChanges(){this.closeDialog()}onApplyButtonClick(e){this.applyChanges(e),this.closeDialog()}generateEntity(){return this.queryBuilder?.entities?this.queryBuilder?.entities:"hierarchical"===this.grid.type?this.grid.schema:[{name:null,fields:this.filterableFields.map((e=>({field:e.field,dataType:e.dataType,label:e.label,header:e.header,editorOptions:e.editorOptions,filters:e.filters,pipeArgs:e.pipeArgs,defaultTimeFormat:e.defaultTimeFormat,defaultDateTimeFormat:e.defaultDateTimeFormat})))}]}assignResourceStrings(){let e=this.grid.resourceStrings;if(e!==$G){let t=TA(iz);Object.keys(e).forEach((i=>{let n=/^igx_grid_(advanced_)?filter_(row_)?/;if(!n.test(i))return;let r=i.replace(n,""),s=`igx_query_builder_filter_${r}`,o=`igx_query_builder_${r}`;void 0!==t[s]?t[s]=e[i]:void 0!==t[o]&&(t[o]=e[i])}))}}static{this.ɵfac=function(t){return new(t||e)(lu(Cf),lu(NC))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-advanced-filtering-dialog"]],viewQuery:function(e,t){if(1&e&&pm(jG,5,GG),2&e){let e;mm(e=fm())&&(t.queryBuilder=e.first)}},hostVars:2,hostBindings:function(e,t){2&e&&op("display",t.display)},inputs:{grid:"grid"},decls:1,vars:1,consts:[["queryBuilder",""],["igxDrag","",1,"igx-advanced-filter",3,"ghost","dragTolerance","ngClass"],["igxDrag","",1,"igx-advanced-filter",3,"dragStart","dragMove","keydown","ghost","dragTolerance","ngClass"],[3,"locale","entities","expressionTree"],["igxDragHandle","",3,"title"],[1,"igx-excel-filter__secondary-footer"],[1,"igx-excel-filter__clear"],["igxButton","flat","type","button",3,"click"],[1,"igx-excel-filter__cancel"],["igxButton","outlined","type","button",3,"click"],[1,"igx-excel-filter__apply"],["igxButton","contained","type","button",3,"click"]],template:function(e,t){1&e&&bg(0,qG,14,12,"article",1),2&e&&Ip(t.grid?0:-1)},dependencies:[Mk,jv,GG,KG,Pk,mR],encapsulation:2})}}return e})(),ZG=(()=>{class e{constructor(e,t,i){this.cdr=e,this.element=t,this.platform=i}static{this.ɵfac=function(t){return new(t||e)(lu(Cf),lu(zl),lu(NC))}}static{this.ɵdir=rg({type:e})}}return e})();function XG(e,t){if(1&e){let e=Kp();Lp(0,"div",1),rm("keydown",(function(t){return Ko(e),jo(om().onClearFilterKeyDown(t))}))("click",(function(){return Ko(e),jo(om().clearFilter())})),Lp(1,"span"),ym(2),Np(),Hp(3,"igx-icon",2),Np()}if(2&e){let e=om();rp("ngClass",e.clearFilterClass()),$g("aria-disabled",!e.esf.column.filteringExpressionsTree),Hc(2),_m(e.esf.grid.resourceStrings.igx_grid_excel_filter_clear)}}var QG=(()=>{class e{constructor(e,t){this.esf=e,this.platform=t}clearFilterClass(){return this.esf.column.filteringExpressionsTree?"igx-excel-filter__actions-clear":"igx-excel-filter__actions-clear--disabled"}clearFilter(){this.esf.grid.filteringService.clearFilter(this.esf.column.field),this.selectAllFilterItems()}onClearFilterKeyDown(e){e.key===this.platform.KEYMAP.ENTER&&this.clearFilter()}selectAllFilterItems(){this.esf.listData.forEach((e=>{e.isSelected=!0,e.indeterminate=!1})),this.esf.detectChanges()}static{this.ɵfac=function(t){return new(t||e)(lu(ZG),lu(NC))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-excel-style-clear-filters"]],decls:1,vars:1,consts:[["tabindex","0","role","menuitem",3,"ngClass"],["tabindex","0","role","menuitem",3,"keydown","click","ngClass"],["family","default","name","cancel"]],template:function(e,t){1&e&&bg(0,XG,4,3,"div",0),2&e&&Ip(t.esf.column?0:-1)},dependencies:[jv,DA],encapsulation:2})}}return e})(),JG=["overlayOutlet"],e$=["dropdownConditions"],t$=["logicOperatorButtonGroup"],i$=["inputValues"];function n$(e,t){1&e&&Hp(0,"igx-icon",8),2&e&&rp("name",om().getIconName())}function r$(e,t){1&e&&Hp(0,"igx-icon",9)}function s$(e,t){if(1&e&&(Lp(0,"igx-select-item",10)(1,"div",15),Hp(2,"igx-icon",8),Lp(3,"span",16),ym(4),Np()()()),2&e){let e=t.$implicit,i=om();rp("value",e)("text",i.getConditionFriendlyName(e))("selected",i.isConditionSelected(e)),Hc(2),rp("name",i.getCondition(e).iconName),Hc(2),_m(i.translateCondition(e))}}function o$(e,t){if(1&e){let e=Kp();Lp(0,"button",17),rm("click",(function(){return Ko(e),jo(om().onRemoveButtonClick())})),Hp(1,"igx-icon",18),Np()}}function a$(e,t){if(1&e){let e=Kp();Lp(0,"igx-buttongroup",null,4)(2,"span",19,5),rm("keydown",(function(t){return Ko(e),jo(om().onLogicOperatorKeyDown(t,0))}))("click",(function(t){return Ko(e),jo(om().onLogicOperatorButtonClicked(t,0))})),ym(4),Np(),Lp(5,"span",19,6),rm("keydown",(function(t){return Ko(e),jo(om().onLogicOperatorKeyDown(t,1))}))("click",(function(t){return Ko(e),jo(om().onLogicOperatorButtonClicked(t,1))})),ym(7),Np()()}if(2&e){let e=om();Hc(2),rp("selected",0===e.expressionUI.afterOperator),Hc(2),wm(" ",e.grid.resourceStrings.igx_grid_filter_operator_and," "),Hc(),rp("selected",1===e.expressionUI.afterOperator),Hc(2),wm(" ",e.grid.resourceStrings.igx_grid_filter_operator_or," ")}}var l$=(()=>{class e{get isLast(){return this.expressionsList[this.expressionsList.length-1]===this.expressionUI}get isSingle(){return 1===this.expressionsList.length}get conditionsPlaceholder(){return this.grid.resourceStrings.igx_grid_filter_condition_placeholder}get inputValuePlaceholder(){return this.grid.resourceStrings.igx_grid_filter_row_placeholder}get type(){switch(this.column.dataType){case bS.Number:case bS.Currency:case bS.Percent:return"number";default:return"text"}}constructor(e,t){this.cdr=e,this.platform=t,this.expressionRemoved=new wl,this.logicOperatorChanged=new wl,this.dropDownOverlaySettings={scrollStrategy:new BI,modal:!1,closeOnOutsideClick:!0}}get conditions(){return this.column.filters.conditionList()}get inputValuesElement(){return this.inputValuesDirective.nativeElement}ngAfterViewInit(){this.dropDownOverlaySettings.outlet=this.overlayOutlet,this.dropDownOverlaySettings.target=this.dropdownConditions.inputGroup.element.nativeElement,this.dropDownOverlaySettings.excludeFromOutsideClick=[this.dropdownConditions.inputGroup.element.nativeElement],this.dropDownOverlaySettings.positionStrategy=new kI}focus(){requestAnimationFrame((()=>this.inputValuesElement.focus()))}translateCondition(e){return this.grid.resourceStrings[`igx_grid_filter_${this.getCondition(e).name}`]||e}getIconName(){return this.column.dataType===bS.Boolean&&null===this.expressionUI.expression.condition?this.getCondition(this.conditions[0]).iconName:this.expressionUI.expression.condition?this.expressionUI.expression.condition.iconName:"filter_list"}isConditionSelected(e){return this.expressionUI.expression.condition&&this.expressionUI.expression.condition.name===e}onConditionsChanged(e){let t=e.newSelection.value;this.expressionUI.expression.condition=this.getCondition(t),this.focus()}getCondition(e){return this.column.filters.condition(e)}getConditionFriendlyName(e){return this.grid.resourceStrings[`igx_grid_filter_${e}`]||e}updateSearchValueOnBlur(e){this.expressionUI.expression.searchVal=DS.parseValue(this.column.dataType,e.target.value)}onLogicOperatorButtonClicked(e,t){0===this.logicOperatorButtonGroup.selectedButtons.length?(e.stopPropagation(),this.logicOperatorButtonGroup.selectButton(t)):this.logicOperatorChanged.emit({target:this.expressionUI,newValue:t})}onLogicOperatorKeyDown(e,t){e.key===this.platform.KEYMAP.ENTER&&(this.logicOperatorButtonGroup.selectButton(t),this.logicOperatorChanged.emit({target:this.expressionUI,newValue:t}))}onRemoveButtonClick(){this.expressionRemoved.emit(this.expressionUI)}onOutletPointerDown(e){e.preventDefault()}static{this.ɵfac=function(t){return new(t||e)(lu(Cf),lu(NC))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-excel-style-default-expression"]],viewQuery:function(e,t){if(1&e&&(pm(JG,7,DO),pm(e$,7,Sz),pm(t$,5,rV),pm(i$,7,oR)),2&e){let e;mm(e=fm())&&(t.overlayOutlet=e.first),mm(e=fm())&&(t.dropdownConditions=e.first),mm(e=fm())&&(t.logicOperatorButtonGroup=e.first),mm(e=fm())&&(t.inputValuesDirective=e.first)}},inputs:{column:"column",expressionUI:"expressionUI",expressionsList:"expressionsList",grid:"grid"},outputs:{expressionRemoved:"expressionRemoved",logicOperatorChanged:"logicOperatorChanged"},decls:15,vars:10,consts:[["dropdownConditions",""],["inputGroupValues",""],["inputValues",""],["overlayOutlet",""],["logicOperatorButtonGroup",""],["andButton",""],["orButton",""],["type","box",3,"selectionChanging","placeholder","overlaySettings"],["family","default",3,"name"],["family","default","name","filter_list"],[3,"value","text","selected"],["type","box"],["igxInput","","tabindex","0","autocomplete","off",3,"ngModelChange","blur","type","placeholder","disabled","ngModel"],["type","button","igxIconButton","flat"],["igxOverlayOutlet","",3,"pointerdown"],[1,"igx-grid__filtering-dropdown-items"],[1,"igx-grid__filtering-dropdown-text"],["type","button","igxIconButton","flat",3,"click"],["family","default","name","remove"],["igxButton","","tabindex","0","type","button",3,"keydown","click","selected"]],template:function(e,t){if(1&e){let e=Kp();Lp(0,"igx-select",7,0),rm("selectionChanging",(function(i){return Ko(e),jo(t.onConditionsChanged(i))})),Lp(2,"igx-prefix"),bg(3,n$,1,1,"igx-icon",8)(4,r$,1,0,"igx-icon",9),Np(),Op(5,s$,5,5,"igx-select-item",10,Ap),Np(),Lp(7,"igx-input-group",11,1)(9,"input",12,2),Em("ngModelChange",(function(i){return Ko(e),Dm(t.expressionUI.expression.searchVal,i)||(t.expressionUI.expression.searchVal=i),jo(i)})),rm("blur",(function(i){return Ko(e),jo(t.updateSearchValueOnBlur(i))})),Np()(),bg(11,o$,2,0,"button",13)(12,a$,8,4,"igx-buttongroup"),Lp(13,"div",14,3),rm("pointerdown",(function(i){return Ko(e),jo(t.onOutletPointerDown(i))})),Np()}2&e&&(rp("placeholder",t.conditionsPlaceholder)("overlaySettings",t.dropDownOverlaySettings),Hc(3),Ip(t.expressionUI.expression.condition?3:-1),Hc(),Ip(t.expressionUI.expression.condition?-1:4),Hc(),Pp(t.conditions),Hc(4),rp("type",t.type)("placeholder",t.inputValuePlaceholder)("disabled",t.expressionUI.expression.condition&&t.expressionUI.expression.condition.isUnary),bm("ngModel",t.expressionUI.expression.searchVal),Hc(2),Ip(t.isSingle?-1:11),Hc(),Ip(t.isLast?-1:12))},dependencies:[Px,yy,jy,Dx,Sz,dR,DA,sz,Ek,oR,mR,rV,DO,rO],encapsulation:2})}}return e})(),d$=["input"],c$=["picker"];function h$(e,t){1&e&&Hp(0,"igx-icon",9),2&e&&rp("name",om().getIconName())}function u$(e,t){1&e&&Hp(0,"igx-icon",10)}function g$(e,t){if(1&e&&(Lp(0,"igx-select-item",11),Hp(1,"igx-icon",9),Lp(2,"span"),ym(3),Np()()),2&e){let e=t.$implicit,i=om();rp("value",e)("text",i.getConditionFriendlyName(e))("selected",i.isConditionSelected(e)),Hc(),rp("name",i.getCondition(e).iconName),Hc(2),_m(i.translateCondition(e))}}function p$(e,t){if(1&e){let e=Kp();Lp(0,"igx-date-picker",17,2),Em("valueChange",(function(t){Ko(e);let i=om();return Dm(i.searchVal,t)||(i.searchVal=t),jo(t)})),rm("click",(function(){return Ko(e),jo(vm(1).open())})),Hp(2,"igx-picker-toggle")(3,"igx-picker-clear"),Np()}if(2&e){let e,t=om();rp("weekStart",null!==(e=t.column.pipeArgs.weekStart)&&void 0!==e?e:t.weekStart),bm("value",t.searchVal),rp("locale",t.grid.locale)("outlet",t.grid.outlet)("readOnly",!0)("placeholder",t.inputDatePlaceholder)("displayFormat",t.column.pipeArgs.format)("formatter",t.column.formatter)("disabled",t.expressionUI.expression.condition&&t.expressionUI.expression.condition.isUnary)}}function m$(e,t){if(1&e){let e=Kp();Lp(0,"igx-time-picker",18,2),Em("ngModelChange",(function(t){Ko(e);let i=om();return Dm(i.searchVal,t)||(i.searchVal=t),jo(t)})),rm("click",(function(){return Ko(e),jo(vm(1).open())})),Hp(2,"igx-picker-toggle")(3,"igx-picker-clear"),Np()}if(2&e){let e=om();bm("ngModel",e.searchVal),rp("locale",e.grid.locale)("outlet",e.grid.outlet)("readOnly",!0)("placeholder",e.inputTimePlaceholder)("displayFormat",e.column.pipeArgs.format)("inputFormat",null==e.column.editorOptions?null:e.column.editorOptions.dateTimeFormat)("formatter",e.column.formatter)("disabled",e.expressionUI.expression.condition&&e.expressionUI.expression.condition.isUnary)}}function f$(e,t){if(1&e){let e=Kp();Lp(0,"igx-input-group",14,3)(3,"input",19,4),Em("ngModelChange",(function(t){Ko(e);let i=om();return Dm(i.searchVal,t)||(i.searchVal=t),jo(t)})),Np()()}if(2&e){let e=om();Hc(3),rp("placeholder",e.inputDatePlaceholder)("locale",e.column.grid.locale)("igxDateTimeEditor",null==e.column.editorOptions?null:e.column.editorOptions.dateTimeFormat)("defaultFormatType",e.column.dataType)("displayFormat",e.column.pipeArgs.format),bm("ngModel",e.searchVal),rp("disabled",e.expressionUI.expression.condition&&e.expressionUI.expression.condition.isUnary)}}function v$(e,t){if(1&e){let e=Kp();Lp(0,"button",20),rm("click",(function(){return Ko(e),jo(om().onRemoveButtonClick())})),Hp(1,"igx-icon",21),Np()}}function y$(e,t){if(1&e){let e=Kp();Lp(0,"igx-buttongroup",null,5)(2,"span",22,6),rm("keydown",(function(t){return Ko(e),jo(om().onLogicOperatorKeyDown(t,0))}))("click",(function(t){return Ko(e),jo(om().onLogicOperatorButtonClicked(t,0))})),ym(4),Np(),Lp(5,"span",22,7),rm("keydown",(function(t){return Ko(e),jo(om().onLogicOperatorKeyDown(t,1))}))("click",(function(t){return Ko(e),jo(om().onLogicOperatorButtonClicked(t,1))})),ym(7),Np()()}if(2&e){let e=om();Hc(2),rp("selected",0===e.expressionUI.afterOperator),Hc(2),wm(" ",e.grid.resourceStrings.igx_grid_filter_operator_and," "),Hc(),rp("selected",1===e.expressionUI.afterOperator),Hc(2),wm(" ",e.grid.resourceStrings.igx_grid_filter_operator_or," ")}}var x$=(()=>{class e extends l${get searchVal(){return this.expressionUI.expression.searchVal}set searchVal(e){this.expressionUI.expression.searchVal=e?new Date(Date.parse(e.toString())):null}get inputValuesElement(){return this.picker?.getEditElement()||this.input?.nativeElement}get inputDatePlaceholder(){return this.grid.resourceStrings.igx_grid_filter_row_date_placeholder}get inputTimePlaceholder(){return this.grid.resourceStrings.igx_grid_filter_row_time_placeholder}get weekStart(){return tv(this.grid.locale)}static{this.ɵfac=(()=>{let t;return function(i){return(t||(t=ol(e)))(i||e)}})()}static{this.ɵcmp=Qu({type:e,selectors:[["igx-excel-style-date-expression"]],viewQuery:function(e,t){if(1&e&&(pm(d$,5,oR),pm(c$,5)),2&e){let e;mm(e=fm())&&(t.input=e.first),mm(e=fm())&&(t.picker=e.first)}},inputs:{searchVal:"searchVal"},features:[dg],decls:14,vars:9,consts:[["dropdownConditions",""],["overlayOutlet",""],["picker",""],["dropDownTarget","","inputGroup",""],["input",""],["logicOperatorButtonGroup",""],["andButton",""],["orButton",""],["type","box",3,"selectionChanging","placeholder","overlaySettings"],["family","default",3,"name"],["family","default","name","filter_list"],[3,"value","text","selected"],["type","box",3,"weekStart","value","locale","outlet","readOnly","placeholder","displayFormat","formatter","disabled"],["type","box",3,"ngModel","locale","outlet","readOnly","placeholder","displayFormat","inputFormat","formatter","disabled"],["type","box"],["type","button","igxIconButton","flat"],["igxOverlayOutlet","",3,"pointerdown"],["type","box",3,"valueChange","click","weekStart","value","locale","outlet","readOnly","placeholder","displayFormat","formatter","disabled"],["type","box",3,"ngModelChange","click","ngModel","locale","outlet","readOnly","placeholder","displayFormat","inputFormat","formatter","disabled"],["igxInput","","tabindex","0",3,"ngModelChange","placeholder","locale","igxDateTimeEditor","defaultFormatType","displayFormat","ngModel","disabled"],["type","button","igxIconButton","flat",3,"click"],["family","default","name","remove"],["igxButton","","tabindex","0","type","button",3,"keydown","click","selected"]],template:function(e,t){if(1&e){let e=Kp();Lp(0,"igx-select",8,0),rm("selectionChanging",(function(i){return Ko(e),jo(t.onConditionsChanged(i))})),Lp(2,"igx-prefix"),bg(3,h$,1,1,"igx-icon",9)(4,u$,1,0,"igx-icon",10),Np(),Op(5,g$,4,5,"igx-select-item",11,Ap),Np(),bg(7,p$,4,9,"igx-date-picker",12)(8,m$,4,9,"igx-time-picker",13)(9,f$,5,7,"igx-input-group",14)(10,v$,2,0,"button",15)(11,y$,8,4,"igx-buttongroup"),Lp(12,"div",16,1),rm("pointerdown",(function(i){return Ko(e),jo(t.onOutletPointerDown(i))})),Np()}2&e&&(rp("placeholder",t.conditionsPlaceholder)("overlaySettings",t.dropDownOverlaySettings),Hc(3),Ip(t.expressionUI.expression.condition?3:-1),Hc(),Ip(t.expressionUI.expression.condition?-1:4),Hc(),Pp(t.conditions),Hc(2),Ip("date"===t.column.dataType?7:-1),Hc(),Ip("time"===t.column.dataType?8:-1),Hc(),Ip("dateTime"===t.column.dataType?9:-1),Hc(),Ip(t.isSingle?-1:10),Hc(),Ip(t.isLast?-1:11))},dependencies:[Sz,dR,DA,sz,cH,BN,GN,oB,Ek,Px,yy,jy,Dx,oR,AO,mR,rV,DO,rO],encapsulation:2})}}return e})();function _$(){if("function"==typeof crypto.randomUUID)return crypto.randomUUID();let e=new Uint8Array(16);crypto.getRandomValues(e),e[6]=15&e[6]|64,e[8]=63&e[8]|128;let t=[...e].map((e=>e.toString(16).padStart(2,"0"))).join("");return`${t.slice(0,8)}-${t.slice(8,12)}-${t.slice(12,16)}-${t.slice(16,20)}-${t.slice(20)}`}var w$=class{constructor(){this.isSpecial=!1,this.isBlanks=!1}},C$=class{constructor(){this.isSelected=!1,this.isVisible=!0,this.expressionId=_$()}};function S$(e,t,i){b$(e,t,i),i.length&&(i[i.length-1].afterOperator=null)}function b$(e,t,i){if(e)if($S(e)){for(let t of e.filteringOperands)b$(t,e.operator,i);i.length&&(i[i.length-1].afterOperator=t)}else{let n=new C$;n.expression=e,n.afterOperator=t;let r=i[i.length-1];r&&(n.beforeOperator=r.afterOperator),i.push(n)}}var D$=["toggle"],E$=["defaultExpressionTemplate"],T$=["dateExpressionTemplate"],I$=["expressionsContainer"],R$=(e,t)=>({"igx-excel-filter__secondary--cosy":e,"igx-excel-filter__secondary--compact":t}),A$=(e,t)=>t.expressionId;function k$(e,t){if(1&e){let e=Kp();Lp(0,"igx-excel-style-date-expression",15),rm("expressionRemoved",(function(t){return Ko(e),jo(om(2).onExpressionRemoved(t))}))("logicOperatorChanged",(function(t){return Ko(e),jo(om(2).onLogicOperatorChanged(t))})),Np()}if(2&e){let e=t.$implicit,i=om(2);rp("expressionUI",e)("column",i.column)("grid",i.grid)("expressionsList",i.expressionsList)}}function O$(e,t){1&e&&Op(0,k$,1,4,"igx-excel-style-date-expression",14,A$),2&e&&Pp(om().expressionsList)}function F$(e,t){if(1&e){let e=Kp();Lp(0,"igx-excel-style-default-expression",15),rm("expressionRemoved",(function(t){return Ko(e),jo(om(2).onExpressionRemoved(t))}))("logicOperatorChanged",(function(t){return Ko(e),jo(om(2).onLogicOperatorChanged(t))})),Np()}if(2&e){let e=t.$implicit,i=om(2);rp("expressionUI",e)("column",i.column)("grid",i.grid)("expressionsList",i.expressionsList)}}function P$(e,t){1&e&&Op(0,F$,1,4,"igx-excel-style-default-expression",14,A$),2&e&&Pp(om().expressionsList)}var V$=(()=>{class e{constructor(e,t,i,n){this.overlayService=e,this.cdr=t,this.platform=i,this.esf=n,this.expressionsList=new Array,this._customDialogPositionSettings={verticalDirection:bI.Middle,horizontalDirection:SI.Center,horizontalStartPoint:SI.Center,verticalStartPoint:bI.Middle},this._customDialogOverlaySettings={closeOnOutsideClick:!0,modal:!1,positionStrategy:new FI(this._customDialogPositionSettings),scrollStrategy:new BI}}ngAfterViewInit(){this._customDialogOverlaySettings.outlet=this.grid.outlet}get template(){return this.column.dataType===bS.Date?this.dateExpressionTemplate:this.defaultExpressionTemplate}get grid(){return this.filteringService.grid}onCustomDialogOpening(){this.selectedOperator&&this.createInitialExpressionUIElement()}onCustomDialogOpened(){this.expressionComponents.first&&this.expressionComponents.first.focus()}open(e){this._customDialogOverlaySettings.target=this.overlayComponentId?this.grid.rootGrid?this.grid.rootGrid.nativeElement:this.grid.nativeElement:e,this.toggle.open(this._customDialogOverlaySettings),this.overlayComponentId=this.toggle.overlayId}onClearButtonClick(){this.filteringService.clearFilter(this.column.field),this.selectedOperator=null,this.createInitialExpressionUIElement(),this.cdr.detectChanges()}closeDialog(){this.overlayComponentId?(this.overlayService.hide(this.overlayComponentId),this.overlayComponentId=null):this.toggle.close()}cancelDialog(){this.esf.cancel(),this.closeDialog()}onApplyButtonClick(){this.expressionsList=this.expressionsList.filter((e=>e.expression.condition&&(e.expression.searchVal||0===e.expression.searchVal||e.expression.condition.isUnary))),this.expressionsList.length>0&&(this.expressionsList[0].beforeOperator=null,this.expressionsList[this.expressionsList.length-1].afterOperator=null),this.filteringService.filterInternal(this.column.field,this.expressionsList),this.closeDialog()}onAddButtonClick(){let e=new C$;e.expression={condition:null,conditionName:null,fieldName:this.column.field,ignoreCase:this.column.filteringIgnoreCase,searchVal:null},this.expressionsList[this.expressionsList.length-1].afterOperator=qS.And,e.beforeOperator=this.expressionsList[this.expressionsList.length-1].afterOperator,this.expressionsList.push(e),this.markChildrenForCheck(),this.scrollToBottom()}onExpressionRemoved(e){let t=this.expressionsList.indexOf(e);0===t&&this.expressionsList.length>1?this.expressionsList[1].beforeOperator=null:t===this.expressionsList.length-1?this.expressionsList[t-1].afterOperator=null:(this.expressionsList[t-1].afterOperator=this.expressionsList[t+1].beforeOperator,this.expressionsList[0].beforeOperator=null,this.expressionsList[this.expressionsList.length-1].afterOperator=null),this.expressionsList.splice(t,1),this.cdr.detectChanges(),this.markChildrenForCheck()}onLogicOperatorChanged(e){let t=this.expressionsList.indexOf(e.target);e.target.afterOperator=e.newValue,t+1<this.expressionsList.length&&(this.expressionsList[t+1].beforeOperator=e.newValue)}onKeyDown(e){e.stopPropagation()}onApplyButtonKeyDown(e){e.key===this.platform.KEYMAP.TAB&&!e.shiftKey&&(e.stopPropagation(),e.preventDefault())}createCondition(e){switch(this.column.dataType){case bS.Boolean:return PS.instance().condition(e);case bS.Number:case bS.Currency:case bS.Percent:return HS.instance().condition(e);case bS.Date:return MS.instance().condition(e);case bS.Time:return NS.instance().condition(e);case bS.DateTime:return LS.instance().condition(e);default:return zS.instance().condition(e)}}markChildrenForCheck(){this.expressionComponents.forEach((e=>e.cdr.markForCheck())),this.expressionDateComponents.forEach((e=>e.cdr.markForCheck()))}createInitialExpressionUIElement(){let e=new C$;if(1==this.expressionsList.length&&this.expressionsList[0].expression.condition?.name===this.selectedOperator)e=this.expressionsList.pop();else{this.expressionsList=[];let t=this.createCondition(this.selectedOperator);e.expression={condition:t,conditionName:t?.name,fieldName:this.column.field,ignoreCase:this.column.filteringIgnoreCase,searchVal:null}}e.afterOperator=qS.And,this.expressionsList.push(e);let t=new C$;t.expression={condition:null,conditionName:null,fieldName:this.column.field,ignoreCase:this.column.filteringIgnoreCase,searchVal:null},t.beforeOperator=qS.And,this.expressionsList.push(t)}scrollToBottom(){requestAnimationFrame((()=>{this.expressionsContainer.nativeElement.scrollTop=this.expressionsContainer.nativeElement.scrollHeight}))}static{this.ɵfac=function(t){return new(t||e)(lu(zI),lu(Cf),lu(NC),lu(ZG))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-excel-style-custom-dialog"]],viewQuery:function(e,t){if(1&e&&(pm(D$,7,SO),pm(E$,5,jh),pm(T$,5,jh),pm(I$,7),pm(l$,5),pm(x$,5)),2&e){let e;mm(e=fm())&&(t.toggle=e.first),mm(e=fm())&&(t.defaultExpressionTemplate=e.first),mm(e=fm())&&(t.dateExpressionTemplate=e.first),mm(e=fm())&&(t.expressionsContainer=e.first),mm(e=fm())&&(t.expressionComponents=e),mm(e=fm())&&(t.expressionDateComponents=e)}},inputs:{expressionsList:"expressionsList",column:"column",selectedOperator:"selectedOperator",filteringService:"filteringService",overlayComponentId:"overlayComponentId"},decls:23,vars:12,consts:[["toggle",""],["expressionsContainer",""],["igxToggle","",1,"igx-excel-filter__secondary",3,"keydown","opening","opened","ngClass"],[1,"igx-excel-filter__secondary-header"],[1,"ig-typography__h6"],[1,"igx-excel-filter__secondary-main"],["type","button","igxButton","",1,"igx-excel-filter__add-filter",3,"click"],["family","default","name","add"],[1,"igx-excel-filter__secondary-footer"],[1,"igx-excel-filter__clear"],["type","button","igxButton","flat",3,"click"],[1,"igx-excel-filter__cancel"],[1,"igx-excel-filter__apply"],["type","button","igxButton","contained",3,"click","keydown"],[1,"igx-excel-filter__condition",3,"expressionUI","column","grid","expressionsList"],[1,"igx-excel-filter__condition",3,"expressionRemoved","logicOperatorChanged","expressionUI","column","grid","expressionsList"]],template:function(e,t){if(1&e){let e=Kp();Lp(0,"article",2,0),rm("keydown",(function(i){return Ko(e),jo(t.onKeyDown(i))}))("opening",(function(){return Ko(e),jo(t.onCustomDialogOpening())}))("opened",(function(){return Ko(e),jo(t.onCustomDialogOpened())})),Lp(2,"header",3)(3,"h4",4),ym(4),Np()(),Lp(5,"article",5,1),bg(7,O$,2,0)(8,P$,2,0),Lp(9,"button",6),rm("click",(function(){return Ko(e),jo(t.onAddButtonClick())})),Hp(10,"igx-icon",7),Lp(11,"span"),ym(12),Np()()(),Lp(13,"footer",8)(14,"div",9)(15,"button",10),rm("click",(function(){return Ko(e),jo(t.onClearButtonClick())})),ym(16),Np()(),Lp(17,"div",11)(18,"button",10),rm("click",(function(){return Ko(e),jo(t.cancelDialog())})),ym(19),Np()(),Lp(20,"div",12)(21,"button",13),rm("click",(function(){return Ko(e),jo(t.onApplyButtonClick())}))("keydown",(function(i){return Ko(e),jo(t.onApplyButtonKeyDown(i))})),ym(22),Np()()()()}2&e&&(rp("ngClass",Lm(9,R$,"2"===t.grid.gridSize,"1"===t.grid.gridSize)),Hc(4),Cm(" ",t.grid.resourceStrings.igx_grid_excel_custom_dialog_header,"",t.column.header||t.column.field," "),Hc(3),Ip("date"===t.column.dataType||"dateTime"===t.column.dataType||"time"===t.column.dataType?7:-1),Hc(),Ip("date"!==t.column.dataType&&"dateTime"!==t.column.dataType&&"time"!==t.column.dataType?8:-1),Hc(4),_m(t.grid.resourceStrings.igx_grid_excel_custom_dialog_add),Hc(4),wm(" ",t.grid.resourceStrings.igx_grid_excel_custom_dialog_clear," "),Hc(3),wm(" ",t.grid.resourceStrings.igx_grid_excel_cancel," "),Hc(3),wm(" ",t.grid.resourceStrings.igx_grid_excel_apply," "))},dependencies:[SO,jv,x$,l$,mR,DA],encapsulation:2})}}return e})(),M$=["customDialog"],L$=["subMenu"];function N$(e,t){1&e&&ym(0),2&e&&wm(" (",om(2).filterNumber,") ")}function H$(e,t){if(1&e&&(Lp(0,"igx-drop-down-item",6)(1,"div",9),Hp(2,"igx-icon",10),Lp(3,"span",11),ym(4),Np()()()),2&e){let e=t.$implicit,i=om(2);rp("selected",i.getSelectedCondition(e))("value",e),Hc(2),rp("name",i.getCondition(e).iconName),Hc(2),_m(i.translateCondition(e))}}function z$(e,t){if(1&e&&(Lp(0,"igx-drop-down-item",7)(1,"div",9),Hp(2,"igx-icon",12),Lp(3,"span",11),ym(4),Np()()()),2&e){let e=om(2);rp("selected",e.getSelectedCondition("custom")),Hc(4),_m(e.esf.grid.resourceStrings.igx_grid_excel_custom_filter)}}function B$(e,t){if(1&e){let e=Kp();Lp(0,"div",2),rm("keydown",(function(t){return Ko(e),jo(om().onTextFilterKeyDown(t))}))("click",(function(t){return Ko(e),jo(om().onTextFilterClick(t))})),Lp(1,"span",3),ym(2),bg(3,N$,1,1),Np(),Hp(4,"igx-icon",4),Np(),Lp(5,"igx-drop-down",5,0),rm("selectionChanging",(function(t){return Ko(e),jo(om().onSubMenuSelection(t))}))("closed",(function(){return Ko(e),jo(om().onSubMenuClosed())})),Lp(7,"div"),Op(8,H$,5,4,"igx-drop-down-item",6,Ap),bg(10,z$,5,2,"igx-drop-down-item",7),Np()(),Hp(11,"igx-excel-style-custom-dialog",8,1)}if(2&e){let e=vm(6),t=om();rp("ngClass",t.filterNumber>0?"igx-excel-filter__actions-filter--active":"")("igxDropDownItemNavigation",e),$g("aria-controls",null==t.subMenu?null:t.subMenu.listId)("aria-activedescendant",null!=t.subMenu&&t.subMenu.collapsed||null==t.subMenu||null==t.subMenu.focusedItem?null:t.subMenu.focusedItem.id),Hc(2),wm(" ",t.subMenuText," "),Hc(),Ip(t.filterNumber>0?3:-1),Hc(2),rp("maxHeight","397px"),Hc(3),Pp(t.conditions),Hc(2),Ip(t.showCustomFilterItem()?10:-1),Hc(),rp("column",t.esf.column)("filteringService",t.esf.grid.filteringService)("overlayComponentId",t.esf.overlayComponentId)}}var G$=(()=>{class e{get filterNumber(){return this.esf.expressionsList.filter((e=>e.expression.condition)).length}constructor(e,t){this.esf=e,this.platform=t,this.shouldOpenSubMenu=!0,this.destroy$=new Ci,this._subMenuPositionSettings={verticalStartPoint:bI.Top},this._subMenuOverlaySettings={closeOnOutsideClick:!0,modal:!1,positionStrategy:new FI(this._subMenuPositionSettings),scrollStrategy:new BI},this.esf.columnChange.pipe(Nn(this.destroy$)).subscribe((()=>{this.esf.grid&&(this.shouldOpenSubMenu=!0,this._subMenuOverlaySettings.outlet=this.esf.grid.outlet)})),this.esf.grid&&(this._subMenuOverlaySettings.outlet=this.esf.grid.outlet)}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}onTextFilterKeyDown(e){e.key===this.platform.KEYMAP.ENTER?this.onTextFilterClick(e):e.key===this.platform.KEYMAP.TAB&&this.subMenu.close()}onTextFilterClick(e){if(this.shouldOpenSubMenu){this._subMenuOverlaySettings.target=e.currentTarget;let t=this.esf.grid.nativeElement.getBoundingClientRect(),i=this.esf.mainDropdown.nativeElement.getBoundingClientRect(),n=i.left+i.width,r=t.left+t.width;n+=window.pageXOffset,r+=window.pageXOffset,Math.abs(n-r)<200?(this._subMenuOverlaySettings.positionStrategy.settings.horizontalDirection=SI.Left,this._subMenuOverlaySettings.positionStrategy.settings.horizontalStartPoint=SI.Left):(this._subMenuOverlaySettings.positionStrategy.settings.horizontalDirection=SI.Right,this._subMenuOverlaySettings.positionStrategy.settings.horizontalStartPoint=SI.Right),this.subMenu.open(this._subMenuOverlaySettings),this.shouldOpenSubMenu=!1}}getCondition(e){return this.esf.column.filters.condition(e)}getSelectedCondition(e){let t=this.esf.expressionsList;return!(t.length<1)&&(1===t.length?t[0].expression.condition.name===e:"custom"===e)}translateCondition(e){return this.esf.grid.resourceStrings[`igx_grid_filter_${this.getCondition(e).name}`]||e}onSubMenuSelection(e){this.esf.expressionsList&&this.esf.expressionsList.length&&"in"!==this.esf.expressionsList[0].expression.condition.name?this.customDialog.expressionsList=this.esf.expressionsList:this.customDialog.expressionsList=this.customDialog.expressionsList.filter((e=>e.expression.fieldName===this.esf.column.field&&e.expression.condition)),this.customDialog.selectedOperator=e.newSelection.value,e.cancel=!0,this.esf.overlayComponentId&&this.esf.hide(),this.subMenu.close(),this.customDialog.open(this.esf.mainDropdown.nativeElement)}onSubMenuClosed(){requestAnimationFrame((()=>{this.shouldOpenSubMenu=!0}))}showCustomFilterItem(){let e=this.esf.column.filteringExpressionsTree;return e&&e.filteringOperands&&e.filteringOperands.length&&!(e.filteringOperands[0].condition&&"in"===e.filteringOperands[0].condition.name)}get subMenuText(){switch(this.esf.column.dataType){case bS.Boolean:return this.esf.grid.resourceStrings.igx_grid_excel_boolean_filter;case bS.Number:case bS.Percent:return this.esf.grid.resourceStrings.igx_grid_excel_number_filter;case bS.Date:case bS.DateTime:case bS.Time:return this.esf.grid.resourceStrings.igx_grid_excel_date_filter;case bS.Currency:return this.esf.grid.resourceStrings.igx_grid_excel_currency_filter;default:return this.esf.grid.resourceStrings.igx_grid_excel_text_filter}}get conditions(){return this.esf.column.filters.conditionList()}static{this.ɵfac=function(t){return new(t||e)(lu(ZG),lu(NC))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-excel-style-conditional-filter"]],viewQuery:function(e,t){if(1&e&&(pm(M$,5,V$),pm(L$,5,yF)),2&e){let e;mm(e=fm())&&(t.customDialog=e.first),mm(e=fm())&&(t.subMenu=e.first)}},decls:1,vars:1,consts:[["subMenu",""],["customDialog",""],["tabindex","0","role","menuitem","aria-haspopup","true",1,"igx-excel-filter__actions-filter",3,"keydown","click","ngClass","igxDropDownItemNavigation"],[1,"igx-excel-filter__filter-number"],["name","chevron_right","family","default"],[3,"selectionChanging","closed","maxHeight"],[3,"selected","value"],[3,"selected"],[3,"column","filteringService","overlayComponentId"],[1,"igx-grid__filtering-dropdown-items"],["family","default",3,"name"],[1,"igx-grid__filtering-dropdown-text"],["name","filter_list","family","default"]],template:function(e,t){1&e&&bg(0,B$,13,11),2&e&&Ip(t.esf.column?0:-1)},dependencies:[jv,eR,DA,yF,uF,V$],encapsulation:2})}}return e})();function $$(e,t){if(1&e){let e=Kp();Lp(0,"button",4),rm("click",(function(){return Ko(e),jo(om(2).esf.onSelect())})),Hp(1,"igx-icon",5),Np()}if(2&e){let e=om(2);rp("ngClass",e.esf.column.selected?"igx-excel-filter__actions-selected":"igx-excel-filter__actions-select"),$g("aria-label",e.esf.column.selected?e.esf.grid.resourceStrings.igx_grid_excel_deselect:e.esf.grid.resourceStrings.igx_grid_excel_select)}}function W$(e,t){if(1&e){let e=Kp();Lp(0,"button",6),rm("click",(function(){return Ko(e),jo(om(2).esf.onPin())})),Hp(1,"igx-icon",7),Np()}if(2&e){let e=om(2);$g("aria-label",e.esf.column.pinned?e.esf.grid.resourceStrings.igx_grid_excel_unpin:e.esf.grid.resourceStrings.igx_grid_excel_pin),Hc(),rp("name",e.esf.column.pinned?"unpin":"pin")}}function K$(e,t){if(1&e){let e=Kp();Lp(0,"button",6),rm("click",(function(){return Ko(e),jo(om(2).esf.onHideToggle())})),Hp(1,"igx-icon",7),Np()}if(2&e){let e=om(2);$g("aria-label",e.esf.column.hidden?e.esf.grid.resourceStrings.igx_grid_excel_show:e.esf.grid.resourceStrings.igx_grid_excel_hide),Hc(),rp("name",e.esf.column.hidden?"show":"hide")}}function j$(e,t){if(1&e&&(Lp(0,"header",0)(1,"h4"),ym(2),Np(),Lp(3,"div",1),bg(4,$$,2,2,"button",2)(5,W$,2,2,"button",3)(6,K$,2,2,"button",3),Np()()),2&e){let e=om();Hc(2),_m(e.esf.column.header||e.esf.column.field),Hc(2),Ip(e.showSelecting?4:-1),Hc(),Ip(e.showPinning?5:-1),Hc(),Ip(e.showHiding?6:-1)}}var U$=(()=>{class e{constructor(e){this.esf=e}static{this.ɵfac=function(t){return new(t||e)(lu(ZG))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-excel-style-header"]],inputs:{showPinning:[2,"showPinning","showPinning",Hf],showSelecting:[2,"showSelecting","showSelecting",Hf],showHiding:[2,"showHiding","showHiding",Hf]},decls:1,vars:1,consts:[[1,"igx-excel-filter__menu-header"],[1,"igx-excel-filter__menu-header-actions"],["type","button","igxIconButton","flat",3,"ngClass"],["type","button","igxIconButton","flat"],["type","button","igxIconButton","flat",3,"click","ngClass"],["family","default","name","selected"],["type","button","igxIconButton","flat",3,"click"],["family","default",3,"name"]],template:function(e,t){1&e&&bg(0,j$,7,4,"header",0),2&e&&Ip(t.esf.column?0:-1)},dependencies:[jv,DA,rO],encapsulation:2})}}return e})();function q$(e,t){if(1&e){let e=Kp();Lp(0,"div",1),rm("click",(function(){return Ko(e),jo(om().esf.onHideToggle())})),Lp(1,"span"),ym(2),Np(),Hp(3,"igx-icon",2),Np()}if(2&e){let e=om();Hc(2),_m(e.esf.column.hidden?e.esf.grid.resourceStrings.igx_grid_excel_show:e.esf.grid.resourceStrings.igx_grid_excel_hide),Hc(),rp("name",e.esf.column.hidden?"show":"hide")}}var Y$=(()=>{class e{constructor(e){this.esf=e}static{this.ɵfac=function(t){return new(t||e)(lu(ZG))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-excel-style-hiding"]],decls:1,vars:1,consts:[["tabindex","0","role","menuitem",1,"igx-excel-filter__actions-hide"],["tabindex","0","role","menuitem",1,"igx-excel-filter__actions-hide",3,"click"],["family","default",3,"name"]],template:function(e,t){1&e&&bg(0,q$,4,2,"div",0),2&e&&Ip(t.esf.column?0:-1)},dependencies:[DA],encapsulation:2})}}return e})();function Z$(e,t){if(1&e){let e=Kp();Lp(0,"header"),ym(1),Np(),Lp(2,"igx-buttongroup")(3,"button",0),rm("click",(function(){return Ko(e),jo(om().onMoveButtonClicked(0))})),Hp(4,"igx-icon",1),Lp(5,"span"),ym(6),Np()(),Lp(7,"button",0),rm("click",(function(){return Ko(e),jo(om().onMoveButtonClicked(1))})),Lp(8,"span"),ym(9),Np(),Hp(10,"igx-icon",2),Np()()}if(2&e){let e=om();Hc(),wm(" ",e.esf.grid.resourceStrings.igx_grid_excel_filter_moving_header," "),Hc(2),rp("disabled",e.canNotMoveLeft),Hc(3),wm(" ","1"===e.esfSize?e.esf.grid.resourceStrings.igx_grid_excel_filter_moving_left_short:e.esf.grid.resourceStrings.igx_grid_excel_filter_moving_left," "),Hc(),rp("disabled",e.canNotMoveRight),Hc(2),wm(" ","1"===e.esfSize?e.esf.grid.resourceStrings.igx_grid_excel_filter_moving_right_short:e.esf.grid.resourceStrings.igx_grid_excel_filter_moving_right," ")}}var X$=(()=>{class e{constructor(e){this.esf=e,this.defaultClass=!0}get visibleColumns(){return this.esf.grid.visibleColumns.filter((e=>!e.columnGroup))}get canNotMoveLeft(){return 0===this.esf.column.visibleIndex||0===this.esf.grid.unpinnedColumns.indexOf(this.esf.column)&&this.esf.column.disablePinning||0!==this.esf.column.level&&!this.findColumn(0,this.visibleColumns)}get canNotMoveRight(){return this.esf.column.visibleIndex===this.visibleColumns.length-1||0!==this.esf.column.level&&!this.findColumn(1,this.visibleColumns)}onMoveButtonClicked(e){let t;this.esf.column.pinned?this.esf.column.isLastPinned&&1===e&&this.esf.grid.isPinningToStart?(t=this.esf.grid.unpinnedColumns[0],e=0):this.esf.column.isFirstPinned&&0===e&&!this.esf.grid.isPinningToStart?(t=this.esf.grid.unpinnedColumns[this.esf.grid.unpinnedColumns.length-1],e=1):t=this.findColumn(e,this.esf.grid.pinnedColumns):0===this.esf.grid.unpinnedColumns.indexOf(this.esf.column)&&0===e&&this.esf.grid.isPinningToStart?(t=this.esf.grid.pinnedColumns[this.esf.grid.pinnedColumns.length-1],t.parent&&(t=t.topLevelParent),e=1):this.esf.grid.unpinnedColumns.indexOf(this.esf.column)!==this.esf.grid.unpinnedColumns.length-1||1!==e||this.esf.grid.isPinningToStart?t=this.findColumn(e,this.esf.grid.unpinnedColumns):(t=this.esf.grid.pinnedColumns[0],e=0),this.esf.grid.moveColumn(this.esf.column,t,e)}get esfSize(){return this.esf.size}findColumn(e,t){let i=t.indexOf(this.esf.column);if(0===e){for(;i>0;)if(i--,t[i].level===this.esf.column.level&&t[i].parent===this.esf.column.parent)return t[i];return t[0]}for(;i<t.length-1;)if(i++,t[i].level===this.esf.column.level&&t[i].parent===this.esf.column.parent)return t[i]}static{this.ɵfac=function(t){return new(t||e)(lu(ZG))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-excel-style-moving"]],hostVars:2,hostBindings:function(e,t){2&e&&ap("igx-excel-filter__move",t.defaultClass)},decls:1,vars:1,consts:[["type","button","igxButton","",3,"click","disabled"],["family","default","name","arrow_back"],["family","default","name","arrow_forward"]],template:function(e,t){1&e&&bg(0,Z$,11,5),2&e&&Ip(t.esf.column?0:-1)},dependencies:[rV,mR,DA],encapsulation:2})}}return e})();function Q$(e,t){if(1&e){let e=Kp();Lp(0,"div",1),rm("click",(function(){return Ko(e),jo(om().esf.onPin())})),Lp(1,"span"),ym(2),Np(),Hp(3,"igx-icon",2),Np()}if(2&e){let e=om();rp("ngClass",e.esf.column.pinned?"igx-excel-filter__actions-unpin":"igx-excel-filter__actions-pin"),Hc(2),_m(e.esf.column.pinned?e.esf.grid.resourceStrings.igx_grid_excel_unpin:e.esf.grid.resourceStrings.igx_grid_excel_pin),Hc(),rp("name",e.esf.column.pinned?"unpin":"pin")}}var J$=(()=>{class e{constructor(e){this.esf=e}static{this.ɵfac=function(t){return new(t||e)(lu(ZG))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-excel-style-pinning"]],decls:1,vars:1,consts:[["tabindex","0","role","menuitem",3,"ngClass"],["tabindex","0","role","menuitem",3,"click","ngClass"],["family","default",3,"name"]],template:function(e,t){1&e&&bg(0,Q$,4,3,"div",0),2&e&&Ip(t.esf.column?0:-1)},dependencies:[jv,DA],encapsulation:2})}}return e})(),eW=(()=>{class e{constructor(e){this.template=e}static{this.ɵfac=function(t){return new(t||e)(lu(jh))}}static{this.ɵdir=rg({type:e,selectors:[["","igxProgressBarText",""]]})}}return e})(),tW=(()=>{class e{constructor(e){this.template=e}static{this.ɵfac=function(t){return new(t||e)(lu(jh))}}static{this.ɵdir=rg({type:e,selectors:[["","igxProgressBarGradient",""]]})}}return e})(),iW=(e,t,i,n,r,s)=>({"igx-linear-bar__value--start":e,"igx-linear-bar__value--center":t,"igx-linear-bar__value--end":i,"igx-linear-bar__value--top":n,"igx-linear-bar__value--hidden":r,"igx-linear-bar__value--fraction":s}),nW=["circle"],rW=e=>({$implicit:e});function sW(e,t){1&e&&(ya(),$p(0))}function oW(e,t){1&e&&(ya(),Lp(0,"linearGradient",9),Hp(1,"stop",10)(2,"stop",11),Np()),2&e&&rp("id",om().gradientId)}function aW(e,t){1&e&&$p(0)}function lW(e,t){if(1&e&&(Lp(0,"span",8),bg(1,aW,1,0,"ng-container",7),Np()),2&e){let e=om(),t=vm(11);rp("ngClass",e.hasFraction?"igx-circular-bar__value--fraction":""),Hc(),rp("ngTemplateOutlet",e.textTemplate?e.textTemplate.template:t)("ngTemplateOutletContext",e.context)}}function dW(e,t){1&e&&ym(0),2&e&&wm(" ",om().textContent,"\n")}var cW="start",hW="error",uW="info",gW="warning",pW="success",mW=(e,t,i=0)=>Math.max(Math.min(e,t),i),fW=(()=>{class e{constructor(){this.progressChanged=new wl,this.animationDuration=2e3,this._contentInit=!1,this._indeterminate=!1,this._max=100,this._value=0,this._animate=!0,this._fraction=0,this._integer=0,this._cdr=Mr(Cf),this._zone=Mr(Il)}set indeterminate(e){this._indeterminate=e,this._resetCounterValues(this._indeterminate)}get indeterminate(){return this._indeterminate}get step(){return this._step?this._step:.01*this._max}set step(e){let t=Number(e);t>this.max||(this._step=t)}set text(e){this._text=e,this._resetCounterValues(!!this._text)}get text(){return this._text}set animate(e){this._animate=e}get animate(){return this._animate}set max(e){e<0||this._max===e||(this._max=e,this._value=mW(this._value,this._max),this._updateProgressValues())}get max(){return this._max}get progressInteger(){return this._integer.toString()}get progressFraction(){return this._fraction.toString()}get progressWhole(){return this.valueInPercent.toFixed(2)}get transitionDuration(){return`${this.animationDuration}ms`}get hasFraction(){let e=this.valueInPercent;return e-Math.floor(e)>0}get valueInPercent(){let e=this.max>0?this._value/this.max*100:0;return Math.round(100*e)/100}get value(){return this._value}_updateProgressValues(){let e=this.valueInPercent,t=Math.floor(e),i=Math.round(e%1*100);this._integer=t,this._fraction=i}_resetCounterValues(e){e?(this._integer=0,this._fraction=0):this._zone.runOutsideAngular((()=>{setTimeout((()=>{this._updateProgressValues(),this._cdr.markForCheck()}))}))}set value(e){let t=mW(e,this.max);if(isNaN(t)||this._value===t)return;let i=this._value;this._value=t,this._zone.runOutsideAngular((()=>{setTimeout((()=>{this._updateProgressValues(),this._cdr.markForCheck()}))})),this.progressChanged.emit({previousValue:i,currentValue:this._value})}static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵdir=rg({type:e,hostVars:10,hostBindings:function(e,t){2&e&&($g("aria-valuemax",t.max)("aria-valuenow",t.value),op("--_progress-integer",t.progressInteger)("--_progress-fraction",t.progressFraction)("--_progress-whole",t.progressWhole)("--_transition-duration",t.transitionDuration))},inputs:{animationDuration:"animationDuration",indeterminate:[2,"indeterminate","indeterminate",Hf],step:"step",text:"text",animate:[2,"animate","animate",Hf],max:"max",value:"value"},outputs:{progressChanged:"progressChanged"}})}}return e})(),vW=0,yW=0,xW=0,_W=(()=>{class e extends fW{constructor(){super(...arguments),this.valueMin=0,this.cssClass="igx-linear-bar",this.striped=!1,this.role="progressbar",this.id="igx-linear-bar-"+vW++,this.textAlign=cW,this.textVisibility=!0,this.textTop=!1,this.type="default"}get isIndeterminate(){return this.indeterminate}get disableAnimationClass(){return!this._animate}get hasText(){return!!this.text}get error(){return this.type===hW}get info(){return this.type===uW}get warning(){return this.type===gW}get success(){return this.type===pW}ngAfterContentInit(){this._contentInit=!0}static{this.ɵfac=(()=>{let t;return function(i){return(t||(t=ol(e)))(i||e)}})()}static{this.ɵcmp=Qu({type:e,selectors:[["igx-linear-bar"]],hostVars:21,hostBindings:function(e,t){2&e&&($g("aria-valuemin",t.valueMin)("role",t.role)("id",t.id),ap("igx-linear-bar",t.cssClass)("igx-linear-bar--striped",t.striped)("igx-linear-bar--indeterminate",t.isIndeterminate)("igx-linear-bar--animation-none",t.disableAnimationClass)("igx-linear-bar--hide-counter",t.hasText)("igx-linear-bar--danger",t.error)("igx-linear-bar--info",t.info)("igx-linear-bar--warning",t.warning)("igx-linear-bar--success",t.success))},inputs:{striped:[2,"striped","striped",Hf],role:"role",id:"id",textAlign:"textAlign",textVisibility:[2,"textVisibility","textVisibility",Hf],textTop:[2,"textTop","textTop",Hf],type:"type"},features:[dg],decls:5,vars:9,consts:[[1,"igx-linear-bar__base"],[1,"igx-linear-bar__indicator"],[1,"igx-linear-bar__indicator-secondary"],[1,"igx-linear-bar__value",3,"ngClass"]],template:function(e,t){1&e&&(Lp(0,"div",0),Hp(1,"div",1)(2,"div",2),Np(),Lp(3,"span",3),ym(4),Np()),2&e&&(Hc(3),rp("ngClass",Bm(2,iW,"start"===t.textAlign,"center"===t.textAlign,"end"===t.textAlign,t.textTop,!t.textVisibility,t.hasFraction)),Hc(),wm(" ",t.text," "))},dependencies:[jv],encapsulation:2})}}return e})(),wW=(()=>{class e extends fW{get isIndeterminate(){return this.indeterminate}get disableAnimationClass(){return!this._animate}get hasText(){return!!this.text}get context(){return{$implicit:{value:this.value,valueInPercent:this.valueInPercent,max:this.max}}}get textContent(){return this.text}constructor(e){super(),this.renderer=e,this.cssClass="igx-circular-bar",this.id="igx-circular-bar-"+yW++,this.textVisibility=!0,this.gradientId="igx-circular-gradient-"+xW++,this.type="default"}get error(){return this.type===hW}get info(){return this.type===uW}get warning(){return this.type===gW}get success(){return this.type===pW}get strokeStyle(){return"default"===this.type?`url(#${this.gradientId})`:"none"}ngAfterContentInit(){this._contentInit=!0}static{this.ɵfac=function(t){return new(t||e)(lu(ru))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-circular-bar"]],contentQueries:function(e,t,i){if(1&e&&(gm(i,eW,5,eW),gm(i,tW,5,tW)),2&e){let e;mm(e=fm())&&(t.textTemplate=e.first),mm(e=fm())&&(t.gradientTemplate=e.first)}},viewQuery:function(e,t){if(1&e&&pm(nW,7),2&e){let e;mm(e=fm())&&(t._svgCircle=e.first)}},hostVars:19,hostBindings:function(e,t){2&e&&($g("id",t.id),op("stroke",t.strokeStyle),ap("igx-circular-bar",t.cssClass)("igx-circular-bar--indeterminate",t.isIndeterminate)("igx-circular-bar--animation-none",t.disableAnimationClass)("igx-circular-bar--hide-counter",t.hasText)("igx-circular-bar--danger",t.error)("igx-circular-bar--info",t.info)("igx-circular-bar--warning",t.warning)("igx-circular-bar--success",t.success))},inputs:{id:"id",textVisibility:[2,"textVisibility","textVisibility",Hf],type:"type"},features:[dg],decls:12,vars:7,consts:[["svg",""],["circle",""],["defaultGradientTemplate",""],["defaultTextTemplate",""],["role","progressbar","aria-valuemin","0"],[1,"igx-circular-bar__inner"],[1,"igx-circular-bar__outer"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"igx-circular-bar__text",3,"ngClass"],["gradientTransform","rotate(90)",3,"id"],["offset","0%",1,"igx-circular-bar__gradient-start"],["offset","100%",1,"igx-circular-bar__gradient-end"]],template:function(e,t){if(1&e&&(ya(),Lp(0,"svg",4,0),Hp(2,"circle",5)(3,"circle",6,1),Lp(5,"defs"),bg(6,sW,1,0,"ng-container",7),Np(),bg(7,oW,3,1,"ng-template",null,2,sf),Np(),bg(9,lW,2,3,"span",8)(10,dW,1,1,"ng-template",null,3,sf)),2&e){let e=vm(8);$g("aria-valuemax",t.max)("aria-valuenow",t.value),Hc(6),rp("ngTemplateOutlet",t.gradientTemplate?t.gradientTemplate.template:e)("ngTemplateOutletContext",Mm(5,rW,t.gradientId)),Hc(3),Ip(t.textVisibility?9:-1)}},dependencies:[qv,jv],encapsulation:2})}}return e})(),CW={igx_expand:"Expand",igx_collapse:"Collapse"},SW="None",bW="Cascading",DW=new hr("IgxTreeToken"),EW=new hr("IgxTreeNodeToken"),TW=(()=>{class e{constructor(){this.expandedNodes=new Set,this.collapsingNodes=new Set,this.siblingComparer=(e,t)=>t!==e&&t.level===e.level}expand(e,t){this.collapsingNodes.delete(e),this.expandedNodes.has(e)||(e.expandedChange.emit(!0),this.expandedNodes.add(e),this.tree.singleBranchExpand&&this.tree.findNodes(e,this.siblingComparer)?.forEach((e=>{t?e.collapse():e.expanded=!1})))}collapsing(e){this.collapsingNodes.add(e)}collapse(e){this.expandedNodes.has(e)&&e.expandedChange.emit(!1),this.collapsingNodes.delete(e),this.expandedNodes.delete(e)}isExpanded(e){return this.expandedNodes.has(e)}register(e){this.tree=e}static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵprov=ir({token:e,factory:e.ɵfac})}}return e})(),IW=(()=>{class e{constructor(){this.nodeSelection=new Set,this.indeterminateNodes=new Set}register(e){this.tree=e}selectMultipleNodes(e,t){if(!this.nodeSelection.size)return void this.selectNode(e);let i=this.tree.nodes.toArray().indexOf(this.getSelectedNodes()[this.nodeSelection.size-1]),n=this.tree.nodes.toArray().indexOf(e),r=this.tree.nodes.toArray().slice(Math.min(n,i),Math.max(n,i)+1).filter((e=>!this.isNodeSelected(e))),s=this.getSelectedNodes().concat(r);this.emitNodeSelectionEvent(s,r,[],t)}selectNode(e,t){this.tree.selection!==SW&&this.emitNodeSelectionEvent([...this.getSelectedNodes(),e],[e],[],t)}deselectNode(e,t){let i=this.getSelectedNodes().filter((t=>t!==e));this.emitNodeSelectionEvent(i,[],[e],t)}clearNodesSelection(){this.nodeSelection.clear(),this.indeterminateNodes.clear()}isNodeSelected(e){return this.nodeSelection.has(e)}isNodeIndeterminate(e){return this.indeterminateNodes.has(e)}selectNodesWithNoEvent(e,t=!1,i=!0){if(this.tree&&this.tree.selection===bW)return void this.cascadeSelectNodesWithNoEvent(e,t);let n=this.getSelectedNodes();t&&this.nodeSelection.clear(),e.forEach((e=>this.nodeSelection.add(e))),i&&this.emitSelectedChangeEvent(n)}deselectNodesWithNoEvent(e,t=!0){let i=this.getSelectedNodes();e?this.tree&&this.tree.selection===bW?this.cascadeDeselectNodesWithNoEvent(e):e.forEach((e=>this.nodeSelection.delete(e))):this.nodeSelection.clear(),t&&this.emitSelectedChangeEvent(i)}ensureStateOnNodeDelete(e){this.tree?.selection===bW&&requestAnimationFrame((()=>{if(this.isNodeSelected(e))this.deselectNodesWithNoEvent([e],!1);else{if(!e.parentNode)return;let t=e.parentNode?.allChildren.find((e=>!e._children?.length));if(!t)return;this.retriggerNodeState(t)}}))}retriggerNodeState(e){e.selected?(this.nodeSelection.delete(e),this.selectNodesWithNoEvent([e],!1,!1)):(this.nodeSelection.add(e),this.deselectNodesWithNoEvent([e],!1))}getSelectedNodes(){return this.nodeSelection.size?Array.from(this.nodeSelection):[]}getIndeterminateNodes(){return this.indeterminateNodes.size?Array.from(this.indeterminateNodes):[]}emitNodeSelectionEvent(e,t,i,n){if(this.tree.selection===bW)return void this.emitCascadeNodeSelectionEvent(e,t,i,n);let r=this.getSelectedNodes();if(this.areEqualCollections(r,e))return;let s={oldSelection:r,newSelection:e,added:t,removed:i,event:n,cancel:!1,owner:this.tree};this.tree.nodeSelection.emit(s),!s.cancel&&this.selectNodesWithNoEvent(s.newSelection,!0)}areEqualCollections(e,t){return e.length===t.length&&new Set(e.concat(t)).size===e.length}cascadeSelectNodesWithNoEvent(e,t=!1){let i=this.getSelectedNodes();if(t)this.indeterminateNodes.clear(),this.nodeSelection.clear(),this.calculateNodesNewSelectionState({added:e,removed:[]});else{let t={oldSelection:i,newSelection:[...i,...e]};this.populateAddRemoveArgs(t),this.calculateNodesNewSelectionState(t)}this.nodeSelection=new Set(this.nodesToBeSelected),this.indeterminateNodes=new Set(this.nodesToBeIndeterminate),this.emitSelectedChangeEvent(i)}cascadeDeselectNodesWithNoEvent(e){let t={added:[],removed:e};this.calculateNodesNewSelectionState(t),this.nodeSelection=new Set(this.nodesToBeSelected),this.indeterminateNodes=new Set(this.nodesToBeIndeterminate)}calculateNodesNewSelectionState(e){this.nodesToBeSelected=new Set(e.oldSelection?e.oldSelection:this.getSelectedNodes()),this.nodesToBeIndeterminate=new Set(this.getIndeterminateNodes()),this.cascadeSelectionState(e.removed,!1),this.cascadeSelectionState(e.added,!0)}cascadeSelectionState(e,t){if(e&&0!==e.length&&e&&e.length>0){let i=this.getCascadingNodeCollection(e);i.nodes.forEach((e=>{t?this.nodesToBeSelected.add(e):this.nodesToBeSelected.delete(e),this.nodesToBeIndeterminate.delete(e)})),Array.from(i.parents).forEach((e=>{this.handleParentSelectionState(e)}))}}emitCascadeNodeSelectionEvent(e,t,i,n){let r=this.getSelectedNodes();if(this.areEqualCollections(r,e))return;let s={oldSelection:r,newSelection:e,added:t,removed:i,event:n,cancel:!1,owner:this.tree};this.calculateNodesNewSelectionState(s),s.newSelection=Array.from(this.nodesToBeSelected),this.populateAddRemoveArgs(s),this.tree.nodeSelection.emit(s),!s.cancel&&(this.areEqualCollections(Array.from(this.nodesToBeSelected),s.newSelection)?(this.nodeSelection=new Set(this.nodesToBeSelected),this.indeterminateNodes=new Set(this.nodesToBeIndeterminate),this.emitSelectedChangeEvent(r)):this.cascadeSelectNodesWithNoEvent(s.newSelection,!0))}handleParentSelectionState(e){e&&(this.handleNodeSelectionState(e),e.parentNode&&this.handleParentSelectionState(e.parentNode))}handleNodeSelectionState(e){let t=e&&e._children?e._children.toArray():[];t.length?t.every((e=>this.nodesToBeSelected.has(e)))?(this.nodesToBeSelected.add(e),this.nodesToBeIndeterminate.delete(e)):t.some((e=>this.nodesToBeSelected.has(e)||this.nodesToBeIndeterminate.has(e)))?(this.nodesToBeIndeterminate.add(e),this.nodesToBeSelected.delete(e)):(this.nodesToBeIndeterminate.delete(e),this.nodesToBeSelected.delete(e)):(this.isNodeSelected(e)?this.nodesToBeSelected.add(e):this.nodesToBeSelected.delete(e),this.nodesToBeIndeterminate.delete(e))}getCascadingNodeCollection(e){let t={parents:new Set,nodes:new Set(e)};return Array.from(t.nodes).forEach((e=>{(e.allChildren?.toArray()||[]).forEach((e=>{t.nodes.add(e)})),e&&e.parentNode&&t.parents.add(e.parentNode)})),t}populateAddRemoveArgs(e){e.removed=e.oldSelection.filter((t=>e.newSelection.indexOf(t)<0)),e.added=e.newSelection.filter((t=>e.oldSelection.indexOf(t)<0))}emitSelectedChangeEvent(e){this.getSelectedNodes().forEach((t=>{e.indexOf(t)<0&&t.selectedChange.emit(!0)})),e.forEach((e=>{this.nodeSelection.has(e)||e.selectedChange.emit(!1)}))}static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵprov=ir({token:e,factory:e.ɵfac})}}return e})(),RW=(()=>{class e{constructor(e,t){this.treeService=e,this.selectionService=t,this._focusedNode=null,this._lastFocusedNode=null,this._activeNode=null,this._visibleChildren=[],this._invisibleChildren=new Set,this._disabledChildren=new Set,this._cacheChange=new Ci,this._cacheChange.subscribe((()=>{this._visibleChildren=this.tree?.nodes?this.tree.nodes.filter((e=>!(this._invisibleChildren.has(e)||this._disabledChildren.has(e)))):[]}))}register(e){this.tree=e}get focusedNode(){return this._focusedNode}set focusedNode(e){this._focusedNode!==e&&(this._lastFocusedNode=this._focusedNode,this._lastFocusedNode&&(this._lastFocusedNode.tabIndex=-1),this._focusedNode=e,null!==this._focusedNode&&(this._focusedNode.tabIndex=0,this._focusedNode.header.nativeElement.focus()))}get activeNode(){return this._activeNode}set activeNode(e){this._activeNode!==e&&(this._activeNode=e,this.tree.activeNodeChanged.emit(this._activeNode))}get visibleChildren(){return this._visibleChildren}update_disabled_cache(e){e.disabled?this._disabledChildren.add(e):this._disabledChildren.delete(e),this._cacheChange.next()}init_invisible_cache(){this.tree.nodes.filter((e=>0===e.level)).forEach((e=>{this.update_visible_cache(e,e.expanded,!1)})),this._cacheChange.next()}update_visible_cache(e,t,i=!0){t?e._children.forEach((e=>{this._invisibleChildren.delete(e),this.update_visible_cache(e,e.expanded,!1)})):e.allChildren.forEach((e=>this._invisibleChildren.add(e))),i&&this._cacheChange.next()}setFocusedAndActiveNode(e,t=!0){t&&(this.activeNode=e),this.focusedNode=e}handleKeydown(e){let t=e.key.toLowerCase();if(this.focusedNode){if(!BC.has(t)&&"*"!==t)return void("enter"===t&&(this.activeNode=this.focusedNode));e.preventDefault(),e.repeat?setTimeout((()=>this.handleNavigation(e)),1):this.handleNavigation(e)}}ngOnDestroy(){this._cacheChange.next(),this._cacheChange.complete()}handleNavigation(e){switch(e.key.toLowerCase()){case"home":this.setFocusedAndActiveNode(this.visibleChildren[0]);break;case"end":this.setFocusedAndActiveNode(this.visibleChildren[this.visibleChildren.length-1]);break;case"arrowleft":case"left":this.handleArrowLeft();break;case"arrowright":case"right":this.handleArrowRight();break;case"arrowup":case"up":this.handleUpDownArrow(!0,e);break;case"arrowdown":case"down":this.handleUpDownArrow(!1,e);break;case"*":this.handleAsterisk();break;case" ":case"spacebar":case"space":this.handleSpace(e.shiftKey);break;default:return}}handleArrowLeft(){if(this.focusedNode.expanded&&!this.treeService.collapsingNodes.has(this.focusedNode)&&this.focusedNode._children?.length)this.activeNode=this.focusedNode,this.focusedNode.collapse();else{let e=this.focusedNode.parentNode;e&&!e.disabled&&this.setFocusedAndActiveNode(e)}}handleArrowRight(){if(this.focusedNode._children.length>0)if(this.focusedNode.expanded){if(this.treeService.collapsingNodes.has(this.focusedNode))return void this.focusedNode.expand();let e=this.focusedNode._children.find((e=>!e.disabled));e&&this.setFocusedAndActiveNode(e)}else this.activeNode=this.focusedNode,this.focusedNode.expand()}handleUpDownArrow(e,t){let i=this.getVisibleNode(this.focusedNode,e?-1:1);i!==this.focusedNode&&(t.ctrlKey?this.setFocusedAndActiveNode(i,!1):this.setFocusedAndActiveNode(i))}handleAsterisk(){(this.focusedNode.parentNode?this.focusedNode.parentNode._children:this.tree.rootNodes)?.forEach((e=>{!e.disabled&&(!e.expanded||this.treeService.collapsingNodes.has(e))&&e.expand()}))}handleSpace(e=!1){if(this.tree.selection!==SW){if(this.activeNode=this.focusedNode,e)return void this.selectionService.selectMultipleNodes(this.focusedNode);this.focusedNode.selected?this.selectionService.deselectNode(this.focusedNode):this.selectionService.selectNode(this.focusedNode)}}getVisibleNode(e,t=1){let i=this.visibleChildren.indexOf(e);return this.visibleChildren[i+t]||e}static{this.ɵfac=function(t){return new(t||e)(Vr(TW),Vr(IW))}}static{this.ɵprov=ir({token:e,factory:e.ɵfac})}}return e})(),AW=["ghostTemplate"],kW=["defaultIndicator"],OW=["childrenContainer"],FW=[[["igx-tree-node"]],"*"],PW=["igx-tree-node","*"],VW=(e,t,i,n)=>({"igx-tree-node__wrapper--selected":e,"igx-tree-node__wrapper--active":t,"igx-tree-node__wrapper--focused":i,"igx-tree-node__wrapper--disabled":n}),MW=()=>[],LW=e=>({"igx-tree-node__toggle-button--hidden":e}),NW=e=>({$implicit:e});function HW(e,t){}function zW(e,t){1&e&&bg(0,HW,0,0,"ng-template")}function BW(e,t){1&e&&bg(0,zW,1,0,null,7),2&e&&(om(),rp("ngTemplateOutlet",vm(9)))}function GW(e,t){}function $W(e,t){1&e&&bg(0,GW,0,0,"ng-template")}function WW(e,t){1&e&&(Lp(0,"div",8,5),dm(2),Np())}function KW(e,t){if(1&e&&Hp(0,"igx-icon",9),2&e){let e=om();rp("name",e.expanded?"tree_collapse":"tree_expand"),$g("aria-label",e.expanded?e.resourceStrings.igx_collapse:e.resourceStrings.igx_expand)}}function jW(e,t){if(1&e&&Hp(0,"igx-checkbox",10),2&e){let e=om();rp("checked",e.selected)("disabled",e.disabled)("readonly",!0)("indeterminate",e.indeterminate)("tabindex",-1)}}function UW(e,t){1&e&&Hp(0,"span",13)}function qW(e,t){1&e&&$p(0)}function YW(e,t){if(1&e){let e=Kp();Lp(0,"span",19),rm("click",(function(){return Ko(e),jo(om(2).indicatorClick())})),bg(1,qW,1,0,"ng-container",20),Np()}if(2&e){let e=om(2);rp("ngClass",Mm(3,LW,!(null!=e._children&&e._children.length))),Hc(),rp("ngTemplateOutlet",e.expandIndicatorTemplate)("ngTemplateOutletContext",Mm(5,NW,e.expanded))}}function ZW(e,t){1&e&&(Lp(0,"span",15),Hp(1,"igx-circular-bar",21),Np()),2&e&&(Hc(),rp("animate",!1)("indeterminate",!0)("textVisibility",!1))}function XW(e,t){1&e&&$p(0)}function QW(e,t){if(1&e){let e=Kp();Lp(0,"div",22),rm("pointerdown",(function(t){return Ko(e),jo(om(2).onSelectorPointerDown(t))}))("click",(function(t){return Ko(e),jo(om(2).onSelectorClick(t))})),bg(1,XW,1,0,"ng-container",7),Np()}if(2&e){om(2);let e=vm(7);Hc(),rp("ngTemplateOutlet",e)}}function JW(e,t){1&e&&Hp(0,"span",13)}function eK(e,t){if(1&e){let e=Kp();Lp(0,"div",11,6),rm("pointerdown",(function(t){return Ko(e),jo(om().onPointerDown(t))}))("focus",(function(){return Ko(e),jo(om().handleFocus())}))("blur",(function(){return Ko(e),jo(om().clearFocus())})),Lp(2,"div",12),Op(3,UW,1,0,"span",13,Rp),Np(),bg(5,YW,2,7,"span",14)(6,ZW,2,3,"span",15)(7,QW,2,1,"div",16),Lp(8,"div",17),dm(9,1),Np()(),Lp(10,"div",18),Op(11,JW,1,0,"span",13,Rp),Hp(13,"div"),Np()}if(2&e){let e=om();rp("tabIndex",e.tabIndex)("ngClass",Hm(6,VW,e.selected,e.active,e.focused,e.disabled)),$g("role",e.role),Hc(3),Pp(Vm(11,MW).constructor(e.level)),Hc(2),Ip(e.loading?-1:5),Hc(),Ip(e.loading?6:-1),Hc(),Ip(e.showSelectors?7:-1),Hc(4),Pp(Vm(12,MW).constructor(e.level))}}function tK(e,t){}function iK(e,t){1&e&&bg(0,tK,0,0,"ng-template")}function nK(e,t){if(1&e&&(Lp(0,"div",23),bg(1,iK,1,0,null,7),Np()),2&e){om();let e=vm(9);Hc(),rp("ngTemplateOutlet",e)}}var rK=(()=>{class e{set parentNode(e){e&&(this._parentNode=e,this._parentNode.addLinkChild(this))}get parentNode(){return this._parentNode}get target(){return this.node||this.parentNode}constructor(e,t,i){this.node=e,this.navService=t,this.elementRef=i,this.role="treeitem",this._parentNode=null}get tabIndex(){return this.navService.focusedNode===this.target?this.target?.disabled?-1:0:-1}handleBlur(){this.target.isFocused=!1}handleFocus(){this.target&&!this.target.disabled&&(this.navService.focusedNode!==this.target&&(this.navService.focusedNode=this.target),this.target.isFocused=!0)}ngOnDestroy(){this.target.removeLinkChild(this)}static{this.ɵfac=function(t){return new(t||e)(lu(EW,8),lu(RW),lu(zl))}}static{this.ɵdir=rg({type:e,selectors:[["","igxTreeNodeLink",""]],hostVars:2,hostBindings:function(e,t){1&e&&rm("blur",(function(){return t.handleBlur()}))("focus",(function(){return t.handleFocus()})),2&e&&$g("role",t.role)("tabindex",t.tabIndex)},inputs:{parentNode:[0,"igxTreeNodeLink","parentNode"]}})}}return e})(),sK=(()=>{class e extends jO{set tabIndex(e){this._tabIndex=e}get tabIndex(){return this.disabled?-1:null===this._tabIndex?null===this.navService.focusedNode?this.hasLinkChildren?-1:0:-1:this.hasLinkChildren?-1:this._tabIndex}get animationSettings(){return this.tree.animationSettings}set resourceStrings(e){this._resourceStrings=Object.assign({},this._resourceStrings,e)}get resourceStrings(){return this._resourceStrings}set active(e){e&&(this.navService.activeNode=this,this.tree.activeNodeBindingChange.emit(this))}get active(){return this.navService.activeNode===this}get focused(){return this.isFocused&&this.navService.focusedNode===this}get path(){return this.parentNode?.path?[...this.parentNode.path,this]:[this]}get disabled(){return this._disabled}set disabled(e){e!==this._disabled&&(this._disabled=e,this.tree.disabledChange.emit(this))}get role(){return this.hasLinkChildren?"none":"treeitem"}get children(){return this._children?.length?this._children.toArray():null}get hasLinkChildren(){return this.linkChildren?.length>0||this.registeredChildren?.length>0}constructor(e,t,i,n,r,s,o,a){super(s),this.tree=e,this.selectionService=t,this.treeService=i,this.navService=n,this.cdr=r,this.element=o,this.parentNode=a,this.loading=!1,this.selectedChange=new wl,this.expandedChange=new wl,this.cssClass="igx-tree-node",this.registeredChildren=[],this._resourceStrings=TA(CW),this._tabIndex=null,this._disabled=!1}get showSelectors(){return this.tree.selection!==SW}get indeterminate(){return this.selectionService.isNodeIndeterminate(this)}get level(){return this.parentNode?this.parentNode.level+1:0}get selected(){return this.selectionService.isNodeSelected(this)}set selected(e){this.tree?.nodes&&this.tree.nodes.find((e=>e===this))||!e?(e&&!this.selectionService.isNodeSelected(this)&&this.selectionService.selectNodesWithNoEvent([this]),!e&&this.selectionService.isNodeSelected(this)&&this.selectionService.deselectNodesWithNoEvent([this])):this.tree.forceSelect.push(this)}get expanded(){return this.treeService.isExpanded(this)}set expanded(e){e?this.treeService.expand(this,!1):this.treeService.collapse(this)}get expandIndicatorTemplate(){return this.tree?.expandIndicator||this._defaultExpandIndicatorTemplate}get nativeElement(){return this.element.nativeElement}ngOnInit(){this.openAnimationDone.pipe(Nn(this.destroy$)).subscribe((()=>{this.tree.nodeExpanded.emit({owner:this.tree,node:this})})),this.closeAnimationDone.pipe(Nn(this.destroy$)).subscribe((()=>{this.tree.nodeCollapsed.emit({owner:this.tree,node:this}),this.treeService.collapse(this),this.cdr.markForCheck()}))}handleFocus(){if(!this.disabled){if(this.navService.focusedNode!==this&&(this.navService.focusedNode=this),this.isFocused=!0,this.linkChildren?.length)return void this.linkChildren.first.nativeElement.focus();if(this.registeredChildren.length)return void this.registeredChildren[0].elementRef.nativeElement.focus()}}clearFocus(){this.isFocused=!1}onSelectorPointerDown(e){e.preventDefault(),e.stopPropagation()}onSelectorClick(e){e.preventDefault(),e.shiftKey?this.selectionService.selectMultipleNodes(this,e):this.selected?this.selectionService.deselectNode(this,e):this.selectionService.selectNode(this,e)}toggle(){this.expanded?this.collapse():this.expand()}indicatorClick(){this.tree.toggleNodeOnClick||(this.toggle(),this.navService.setFocusedAndActiveNode(this))}onPointerDown(e){e.stopPropagation(),this.tree.toggleNodeOnClick&&0===e.button&&this.toggle(),this.navService.setFocusedAndActiveNode(this)}ngOnDestroy(){super.ngOnDestroy(),this.selectionService.ensureStateOnNodeDelete(this)}expand(){if(this.expanded&&!this.treeService.collapsingNodes.has(this))return;let e={owner:this.tree,node:this,cancel:!1};this.tree.nodeExpanding.emit(e),e.cancel||(this.treeService.expand(this,!0),this.cdr.detectChanges(),this.playOpenAnimation(this.childrenContainer))}collapse(){if(!this.expanded||this.treeService.collapsingNodes.has(this))return;let e={owner:this.tree,node:this,cancel:!1};this.tree.nodeCollapsing.emit(e),e.cancel||(this.treeService.collapsing(this),this.playCloseAnimation(this.childrenContainer))}addLinkChild(e){this._tabIndex=-1,this.registeredChildren.push(e)}removeLinkChild(e){let t=this.registeredChildren.indexOf(e);-1!==t&&this.registeredChildren.splice(t,1)}static{this.ɵfac=function(t){return new(t||e)(lu(DW),lu(IW),lu(TW),lu(RW),lu(Cf),lu(CI),lu(zl),lu(EW,12))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-tree-node"]],contentQueries:function(e,t,i){if(1&e&&(gm(i,rK,4,zl),gm(i,EW,4,EW),gm(i,EW,5,EW)),2&e){let e;mm(e=fm())&&(t.linkChildren=e),mm(e=fm())&&(t._children=e),mm(e=fm())&&(t.allChildren=e)}},viewQuery:function(e,t){if(1&e&&(pm(AW,5,zl),pm(kW,7,jh),pm(OW,5,zl)),2&e){let e;mm(e=fm())&&(t.header=e.first),mm(e=fm())&&(t._defaultExpandIndicatorTemplate=e.first),mm(e=fm())&&(t.childrenContainer=e.first)}},hostVars:5,hostBindings:function(e,t){2&e&&($g("role",t.role),ap("igx-tree-node--disabled",t.disabled)("igx-tree-node",t.cssClass))},inputs:{data:"data",loading:[2,"loading","loading",Hf],resourceStrings:"resourceStrings",active:[2,"active","active",Hf],disabled:[2,"disabled","disabled",Hf],selected:[2,"selected","selected",Hf],expanded:[2,"expanded","expanded",Hf]},outputs:{selectedChange:"selectedChange",expandedChange:"expandedChange"},features:[Pm([{provide:EW,useExisting:e}]),dg],ngContentSelectors:PW,decls:12,vars:2,consts:[["noDragTemplate",""],["defaultIndicator",""],["selectMarkerTemplate",""],["headerTemplate",""],["dragTemplate",""],["childrenContainer",""],["ghostTemplate",""],[4,"ngTemplateOutlet"],["role","group",1,"igx-tree-node__group"],["family","default",3,"name"],[3,"checked","disabled","readonly","indeterminate","tabindex"],[1,"igx-tree-node__wrapper",3,"pointerdown","focus","blur","tabIndex","ngClass"],["aria-hidden","true"],["aria-hidden","true",1,"igx-tree-node__spacer"],[1,"igx-tree-node__toggle-button",3,"ngClass"],[1,"igx-tree-node__toggle-button"],[1,"igx-tree-node__select"],[1,"igx-tree-node__content"],[1,"igx-tree-node__drop-indicator"],[1,"igx-tree-node__toggle-button",3,"click","ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"animate","indeterminate","textVisibility"],[1,"igx-tree-node__select",3,"pointerdown","click"],[1,"igx-tree-node__drag-wrapper"]],template:function(e,t){if(1&e&&(lm(FW),bg(0,BW,1,1,"ng-template",null,0,sf)(2,$W,1,0,null,7)(3,WW,3,0,"div",8)(4,KW,1,2,"ng-template",null,1,sf)(6,jW,1,5,"ng-template",null,2,sf)(8,eK,14,13,"ng-template",null,3,sf)(10,nK,2,1,"ng-template",null,4,sf)),2&e){let e=vm(1);Hc(2),rp("ngTemplateOutlet",e),Hc(),Ip(t.expanded&&!t.loading?3:-1)}},dependencies:[qv,DA,OF,jv,wW],encapsulation:2})}}return e})(),oK=[[["igx-tree-node"]]],aK=["igx-tree-node"],lK=(()=>{class e{static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵdir=rg({type:e,selectors:[["","igxTreeExpandIndicator",""]]})}}return e})(),dK=(()=>{class e{get selection(){return this._selection}set selection(e){this._selection=e,this.selectionService.clearNodesSelection()}get rootNodes(){return this.nodes?.filter((e=>0===e.level))}constructor(e,t,i,n){this.navService=e,this.selectionService=t,this.treeService=i,this.element=n,this.cssClass="igx-tree",this.singleBranchExpand=!1,this.toggleNodeOnClick=!1,this.animationSettings={openAnimation:fE,closeAnimation:vE},this.nodeSelection=new wl,this.nodeExpanding=new wl,this.nodeExpanded=new wl,this.nodeCollapsing=new wl,this.nodeCollapsed=new wl,this.activeNodeChanged=new wl,this.disabledChange=new wl,this.activeNodeBindingChange=new wl,this.forceSelect=[],this.resizeNotify=new Ci,this._selection=SW,this.destroy$=new Ci,this.unsubChildren$=new Ci,this._comparer=(e,t)=>t.data===e,this.selectionService.register(this),this.treeService.register(this),this.navService.register(this)}get nativeElement(){return this.element.nativeElement}expandAll(e){(e=e||this.nodes.toArray()).forEach((e=>e.expanded=!0))}collapseAll(e){(e=e||this.nodes.toArray()).forEach((e=>e.expanded=!1))}deselectAll(e){this.selectionService.deselectNodesWithNoEvent(e)}findNodes(e,t){let i=t||this._comparer,n=this.nodes.filter((t=>i(e,t)));return 0===n?.length?null:n}handleKeydown(e){this.navService.handleKeydown(e)}ngOnInit(){this.disabledChange.pipe(Nn(this.destroy$)).subscribe((e=>{this.navService.update_disabled_cache(e)})),this.activeNodeBindingChange.pipe(Nn(this.destroy$)).subscribe((e=>{this.expandToNode(this.navService.activeNode),this.scrollNodeIntoView(e?.header?.nativeElement)})),this.subToCollapsing(),this.resizeNotify.pipe(Bn(40,null,{trailing:!0}),Nn(this.destroy$)).subscribe((()=>{requestAnimationFrame((()=>{this.scrollNodeIntoView(this.navService.activeNode?.header.nativeElement)}))}))}ngAfterViewInit(){this.nodes.changes.pipe(Nn(this.destroy$)).subscribe((()=>{this.subToChanges()})),this.scrollNodeIntoView(this.navService.activeNode?.header?.nativeElement),this.subToChanges(),qC(this.nativeElement).pipe(Nn(this.destroy$)).subscribe((()=>this.resizeNotify.next()))}ngOnDestroy(){this.unsubChildren$.next(),this.unsubChildren$.complete(),this.destroy$.next(),this.destroy$.complete()}expandToNode(e){e&&e.parentNode&&e.path.forEach((t=>{t!==e&&!t.expanded&&(t.expanded=!0)}))}subToCollapsing(){this.nodeCollapsing.pipe(Nn(this.destroy$)).subscribe((e=>{e.cancel||this.navService.update_visible_cache(e.node,!1)})),this.nodeExpanding.pipe(Nn(this.destroy$)).subscribe((e=>{e.cancel||this.navService.update_visible_cache(e.node,!0)}))}subToChanges(){this.unsubChildren$.next();let e=[...this.forceSelect];requestAnimationFrame((()=>{this.selectionService.selectNodesWithNoEvent(e)})),this.forceSelect=[],this.nodes.forEach((e=>{e.expandedChange.pipe(Nn(this.unsubChildren$)).subscribe((t=>{this.navService.update_visible_cache(e,t)})),e.closeAnimationDone.pipe(Nn(this.unsubChildren$)).subscribe((()=>{let e=this.navService.focusedNode?.header.nativeElement;this.scrollNodeIntoView(e)})),e.openAnimationDone.pipe(Nn(this.unsubChildren$)).subscribe((()=>{let e=this.navService.focusedNode?.header.nativeElement;this.scrollNodeIntoView(e)}))})),this.navService.init_invisible_cache()}scrollNodeIntoView(e){if(!e)return;let t=e.getBoundingClientRect(),i=this.nativeElement.getBoundingClientRect(),n=i.top>t.top?t.top-i.top:0,r=i.bottom<t.bottom?t.bottom-i.bottom:0;(n||r)&&this.nativeElement.scrollHeight>this.nativeElement.clientHeight&&(this.nativeElement.scrollTop=this.nativeElement.scrollTop+r+n+(n?-1:1)*t.height)}static{this.ɵfac=function(t){return new(t||e)(lu(RW),lu(IW),lu(TW),lu(zl))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-tree"]],contentQueries:function(e,t,i){if(1&e&&(gm(i,lK,5,jh),gm(i,sK,5)),2&e){let e;mm(e=fm())&&(t.expandIndicator=e.first),mm(e=fm())&&(t.nodes=e)}},hostVars:2,hostBindings:function(e,t){2&e&&ap("igx-tree",t.cssClass)},inputs:{selection:"selection",singleBranchExpand:[2,"singleBranchExpand","singleBranchExpand",Hf],toggleNodeOnClick:[2,"toggleNodeOnClick","toggleNodeOnClick",Hf],animationSettings:"animationSettings"},outputs:{nodeSelection:"nodeSelection",nodeExpanding:"nodeExpanding",nodeExpanded:"nodeExpanded",nodeCollapsing:"nodeCollapsing",nodeCollapsed:"nodeCollapsed",activeNodeChanged:"activeNodeChanged"},features:[Pm([TW,IW,RW,{provide:DW,useExisting:e}])],ngContentSelectors:aK,decls:2,vars:0,consts:[["role","tree",1,"igx-tree__root",3,"keydown"]],template:function(e,t){1&e&&(lm(oK),Lp(0,"div",0),rm("keydown",(function(e){return t.handleKeydown(e)})),dm(1),Np())},encapsulation:2})}}return e})(),cK=(()=>{class e{constructor(e){this.el=e}static{this.ɵfac=function(t){return new(t||e)(lu(zl,8))}}static{this.ɵdir=rg({type:e,selectors:[["","igxListBase",""]]})}}return e})(),hK=function(e){return e[e.NONE=0]="NONE",e[e.LEFT=1]="LEFT",e[e.RIGHT=2]="RIGHT",e}(hK||{}),uK=(()=>{class e{constructor(e){this.template=e}static{this.ɵfac=function(t){return new(t||e)(lu(jh))}}static{this.ɵdir=rg({type:e,selectors:[["","igxEmptyList",""]]})}}return e})(),gK=(()=>{class e{constructor(e){this.template=e}static{this.ɵfac=function(t){return new(t||e)(lu(jh))}}static{this.ɵdir=rg({type:e,selectors:[["","igxDataLoading",""]]})}}return e})(),pK=(()=>{class e{constructor(e){this.template=e}static{this.ɵfac=function(t){return new(t||e)(lu(jh))}}static{this.ɵdir=rg({type:e,selectors:[["","igxListItemLeftPanning",""]]})}}return e})(),mK=(()=>{class e{constructor(e){this.template=e}static{this.ɵfac=function(t){return new(t||e)(lu(jh))}}static{this.ɵdir=rg({type:e,selectors:[["","igxListItemRightPanning",""]]})}}return e})(),fK=["leftPanningTmpl"],vK=["rightPanningTmpl"],yK=["*",[["","igxListThumbnail",""],["igx-list__item-thumbnail"],["igx-avatar"]],[["","igxListLine",""],["",8,"igx-list__item-lines"],["","igxListLineTitle",""],["","igxListLineSubTitle",""],["",8,"igx-list__item-line-title"],["",8,"igx-list__item-line-subtitle"]],[["","igxListAction",""],["",8,"igx-list__item-actions"]]],xK=["*","[igxListThumbnail], igx-list__item-thumbnail, igx-avatar","[igxListLine], .igx-list__item-lines, [igxListLineTitle], [igxListLineSubTitle], .igx-list__item-line-title, .igx-list__item-line-subtitle","[igxListAction], .igx-list__item-actions"];function _K(e,t){1&e&&$p(0)}function wK(e,t){if(1&e&&(Lp(0,"div",9,4),bg(2,_K,1,0,"ng-container",10),Np()),2&e){let e=om();op("width",e.offsetWidthInRem,"rem")("height",e.offsetHeightInRem,"rem"),Hc(2),rp("ngTemplateOutlet",e.list.listItemLeftPanningTemplate.template)("ngTemplateOutletContext",e.context)}}function CK(e,t){1&e&&$p(0)}function SK(e,t){if(1&e&&(Lp(0,"div",11,5),bg(2,CK,1,0,"ng-container",10),Np()),2&e){let e=om();op("width",e.offsetWidthInRem,"rem")("height",e.offsetHeightInRem,"rem"),Hc(2),rp("ngTemplateOutlet",e.list.listItemRightPanningTemplate.template)("ngTemplateOutletContext",e.context)}}function bK(e,t){1&e&&dm(0)}function DK(e,t){1&e&&(Lp(0,"div",12),dm(1,1),Np())}function EK(e,t){1&e&&(Lp(0,"div",13),dm(1,2),Np())}function TK(e,t){1&e&&(Lp(0,"div",14),dm(1,3),Np())}function IK(e,t){1&e&&$p(0)}function RK(e,t){1&e&&bg(0,IK,1,0,"ng-container",15),2&e&&(om(),rp("ngTemplateOutlet",vm(3)))}function AK(e,t){1&e&&$p(0)}function kK(e,t){1&e&&$p(0)}function OK(e,t){1&e&&$p(0)}function FK(e,t){1&e&&$p(0)}function PK(e,t){if(1&e&&(Lp(0,"div",8),bg(1,AK,1,0,"ng-container",15)(2,kK,1,0,"ng-container",15)(3,OK,1,0,"ng-container",15)(4,FK,1,0,"ng-container",15),Np()),2&e){om();let e=vm(3),t=vm(5),i=vm(7),n=vm(9);Hc(),rp("ngTemplateOutlet",t),Hc(),rp("ngTemplateOutlet",i),Hc(),rp("ngTemplateOutlet",n),Hc(),rp("ngTemplateOutlet",e)}}var VK=(()=>{class e{get panState(){return this._panState}get index(){return null!==this._index?this._index:this.list.children.toArray().indexOf(this)}set index(e){this._index=e}get element(){return this.elementRef.nativeElement}get contentElement(){let e=this.element.getElementsByClassName("igx-list__item-content");return e&&e.length>0?e[0]:null}get context(){return{$implicit:this}}get width(){if(this.element)return this.element.offsetWidth}get maxLeft(){return-this.width}get maxRight(){return this.width}get offsetWidthInRem(){return iS(this.element.offsetWidth)}get offsetHeightInRem(){return iS(this.element.offsetHeight)}constructor(e,t,i){this.list=e,this.elementRef=t,this._renderer=i,this.hidden=!1,this.touchAction="pan-y",this._panState=hK.NONE,this.panOffset=0,this._index=null,this.lastPanDir=hK.NONE,this._role="",this._selected=!1}get role(){return this._role?this._role:this.isHeader?"separator":"listitem"}set role(e){this._role=e}get selected(){return this._selected&&!this.isHeader}set selected(e){this._selected=e}get headerStyle(){return this.isHeader}get innerStyle(){return!this.isHeader}get display(){return this.hidden?"none":""}clicked(e){this.list.itemClicked.emit({item:this,event:e,direction:this.lastPanDir}),this.lastPanDir=hK.NONE}panStart(){this.isTrue(this.isHeader)||!this.isTrue(this.list.allowLeftPanning)&&!this.isTrue(this.list.allowRightPanning)||this.list.startPan.emit({item:this,direction:this.lastPanDir,keepitem:!1})}panCancel(){this.resetPanPosition(),this.list.endPan.emit({item:this,direction:this.lastPanDir,keepItem:!1})}panMove(e){if(this.isTrue(this.isHeader)||!this.isTrue(this.list.allowLeftPanning)&&!this.isTrue(this.list.allowRightPanning))return;let t=e.deltaX<0;t&&this.isTrue(this.list.allowLeftPanning)?(this.showLeftPanTemplate(),this.setContentElementLeft(Math.max(this.maxLeft,e.deltaX))):!t&&this.isTrue(this.list.allowRightPanning)&&(this.showRightPanTemplate(),this.setContentElementLeft(Math.min(this.maxRight,e.deltaX)))}panEnd(){if(this.isTrue(this.isHeader)||!this.isTrue(this.list.allowLeftPanning)&&!this.isTrue(this.list.allowRightPanning))return;let e=this.panOffset,t=this.width*this.list.panEndTriggeringThreshold;if(0===e)return;let i=e>0?hK.RIGHT:hK.LEFT;this.lastPanDir=i;let n={item:this,direction:i,keepItem:!1};this.list.endPan.emit(n);let r=this._panState;if(Math.abs(e)<t)return this.resetPanPosition(),void this.list.resetPan.emit(this);if(i===hK.LEFT?this.list.leftPan.emit(n):this.list.rightPan.emit(n),!0===n.keepItem?(this.setContentElementLeft(0),this._panState=hK.NONE):i===hK.LEFT?(this.setContentElementLeft(this.maxLeft),this._panState=hK.LEFT):(this.setContentElementLeft(this.maxRight),this._panState=hK.RIGHT),r!==this._panState){let e={oldState:r,newState:this._panState,item:this};this.list.panStateChange.emit(e)}this.hideLeftAndRightPanTemplates()}showLeftPanTemplate(){this.setLeftAndRightTemplatesVisibility("visible","hidden")}showRightPanTemplate(){this.setLeftAndRightTemplatesVisibility("hidden","visible")}hideLeftAndRightPanTemplates(){setTimeout((()=>{this.setLeftAndRightTemplatesVisibility("hidden","hidden")}),500)}setLeftAndRightTemplatesVisibility(e,t){this.leftPanningTemplateElement&&this.leftPanningTemplateElement.nativeElement&&(this.leftPanningTemplateElement.nativeElement.style.visibility=e),this.rightPanningTemplateElement&&this.rightPanningTemplateElement.nativeElement&&(this.rightPanningTemplateElement.nativeElement.style.visibility=t)}setContentElementLeft(e){this.panOffset=e,this.contentElement.style.transform="translateX("+e+"px)"}isTrue(e){return"boolean"==typeof e?e:"true"===e}resetPanPosition(){this.setContentElementLeft(0),this._panState=hK.NONE,this.hideLeftAndRightPanTemplates()}static{this.ɵfac=function(t){return new(t||e)(lu(cK),lu(zl),lu(ru))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-list-item"]],viewQuery:function(e,t){if(1&e&&(pm(fK,5),pm(vK,5)),2&e){let e;mm(e=fm())&&(t.leftPanningTemplateElement=e.first),mm(e=fm())&&(t.rightPanningTemplateElement=e.first)}},hostVars:12,hostBindings:function(e,t){1&e&&rm("click",(function(e){return t.clicked(e)}))("panstart",(function(){return t.panStart()}))("pancancel",(function(){return t.panCancel()}))("panmove",(function(e){return t.panMove(e)}))("panend",(function(){return t.panEnd()})),2&e&&($g("aria-label",t.ariaLabel)("role",t.role),op("touch-action",t.touchAction)("display",t.display),ap("igx-list__item-base--selected",t.selected)("igx-list__header",t.headerStyle)("igx-list__item-base",t.innerStyle))},inputs:{isHeader:[2,"isHeader","isHeader",Hf],hidden:[2,"hidden","hidden",Hf],index:"index",role:"role",selected:[2,"selected","selected",Hf]},features:[Pm([oL])],ngContentSelectors:xK,decls:12,vars:4,consts:[["itemsContent",""],["itemThumbnails",""],["itemLines",""],["itemActions",""],["leftPanningTmpl",""],["rightPanningTmpl",""],[1,"igx-list__item-right",3,"width","height"],[1,"igx-list__item-left",3,"width","height"],[1,"igx-list__item-content"],[1,"igx-list__item-right"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"igx-list__item-left"],[1,"igx-list__item-thumbnail"],[1,"igx-list__item-lines"],[1,"igx-list__item-actions"],[4,"ngTemplateOutlet"]],template:function(e,t){1&e&&(lm(yK),bg(0,wK,3,6,"div",6)(1,SK,3,6,"div",7)(2,bK,1,0,"ng-template",null,0,sf)(4,DK,2,0,"ng-template",null,1,sf)(6,EK,2,0,"ng-template",null,2,sf)(8,TK,2,0,"ng-template",null,3,sf)(10,RK,1,1,"ng-container")(11,PK,5,4,"div",8)),2&e&&(Ip(!t.isHeader&&t.list.listItemLeftPanningTemplate?0:-1),Hc(),Ip(!t.isHeader&&t.list.listItemRightPanningTemplate?1:-1),Hc(9),Ip(t.isHeader?10:-1),Hc(),Ip(t.isHeader?-1:11))},dependencies:[qv],encapsulation:2,changeDetection:0})}}return e})(),MK={igx_list_no_items:"There are no items in the list.",igx_list_loading:"Loading data from the server..."},LK=["defaultEmptyList"],NK=["defaultDataLoading"],HK=["*"];function zK(e,t){if(1&e&&(Lp(0,"article",2),ym(1),Np()),2&e){let e=om();Hc(),wm(" ",e.resourceStrings.igx_list_no_items," ")}}function BK(e,t){if(1&e&&(Lp(0,"article",2),ym(1),Np()),2&e){let e=om();Hc(),wm(" ",e.resourceStrings.igx_list_loading," ")}}function GK(e,t){1&e&&$p(0)}function $K(e,t){if(1&e&&bg(0,GK,1,0,"ng-container",3),2&e){let e=om();rp("ngTemplateOutlet",e.template)("ngTemplateOutletContext",e.context)}}var WK=0,KK=(()=>{class e extends cK{set resourceStrings(e){this._resourceStrings=Object.assign({},this._resourceStrings,e)}get resourceStrings(){return this._resourceStrings}constructor(e){super(e),this.element=e,this.panEndTriggeringThreshold=.5,this.id="igx-list-"+WK++,this.allowLeftPanning=!1,this.allowRightPanning=!1,this.isLoading=!1,this.leftPan=new wl,this.rightPan=new wl,this.startPan=new wl,this.endPan=new wl,this.resetPan=new wl,this.panStateChange=new wl,this.itemClicked=new wl,this._resourceStrings=TA(MK),this._role="list"}get sortedChildren(){return void 0!==this.children?this.children.toArray().sort(((e,t)=>e.index-t.index)):null}get role(){return this._role}set role(e){this._role=e}get isListEmpty(){return!this.children||0===this.children.length}get cssClass(){return!this.isListEmpty}get items(){let e=[];if(void 0!==this.children)for(let t of this.sortedChildren)t.isHeader||e.push(t);return e}get headers(){let e=[];if(void 0!==this.children)for(let t of this.children.toArray())t.isHeader&&e.push(t);return e}get context(){return{$implicit:this}}get template(){return this.isLoading?this.dataLoadingTemplate?this.dataLoadingTemplate.template:this.defaultDataLoadingTemplate:this.emptyListTemplate?this.emptyListTemplate.template:this.defaultEmptyListTemplate}static{this.ɵfac=function(t){return new(t||e)(lu(zl))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-list"]],contentQueries:function(e,t,i){if(1&e&&(gm(i,uK,5,uK),gm(i,gK,5,gK),gm(i,pK,5,pK),gm(i,mK,5,mK),gm(i,VK,5)),2&e){let e;mm(e=fm())&&(t.emptyListTemplate=e.first),mm(e=fm())&&(t.dataLoadingTemplate=e.first),mm(e=fm())&&(t.listItemLeftPanningTemplate=e.first),mm(e=fm())&&(t.listItemRightPanningTemplate=e.first),mm(e=fm())&&(t.children=e)}},viewQuery:function(e,t){if(1&e&&(pm(LK,7,jh),pm(NK,7,jh)),2&e){let e;mm(e=fm())&&(t.defaultEmptyListTemplate=e.first),mm(e=fm())&&(t.defaultDataLoadingTemplate=e.first)}},hostVars:6,hostBindings:function(e,t){2&e&&($g("id",t.id)("role",t.role),ap("igx-list--empty",t.isListEmpty)("igx-list",t.cssClass))},inputs:{panEndTriggeringThreshold:"panEndTriggeringThreshold",id:"id",allowLeftPanning:[2,"allowLeftPanning","allowLeftPanning",Hf],allowRightPanning:[2,"allowRightPanning","allowRightPanning",Hf],isLoading:[2,"isLoading","isLoading",Hf],resourceStrings:"resourceStrings",role:"role"},outputs:{leftPan:"leftPan",rightPan:"rightPan",startPan:"startPan",endPan:"endPan",resetPan:"resetPan",panStateChange:"panStateChange",itemClicked:"itemClicked"},features:[Pm([{provide:cK,useExisting:e}]),dg],ngContentSelectors:HK,decls:6,vars:1,consts:[["defaultEmptyList",""],["defaultDataLoading",""],[1,"igx-list__message"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(lm(),dm(0),bg(1,zK,2,1,"ng-template",null,0,sf)(3,BK,2,1,"ng-template",null,1,sf)(5,$K,1,2,"ng-container")),2&e&&(Hc(5),Ip(!t.children||0===t.children.length||t.isLoading?5:-1))},dependencies:[qv],encapsulation:2})}}return e})(),jK=["input"],UK=["cancelButton"],qK=["list"],YK=["selectAllCheckbox"],ZK=["addToCurrentFilterCheckbox"],XK=["tree"],QK=["defaultExcelStyleLoadingValuesTemplate"],JK=(e,t)=>t.value;function ej(e,t){if(1&e){let e=Kp();Lp(0,"igx-suffix")(1,"igx-icon",18),rm("click",(function(){return Ko(e),jo(om().clearInput())})),Np()()}}function tj(e,t){if(1&e){let e=Kp();Lp(0,"igx-list-item",25)(1,"igx-checkbox",26),rm("change",(function(t){return Ko(e),jo(om(2).onCheckboxChange(t))})),ym(2),Np()()}if(2&e){let e=t.$implicit,i=t.index,n=om(2);ap("igx-list__item-base--active",(null==n.focusedItem?null:n.focusedItem.id)===n.getItemId(i)),$g("id",n.getItemId(i)),Hc(),rp("value",e)("tabindex",-1)("checked",null==e?null:e.isSelected)("disableRipple",!0)("indeterminate",null==e?null:e.indeterminate)("disableTransitions",!0),Hc(),wm(" ",e.label," ")}}function ij(e,t){1&e&&$p(0)}function nj(e,t){if(1&e&&(Lp(0,"div",27),bg(1,ij,1,0,"ng-container",28),Np()),2&e){let e=om(2);Hc(),rp("ngTemplateOutlet",e.valuesLoadingTemplate)}}function rj(e,t){1&e&&$p(0)}function sj(e,t){1&e&&bg(0,rj,1,0,"ng-container",28),2&e&&(om(2),rp("ngTemplateOutlet",vm(8)))}function oj(e,t){if(1&e){let e=Kp();Lp(0,"igx-list",19,4),rm("keydown",(function(t){return Ko(e),jo(om().handleKeyDown(t))}))("focus",(function(){return Ko(e),jo(om().onFocus())}))("focusout",(function(){return Ko(e),jo(om().onFocusOut())})),Lp(2,"div",20),bg(3,tj,3,10,"igx-list-item",21),Np(),bg(4,nj,2,1,"ng-template",22)(5,sj,1,1,"ng-template",23),Lp(6,"div",24),ym(7),Np()()}if(2&e){let e=om();rp("isLoading",e.isLoading),$g("aria-activedescendant",e.activeDescendant),Hc(3),rp("igxForOf",e.displayedListData)("igxForScrollOrientation","vertical")("igxForContainerSize",e.containerSize)("igxForItemSize",e.itemSize),Hc(4),wm(" ",null==e.esf.grid?null:e.esf.grid.resourceStrings.igx_grid_excel_matches_count.replace("{0}",e.matchesCount)," ")}}function aj(e,t){if(1&e&&(Lp(0,"div",32)(1,"igx-checkbox",34,7),ym(3),Np()()),2&e){let e=om(3);Hc(),rp("value",e.addToCurrentFilterItem)("checked",e.addToCurrentFilterItem.isSelected)("disableRipple",!0)("disableTransitions",!0),Hc(2),wm(" ",e.addToCurrentFilterItem.label," ")}}function lj(e,t){if(1&e){let e=Kp();Lp(0,"div",29)(1,"div",32)(2,"igx-checkbox",33,6),rm("change",(function(t){return Ko(e),jo(om(2).onSelectAllCheckboxChange(t))})),ym(4),Np()(),bg(5,aj,4,5,"div",32),Np()}if(2&e){let e=om(2);Hc(2),rp("value",e.selectAllItem)("checked",null==e.selectAllItem?null:e.selectAllItem.isSelected)("disableRipple",!0)("indeterminate",null==e.selectAllItem?null:e.selectAllItem.indeterminate)("disableTransitions",!0),Hc(2),wm(" ",e.selectAllItem.label," "),Hc(),Ip(e.searchValue?5:-1)}}function dj(e,t){if(1&e&&(Lp(0,"igx-tree-node",31)(1,"div"),ym(2),Np()()),2&e){let e=t.$implicit;rp("data",e)("selected",e.isSelected),Hc(2),_m(e.label)}}function cj(e,t){if(1&e&&(Lp(0,"igx-tree-node",31)(1,"div"),ym(2),Np(),Op(3,dj,3,3,"igx-tree-node",31,JK),Np()),2&e){let e=t.$implicit;rp("data",e)("selected",e.isSelected),Hc(2),_m(e.label),Hc(),Pp(e.children)}}function hj(e,t){if(1&e&&(Lp(0,"igx-tree-node",31)(1,"div"),ym(2),Np(),Op(3,cj,5,3,"igx-tree-node",31,JK),Np()),2&e){let e=t.$implicit;rp("data",e)("selected",e.isSelected),Hc(2),_m(e.label),Hc(),Pp(e.children)}}function uj(e,t){if(1&e&&(Lp(0,"igx-tree-node",31)(1,"div"),ym(2),Np(),Op(3,hj,5,3,"igx-tree-node",31,JK),Np()),2&e){let e=t.$implicit;rp("data",e)("selected",e.isSelected),Hc(2),_m(e.label),Hc(),Pp(e.children)}}function gj(e,t){if(1&e&&(Lp(0,"igx-tree-node",31)(1,"div"),ym(2),Np(),Op(3,uj,5,3,"igx-tree-node",31,JK),Np()),2&e){let e=t.$implicit;rp("data",e)("selected",e.isSelected),Hc(2),_m(e.label),Hc(),Pp(e.children)}}function pj(e,t){if(1&e&&(Lp(0,"igx-tree-node",31)(1,"div"),ym(2),Np(),Op(3,gj,5,3,"igx-tree-node",31,JK),Np()),2&e){let e=t.$implicit;rp("data",e)("selected",e.isSelected),Hc(2),_m(e.label),Hc(),Pp(e.children)}}function mj(e,t){if(1&e&&(Lp(0,"igx-tree-node",31)(1,"div"),ym(2),Np(),Op(3,pj,5,3,"igx-tree-node",31,JK),Np()),2&e){let e=t.$implicit;rp("data",e)("selected",e.isSelected),Hc(2),_m(e.label),Hc(),Pp(e.children)}}function fj(e,t){if(1&e&&(Lp(0,"igx-tree-node",31)(1,"div"),ym(2),Np(),Op(3,mj,5,3,"igx-tree-node",31,JK),Np()),2&e){let e=t.$implicit;rp("data",e)("selected",e.isSelected),Hc(2),_m(e.label),Hc(),Pp(e.children)}}function vj(e,t){if(1&e&&(Lp(0,"igx-tree-node",31)(1,"div"),ym(2),Np(),Op(3,fj,5,3,"igx-tree-node",31,JK),Np()),2&e){let e=t.$implicit;rp("data",e)("selected",e.isSelected),Hc(2),_m(e.label),Hc(),Pp(e.children)}}function yj(e,t){if(1&e&&(Lp(0,"igx-tree-node",31)(1,"div"),ym(2),Np(),Op(3,vj,5,3,"igx-tree-node",31,JK),Np()),2&e){let e=t.$implicit;rp("data",e)("selected",e.isSelected),Hc(2),_m(e.label),Hc(),Pp(e.children)}}function xj(e,t){1&e&&$p(0)}function _j(e,t){if(1&e&&(Lp(0,"div",27),bg(1,xj,1,0,"ng-container",28),Np()),2&e){let e=om(2);Hc(),rp("ngTemplateOutlet",e.valuesLoadingTemplate)}}function wj(e,t){1&e&&$p(0)}function Cj(e,t){1&e&&bg(0,wj,1,0,"ng-container",28),2&e&&(om(2),rp("ngTemplateOutlet",vm(8)))}function Sj(e,t){if(1&e){let e=Kp();Lp(0,"div",12),bg(1,lj,6,7,"div",29),Lp(2,"igx-tree",30,5),rm("nodeSelection",(function(t){return Ko(e),jo(om().onNodeSelectionChange(t))})),Op(4,yj,5,3,"igx-tree-node",31,JK),Np(),bg(6,_j,2,1,"ng-template",22)(7,Cj,1,1,"ng-container"),Np()}if(2&e){let e=om();Hc(),Ip(e.isTreeEmpty()?-1:1),Hc(3),Pp(e.displayedListData),Hc(3),Ip(e.isTreeEmpty()?7:-1)}}function bj(e,t){if(1&e&&(Lp(0,"div",35),ym(1),Np()),2&e){let e=om();Hc(),wm(" ",null==e.esf.grid?null:e.esf.grid.resourceStrings.igx_grid_excel_no_matches," ")}}function Dj(e,t){1&e&&Hp(0,"igx-circular-bar",36),2&e&&rp("indeterminate",!0)}var Ej=(()=>{class e{static ngTemplateContextGuard(e,t){return!0}constructor(e){this.template=e}static{this.ɵfac=function(t){return new(t||e)(lu(jh))}}static{this.ɵdir=rg({type:e,selectors:[["","igxExcelStyleLoading",""]]})}}return e})(),Tj=0,Ij=(()=>{class e{static{this.filterOptimizationThreshold=2}get selectAllItem(){if(!this._selectAllItem){let e={isSelected:!1,isFiltered:!1,indeterminate:!1,isSpecial:!0,isBlanks:!1,value:this.esf.grid.resourceStrings.igx_grid_excel_select_all,label:this.esf.grid.resourceStrings.igx_grid_excel_select_all};this._selectAllItem=e}return this._selectAllItem}get addToCurrentFilterItem(){if(!this._addToCurrentFilterItem){let e={isSelected:!1,isFiltered:!1,indeterminate:!1,isSpecial:!0,isBlanks:!1,value:this.esf.grid.resourceStrings.igx_grid_excel_add_to_filter,label:this.esf.grid.resourceStrings.igx_grid_excel_add_to_filter};this._addToCurrentFilterItem=e}return this._addToCurrentFilterItem}get isLoading(){return this._isLoading}set isLoading(e){this._isLoading=e,this.cdr.destroyed||this.cdr.detectChanges()}get valuesLoadingTemplate(){return this.esf.grid?.excelStyleLoadingValuesTemplateDirective?this.esf.grid.excelStyleLoadingValuesTemplateDirective.template:this.defaultExcelStyleLoadingValuesTemplate}constructor(e,t,i){this.cdr=e,this.esf=t,this.platform=i,this.defaultClass=!0,this.displayedListData=[],this.activeDescendant="",this._id="igx-excel-style-search-"+Tj++,this._focusedItem=null,this.destroy$=new Ci,this.refreshSize=()=>{this.virtDir&&(this.virtDir.igxForContainerSize=this.containerSize,this.virtDir.igxForItemSize=this.itemSize,this.virtDir.recalcUpdateSizes(),this.cdr.detectChanges())},t.loadingStart.pipe(Nn(this.destroy$)).subscribe((()=>{this.displayedListData=[],this.isLoading=!0})),t.loadingEnd.pipe(Nn(this.destroy$)).subscribe((()=>{this.refreshSize(),this.isLoading=!1})),t.initialized.pipe(Nn(this.destroy$)).subscribe((()=>{requestAnimationFrame((()=>{this.refreshSize(),this.searchInput.nativeElement.focus()}))})),t.columnChange.pipe(Nn(this.destroy$)).subscribe((()=>{this.virtDir?.resetScrollPosition(),this.virtDir&&(this.virtDir.state.startIndex=0)})),t.listDataLoaded.pipe(Nn(this.destroy$)).subscribe((()=>{this._selectAllItem=this.esf.listData[0],this.isHierarchical()&&this.esf.listData[0].isSpecial&&this.esf.listData.splice(0,1),this.searchValue?this.clearInput():this.filterListData(),this.cdr.detectChanges(),requestAnimationFrame((()=>{this.refreshSize(),this.searchInput.nativeElement.focus()}))}))}ngAfterViewInit(){this.platform.isBrowser&&requestAnimationFrame(this.refreshSize)}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}clearInput(){this.searchValue=null,this.filterListData()}onCheckboxChange(e){let t=this.displayedListData.indexOf(e.owner.value),i=this.displayedListData[0];if(0===t)this.displayedListData.forEach((t=>{t!==this.addToCurrentFilterItem&&(t.isSelected=e.checked)})),i.indeterminate=!1;else{e.owner.value.isSelected=e.checked;let t=this.displayedListData.indexOf(this.addToCurrentFilterItem)>-1?2:1,n=this.displayedListData.slice(t,this.displayedListData.length);n.find((e=>!1===e.isSelected))?n.find((e=>!0===e.isSelected))?i.indeterminate=!0:(i.indeterminate=!1,i.isSelected=!1):(i.indeterminate=!1,i.isSelected=!0)}}onSelectAllCheckboxChange(e){this._selectAllItem.isSelected=e.checked,this._selectAllItem.indeterminate=!1,this.tree.nodes.forEach((t=>t.data.isSelected=e.checked))}onNodeSelectionChange(e){e.added.forEach((e=>{e.data.isSelected=!0})),e.removed.forEach((e=>{e.data.isSelected=!1})),this._hierarchicalSelectedItems=e.newSelection.map((e=>e.data));let t=this.selectAllItem;0===this._hierarchicalSelectedItems.length?(t.indeterminate=!1,t.isSelected=!1):this._hierarchicalSelectedItems.length===this.tree.nodes.length?(t.indeterminate=!1,t.isSelected=!0):(t.indeterminate=!0,t.isSelected=!1)}get itemSize(){let e="40px";switch(this.esf.size){case vb:e="32px";break;case fb:e="24px"}return e}get containerSize(){return this.esf.listData.length?this.list?.element.nativeElement.offsetHeight:0}get id(){return this._id}set id(e){this._id=e}getItemId(e){return`${this.id}-item-${e}`}setActiveDescendant(){this.activeDescendant=this.focusedItem?.id||""}get focusedItem(){return this._focusedItem}set focusedItem(e){this._focusedItem=e}get applyButtonDisabled(){return this._selectAllItem&&!this._selectAllItem.isSelected&&!this._selectAllItem.indeterminate||this.displayedListData&&0===this.displayedListData.length}onInputKeyDown(e){switch(e.key){case this.platform.KEYMAP.ENTER:return e.preventDefault(),void this.applyFilter();case this.platform.KEYMAP.ESCAPE:return void(this.searchValue&&(e.stopPropagation(),this.clearInput()))}}filterListData(){if((this.esf.column?.dataType===bS.Number||this.esf.column?.dataType===bS.Currency||this.esf.column?.dataType===bS.Percent)&&this.rejectNonNumericalEntries(),!this.esf.listData||!this.esf.listData.length)return void(this.displayedListData=[]);let e;if(e=this._selectAllItem?this._selectAllItem:this.esf.listData[0],!this.searchValue){let t=this.esf.listData.some((e=>e.isFiltered)),i=this.esf.listData.some((e=>!e.isFiltered));return e.indeterminate=t&&i,this.isHierarchical()&&this.tree&&(this._hierarchicalSelectedItems=this.tree.nodes.map((e=>e.data)).filter((e=>e.isFiltered)),this.tree.collapseAll()),this.esf.listData.forEach((e=>e.isSelected=e.isFiltered)),this.displayedListData!==this.esf.listData&&(this.displayedListData=this.esf.listData,this.isHierarchical()&&(this.cdr.detectChanges(),this.tree.nodes.forEach((e=>{let n=e.data;e.selected=n.isSelected||n.isFiltered,t=t||e.selected,i=i||!e.selected})),e.indeterminate=t&&i)),e.label=this.esf.grid.resourceStrings.igx_grid_excel_select_all,this.matchesCount=this.displayedListData.length-1,void this.cdr.detectChanges()}let t=this.searchValue.toLowerCase();if(this.isHierarchical()){this._hierarchicalSelectedItems=[],this.esf.listData.forEach((e=>e.isSelected=!1));let e=AC(this.esf.listData,"children");this.displayedListData=this.hierarchicalSelectMatches(e,t),this.cdr.detectChanges(),this.tree.nodes.forEach((e=>{e.selected=!0,e.data.label.toString().toLowerCase().indexOf(t)>-1&&this.expandAllParentNodes(e)}))}else this.displayedListData=this.esf.listData.filter(((e,i)=>0===i&&e.isSpecial||null!==e.label&&void 0!==e.label&&!e.isBlanks&&e.label.toString().toLowerCase().indexOf(t)>-1)),this.esf.listData.forEach((e=>e.isSelected=!1)),this.displayedListData.forEach((e=>e.isSelected=!0)),this.displayedListData.splice(1,0,this.addToCurrentFilterItem),2===this.displayedListData.length&&(this.displayedListData=[]);this.displayedListData.length>2?this.matchesCount=this.displayedListData.length-2:this.matchesCount=0,e.indeterminate=!1,e.isSelected=!0,e.label=this.esf.grid.resourceStrings.igx_grid_excel_select_all_search_results,this.cdr.detectChanges()}applyFilter(){let t,i=new US(qS.Or,this.esf.column.field),n=[];if(this.isHierarchical())this.addToCurrentFilterCheckbox&&this.addToCurrentFilterCheckbox.checked&&this.addFilteredToSelectedItems(this.esf.listData),n=this._hierarchicalSelectedItems;else{let e=this.displayedListData[1];n=e===this.addToCurrentFilterItem&&e.isSelected?this.esf.listData.slice(1,this.esf.listData.length).filter((e=>e.isSelected||e.isFiltered)):this.esf.listData.slice(1,this.esf.listData.length).filter((e=>e.isSelected))}if(t=this.isHierarchical()?this.esf.listData.find((e=>!1===e.isSelected)):this.esf.listData.slice(1,this.esf.listData.length).find((e=>!1===e.isSelected)),t){if(n.length<=e.filterOptimizationThreshold)n.forEach((e=>{let t=null;if(null!==e.value&&void 0!==e.value)if(this.esf.column.dataType===bS.Boolean)t=this.createCondition(e.value.toString());else{let e=this.esf.column.dataType===bS.Time?"at":"equals";t=this.createCondition(e)}else t=this.createCondition("empty");i.filteringOperands.push({condition:t,conditionName:t.name,fieldName:this.esf.column.field,ignoreCase:this.esf.column.filteringIgnoreCase,searchVal:e.value})}));else{let e,t=n.findIndex((e=>null===e.value||void 0===e.value));t>=0&&(e=n[t],n.splice(t,1)),i.filteringOperands.push({condition:this.createCondition("in"),conditionName:"in",fieldName:this.esf.column.field,ignoreCase:this.esf.column.filteringIgnoreCase,searchVal:new Set(this.esf.column.dataType===bS.Date?n.map((e=>e.value.toDateString())):this.esf.column.dataType===bS.DateTime?n.map((e=>e.value.toISOString())):this.esf.column.dataType===bS.Time?n.map((e=>e.value.toLocaleTimeString())):n.map((e=>e.value)))}),e&&i.filteringOperands.push({condition:this.createCondition("empty"),conditionName:"empty",fieldName:this.esf.column.field,ignoreCase:this.esf.column.filteringIgnoreCase,searchVal:e.value})}let t=this.esf.grid,r=this.esf.column;t.filteringService.filterInternal(r.field,i),this.esf.expressionsList=new Array,t.filteringService.generateExpressionsList(r.filteringExpressionsTree,t.filteringLogic,this.esf.expressionsList)}else this.esf.grid.filteringService.clearFilter(this.esf.column.field);this.esf.closeDropdown()}handleKeyDown(e){if(e){let t=e.key.toLowerCase();if(-1===["space","spacebar"," ","arrowup","up","arrowdown","down","home","end"].indexOf(t))return;switch(e.preventDefault(),e.stopPropagation(),t){case"arrowup":case"up":this.onArrowUpKeyDown();break;case"arrowdown":case"down":this.onArrowDownKeyDown();break;case"home":this.onHomeKeyDown();break;case"end":this.onEndKeyDown();break;case"space":case"spacebar":case" ":this.onActionKeyDown();break;default:return}}}onFocus(){let e=this.virtDir.state.startIndex;this.virtDir.igxForOf.length>0&&(this.focusedItem={id:this.getItemId(e),index:e,checked:this.virtDir.igxForOf[e].isSelected}),this.setActiveDescendant()}onFocusOut(){this.focusedItem=null,this.setActiveDescendant()}isHierarchical(){return this.esf.isHierarchical}isTreeEmpty(){return this.esf.isHierarchical&&0===this.displayedListData.length}hierarchicalSelectMatches(e,t){return e.forEach((e=>{e.indeterminate=!1,e.isSelected=!1;let i=this.tree.nodes.filter((t=>t.data.label===e.label))[0];i&&(i.expanded=!1),e.label.toString().toLowerCase().indexOf(t)>-1?(e.isSelected=!0,this.hierarchicalSelectAllChildren(e),this._hierarchicalSelectedItems.push(e)):e.children.length>0&&(e.children=this.hierarchicalSelectMatches(e.children,t),e.children.length>0&&(e.isSelected=!0,i&&(i.expanded=!0)))})),e.filter((e=>!0===e.isSelected))}hierarchicalSelectAllChildren(e){e.children.forEach((e=>{e.indeterminate=!1,e.isSelected=!0,this._hierarchicalSelectedItems.push(e),e.children&&this.hierarchicalSelectAllChildren(e)}))}expandAllParentNodes(e){e.parentNode&&(e.parentNode.expanded=!0,this.expandAllParentNodes(e.parentNode))}addFilteredToSelectedItems(e){e.forEach((e=>{e.children&&this.addFilteredToSelectedItems(e.children),e.isFiltered&&this._hierarchicalSelectedItems.indexOf(e)<0&&this._hierarchicalSelectedItems.push(e)}))}createCondition(e){switch(this.esf.column.dataType){case bS.Boolean:return PS.instance().condition(e);case bS.Number:case bS.Currency:case bS.Percent:return HS.instance().condition(e);case bS.Date:return MS.instance().condition(e);case bS.Time:return NS.instance().condition(e);case bS.DateTime:return LS.instance().condition(e);default:return zS.instance().condition(e)}}rejectNonNumericalEntries(){let e=/[^0-9\.,eE\-]/g;this.searchValue&&e.test(this.searchValue)&&(this.searchInput.value=this.searchValue.replace(e,""),this.searchValue=this.searchInput.value)}onArrowUpKeyDown(){this.focusedItem&&0===this.focusedItem.index&&0===this.virtDir.state.startIndex||(this.navigateItem(this.focusedItem?this.focusedItem.index-1:0),this.setActiveDescendant())}onArrowDownKeyDown(){let e=this.virtDir.igxForOf.length-1;this.focusedItem&&this.focusedItem.index===e||(this.navigateItem(this.focusedItem?this.focusedItem.index+1:0),this.setActiveDescendant())}onHomeKeyDown(){this.navigateItem(0),this.setActiveDescendant()}onEndKeyDown(){this.navigateItem(this.virtDir.igxForOf.length-1),this.setActiveDescendant()}onActionKeyDown(){let e=this.displayedListData[this.focusedItem.index],t={checked:!e.isSelected,owner:{value:e}};this.onCheckboxChange(t)}navigateItem(e){if(-1===e||e>=this.virtDir.igxForOf.length)return;let t=e>(this.focusedItem?this.focusedItem.index:-1)?YI.Down:YI.Up,i=this.isIndexOutOfBounds(e,t);this.focusedItem={id:this.getItemId(e),index:e,checked:this.virtDir.igxForOf[e].isSelected},i&&this.virtDir.scrollTo(e)}isIndexOutOfBounds(e,t){let i=this.virtDir.state,n=this.virtDir.getScroll().scrollTop,r=this.virtDir.getScrollForIndex(e,t===YI.Down),s=e<i.startIndex||e>i.chunkSize+i.startIndex,o=t===YI.Down?n<r:n>r;return s||o}static{this.ɵfac=function(t){return new(t||e)(lu(Cf),lu(ZG),lu(NC))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-excel-style-search"]],viewQuery:function(e,t){if(1&e&&(pm(jK,7,oR),pm(UK,7,mR),pm(qK,5,KK),pm(YK,5,OF),pm(ZK,5,OF),pm(XK,5,dK),pm(eO,5),pm(QK,5,jh)),2&e){let e;mm(e=fm())&&(t.searchInput=e.first),mm(e=fm())&&(t.cancelButton=e.first),mm(e=fm())&&(t.list=e.first),mm(e=fm())&&(t.selectAllCheckbox=e.first),mm(e=fm())&&(t.addToCurrentFilterCheckbox=e.first),mm(e=fm())&&(t.tree=e.first),mm(e=fm())&&(t.virtDir=e.first),mm(e=fm())&&(t.defaultExcelStyleLoadingValuesTemplate=e.first)}},hostVars:3,hostBindings:function(e,t){2&e&&($g("id",t.id),ap("igx-excel-filter__menu-main",t.defaultClass))},inputs:{id:"id"},decls:19,vars:8,consts:[["input",""],["emptySearch",""],["defaultExcelStyleLoadingValuesTemplate",""],["cancelButton",""],["list",""],["tree",""],["selectAllCheckbox",""],["addToCurrentFilterCheckbox",""],["type","box"],["igxPrefix","","family","default","name","search"],["igxInput","","tabindex","0","autocomplete","off",3,"ngModelChange","keydown","ngModel","placeholder"],["role","listbox","tabindex","0",3,"isLoading"],[1,"igx-excel-filter__tree"],[1,"igx-excel-filter__menu-footer"],[1,"igx-excel-filter__cancel"],["type","button","igxButton","flat",3,"click"],[1,"igx-excel-filter__apply"],["type","button","igxButton","contained",3,"click","disabled"],["family","default","name","input_clear","tabindex","0",3,"click"],["role","listbox","tabindex","0",3,"keydown","focus","focusout","isLoading"],[2,"overflow","hidden","position","relative"],["role","option",3,"igx-list__item-base--active",4,"igxFor","igxForOf","igxForScrollOrientation","igxForContainerSize","igxForItemSize"],["igxDataLoading",""],["igxEmptyList",""],["aria-live","polite","aria-atomic","true",1,"igx-excel-filter__filter-results"],["role","option"],[3,"change","value","tabindex","checked","disableRipple","indeterminate","disableTransitions"],[1,"igx-excel-filter__loading"],[4,"ngTemplateOutlet"],[1,"igx-excel-filter__tree-alike"],["selection","Cascading",3,"nodeSelection"],[3,"data","selected"],[1,"igx-excel-filter__tree-alike-item"],[3,"change","value","checked","disableRipple","indeterminate","disableTransitions"],[3,"value","checked","disableRipple","disableTransitions"],[1,"igx-excel-filter__empty"],[3,"indeterminate"]],template:function(e,t){if(1&e){let e=Kp();Lp(0,"igx-input-group",8),Hp(1,"igx-icon",9),Lp(2,"input",10,0),Em("ngModelChange",(function(i){return Ko(e),Dm(t.searchValue,i)||(t.searchValue=i),jo(i)})),rm("ngModelChange",(function(){return Ko(e),jo(t.filterListData())}))("keydown",(function(i){return Ko(e),jo(t.onInputKeyDown(i))})),Np(),bg(4,ej,2,0,"igx-suffix"),Np(),bg(5,oj,8,7,"igx-list",11)(6,Sj,8,2,"div",12)(7,bj,2,1,"ng-template",null,1,sf)(9,Dj,1,1,"ng-template",null,2,sf),Lp(11,"footer",13)(12,"div",14)(13,"button",15,3),rm("click",(function(){return Ko(e),jo(t.esf.cancel())})),ym(15),Np()(),Lp(16,"div",16)(17,"button",17),rm("click",(function(){return Ko(e),jo(t.applyFilter())})),ym(18),Np()()()}2&e&&(Hc(2),bm("ngModel",t.searchValue),rp("placeholder",null==t.esf.column?null:t.esf.column.grid.resourceStrings.igx_grid_excel_search_placeholder),Hc(2),Ip(t.searchValue||0===t.searchValue?4:-1),Hc(),Ip(t.isHierarchical()?-1:5),Hc(),Ip(t.isHierarchical()?6:-1),Hc(9),wm(" ",null==t.esf.grid?null:t.esf.grid.resourceStrings.igx_grid_excel_cancel," "),Hc(2),rp("disabled",t.applyButtonDisabled),Hc(),wm(" ",null==t.esf.grid?null:t.esf.grid.resourceStrings.igx_grid_excel_apply," "))},dependencies:[Ek,DA,dR,Px,yy,jy,Dx,oR,cR,KK,eO,VK,OF,gK,qv,uK,dK,sK,wW,mR],encapsulation:2})}}return e})();function Rj(e,t){if(1&e){let e=Kp();Lp(0,"div",1),rm("click",(function(){return Ko(e),jo(om().esf.onSelect())})),Lp(1,"span"),ym(2),Np(),Hp(3,"igx-icon",2),Np()}if(2&e){let e=om();rp("ngClass",e.esf.column.selected?"igx-excel-filter__actions-selected":"igx-excel-filter__actions-select"),$g("aria-pressed",e.esf.column.selected),Hc(2),_m(e.esf.grid.resourceStrings.igx_grid_excel_select)}}var Aj=(()=>{class e{constructor(e){this.esf=e}static{this.ɵfac=function(t){return new(t||e)(lu(ZG))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-excel-style-selecting"]],decls:1,vars:1,consts:[["tabindex","0","role","button",3,"ngClass"],["tabindex","0","role","button",3,"click","ngClass"],["family","default","name","selected"]],template:function(e,t){1&e&&bg(0,Rj,4,3,"div",0),2&e&&Ip(t.esf.column?0:-1)},dependencies:[jv,DA],encapsulation:2})}}return e})(),kj=["sortButtonGroup"];function Oj(e,t){if(1&e){let e=Kp();Lp(0,"header"),ym(1),Np(),Lp(2,"igx-buttongroup",null,0)(4,"button",1),rm("buttonSelected",(function(){return Ko(e),jo(om().onSortButtonClicked(1))})),Hp(5,"igx-icon",2),Lp(6,"span"),ym(7),Np()(),Lp(8,"button",1),rm("buttonSelected",(function(){return Ko(e),jo(om().onSortButtonClicked(2))})),Hp(9,"igx-icon",3),Lp(10,"span"),ym(11),Np()()()}if(2&e){let e=om();Hc(),wm(" ",e.esf.grid.resourceStrings.igx_grid_excel_filter_sorting_header," "),Hc(3),$g("data-togglable",!0),Hc(3),wm(" ","1"===e.esfSize?e.esf.grid.resourceStrings.igx_grid_excel_filter_sorting_asc_short:e.esf.grid.resourceStrings.igx_grid_excel_filter_sorting_asc," "),Hc(),$g("data-togglable",!0),Hc(3),wm(" ","1"===e.esfSize?e.esf.grid.resourceStrings.igx_grid_excel_filter_sorting_desc_short:e.esf.grid.resourceStrings.igx_grid_excel_filter_sorting_desc," ")}}var Fj=(()=>{class e{constructor(e,t){this.esf=e,this.cdr=t,this.defaultClass=!0,this.destroy$=new Ci,this.esf.sortingChanged.pipe(Nn(this.destroy$)).subscribe((()=>{this.updateSelectedButtons(this.esf.column.field)}))}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}onSortButtonClicked(e){0===this.sortButtonGroup.buttons.filter((e=>e.selected)).length?this.esf.grid.isColumnGrouped(this.esf.column.field)?this.sortButtonGroup.selectButton(e-1):this.esf.grid.clearSort(this.esf.column.field):this.esf.grid.sort({fieldName:this.esf.column.field,dir:e,ignoreCase:!0})}get esfSize(){return this.esf.size}updateSelectedButtons(e){let t=this.esf.grid.sortingExpressions.findIndex((t=>t.fieldName===e));if(this.cdr.detectChanges(),this.sortButtonGroup.buttons.forEach(((e,t)=>{this.sortButtonGroup.deselectButton(t)})),-1!==t){let e=this.esf.grid.sortingExpressions[t].dir;this.sortButtonGroup.selectButton(e-1)}}static{this.ɵfac=function(t){return new(t||e)(lu(ZG),lu(Cf))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-excel-style-sorting"]],viewQuery:function(e,t){if(1&e&&pm(kj,5,rV),2&e){let e;mm(e=fm())&&(t.sortButtonGroup=e.first)}},hostVars:2,hostBindings:function(e,t){2&e&&ap("igx-excel-filter__sort",t.defaultClass)},decls:1,vars:1,consts:[["sortButtonGroup",""],["type","button","igxButton","",3,"buttonSelected"],["family","default","name","sort_asc"],["family","default","name","sort_desc"]],template:function(e,t){1&e&&bg(0,Oj,12,5),2&e&&Ip(t.esf.column?0:-1)},dependencies:[rV,mR,DA],encapsulation:2})}}return e})(),Pj=["mainDropdown"],Vj=["defaultExcelColumnOperations"],Mj=["defaultExcelFilterOperations"],Lj=[[["igx-excel-style-column-operations"],["","igxExcelStyleColumnOperations",""]],[["igx-excel-style-filter-operations"],["","igxExcelStyleFilterOperations",""]]],Nj=["igx-excel-style-column-operations,[igxExcelStyleColumnOperations]","igx-excel-style-filter-operations,[igxExcelStyleFilterOperations]"],Hj=(e,t,i)=>({"igx-excel-filter__sizing":e,"igx-excel-filter__menu--cosy":t,"igx-excel-filter__menu--compact":i});function zj(e,t){1&e&&dm(0)}function Bj(e,t){1&e&&Hp(0,"igx-excel-style-sorting")}function Gj(e,t){1&e&&Hp(0,"igx-excel-style-moving")}function $j(e,t){1&e&&Hp(0,"igx-excel-style-pinning")}function Wj(e,t){1&e&&Hp(0,"igx-excel-style-hiding")}function Kj(e,t){1&e&&Hp(0,"igx-excel-style-selecting")}function jj(e,t){if(1&e&&(Hp(0,"igx-excel-style-header",2),bg(1,Bj,1,0,"igx-excel-style-sorting")(2,Gj,1,0,"igx-excel-style-moving")(3,$j,1,0,"igx-excel-style-pinning")(4,Wj,1,0,"igx-excel-style-hiding")(5,Kj,1,0,"igx-excel-style-selecting")),2&e){let e=om();rp("showHiding","3"!==e.size&&!(null!=e.column&&e.column.disableHiding))("showPinning","3"!==e.size&&!(null!=e.column&&e.column.disablePinning))("showSelecting","3"!==e.size&&e.columnSelectable()),Hc(),Ip(null!=e.column&&e.column.sortable?1:-1),Hc(),Ip(null!=e.grid&&e.grid.moving?2:-1),Hc(),Ip(null!=e.column&&e.column.disablePinning||"3"!==e.size?-1:3),Hc(),Ip(null!=e.column&&e.column.disableHiding||"3"!==e.size?-1:4),Hc(),Ip(e.columnSelectable()&&"3"===e.size?5:-1)}}function Uj(e,t){1&e&&dm(0,1)}function qj(e,t){1&e&&Hp(0,"igx-excel-style-clear-filters")(1,"igx-excel-style-conditional-filter")(2,"igx-excel-style-search")}var Yj=(()=>{class e{static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵdir=rg({type:e,selectors:[["igx-excel-style-column-operations"],["","igxExcelStyleColumnOperations",""]]})}}return e})(),Zj=(()=>{class e{static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵdir=rg({type:e,selectors:[["igx-excel-style-filter-operations"],["","igxExcelStyleFilterOperations",""]]})}}return e})(),Xj=(()=>{class e extends ZG{get shouldApplySizes(){return!(this._minHeight||this._maxHeight)}set column(e){this._column=e,this.listData=new Array,this.columnChange.emit(this._column),this.subscriptions?.unsubscribe(),this._column&&(this.grid.filteringService.registerSVGIcons(),this.init(),this.sortingChanged.emit(),this.subscriptions=this.grid.columnPin.subscribe((()=>{requestAnimationFrame((()=>{this.cdr.destroyed||this.cdr.detectChanges()}))})),this.subscriptions.add(this.grid.columnVisibilityChanged.subscribe((()=>this.detectChanges()))),this.subscriptions.add(this.grid.sortingExpressionsChange.subscribe((()=>this.sortingChanged.emit()))),this.subscriptions.add(this.grid.filteringExpressionsTreeChange.subscribe((()=>this.init()))),this.subscriptions.add(this.grid.columnMovingEnd.subscribe((()=>this.cdr.markForCheck()))))}get column(){return this._column}get minHeight(){if(this._minHeight||0===this._minHeight)return this._minHeight}set minHeight(e){this._minHeight=e}get maxHeight(){if(this._maxHeight)return this._maxHeight}set maxHeight(e){this._maxHeight=e}get grid(){return this.column?.grid??this.gridAPI}constructor(e,t,i,n,r){super(e,t,i),this.document=n,this.gridAPI=r,this.defaultClass=!0,this.inline=!0,this.loadingStart=new wl,this.loadingEnd=new wl,this.initialized=new wl,this.sortingChanged=new wl,this.columnChange=new wl,this.listDataLoaded=new wl,this.expressionsList=new Array,this.listData=new Array,this.uniqueValues=[],this.isHierarchical=!1,this.containsNullOrEmpty=!1,this.selectAllSelected=!0,this.selectAllIndeterminate=!1,this.filterValues=new Set}ngOnDestroy(){this.subscriptions?.unsubscribe(),delete this.overlayComponentId}ngAfterViewInit(){this.computedStyles=this.document.defaultView.getComputedStyle(this.element.nativeElement)}initialize(e,t){this.inline=!1,this.column=e,this.overlayService=t,this._originalDisplay&&(this.element.nativeElement.style.display=this._originalDisplay),this.initialized.emit(),this.subscriptions.add(this.grid.columnMoving.subscribe((()=>this.closeDropdown())))}onPin(){this.closeDropdown(),this.column.pinned=!this.column.pinned}onSelect(){this.column.selected?this.grid.selectionService.deselectColumn(this.column.field):this.grid.selectionService.selectColumn(this.column.field,this.grid.columnSelection===lb),this.grid.notifyChanges()}columnSelectable(){return this.grid?.columnSelection!==ab&&this.column?.selectable}onHideToggle(){this.column.toggleVisibility(),this.closeDropdown()}cancel(){this.overlayComponentId||this.init(),this.closeDropdown()}closeDropdown(){this.overlayComponentId&&(this.overlayService.hide(this.overlayComponentId),this.overlayComponentId=null)}onKeyDown(e){this.platform.isFilteringKeyCombo(e)&&(e.preventDefault(),this.closeDropdown()),e.stopPropagation()}hide(){this._originalDisplay=this.computedStyles.display,this.element.nativeElement.style.display="none"}detectChanges(){this.cdr.detectChanges()}get size(){return this.computedStyles?.getPropertyValue("--component-size")}init(){this.expressionsList=new Array,S$(this.column.filteringExpressionsTree,this.grid.filteringLogic,this.expressionsList),this.populateColumnData()}areExpressionsSelectable(){return 1===this.expressionsList.length&&("equals"===this.expressionsList[0].expression.condition.name||"at"===this.expressionsList[0].expression.condition.name||"true"===this.expressionsList[0].expression.condition.name||"false"===this.expressionsList[0].expression.condition.name||"empty"===this.expressionsList[0].expression.condition.name||"in"===this.expressionsList[0].expression.condition.name)||this.expressionsList.filter((e=>!(1!==e.beforeOperator&&1!==e.afterOperator||"equals"!==e.expression.condition.name&&"at"!==e.expression.condition.name&&"true"!==e.expression.condition.name&&"false"!==e.expression.condition.name&&"empty"!==e.expression.condition.name&&"in"!==e.expression.condition.name))).length===this.expressionsList.length}populateColumnData(){this.cdr.detectChanges(),this.grid.uniqueColumnValuesStrategy?this.renderColumnValuesRemotely():this.renderColumnValuesFromData()}renderColumnValuesRemotely(){this.loadingStart.emit();let e=this.getColumnFilterExpressionsTree(),t=this.column;this.grid.uniqueColumnValuesStrategy(this.column,e,(e=>{if(!this.column||this.column!==t)return;let i=e.map((e=>({value:e})));this.uniqueValues=this.column.sortStrategy.sort(i,"value",cS.Asc,this.column.sortingIgnoreCase,((e,t)=>{let i=e[t];return this.column.dataType===bS.Time&&(i=(new Date).setHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds())),i})),this.renderValues(),this.loadingEnd.emit()}))}renderColumnValuesFromData(){this.loadingStart.emit();let e=this.getColumnFilterExpressionsTree();this.grid.filterStrategy.getFilterItems(this.column,e).then((e=>{this.isHierarchical=e.length>0&&e.some((e=>e.children&&e.children.length>0)),this.uniqueValues=e,this.renderValues(),this.loadingEnd.emit(),this.sortingChanged.emit()}))}renderValues(){this.filterValues=this.generateFilterValues(),this.generateListData(),this.expressionsList.forEach((e=>{this.column.dataType===bS.String&&this.column.filteringIgnoreCase&&e.expression.searchVal&&e.expression.searchVal instanceof Set&&this.modifyExpression(e)}))}generateFilterValues(){let e=e=>{if(!e)return e;switch(this.column.dataType){case bS.Date:return new Date(e).toDateString();case bS.DateTime:return new Date(e).toISOString();case bS.Time:return"string"==typeof e?e:new Date(e).toLocaleTimeString();default:return e}};return new Set(this.expressionsList.reduce(((t,i)=>"in"===i.expression.condition.name?[...t,...Array.from(i.expression.searchVal.values()).map((t=>e(t)))]:[...t,e(i.expression.searchVal)]),[]))}modifyExpression(e){let t=new Set(Array.from(e.expression.searchVal).map((e=>e.toLowerCase())));this.grid.data.forEach((i=>{"string"==typeof i[this.column.field]&&t.has(i[this.column.field]?.toLowerCase())&&e.expression.searchVal.add(i[this.column.field])}))}generateListData(){this.listData=new Array;let e=this.areExpressionsSelectable();if(this.column.dataType===bS.Boolean?this.addBooleanItems():this.addItems(e),!this.isHierarchical&&this.containsNullOrEmpty){let t=this.generateBlanksItem(e);this.listData.unshift(t)}this.listData.length>0&&this.addSelectAllItem(),this.cdr.destroyed||this.cdr.detectChanges(),this.listDataLoaded.emit()}getColumnFilterExpressionsTree(){let e=this.grid.filteringExpressionsTree,t=new US(e.operator,e.fieldName);for(let i of e.filteringOperands)$S(i)&&i.fieldName===this.column.field||t.filteringOperands.push(i);return t}addBooleanItems(){this.selectAllSelected=!0,this.selectAllIndeterminate=!1,this.uniqueValues.forEach((e=>{let t=e.value,i=new w$;null!=t&&""!==t?(this.column.filteringExpressionsTree?!0===t&&this.expressionsList.find((e=>"true"===e.expression.condition.name))||!1===t&&this.expressionsList.find((e=>"false"===e.expression.condition.name))?(i.isSelected=!0,i.isFiltered=!0,this.selectAllIndeterminate=!0):(i.isSelected=!1,i.isFiltered=!1):(i.isSelected=!0,i.isFiltered=!0),i.value=t,i.label=t?this.grid.resourceStrings.igx_grid_filter_true:this.grid.resourceStrings.igx_grid_filter_false,i.indeterminate=!1,this.listData.push(i)):this.containsNullOrEmpty=!0}))}addItems(e){this.selectAllSelected=!0,this.selectAllIndeterminate=!1,this.containsNullOrEmpty=!1,this.listData=this.generateFilterListItems(this.uniqueValues,e),this.containsNullOrEmpty=this.uniqueValues.length>this.listData.length}generateFilterListItems(e,t,i){let n=[];return e?.forEach((e=>{let r=e.value;if(null!=r&&""!==r){let s=new w$;if(s.parent=i,s.value=r,s.label=void 0!==e.label?e.label:this.getFilterItemLabel(r),s.indeterminate=!1,s.isSelected=!0,s.isFiltered=!0,this.column.filteringExpressionsTree)if(s.isSelected=!1,s.isFiltered=!1,t){let e=this.getExpressionValue(r);this.filterValues.has(e)&&(s.isSelected=!0,s.isFiltered=!0),this.selectAllIndeterminate=!0}else this.selectAllSelected=!1;s.children=this.generateFilterListItems(e.children??e.value?.children,t,s),n.push(s)}})),n}addSelectAllItem(){let e=new w$;e.isSelected=this.selectAllSelected,e.value=this.grid.resourceStrings.igx_grid_excel_select_all,e.label=this.grid.resourceStrings.igx_grid_excel_select_all,e.indeterminate=this.selectAllIndeterminate,e.isSpecial=!0,e.isFiltered=this.selectAllSelected,this.listData.unshift(e)}generateBlanksItem(e){let t=new w$;return this.column.filteringExpressionsTree?e&&(this.filterValues.has(null)?(t.isSelected=!0,t.isFiltered=!0):(t.isSelected=!1,t.isFiltered=!1)):(t.isSelected=!0,t.isFiltered=!0),t.value=null,t.label=this.grid.resourceStrings.igx_grid_excel_blanks,t.indeterminate=!1,t.isSpecial=!0,t.isBlanks=!0,t}getFilterItemLabel(e,t=!0,i){if(this.column.formatter)return t?this.column.formatter(e,i):e;let{display:n,format:r,digitsInfo:s,currencyCode:o,timezone:a}=this.column.pipeArgs,l=this.grid.locale;switch(this.column.dataType){case bS.Date:case bS.DateTime:case bS.Time:return eS(e,r,l,a);case bS.Currency:return tS(e,o||av(l),n,s,l);case bS.Number:return Bv(e,l,s);case bS.Percent:return zv(e,l,s);default:return e}}getExpressionValue(e){return this.column.dataType===bS.Date?e=e&&new Date(e).toDateString():this.column.dataType===bS.DateTime?e=e&&new Date(e).toISOString():this.column.dataType===bS.Time&&(e=e&&new Date(e).toLocaleTimeString()),e}static{this.ɵfac=function(t){return new(t||e)(lu(Cf),lu(zl),lu(NC),lu(Kf),lu(zF,9))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-grid-excel-style-filtering"]],contentQueries:function(e,t,i){if(1&e&&(gm(i,Yj,5,Yj),gm(i,Zj,5,Zj)),2&e){let e;mm(e=fm())&&(t.excelColumnOperationsDirective=e.first),mm(e=fm())&&(t.excelFilterOperationsDirective=e.first)}},viewQuery:function(e,t){if(1&e&&(pm(Pj,5,zl),pm(Vj,7,jh),pm(Mj,7,jh)),2&e){let e;mm(e=fm())&&(t.mainDropdown=e.first),mm(e=fm())&&(t.defaultExcelColumnOperations=e.first),mm(e=fm())&&(t.defaultExcelFilterOperations=e.first)}},hostVars:8,hostBindings:function(e,t){2&e&&(op("max-height",t.maxHeight),ap("igx-excel-filter",t.defaultClass)("igx-excel-filter__sizing",t.shouldApplySizes)("igx-excel-filter--inline",t.inline))},inputs:{column:"column",minHeight:"minHeight",maxHeight:"maxHeight"},outputs:{loadingStart:"loadingStart",loadingEnd:"loadingEnd",initialized:"initialized",sortingChanged:"sortingChanged",columnChange:"columnChange",listDataLoaded:"listDataLoaded"},features:[Pm([{provide:ZG,useExisting:Jn((()=>e))}]),dg],ngContentSelectors:Nj,decls:6,vars:12,consts:[["mainDropdown",""],["role","menu",1,"igx-excel-filter__menu",3,"keydown","ngClass","id"],[3,"showHiding","showPinning","showSelecting"]],template:function(e,t){if(1&e){let e=Kp();lm(Lj),Lp(0,"article",1,0),rm("keydown",(function(i){return Ko(e),jo(t.onKeyDown(i))})),bg(2,zj,1,0)(3,jj,6,8)(4,Uj,1,0)(5,qj,3,0),Np()}2&e&&(op("min-height",t.minHeight)("max-height",t.maxHeight),rp("ngClass",Nm(8,Hj,t.shouldApplySizes,"2"===t.size,"1"===t.size))("id",t.overlayComponentId),Hc(2),Ip(t.excelColumnOperationsDirective?2:3),Hc(2),Ip(t.excelFilterOperationsDirective?4:5))},dependencies:[U$,Fj,X$,J$,Y$,Aj,QG,G$,Ij,jv],encapsulation:2,changeDetection:0})}}return e})(),Qj=(()=>{class e extends Mk{get draggable(){return this.column&&(this.column.grid.moving||this.column.groupable&&!this.column.columnGroup)}get icon(){return this.cms.icon}constructor(e,t,i,n,r,s,o){super(r,e,t,i,n,o),this.cms=s,this._ghostClass="igx-grid__drag-ghost-image",this.ghostImgIconClass="igx-grid__drag-ghost-image-icon",this.ghostImgIconGroupClass="igx-grid__drag-ghost-image-icon-group",this.columnSelectedClass="igx-grid-th--selected",this.ghostClass=this._ghostClass}ngOnDestroy(){this._unsubscribe(),super.ngOnDestroy()}onEscape(e){this.cms.cancelDrop=!0,this.onPointerUp(e)}onPointerDown(e){!this.draggable||"false"===e.target.getAttribute("draggable")||super.onPointerDown(e)}onPointerMove(e){if(this._clicked&&!this._dragStarted){this._removeOnDestroy=!1,this.cms.column=this.column,this.column.grid.cdr.detectChanges();let e={source:this.column};this.column.grid.columnMovingStart.emit(e),this.subscription$=Sn(this.column.grid.document.defaultView,"keydown").pipe(Nn(this._destroy)).subscribe((e=>{e.key===this.platformUtil.KEYMAP.ESCAPE&&this.onEscape(e)}))}if(super.onPointerMove(e),this._dragStarted&&this.ghostElement&&!this.cms.column&&(this.cms.column=this.column,this.column.grid.cdr.detectChanges()),this.cms.column){let t={source:this.column,cancel:!1};this.column.grid.columnMoving.emit(t),t.cancel&&this.onEscape(e)}}onPointerUp(e){this.zone.run((()=>{super.onPointerUp(e),this.cms.column=null,this.column.grid.cdr.detectChanges()})),this._unsubscribe()}createGhost(e,t){super.createGhost(e,t),this.ghostElement.style.height=null,this.ghostElement.style.minWidth=null,this.ghostElement.style.flexBasis=null,this.ghostElement.style.position=null,this.ghostElement.classList.remove(this.columnSelectedClass);let i=this.column?.grid.document.createElement("i"),n=this.column?.grid.document.createTextNode("block");i.appendChild(n),i.classList.add("material-icons"),this.cms.icon=i,this.column.columnGroup?(this.ghostElement.insertBefore(i,this.ghostElement.childNodes[0]),i.classList.add(this.ghostImgIconGroupClass),this.ghostElement.children[0].style.paddingLeft="0px",this.ghostLeft=this._ghostStartX=e-this.ghostElement.getBoundingClientRect().width/3*2,this.ghostTop=this._ghostStartY=t-this.ghostElement.getBoundingClientRect().height/3*2):(i.classList.add(this.ghostImgIconClass),this.ghostElement.insertBefore(i,this.ghostElement.firstElementChild),this.ghostLeft=this._ghostStartX=e-this.ghostElement.getBoundingClientRect().width/3*2,this.ghostTop=this._ghostStartY=t-this.ghostElement.getBoundingClientRect().height/3*2)}_unsubscribe(){this.subscription$&&(this.subscription$.unsubscribe(),this.subscription$=null)}static{this.ɵfac=function(t){return new(t||e)(lu(zl),lu(Su),lu(Il),lu(ru),lu(Cf),lu(KH),lu(NC))}}static{this.ɵdir=rg({type:e,selectors:[["","igxColumnMovingDrag",""]],inputs:{column:[0,"igxColumnMovingDrag","column"]},features:[dg]})}}return e})(),Jj=(()=>{class e{get expressions(){return this._expressions}set expressions(e){this._expressions=e,this.chipExpressions=this._expressions,this.expressionsChanged(),this.expressionsChange.emit(this._expressions)}get dropAreaMessage(){return this._dropAreaMessage??this.grid.resourceStrings.igx_grid_groupByArea_message}set dropAreaMessage(e){this._dropAreaMessage=e}get nativeElement(){return this.ref.nativeElement}constructor(e,t){this.ref=e,this.platform=t,this.defaultClass=!0,this.expressionsChange=new wl,this._expressions=[]}get dropAreaVisible(){return this.grid.columnInDrag&&this.grid.columnInDrag.groupable||!this.expressions.length}handleKeyDown(e,t){this.platform.isActivationKey(t)&&this.updateGroupSorting(e)}handleClick(e){this.grid.getColumnByName(e).groupable&&this.updateGroupSorting(e)}onDragDrop(e){let t=e.detail.owner;if(t instanceof Qj){let e=t.column;if(!this.grid.columns.find((t=>t===e)))return;let i=-1!==this.expressions.findIndex((t=>t.fieldName===e.field));if(e.groupable&&!i&&!e.columnGroup&&e.field){let t={fieldName:e.field,dir:this.grid.sortingExpressions.find((t=>t.fieldName===e.field))?.dir||cS.Asc,ignoreCase:e.sortingIgnoreCase,strategy:e.sortStrategy,groupingComparer:e.groupingComparer};this.groupBy(t)}}}getReorderedExpressions(e){let t=[];return e.forEach((e=>{let i=this.expressions.find((t=>t.fieldName===e.id));this.grid.getColumnByName(i.fieldName)?.groupable&&t.push(i)})),t}updateGroupSorting(e){let t=this.expressions.find((t=>t.fieldName===e));t.dir=3-t.dir,(this.grid.groupingExpressionsChange||this.expressionsChange).emit(this.expressions),this.grid.pipeTrigger++,this.grid.notifyChanges()}expressionsChanged(){}static{this.ɵfac=function(t){return new(t||e)(lu(zl),lu(NC))}}static{this.ɵdir=rg({type:e,viewQuery:function(e,t){if(1&e&&pm(EL,5),2&e){let e;mm(e=fm())&&(t.chips=e)}},hostVars:2,hostBindings:function(e,t){2&e&&ap("igx-grid-grouparea",t.defaultClass)},inputs:{dropAreaTemplate:"dropAreaTemplate",grid:"grid",expressions:"expressions",dropAreaMessage:"dropAreaMessage"},outputs:{expressionsChange:"expressionsChange"}})}}return e})(),eU=(()=>{class e{transform(e,t,i){let n=t.getColumnByName(e);return{groupable:!!n?.groupable,title:n?.header||e}}static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵpipe=sg({name:"igxGroupByMeta",type:e,pure:!0})}}return e})(),tU=(()=>{class e{static ngTemplateContextGuard(e,t){return!0}constructor(e){this.template=e}static{this.ɵfac=function(t){return new(t||e)(lu(jh))}}static{this.ɵdir=rg({type:e,selectors:[["","igxGroupByRow",""]]})}}return e})(),iU=(()=>{class e{static ngTemplateContextGuard(e,t){return!0}static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵdir=rg({type:e,selectors:[["","igxGridDetail",""]]})}}return e})(),nU=(()=>{class e{static ngTemplateContextGuard(e,t){return!0}static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵdir=rg({type:e,selectors:[["","igxRowExpandedIndicator",""]]})}}return e})(),rU=(()=>{class e{static ngTemplateContextGuard(e,t){return!0}static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵdir=rg({type:e,selectors:[["","igxRowCollapsedIndicator",""]]})}}return e})(),sU=(()=>{class e{static ngTemplateContextGuard(e,t){return!0}static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵdir=rg({type:e,selectors:[["","igxHeaderExpandedIndicator",""]]})}}return e})(),oU=(()=>{class e{static ngTemplateContextGuard(e,t){return!0}static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵdir=rg({type:e,selectors:[["","igxHeaderCollapsedIndicator",""]]})}}return e})(),aU=(()=>{class e{static ngTemplateContextGuard(e,t){return!0}static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵdir=rg({type:e,selectors:[["","igxExcelStyleHeaderIcon",""]]})}}return e})(),lU=(()=>{class e{static ngTemplateContextGuard(e,t){return!0}static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵdir=rg({type:e,selectors:[["","igxSortHeaderIcon",""]]})}}return e})(),dU=(()=>{class e{static ngTemplateContextGuard(e,t){return!0}static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵdir=rg({type:e,selectors:[["","igxSortAscendingHeaderIcon",""]]})}}return e})(),cU=(()=>{class e{static ngTemplateContextGuard(e,t){return!0}static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵdir=rg({type:e,selectors:[["","igxSortDescendingHeaderIcon",""]]})}}return e})(),hU=(()=>{class e extends Lk{constructor(e,t,i,n){super(t,i,n),this.groupArea=e,this.elementRef=t,this.hovered=!1}onDragEnter(e){let t=e.detail.owner,i=t.column;if(!this.columnBelongsToGrid(i))return;let n=!!this.groupArea.expressions&&-1!==this.groupArea.expressions.findIndex((e=>e.fieldName===i.field));i.groupable&&!n&&!i.columnGroup&&i.field?(t.icon.innerText="group_work",this.hovered=!0):(t.icon.innerText="block",this.hovered=!1)}onDragLeave(e){let t=e.detail.owner.column;this.columnBelongsToGrid(t)&&(e.detail.owner.icon.innerText="block",this.hovered=!1)}closestParentByAttr(e,t){return e.hasAttribute(t)?e:this.closestParentByAttr(e.parentElement,t)}columnBelongsToGrid(e){let t=this.elementRef.nativeElement,i=this.closestParentByAttr(t,"igxGroupAreaDrop").getAttribute("gridId");if(e){let t=e.grid;return!(!t||t.id!==i)}return!1}static{this.ɵfac=function(t){return new(t||e)(lu(Jj),lu(zl),lu(ru),lu(Il))}}static{this.ɵdir=rg({type:e,selectors:[["","igxGroupAreaDrop",""]],hostVars:2,hostBindings:function(e,t){2&e&&ap("igx-drop-area--hover",t.hovered)},features:[dg]})}}return e})(),uU=(()=>{class e{transform(e,t){let i=t.findIndex((t=>t.fieldName===e));return-1!==i?++i:null}static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵpipe=sg({name:"sortingIndex",type:e,pure:!0})}}return e})(),gU=(()=>{class e{transform(e,t,i){return i?"":"fit-content"===e?e:`${Math.max(parseFloat(e),t)}px`}static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵpipe=sg({name:"igxHeaderGroupWidth",type:e,pure:!0})}}return e})(),pU=(()=>{class e{transform(e,t,i){let n={};if(!e)return n;for(let i of Object.keys(e)){let r=e[i];n[i]="function"==typeof r?r(t):r}return n}static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵpipe=sg({name:"igxHeaderGroupStyle",type:e,pure:!0})}}return e})(),mU=(()=>{class e{constructor(e){this.zone=e,this.resizeCursor="col-resize",this.showResizer=!1}getColumnHeaderRenderedWidth(){return parseFloat(window.getComputedStyle(this.column.headerCell.nativeElement).width)}get resizerHeight(){let e=this.column.grid.getVisibleContentHeight(),t=1;return this.column.columnLayoutChild&&(t=this.column.grid.multiRowLayoutRowSize-this.column.rowStart+1),0!==this.column.level&&(e-=this.column.topLevelParent.headerGroup.height-this.column.headerGroup.height*t),e}get restrictResizeMin(){let e=this.getColumnHeaderRenderedWidth();return e-(this.column.minWidthPx<e?this.column.minWidthPx:e)}get restrictResizeMax(){let e=this.getColumnHeaderRenderedWidth(),t=this.column.maxWidthPx;return this.column.maxWidth?t-e:Number.MAX_SAFE_INTEGER}autosizeColumnOnDblClick(){let e=this.getColumnHeaderRenderedWidth();this.column.width=this.column.getAutoSize(),this.zone.run((()=>{})),this.column.grid.columnResized.emit({column:this.column,prevWidth:e.toString(),newWidth:this.column.width})}resizeColumn(e,t=1){this.showResizer=!1;let i=(e.clientX-this.startResizePos)/t,n=this.column.width,r=n&&"string"==typeof n&&-1!==n.indexOf("%"),s=parseFloat(n),o=this.getColumnHeaderRenderedWidth();s=Number.isNaN(s)?parseFloat(o):s,this.column.grid.hasColumnLayouts?this.resizeColumnLayoutFor(this.column,i):r?this._handlePercentageResize(i,this.column):this._handlePixelResize(i,this.column),this.zone.run((()=>{})),s!==parseFloat(this.column.width)&&this.column.grid.columnResized.emit({column:this.column,prevWidth:r?s+"%":s+"px",newWidth:this.column.width}),this.isColumnResizing=!1}_handlePixelResize(e,t){let i=parseFloat(t.width),n=t.minWidthPx,r=t.maxWidthPx;t.width=i+e<n?n+"px":r&&i+e>r?r+"px":i+e+"px"}_handlePercentageResize(e,t){let i=parseFloat(t.width),n=e/t.grid.calcWidth*100,r=t.minWidthPercent,s=t.maxWidthPercent;t.width=i+n<r?r+"%":s&&i+n>s?s+"%":i+n+"%"}getColMinWidth(e){let t=parseFloat(e.width),i=e.headerCell.nativeElement.getBoundingClientRect().width;t=Number.isNaN(t)||t<i?i:t;let n=parseFloat(e.minWidth);return n<t?n:t}resizeColumnLayoutFor(e,t){let i=e.getResizableColUnderEnd(),n=i.reduce(((e,t)=>e+t.spanUsed),0),r=[...i],s=t,o=n,a=!1;do{a=!1;let e=o,i=[];r.forEach((n=>{let r=parseFloat(n.target.calcWidth),l=t/o*n.target.gridColumnSpan,d=n.target.width,c=d&&"string"==typeof d&&-1!==d.indexOf("%"),h=n.target.minWidthPx,u=n.target.maxWidthPx;r+l<h?(n.target.width=c?n.target.minWidthPercent+"%":h+"px",s+=r-h,e-=n.spanUsed,a=!0):u&&r+l>u?(n.target.width=c?n.target.maxWidthPercent+"%":n.target.maxWidthPx+"px",s-=u-r,e-=n.spanUsed,a=!0):i.push(n)})),o=e,r=i}while(a);r.forEach((e=>{let t=s/o*e.target.gridColumnSpan,i=e.target.width;i&&"string"==typeof i&&-1!==i.indexOf("%")?this._handlePercentageResize(t,e.target):this._handlePixelResize(t,e.target)}))}static{this.ɵfac=function(t){return new(t||e)(Vr(Il))}}static{this.ɵprov=ir({token:e,factory:e.ɵfac})}}return e})(),fU=["defaultESFHeaderIconTemplate"],vU=["defaultSortHeaderIconTemplate"],yU=["sortIconContainer"],xU=(e,t)=>({$implicit:e,column:t}),_U=e=>({$implicit:e});function wU(e,t){if(1&e&&(Lp(0,"span",7),ym(1),Np()),2&e){let e=om();rp("title",e.title),Hc(),_m(e.column.header||e.column.field)}}function CU(e,t){1&e&&Hp(0,"igx-icon",8)}function SU(e,t){1&e&&Hp(0,"igx-icon",9),2&e&&rp("name",om().sortDirection<2?"sort_asc":"sort_desc")}function bU(e,t){1&e&&$p(0)}function DU(e,t){1&e&&$p(0)}function EU(e,t){if(1&e){let e=Kp();Lp(0,"div",12,3),Xm(2,"sortingIndex"),rm("pointerdown",(function(t){return Ko(e),jo(om(2).onPointerDownIndicator(t))}))("click",(function(t){return Ko(e),jo(om(2).onSortingIconClick(t))})),bg(3,DU,1,0,"ng-container",5),Np()}if(2&e){let e=om(2);$g("data-sortIndex","single"===e.grid.sortingOptions.mode&&e.grid.sortingExpressions.length<=1?null:Jm(2,3,e.column.field,e.grid.sortingExpressions)),Hc(3),rp("ngTemplateOutlet",e.sortIconTemplate)("ngTemplateOutletContext",Mm(6,_U,e))}}function TU(e,t){1&e&&$p(0)}function IU(e,t){if(1&e){let e=Kp();Lp(0,"div",13),rm("pointerdown",(function(t){return Ko(e),jo(om(2).onPointerDownIndicator(t))}))("click",(function(t){return Ko(e),jo(om(2).onFilteringIconClick(t))})),bg(1,TU,1,0,"ng-container",5),Np()}if(2&e){let e=om(2);rp("ngClass",e.filterIconClassName),Hc(),rp("ngTemplateOutlet",e.esfIconTemplate)("ngTemplateOutletContext",Mm(3,_U,e))}}function RU(e,t){if(1&e&&(Lp(0,"div",6),bg(1,EU,4,8,"div",10)(2,IU,2,5,"div",11),Np()),2&e){let e=om();Hc(),Ip(e.column.sortable&&!e.disabled?1:-1),Hc(),Ip(e.grid.allowFiltering&&e.column.filterable&&"excelStyleFilter"===e.grid.filterMode?2:-1)}}var AU=(()=>{class e{get ariaSelected(){return this.column.selected}get columnGroupStyle(){return!this.column.columnGroup}get sortAscendingStyle(){return this.sortDirection===cS.Asc}get sortDescendingStyle(){return this.sortDirection===cS.Desc}get numberStyle(){return this.column.dataType===bS.Number}get sortableStyle(){return this.column.sortable}get selectableStyle(){return this.selectable}get filterableStyle(){return this.column.filterable&&this.grid.filteringService.isFilterRowVisible}get sortedStyle(){return this.sorted}get selectedStyle(){return this.selected}get esfIconTemplate(){return this.grid.excelStyleHeaderIconTemplate||this.defaultESFHeaderIconTemplate}get sortIconTemplate(){return this.sortDirection===cS.None&&this.grid.sortHeaderIconTemplate?this.grid.sortHeaderIconTemplate:this.sortDirection===cS.Asc&&this.grid.sortAscendingHeaderIconTemplate?this.grid.sortAscendingHeaderIconTemplate:this.sortDirection===cS.Desc&&this.grid.sortDescendingHeaderIconTemplate?this.grid.sortDescendingHeaderIconTemplate:this.defaultSortHeaderIconTemplate}get disabled(){let e=this.grid.groupArea||this.grid.treeGroupArea;return!!(e?.expressions&&e.expressions.length&&e.expressions.map((e=>e.fieldName)).includes(this.column.field))}get sorted(){return this.sortDirection!==cS.None}get filterIconClassName(){return this.column.filteringExpressionsTree||this.isAdvancedFilterApplied()?"igx-excel-filter__icon--filtered":"igx-excel-filter__icon"}get selectable(){return this.grid.columnSelection!==ab&&this.column.applySelectableClass&&!this.column.selected&&!this.grid.filteringService.isFilterRowVisible}get selected(){return this.column.selected&&(!this.grid.filteringService.isFilterRowVisible||this.grid.filteringService.filteredColumn!==this.column)}get title(){return this.column.title||this.column.header||this.column.field}get nativeElement(){return this.ref.nativeElement}constructor(e,t,i,n){this.grid=e,this.colResizingService=t,this.cdr=i,this.ref=n,this.sortDirection=cS.None,this._destroy$=new Ci}onClick(e){if(!this.colResizingService.isColumnResizing)if(this.grid.filteringService.isFilterRowVisible){if(this.column.filterCellTemplate)return void this.grid.filteringRow.close();this.column.filterable&&!this.column.columnGroup&&!this.grid.filteringService.isFilterComplex(this.column.field)&&(this.grid.filteringService.filteredColumn=this.column)}else if(this.grid.columnSelection!==ab&&this.column.selectable){let t=this.grid.columnSelection===lb||!e.ctrlKey,i=this.grid.columnSelection===db&&e.shiftKey;!this.column.selected||this.grid.selectionService.getSelectedColumns().length>1&&t?this.grid.selectionService.selectColumn(this.column.field,t,i,e):this.grid.selectionService.deselectColumn(this.column.field,e)}this.grid.theadRow.nativeElement.focus()}onPinterEnter(){this.column.applySelectableClass=!0}onPointerLeave(){this.column.applySelectableClass=!1}ngDoCheck(){this.getSortDirection(),this.cdr.markForCheck()}ngOnDestroy(){this._destroy$.next(!0),this._destroy$.complete()}onPointerDownIndicator(e){e.stopPropagation()}onFilteringIconClick(e){e.stopPropagation(),this.grid.filteringService.toggleFilterDropdown(this.nativeElement,this.column)}onSortingIconClick(e){e.stopPropagation(),this.triggerSort()}getSortDirection(){let e=this.grid.sortingExpressions.find((e=>e.fieldName===this.column.field));this.sortDirection=e?e.dir:cS.None}isAdvancedFilterApplied(){return!!this.grid.advancedFilteringExpressionsTree&&!!BS.find(this.grid.advancedFilteringExpressionsTree,this.column.field)}triggerSort(){let e=(this.grid.groupingExpressions?this.grid.groupingExpressions.find((e=>e.fieldName===this.column.field)):this.grid.groupArea?.expressions&&this.grid.groupArea?.expressions.find((e=>e.fieldName===this.column.field)))?this.sortDirection+1>cS.Desc?cS.Asc:cS.Desc:this.sortDirection+1>cS.Desc?cS.None:this.sortDirection+1;this.sortDirection=e,this.grid.sort({fieldName:this.column.field,dir:this.sortDirection,ignoreCase:this.column.sortingIgnoreCase,strategy:this.column.sortStrategy})}static{this.ɵfac=function(t){return new(t||e)(lu(zF),lu(mU),lu(Cf),lu(zl))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-grid-header"]],viewQuery:function(e,t){if(1&e&&(pm(fU,7,jh),pm(vU,7,jh),pm(yU,5,zl)),2&e){let e;mm(e=fm())&&(t.defaultESFHeaderIconTemplate=e.first),mm(e=fm())&&(t.defaultSortHeaderIconTemplate=e.first),mm(e=fm())&&(t.sortIconContainer=e.first)}},hostVars:19,hostBindings:function(e,t){1&e&&rm("click",(function(e){return t.onClick(e)}))("pointerenter",(function(){return t.onPinterEnter()}))("pointerleave",(function(){return t.onPointerLeave()})),2&e&&($g("aria-selected",t.ariaSelected),ap("igx-grid-th",t.columnGroupStyle)("asc",t.sortAscendingStyle)("desc",t.sortDescendingStyle)("igx-grid-th--number",t.numberStyle)("igx-grid-th--sortable",t.sortableStyle)("igx-grid-th--selectable",t.selectableStyle)("igx-grid-th--filtrable",t.filterableStyle)("igx-grid-th--sorted",t.sortedStyle)("igx-grid-th--selected",t.selectedStyle))},inputs:{column:"column"},decls:9,vars:6,consts:[["defaultColumn",""],["defaultESFHeaderIconTemplate",""],["defaultSortHeaderIconTemplate",""],["sortIconContainer",""],[1,"igx-grid-th__title"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"igx-grid-th__icons"],[3,"title"],["family","default","name","more_vert"],["family","default",3,"name"],[1,"sort-icon"],[3,"ngClass"],[1,"sort-icon",3,"pointerdown","click"],[3,"pointerdown","click","ngClass"]],template:function(e,t){if(1&e&&(bg(0,wU,2,2,"ng-template",null,0,sf)(2,CU,1,0,"ng-template",null,1,sf)(4,SU,1,1,"ng-template",null,2,sf),Lp(6,"span",4),bg(7,bU,1,0,"ng-container",5),Np(),bg(8,RU,3,2,"div",6)),2&e){let e=vm(1);Hc(7),rp("ngTemplateOutlet",t.column.headerTemplate?t.column.headerTemplate:e)("ngTemplateOutletContext",Lm(3,xU,t.column,t.column)),Hc(),Ip(t.column.columnGroup?-1:8)}},dependencies:[DA,qv,jv,uU],encapsulation:2,changeDetection:0})}}return e})(),kU=class extends FI{shouldFitInViewPort(){return!0}fitInViewport(e,t){t.contentElementRect.height-t.viewPortRect.height>0?(e.style.width="auto",e.style.height=`${t.viewPortRect.height}px`):e.style.height=`${Math.max(t.viewPortRect.height-t.targetRect.bottom-1,t.contentElementRect.height)}px`,super.fitInViewport(e,t)}},OU=(()=>{class e{constructor(e,t){this.iconService=e,this._overlayService=t,this.isFilterRowVisible=!1,this.filteredColumn=null,this.selectedExpression=null,this.columnToMoreIconHidden=new Map,this.activeFilterCell=0,this.columnsWithComplexFilter=new Set,this.areEventsSubscribed=!1,this.destroy$=new Ci,this.isFiltering=!1,this.columnToExpressionsMap=new Map,this.columnStartIndex=-1,this._filterMenuOverlaySettings={closeOnEscape:!0,closeOnOutsideClick:!0,modal:!1,positionStrategy:new kU({verticalStartPoint:bI.Bottom,openAnimation:qD(rE,{params:{duration:"250ms"}}),closeAnimation:null}),scrollStrategy:new BI}}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}toggleFilterDropdown(e,t){let i=t.filteringExpressionsTree?"igx-excel-filter__icon--filtered":"igx-excel-filter__icon",n=e.querySelector(`.${i}`)||e,r=this.grid.createFilterDropdown(t,Je(Qe({},this._filterMenuOverlaySettings),{target:n}));this._overlayService.opening.pipe(Vn((e=>e.id===r)),Nn(this.destroy$)).subscribe((e=>{e.componentRef&&(e.componentRef.instance.initialize(t,this._overlayService),e.componentRef.instance.overlayComponentId=r),this.lastActiveNode=this.grid.navigation.activeNode})),this._overlayService.closed.pipe(Vn((e=>e.id===r)),Nn(this.destroy$)).subscribe((()=>{this._overlayService.detach(r),this.grid.navigation.activeNode=this.lastActiveNode,this.grid.theadRow.nativeElement.focus()})),this._overlayService.show(r)}subscribeToEvents(){this.areEventsSubscribed||(this.areEventsSubscribed=!0,this.grid.columnResized.pipe(Nn(this.destroy$)).subscribe((e=>{this.updateFilteringCell(e.column)})),this.grid.parentVirtDir.chunkLoad.pipe(Nn(this.destroy$)).subscribe((e=>{e.startIndex!==this.columnStartIndex&&(this.columnStartIndex=e.startIndex,this.grid.filterCellList.forEach((e=>{e.updateFilterCellArea()})))})),this.grid.columnMovingEnd.pipe(Nn(this.destroy$)).subscribe((()=>{this.grid.filterCellList.forEach((e=>{e.updateFilterCellArea()}))})))}hideFilteringRowOnColumnVisibilityChange(e){let t=this.grid?.filteringRow;t&&t.column&&t.column===e&&t.close()}filterInternal(e,t=null){let i;this.isFiltering=!0,i=t&&"operator"in t?t:this.createSimpleFilteringTree(e,t),0===i.filteringOperands.length?this.clearFilter(e):this.filter(e,null,i),this.isFiltering=!1}filter(e,t,i,n){let r=this.grid,s=r.getColumnByName(e),o=n||!!s&&s.filteringIgnoreCase,a=r.filteringExpressionsTree,l=BS.find(a,e);i=i??l;let d=BS.findIndex(a,e),c=this.prepare_filtering_expression(a,e,t,i,o,d,!0),h={owner:r,filteringExpressions:BS.find(c,e),cancel:!1};if(this.grid.filtering.emit(h),h.cancel)return;if(i)this.filter_internal(e,t,i,o);else{let i=BS.find(this.grid.filteringExpressionsTree,e);if(!i)throw new Error("Invalid condition or Expression Tree!");$S(i)?this.filter_internal(e,t,i,o):this.filter_internal(e,t,i.condition,o)}let u=BS.find(this.grid.filteringExpressionsTree,e);requestAnimationFrame((()=>this.grid.filteringDone.emit(u)))}filter_global(e,t,i){if(!t)return;let n=this.grid.filteringExpressionsTree;this.grid.crudService.endEdit(!1),this.grid.page=0,n.filteringOperands=[];for(let r of this.grid.columns)this.prepare_filtering_expression(n,r.field,e,t,i||r.filteringIgnoreCase);this.grid.filteringExpressionsTree=n}clearFilter(e){if(e&&!this.grid.getColumnByName(e))return;let t=new US(null,e),i={owner:this.grid,filteringExpressions:t,cancel:!1};this.grid.filtering.emit(i),i.cancel||(this.isFiltering=!0,this.clear_filter(e),requestAnimationFrame((()=>this.grid.filteringDone.emit(t))),e?this.getExpressions(e).length=0:this.grid.columns.forEach((e=>{this.getExpressions(e.field).length=0})),this.isFiltering=!1)}clear_filter(e){let t=this.grid;t.crudService.endEdit(!1);let i=t.filteringExpressionsTree,n=BS.findIndex(i,e);n>-1?i.filteringOperands.splice(n,1):e||(i.filteringOperands=[]),t.filteringExpressionsTree=i}filterGlobal(e,t,i){if(!t)return;let n=this.grid.filteringExpressionsTree,r=new US(n.operator,n.fieldName);for(let n of this.grid.columns)this.prepare_filtering_expression(r,n.field,e,t,i||n.filteringIgnoreCase);let s={owner:this.grid,filteringExpressions:r,cancel:!1};this.grid.filtering.emit(s),!s.cancel&&(this.grid.crudService.endEdit(!1),this.grid.page=0,this.grid.filteringExpressionsTree=r,requestAnimationFrame((()=>this.grid.filteringDone.emit(this.grid.filteringExpressionsTree))))}registerSVGIcons(){TP.forEach((e=>{this.iconService.addSvgIconFromText(e.name,e.value,"imx-icons")})),this.iconService.addSvgIconFromText(xP,_P,"imx-icons"),this.iconService.addSvgIconFromText(wP,CP,"imx-icons")}getExpressions(e){if(!this.columnToExpressionsMap.has(e)){let t=this.grid.columns.find((t=>t.field===e)),i=new Array;return t&&(this.generateExpressionsList(t.filteringExpressionsTree,this.grid.filteringExpressionsTree.operator,i),this.columnToExpressionsMap.set(e,i)),i}return this.columnToExpressionsMap.get(e)}refreshExpressions(){this.isFiltering||(this.columnsWithComplexFilter.clear(),this.columnToExpressionsMap.forEach(((e,t)=>{let i=this.grid.columns.find((e=>e.field===t));i?(e.length=0,this.generateExpressionsList(i.filteringExpressionsTree,this.grid.filteringExpressionsTree.operator,e),this.isFilteringTreeComplex(i.filteringExpressionsTree)&&this.columnsWithComplexFilter.add(t),this.updateFilteringCell(i)):this.columnToExpressionsMap.delete(t)})))}removeExpression(e,t){let i=this.getExpressions(e);0===t&&i.length>1?i[1].beforeOperator=null:t===i.length-1?i[t-1].afterOperator=null:(i[t-1].afterOperator=i[t+1].beforeOperator,i[0].beforeOperator=null,i[i.length-1].afterOperator=null),i.splice(t,1)}createSimpleFilteringTree(e,t=null){let i,n=t||this.getExpressions(e),r=new US(qS.Or,e);for(let t of n)t.expression.condition.isUnary||null!==t.expression.searchVal?void 0!==t.beforeOperator&&null!==t.beforeOperator&&t.beforeOperator!==qS.Or||t.afterOperator!==qS.And?t.beforeOperator===qS.And?i.filteringOperands.push(t.expression):(r.filteringOperands.push(t.expression),i=null):(i=new US(qS.And,e),r.filteringOperands.push(i),i.filteringOperands.push(t.expression)):t.afterOperator===qS.And&&!i&&(i=new US(qS.And,e),r.filteringOperands.push(i));return r}isFilterComplex(e){if(this.columnsWithComplexFilter.has(e))return!0;let t=this.grid.columns.find((t=>t.field===e)),i=t&&this.isFilteringTreeComplex(t.filteringExpressionsTree);return i&&this.columnsWithComplexFilter.add(e),i}getOperatorAsString(e){return 0===e?this.grid.resourceStrings.igx_grid_filter_operator_and:this.grid.resourceStrings.igx_grid_filter_operator_or}getChipLabel(e){if(e.condition.isUnary)return this.grid.resourceStrings[`igx_grid_filter_${e.condition.name}`]||e.condition.name;if(e.searchVal instanceof Date){let t=this.grid.getColumnByName(e.fieldName),i=t.formatter;if(i)return i(e.searchVal,void 0);let n=t.pipeArgs;return eS(e.searchVal,n.format,this.grid.locale)}return e.searchVal}updateFilteringCell(e){let t=e.filterCell;t&&t.updateFilterCellArea()}generateExpressionsList(e,t,i){S$(e,t,i)}isFilteringExpressionsTreeEmpty(e){if(US.empty(e))return!0;for(let t of e.filteringOperands){if(!$S(t))return!1;if(t.filteringOperands&&t.filteringOperands.length)return!1}return!0}filter_internal(e,t,i,n){let r=this.grid.filteringExpressionsTree;this.grid.crudService.endEdit(!1),this.grid.page=0;let s=BS.findIndex(r,e);this.prepare_filtering_expression(r,e,t,i,n,s),this.grid.filteringExpressionsTree=r}prepare_filtering_expression(e,t,i,n,r,s=-1,o=!1){let a=n&&"operator"in n?n:null,l=n&&"operator"in n?null:n,d=e;if(o&&(d=new US(e.operator,e.fieldName),d.filteringOperands=[...e.filteringOperands]),l){let n={fieldName:t,searchVal:i,condition:l,conditionName:l.name,ignoreCase:r};a=new US(e.operator,t),a.filteringOperands.push(n)}return a&&(s>-1?d.filteringOperands[s]=a:d.filteringOperands.push(a)),d}isFilteringTreeComplex(e){if(!e)return!1;if($S(e)){if(e.operator===qS.Or)return this.getChildAndOperatorsCount(e)>1;let t=!1;for(let i of e.filteringOperands)t=t||this.isFilteringTreeComplex(i);return t}return!1}getChildAndOperatorsCount(e){let t,i=0;for(let n=0;n<e.filteringOperands.length;n++)t=e[n],t&&$S(t)&&(t.operator===qS.And&&i++,i+=this.getChildAndOperatorsCount(t));return i}static{this.ɵfac=function(t){return new(t||e)(Vr(_A),Vr(zI))}}static{this.ɵprov=ir({token:e,factory:e.ɵfac})}}return e})(),FU=["emptyFilter"],PU=["defaultFilter"],VU=["complexFilter"],MU=["chipsArea"],LU=["moreIcon"],NU=["ghostChip"],HU=["complexChip"],zU=(e,t)=>t.expression;function BU(e,t){if(1&e){let e=Kp();Lp(0,"igx-chips-area",9)(1,"igx-chip",10,3),rm("click",(function(){return Ko(e),jo(om().onChipClicked())})),Hp(3,"igx-icon",11),Lp(4,"span"),ym(5),Np()()()}if(2&e){let e=om();$g("draggable",!1),Hc(),op("--ig-size",e.filteringElementsSize),rp("tabIndex",-1),$g("draggable",!1),Hc(2),$g("draggable",!1),Hc(),$g("draggable",!1),Hc(),_m(e.filteringService.grid.resourceStrings.igx_grid_filter)}}function GU(e,t){if(1&e){let e=Kp();Lp(0,"igx-chip",17),rm("click",(function(){Ko(e);let t=om().$implicit;return jo(om(2).onChipClicked(t.expression))}))("remove",(function(t){Ko(e);let i=om().$implicit;return jo(om(2).onChipRemoved(t,i))})),Hp(1,"igx-icon",18),Lp(2,"span",null,6),ym(4),Np()()}if(2&e){let e=om().$implicit,t=om(2);op("--ig-size",t.filteringElementsSize),rp("removable",!0)("tabIndex",-1),Hc(),rp("name",e.expression.condition.iconName),Hc(3),wm(" ",t.filteringService.getChipLabel(e.expression)," ")}}function $U(e,t){if(1&e&&(Lp(0,"span",16),ym(1),Np()),2&e){let e=om().$implicit,t=om(2);Hc(),_m(t.filteringService.getOperatorAsString(e.afterOperator))}}function WU(e,t){if(1&e&&bg(0,GU,5,6,"igx-chip",15)(1,$U,2,1,"span",16),2&e){let e=t.$index,i=t.$count,n=om(2);Ip(n.isChipVisible(e)?0:-1),Hc(),Ip(e!==i-1&&n.isChipVisible(e+1)?1:-1)}}function KU(e,t){if(1&e){let e=Kp();Lp(0,"igx-chips-area",9,4),Op(2,WU,2,2,null,null,zU),Lp(4,"div",12,5),rm("click",(function(){return Ko(e),jo(om().onChipClicked())})),Hp(6,"igx-icon",13)(7,"igx-badge",14),Np()()}if(2&e){let e=om();Hc(2),Pp(e.expressionsList),Hc(2),rp("ngClass",e.filteringIndicatorClass()),Hc(3),rp("value",e.moreFiltersCount)}}function jU(e,t){if(1&e){let e=Kp();Lp(0,"igx-chip",19,7),rm("remove",(function(){return Ko(e),jo(om().clearFiltering())})),Hp(2,"igx-icon",11),Lp(3,"span"),ym(4),Np()()}if(2&e){let e=om();op("--ig-size",e.filteringElementsSize),rp("removable",!0)("tabIndex",-1),Hc(4),_m(e.filteringService.grid.resourceStrings.igx_grid_complex_filter)}}function UU(e,t){1&e&&$p(0)}var qU=(()=>{class e{get styleClasses(){return this.column&&this.column.selected?"igx-grid__filtering-cell--selected":"igx-grid__filtering-cell"}constructor(e,t){this.cdr=e,this.filteringService=t,this.moreFiltersCount=0,this.baseClass="igx-grid__filtering-cell-indicator",this.filteringService.subscribeToEvents()}ngOnInit(){this.filteringService.columnToMoreIconHidden.set(this.column.field,!0)}ngAfterViewInit(){this.updateFilterCellArea()}ngDoCheck(){this.updateFilterCellArea()}isChipVisible(e){let t=this.expressionsList[e];return!(!t||!t.isVisible)}updateFilterCellArea(){this.expressionsList=this.filteringService.getExpressions(this.column.field),this.updateVisibleFilters()}get template(){if(!this.column.filterable)return null;if(this.column.filterCellTemplate)return this.column.filterCellTemplate;let e=this.column.filteringExpressionsTree;return e&&0!==e.filteringOperands.length?this.filteringService.isFilterComplex(this.column.field)?this.complexFilter:this.defaultFilter:this.emptyFilter}get context(){return{$implicit:this.column,column:this.column}}onChipClicked(e){e?this.expressionsList.forEach((t=>{t.isSelected=t.expression===e})):this.expressionsList.length>0&&(this.expressionsList.forEach((e=>{e.isSelected=!1})),this.expressionsList[0].isSelected=!0),this.filteringService.grid.navigation.performHorizontalScrollToCell(this.column.visibleIndex),this.filteringService.filteredColumn=this.column,this.filteringService.isFilterRowVisible=!0,this.filteringService.selectedExpression=e}onChipRemoved(e,t){let i=this.expressionsList.indexOf(t);this.removeExpression(i),this.filteringService.grid.theadRow.nativeElement.focus()}clearFiltering(){this.filteringService.clearFilter(this.column.field),this.cdr.detectChanges()}filteringIndicatorClass(){return{[this.baseClass]:!this.isMoreIconHidden(),[`${this.baseClass}--hidden`]:this.isMoreIconHidden()}}get filteringElementsSize(){return this.column.grid.gridSize===yb?vb:this.column.grid.gridSize}removeExpression(e){0!==e||1!==this.expressionsList.length?(this.filteringService.removeExpression(this.column.field,e),this.updateVisibleFilters(),this.filteringService.filterInternal(this.column.field)):this.clearFiltering()}isMoreIconHidden(){return this.filteringService.columnToMoreIconHidden.get(this.column.field)}updateVisibleFilters(){if(this.expressionsList.forEach((e=>e.isVisible=!0)),this.moreIcon&&this.filteringService.columnToMoreIconHidden.set(this.column.field,!0),this.cdr.detectChanges(),this.chipsArea&&this.expressionsList.length>1){let e=this.chipsArea.element.nativeElement.offsetWidth,t=0,i=this.chipsArea.element.nativeElement.children,n=0,r=this.moreIcon.nativeElement.offsetWidth-parseInt(this.column?.grid.document.defaultView.getComputedStyle(this.moreIcon.nativeElement)["margin-left"],10);for(let s=0;s<i.length-1;s++){if(!(t+i[s].offsetWidth<e)){(s%2!=0&&t+r>e||n>0&&t-i[s-1].offsetWidth+r>e)&&n--,this.moreFiltersCount=this.expressionsList.length-n,this.filteringService.columnToMoreIconHidden.set(this.column.field,!1);break}t+=i[s].offsetWidth,s%2==0?n++:(t+=parseInt(this.column?.grid.document.defaultView.getComputedStyle(i[s])["margin-left"],10),t+=parseInt(this.column?.grid.document.defaultView.getComputedStyle(i[s])["margin-right"],10))}for(let e=n;e<this.expressionsList.length;e++)this.expressionsList[e].isVisible=!1;this.cdr.detectChanges()}}static{this.ɵfac=function(t){return new(t||e)(lu(Cf),lu(OU))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-grid-filtering-cell"]],viewQuery:function(e,t){if(1&e&&(pm(FU,7,jh),pm(PU,7,jh),pm(VU,7,jh),pm(MU,5,IL),pm(LU,5,zl),pm(NU,5,EL),pm(HU,5,EL)),2&e){let e;mm(e=fm())&&(t.emptyFilter=e.first),mm(e=fm())&&(t.defaultFilter=e.first),mm(e=fm())&&(t.complexFilter=e.first),mm(e=fm())&&(t.chipsArea=e.first),mm(e=fm())&&(t.moreIcon=e.first),mm(e=fm())&&(t.ghostChip=e.first),mm(e=fm())&&(t.complexChip=e.first)}},hostVars:2,hostBindings:function(e,t){2&e&&lp(t.styleClasses)},inputs:{column:"column"},decls:7,vars:2,consts:[["emptyFilter",""],["defaultFilter",""],["complexFilter",""],["ghostChip",""],["chipsArea",""],["moreIcon",""],["label",""],["complexChip",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"igx-filtering-chips"],[3,"click","tabIndex"],["igxPrefix","","family","default","name","filter_list"],[3,"click","ngClass"],["family","default","name","filter_list"],[3,"value"],[3,"removable","tabIndex","--ig-size"],[1,"igx-filtering-chips__connector"],[3,"click","remove","removable","tabIndex"],["igxPrefix","","family","default",3,"name"],[3,"remove","removable","tabIndex"]],template:function(e,t){1&e&&bg(0,BU,6,8,"ng-template",null,0,sf)(2,KU,8,2,"ng-template",null,1,sf)(4,jU,5,5,"ng-template",null,2,sf)(6,UU,1,0,"ng-container",8),2&e&&(Hc(6),rp("ngTemplateOutlet",t.template)("ngTemplateOutletContext",t.context))},dependencies:[IL,EL,DA,dR,jv,ZP,qv],encapsulation:2,changeDetection:0})}}return e})(),YU=(()=>{class e{constructor(e,t,i){this.zone=e,this.element=t,this.colResizingService=i,this._dblClick=!1,this.destroy$=new Ci,this.DEBOUNCE_TIME=200}onDoubleClick(){this._dblClick=!0,this.initResizeService(),this.colResizingService.autosizeColumnOnDblClick()}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}ngAfterViewInit(){!this.column.columnGroup&&this.column.resizable&&(this.zone.runOutsideAngular((()=>{Sn(this.element.nativeElement,"mousedown").pipe(kn(this.DEBOUNCE_TIME),Nn(this.destroy$)).subscribe((e=>{this._dblClick?this._dblClick=!1:0===e.button&&(this._onResizeAreaMouseDown(e),this.column.grid.resizeLine.resizer.onMousedown(e))}))})),Sn(this.element.nativeElement,"mouseup").pipe(kn(this.DEBOUNCE_TIME),Nn(this.destroy$)).subscribe((()=>{this.colResizingService.isColumnResizing=!1,this.colResizingService.showResizer=!1,this.column.grid.cdr.detectChanges()})))}_onResizeAreaMouseDown(e){this.initResizeService(e),this.colResizingService.showResizer=!0,this.column.grid.cdr.detectChanges()}initResizeService(e=null){this.colResizingService.column=this.column,e&&(this.colResizingService.isColumnResizing=!0,this.colResizingService.startResizePos=e.clientX)}static{this.ɵfac=function(t){return new(t||e)(lu(Il),lu(zl),lu(mU))}}static{this.ɵdir=rg({type:e,selectors:[["","igxResizeHandle",""]],hostBindings:function(e,t){1&e&&rm("dblclick",(function(){return t.onDoubleClick()}))},inputs:{column:[0,"igxResizeHandle","column"]}})}}return e})(),ZU=(()=>{class e extends Lk{set data(e){e instanceof nO?this._displayContainer=e:this._column=e}get column(){return this._column}get isDropTarget(){return this.column&&this.column.grid.moving&&(!this.column.pinned&&this.cms.column?.disablePinning||!this.cms.column?.disablePinning)}get horizontalScroll(){if(this._displayContainer)return this._displayContainer}get nativeElement(){return this.ref.nativeElement}constructor(e,t,i,n){super(e,t,i),this.ref=e,this.renderer=t,this._=i,this.cms=n,this._dropIndicator=null,this._lastDropIndicator=null,this._dragLeave=new Ci,this._dropIndicatorClass="igx-grid-th__drop-indicator--active"}ngOnDestroy(){this._dragLeave.next(!0),this._dragLeave.complete(),super.ngOnDestroy()}onDragOver(e){if(e.detail.owner instanceof Qj&&this.isDropTarget&&this.cms.column!==this.column&&this.cms.column.level===this.column.level&&this.cms.column.parent===this.column.parent){this._lastDropIndicator&&this.renderer.removeClass(this._dropIndicator,this._dropIndicatorClass);let t=this.nativeElement.getBoundingClientRect(),i=t.left+t.width/2,n=this.nativeElement.parentElement;e.detail.pageX<i?(this._dropPos=WH.BeforeDropTarget,this._lastDropIndicator=this._dropIndicator=n.firstElementChild):(this._dropPos=WH.AfterDropTarget,this._lastDropIndicator=this._dropIndicator=n.lastElementChild),"block"!==this.cms.icon.innerText&&this.renderer.addClass(this._dropIndicator,this._dropIndicatorClass)}}onDragEnter(e){if(e.detail.owner instanceof Qj){if(this.column&&this.cms.column.grid.id!==this.column.grid.id)return void(this.cms.icon.innerText="block");this.isDropTarget&&this.cms.column!==this.column&&this.cms.column.level===this.column.level&&this.cms.column.parent===this.column.parent?((!this.column.pinned||this.column.pinned&&this.cms.column.pinned)&&(this.cms.icon.innerText="swap_horiz"),this.cms.icon.innerText="save_alt"):this.cms.icon.innerText="block",this.horizontalScroll&&(this.cms.icon.innerText="right"===e.target.id?"arrow_forward":"arrow_back",En(0,Pi).pipe(Nn(this._dragLeave)).subscribe((()=>{"right"===e.target.id?this.horizontalScroll.scrollPosition+=10:this.horizontalScroll.scrollPosition-=10})))}}onDragLeave(e){e.detail.owner instanceof Qj&&(this.cms.icon.innerText="block",this._dropIndicator&&this.renderer.removeClass(this._dropIndicator,this._dropIndicatorClass),this.horizontalScroll&&this._dragLeave.next(!0))}onDragDrop(e){e.preventDefault();let t=e.detail.owner;!this.cms.cancelDrop&&t instanceof Qj?this.column&&this.cms.column.grid.id!==this.column.grid.id||(this.horizontalScroll&&this._dragLeave.next(!0),this.isDropTarget&&(this.column.grid.moveColumn(this.cms.column,this.column,this._dropPos),this.cms.column=null,this.column.grid.cdr.detectChanges())):this.cms.cancelDrop=!1}static{this.ɵfac=function(t){return new(t||e)(lu(zl),lu(ru),lu(Il),lu(KH))}}static{this.ɵdir=rg({type:e,selectors:[["","igxColumnMovingDrop",""]],inputs:{data:[0,"igxColumnMovingDrop","data"]},features:[dg]})}}return e})(),XU=(e,t)=>({"igx-grid-th--pinned-last":e,"igx-grid-th--pinned-first":t}),QU=(e,t)=>({"grid-template-rows":e,"grid-template-columns":t}),JU=(e,t,i,n,r,s)=>({"igx-grid-th--pinned-last":e,"igx-grid-th--pinned-first":t,"igx-grid-th--collapsible":i,"igx-grid-th--selectable":n,"igx-grid-th--selected":r,"igx-grid-th--active":s}),eq=(e,t)=>({$implicit:e,column:t});function tq(e,t){1&e&&Hp(0,"span",2)}function iq(e,t){if(1&e&&(Hp(0,"igx-grid-header-group",5),Xm(1,"igxHeaderGroupStyle")),2&e){let e=om().$implicit,t=om(2);rp("ngClass",e.headerGroupClasses)("ngStyle",ef(1,3,e.headerGroupStyles,e,t.grid.pipeTrigger))("column",e)}}function nq(e,t){1&e&&bg(0,iq,2,7,"igx-grid-header-group",5),2&e&&Ip(t.$implicit.hidden?-1:0)}function rq(e,t){1&e&&Hp(0,"span",4)}function sq(e,t){if(1&e&&(bg(0,tq,1,0,"span",2),Lp(1,"div",3),Op(2,nq,1,1,null,null,Ap),Np(),bg(4,rq,1,0,"span",4)),2&e){let e=om();Ip(e.grid.moving?0:-1),Hc(),rp("ngClass",Lm(4,XU,e.hasLastPinnedChildColumn,e.hasFirstPinnedChildColumn))("ngStyle",Lm(7,QU,e.column.getGridTemplate(!0),e.column.getGridTemplate(!1))),Hc(),Pp(e.column.children),Hc(2),Ip(e.grid.moving?4:-1)}}function oq(e,t){if(1&e&&(Lp(0,"span",6),ym(1),Np()),2&e){let e=om();rp("title",e.title),Hc(),_m(e.column.header)}}function aq(e,t){1&e&&Hp(0,"igx-icon",7),2&e&&rp("name",om().column.expanded?"tree_collapse":"tree_expand")}function lq(e,t){1&e&&Hp(0,"span",2)}function dq(e,t){1&e&&$p(0)}function cq(e,t){if(1&e){let e=Kp();Lp(0,"div",12),rm("pointerdown",(function(t){return Ko(e),jo(om(2).onPointerDownIndicator(t))}))("click",(function(t){return Ko(e),jo(om(2).toggleExpandState(t))})),bg(1,dq,1,0,"ng-container",10),Np()}if(2&e){let e=om(2),t=vm(4);Hc(),rp("ngTemplateOutlet",e.column.collapsibleIndicatorTemplate?e.column.collapsibleIndicatorTemplate:t)("ngTemplateOutletContext",Lm(2,eq,e.column,e.column))}}function hq(e,t){1&e&&$p(0)}function uq(e,t){if(1&e&&(Hp(0,"igx-grid-header-group",5),Xm(1,"igxHeaderGroupWidth"),Xm(2,"igxHeaderGroupWidth"),Xm(3,"igxHeaderGroupStyle")),2&e){let e=om().$implicit,t=om(3);op("min-width",ef(1,7,e.resolvedWidth,t.grid.defaultHeaderGroupMinWidth,t.grid.hasColumnLayouts))("flex-basis",ef(2,11,e.resolvedWidth,t.grid.defaultHeaderGroupMinWidth,t.grid.hasColumnLayouts)),rp("ngClass",e.headerGroupClasses)("ngStyle",ef(3,15,e.headerGroupStyles,e,t.grid.pipeTrigger))("column",e)}}function gq(e,t){1&e&&bg(0,uq,4,19,"igx-grid-header-group",13),2&e&&Ip(t.$implicit.hidden?-1:0)}function pq(e,t){if(1&e&&(Lp(0,"div",11),Op(1,gq,1,1,null,null,Ap),Np()),2&e){let e=om(2);Hc(),Pp(e.column.children)}}function mq(e,t){1&e&&Hp(0,"span",4)}function fq(e,t){if(1&e){let e=Kp();bg(0,lq,1,0,"span",2),Lp(1,"div",8),rm("pointerdown",(function(t){return Ko(e),jo(om().pointerdown(t))}))("click",(function(t){return Ko(e),jo(om().groupClicked(t))}))("pointerenter",(function(){return Ko(e),jo(om().onPinterEnter())}))("pointerleave",(function(){return Ko(e),jo(om().onPointerLeave())})),bg(2,cq,2,5,"div",9)(3,hq,1,0,"ng-container",10),Np(),bg(4,pq,3,0,"div",11)(5,mq,1,0,"span",4)}if(2&e){let e=om(),t=vm(2);Ip(e.grid.moving?0:-1),Hc(),rp("ngClass",Bm(14,JU,e.hasLastPinnedChildColumn,e.hasFirstPinnedChildColumn,e.column.collapsible,e.selectable,e.selected,e.activeGroup))("igxColumnMovingDrag",e.column)("ghostHost",e.grid.outlet.nativeElement)("igxColumnMovingDrop",e.column),$g("aria-label",e.column.header||e.column.field)("aria-expanded",e.column.expanded)("aria-selected",e.column.selected)("droppable",!0),Hc(),Ip(e.column.collapsible?2:-1),Hc(),rp("ngTemplateOutlet",e.column.headerTemplate?e.column.headerTemplate:t)("ngTemplateOutletContext",Lm(21,eq,e.column,e.column)),Hc(),Ip("pivot"!==e.grid.type?4:-1),Hc(),Ip(e.grid.moving?5:-1)}}function vq(e,t){1&e&&Hp(0,"span",2)}function yq(e,t){1&e&&Hp(0,"igx-grid-filtering-cell",15),2&e&&(rp("column",om(2).column),$g("draggable",!1))}function xq(e,t){if(1&e&&Hp(0,"span",17),2&e){let e=om(2);op("cursor",e.colResizingService.resizeCursor),rp("igxResizeHandle",e.column),$g("draggable",!1)}}function _q(e,t){1&e&&Hp(0,"span",4)}function wq(e,t){if(1&e){let e=Kp();bg(0,vq,1,0,"span",2),Lp(1,"igx-grid-header",14),Xm(2,"igxHeaderGroupStyle"),rm("pointerdown",(function(){return Ko(e),jo(om().activate())})),Np(),bg(3,yq,1,2,"igx-grid-filtering-cell",15)(4,xq,1,4,"span",16)(5,_q,1,0,"span",4)}if(2&e){let e=om();Ip(e.grid.moving?0:-1),Hc(),rp("id",e.grid.id+"_"+e.column.field)("ngClass",e.column.headerClasses)("ngStyle",ef(2,12,e.column.headerStyles,e.column,e.grid.pipeTrigger))("igxColumnMovingDrag",e.column)("ghostHost",e.grid.outlet.nativeElement)("igxColumnMovingDrop",e.column)("column",e.column),$g("droppable",!0),Hc(2),Ip(e.grid.allowFiltering&&"quickFilter"===e.grid.filterMode?3:-1),Hc(),Ip(!e.column.columnGroup&&e.column.resizable?4:-1),Hc(),Ip(e.grid.moving?5:-1)}}var Cq=(()=>{class e{get rowEnd(){return this.column.rowEnd}get colEnd(){return this.column.colEnd}get rowStart(){return this.column.rowStart}get colStart(){return this.column.colStart}get headerID(){return`${this.grid.id}_-1_${this.column.level}_${this.column.visibleIndex}`}get active(){let e=this.grid.navigation.activeNode;return!(!e||this.column.columnGroup)&&-1===e.row&&e.column===this.column.visibleIndex&&e.level===this.column.level}get activeGroup(){let e=this.grid.navigation.activeNode;return!!e&&-1===e.row&&e.column===this.column.visibleIndex&&e.level===this.column.level}get width(){return this.grid.getHeaderGroupWidth(this.column)}constructor(e,t,i,n,r,s){this.cdr=e,this.grid=t,this.ref=i,this.colResizingService=n,this.filteringService=r,this.platform=s,this.defaultCss=!0}get pinnedCss(){return this.isPinned}get pinnedLastCss(){return this.isLastPinned}get pinnedFirstCSS(){return this.isFirstPinned}get headerDragCss(){return this.isHeaderDragged}get filteringCss(){return this.isFiltered}get zIndex(){return this.column.pinned?9999-this.grid.pinnedColumns.indexOf(this.column):null}get isFiltered(){return this.filteringService.filteredColumn===this.column}get isLastPinned(){return!this.grid.hasColumnLayouts&&this.column.isLastPinned}get isFirstPinned(){return!this.grid.hasColumnLayouts&&this.column.isFirstPinned}get groupDisplayStyle(){return this.grid.hasColumnLayouts&&this.column.children?"flex":""}get isPinned(){return this.column.pinned}get isHeaderDragged(){return this.grid.columnInDrag===this.column}get hasLastPinnedChildColumn(){return this.column.allChildren.some((e=>e.isLastPinned))}get hasFirstPinnedChildColumn(){return this.column.allChildren.some((e=>e.isFirstPinned))}get selectable(){let e=this.column.allChildren.filter((e=>!e.hidden&&e.selectable&&!e.columnGroup));return this.grid.columnSelection!==ab&&this.column.applySelectableClass&&!this.selected&&e.length>0&&!this.grid.filteringService.isFilterRowVisible}get selected(){return this.column.selected}get height(){return this.nativeElement.getBoundingClientRect().height}get title(){return this.column.title||this.column.header}get nativeElement(){return this.ref.nativeElement}onMouseDown(e){(!this.grid.allowFiltering||e.composedPath().findIndex((e=>"igx-grid-filtering-cell"===e.tagName?.toLowerCase()))<1)&&e.preventDefault()}groupClicked(e){let t=this.column.allChildren.filter((e=>!e.hidden&&e.selectable&&!e.columnGroup)).map((e=>e.field));if(this.grid.columnSelection!==ab&&t.length>0&&!this.grid.filteringService.isFilterRowVisible){let i=this.grid.columnSelection===lb||!e.ctrlKey,n=this.grid.columnSelection===db&&e.shiftKey;if(this.selected){let r=this.grid.selectionService.getSelectedColumns();r.length===t.length&&r.every((e=>t.includes(e)))||!i?this.grid.selectionService.deselectColumns(t,e):this.grid.selectionService.selectColumns(t,i,n,e)}else this.grid.selectionService.selectColumns(t,i,n,e)}}onPointerDownIndicator(e){e.stopPropagation()}toggleExpandState(e){e.stopPropagation(),this.column.expanded=!this.column.expanded}pointerdown(e){e.stopPropagation(),this.activate(),this.grid.theadRow.nativeElement.focus()}activate(){this.grid.navigation.setActiveNode(this.activeNode),this.grid.theadRow.nativeElement.focus()}ngDoCheck(){this.cdr.markForCheck()}onPinterEnter(){this.column.applySelectableClass=!0}onPointerLeave(){this.column.applySelectableClass=!1}get activeNode(){return{row:-1,column:this.column.visibleIndex,level:this.column.level,mchCache:{level:this.column.level,visibleIndex:this.column.visibleIndex},layout:this.column.columnLayoutChild?{rowStart:this.column.rowStart,colStart:this.column.colStart,rowEnd:this.column.rowEnd,colEnd:this.column.colEnd,columnVisibleIndex:this.column.visibleIndex}:null}}static{this.ɵfac=function(t){return new(t||e)(lu(Cf),lu(zF),lu(zl),lu(mU),lu(OU),lu(NC))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-grid-header-group"]],viewQuery:function(t,i){if(1&t&&(pm(AU,5),pm(qU,5),pm(e,5,e)),2&t){let e;mm(e=fm())&&(i.header=e.first),mm(e=fm())&&(i.filter=e.first),mm(e=fm())&&(i.children=e)}},hostVars:27,hostBindings:function(e,t){1&e&&rm("mousedown",(function(e){return t.onMouseDown(e)})),2&e&&($g("id",t.headerID),op("grid-row-end",t.rowEnd)("grid-column-end",t.colEnd)("grid-row-start",t.rowStart)("grid-column-start",t.colStart)("z-index",t.zIndex)("display",t.groupDisplayStyle),ap("igx-grid-th--active",t.active)("igx-grid-thead__item",t.defaultCss)("igx-grid-th--pinned",t.pinnedCss)("igx-grid-th--pinned-last",t.pinnedLastCss)("igx-grid-th--pinned-first",t.pinnedFirstCSS)("igx-grid__drag-col-header",t.headerDragCss)("igx-grid-th--filtering",t.filteringCss))},inputs:{column:"column"},decls:7,vars:3,consts:[["defaultColumn",""],["defaultCollapseIndicator",""],[1,"igx-grid-th__drop-indicator-left"],[1,"igx-grid-thead__group","igx-grid__mrl-block",3,"ngClass","ngStyle"],[1,"igx-grid-th__drop-indicator-right"],[1,"igx-grid-thead__subgroup",3,"ngClass","ngStyle","column"],[1,"igx-grid-th__group-title",3,"title"],["family","default",3,"name"],["role","columnheader",1,"igx-grid-thead__title",3,"pointerdown","click","pointerenter","pointerleave","ngClass","igxColumnMovingDrag","ghostHost","igxColumnMovingDrop"],[1,"igx-grid-th__expander"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"igx-grid-thead__group"],[1,"igx-grid-th__expander",3,"pointerdown","click"],[1,"igx-grid-thead__subgroup",3,"ngClass","ngStyle","column","min-width","flex-basis"],["role","columnheader",1,"igx-grid-th--fw",3,"pointerdown","id","ngClass","ngStyle","igxColumnMovingDrag","ghostHost","igxColumnMovingDrop","column"],[3,"column"],[1,"igx-grid-th__resize-handle",3,"igxResizeHandle","cursor"],[1,"igx-grid-th__resize-handle",3,"igxResizeHandle"]],template:function(e,t){1&e&&bg(0,sq,5,10)(1,oq,2,2,"ng-template",null,0,sf)(3,aq,1,1,"ng-template",null,1,sf)(5,fq,6,24)(6,wq,6,16),2&e&&(Ip(t.grid.hasColumnLayouts&&t.column.columnGroup?0:-1),Hc(5),Ip(!t.grid.hasColumnLayouts&&t.column.columnGroup?5:-1),Hc(),Ip(t.column.columnGroup?-1:6))},dependencies:[e,jv,Uv,Qj,ZU,DA,qv,AU,qU,YU,gU,pU],encapsulation:2,changeDetection:0})}}return e})(),Sq=["defaultFilterUI"],bq=["defaultDateUI"],Dq=["defaultTimeUI"],Eq=["defaultDateTimeUI"],Tq=["input"],Iq=["inputGroupConditions"],Rq=["chipsArea"],Aq=["inputGroup"],kq=["picker"],Oq=["inputGroupPrefix"],Fq=["container"],Pq=["operand"],Vq=["closeButton"],Mq=["operators"],Lq=e=>({$implicit:e}),Nq=(e,t)=>t.expression;function Hq(e,t){if(1&e&&(Lp(0,"igx-drop-down-item",16)(1,"div",23),Hp(2,"igx-icon",24),Lp(3,"span",25),ym(4),Np()()()),2&e){let e=t.$implicit,i=om();rp("value",e)("selected",i.isConditionSelected(e)),Hc(2),rp("name",i.getCondition(e).iconName),Hc(2),_m(i.translateCondition(e))}}function zq(e,t){if(1&e){let e=Kp();Lp(0,"igx-suffix")(1,"igx-icon",29),rm("keydown",(function(t){return Ko(e),jo(om(2).onCommitKeyDown(t))}))("click",(function(){return Ko(e),jo(om(2).onCommitClick())})),Np(),Lp(2,"igx-icon",30),rm("keydown",(function(t){return Ko(e),jo(om(2).onClearKeyDown(t))}))("click",(function(){return Ko(e),jo(om(2).onClearClick())})),Np()()}}function Bq(e,t){if(1&e){let e=Kp();Lp(0,"igx-input-group",26,8),rm("focusout",(function(){return Ko(e),jo(om().onInputGroupFocusout())})),Lp(2,"igx-prefix",27,9),rm("click",(function(t){return Ko(e),jo(om().inputGroupPrefixClick(t))}))("keydown",(function(t){return Ko(e),jo(om().onPrefixKeyDown(t))})),Hp(4,"igx-icon",24),Np(),Lp(5,"input",28,10),rm("input",(function(t){return Ko(e),jo(om().onInput(t))}))("click",(function(){return Ko(e),jo(om().onInputClick())}))("compositionstart",(function(){return Ko(e),jo(om().onCompositionStart())}))("compositionend",(function(){return Ko(e),jo(om().onCompositionEnd())}))("keydown",(function(t){return Ko(e),jo(om().onInputKeyDown(t))}))("keyup",(function(){return Ko(e),jo(om().onInputKeyUp())})),Np(),bg(7,zq,3,0,"igx-suffix"),Np()}if(2&e){let e=om(),t=vm(1);op("--ig-size",e.filteringElementsSize),Hc(2),rp("igxDropDownItemNavigation",t),Hc(2),rp("name",e.getIconName()),Hc(),rp("placeholder",e.placeholder)("value",e.value)("type",e.type)("readonly",e.isUnaryCondition),Hc(2),Ip(e.value||0===e.value?7:-1)}}function Gq(e,t){if(1&e){let e=Kp();Lp(0,"igx-suffix")(1,"igx-icon",29),rm("keydown",(function(t){return Ko(e),jo(om(2).onCommitKeyDown(t))}))("click",(function(t){return Ko(e),jo(om(2).onCommitClick(t))})),Np(),Lp(2,"igx-icon",30),rm("keydown",(function(t){return Ko(e),jo(om(2).onClearKeyDown(t))}))("click",(function(t){return Ko(e),jo(om(2).clearInput(t))})),Np()()}}function $q(e,t){if(1&e){let e=Kp();Lp(0,"igx-date-picker",31,11),Em("valueChange",(function(t){Ko(e);let i=om();return Dm(i.value,t)||(i.value=t),jo(t)})),rm("click",(function(){Ko(e);let t=vm(1);return jo(om().expression.condition.isUnary?null:t.open())}))("keydown",(function(t){return Ko(e),jo(om().onInputKeyDown(t))}))("focusout",(function(){return Ko(e),jo(om().onInputGroupFocusout())}))("closed",(function(){return Ko(e),jo(om().focusEditElement())})),Lp(2,"igx-prefix",27,9),rm("click",(function(t){return Ko(e),jo(om().inputGroupPrefixClick(t))}))("keydown",(function(t){return Ko(e),jo(om().onPrefixKeyDown(t))})),Hp(4,"igx-icon",24),Np(),bg(5,Gq,3,0,"igx-suffix"),Hp(6,"igx-picker-toggle")(7,"igx-picker-clear"),Np()}if(2&e){let e=om(),t=vm(1);bm("value",e.value),rp("readOnly",!0)("outlet",e.filteringService.grid.outlet)("locale",e.filteringService.grid.locale)("displayFormat",e.column.pipeArgs.format)("formatter",e.column.formatter)("placeholder",e.placeholder)("weekStart",e.column.pipeArgs.weekStart),Hc(2),rp("igxDropDownItemNavigation",t),Hc(2),rp("name",e.expression.condition.iconName),Hc(),Ip(e.value?5:-1)}}function Wq(e,t){if(1&e){let e=Kp();Lp(0,"igx-suffix")(1,"igx-icon",29),rm("keydown",(function(t){return Ko(e),jo(om(2).onCommitKeyDown(t))}))("click",(function(t){return Ko(e),jo(om(2).onCommitClick(t))})),Np(),Lp(2,"igx-icon",30),rm("keydown",(function(t){return Ko(e),jo(om(2).onClearKeyDown(t))}))("click",(function(t){return Ko(e),jo(om(2).clearInput(t))})),Np()()}}function Kq(e,t){if(1&e){let e=Kp();Lp(0,"igx-time-picker",32,11),Em("valueChange",(function(t){Ko(e);let i=om();return Dm(i.value,t)||(i.value=t),jo(t)})),rm("closed",(function(){return Ko(e),jo(om().focusEditElement())}))("focusout",(function(){return Ko(e),jo(om().onInputGroupFocusout())}))("keydown",(function(t){return Ko(e),jo(om().onInputKeyDown(t))}))("click",(function(){Ko(e);let t=vm(1);return jo(om().expression.condition.isUnary?null:t.open())})),Lp(2,"igx-prefix",27,9),rm("click",(function(t){return Ko(e),jo(om().inputGroupPrefixClick(t))}))("keydown",(function(t){return Ko(e),jo(om().onPrefixKeyDown(t))})),Hp(4,"igx-icon",24),Np(),bg(5,Wq,3,0,"igx-suffix"),Hp(6,"igx-picker-toggle")(7,"igx-picker-clear"),Np()}if(2&e){let e=om(),t=vm(1);op("--ig-size",e.filteringElementsSize),bm("value",e.value),rp("inputFormat",null==e.column.editorOptions?null:e.column.editorOptions.dateTimeFormat)("displayFormat",e.column.pipeArgs.format)("locale",e.filteringService.grid.locale)("formatter",e.column.formatter)("outlet",e.filteringService.grid.outlet)("readOnly",!0)("placeholder",e.placeholder),Hc(2),rp("igxDropDownItemNavigation",t),Hc(2),rp("name",e.expression.condition.iconName),Hc(),Ip(e.value?5:-1)}}function jq(e,t){if(1&e){let e=Kp();Lp(0,"igx-suffix")(1,"igx-icon",29),rm("keydown",(function(t){return Ko(e),jo(om(2).onCommitKeyDown(t))}))("click",(function(){return Ko(e),jo(om(2).onCommitClick())})),Np(),Lp(2,"igx-icon",30),rm("keydown",(function(t){return Ko(e),jo(om(2).onClearKeyDown(t))}))("click",(function(){return Ko(e),jo(om(2).onClearClick())})),Np()()}}function Uq(e,t){if(1&e){let e=Kp();Lp(0,"igx-input-group",26,8),rm("focusout",(function(){return Ko(e),jo(om().onInputGroupFocusout())})),Lp(2,"igx-prefix",27,9),rm("click",(function(t){return Ko(e),jo(om().inputGroupPrefixClick(t))}))("keydown",(function(t){return Ko(e),jo(om().onPrefixKeyDown(t))})),Hp(4,"igx-icon",24),Np(),Lp(5,"input",33,10),rm("valueChange",(function(t){return Ko(e),jo(om().onInput(t))}))("click",(function(){return Ko(e),jo(om().onInputClick())}))("keydown",(function(t){return Ko(e),jo(om().onInputKeyDown(t))}))("keyup",(function(){return Ko(e),jo(om().onInputKeyUp())})),Np(),bg(7,jq,3,0,"igx-suffix"),Np()}if(2&e){let e=om(),t=vm(1);op("--ig-size",e.filteringElementsSize),Hc(2),rp("igxDropDownItemNavigation",t),Hc(2),rp("name",e.getIconName()),Hc(),rp("placeholder",e.placeholder)("locale",e.filteringService.grid.locale)("displayFormat",e.column.pipeArgs.format)("igxDateTimeEditor",null==e.column.editorOptions?null:e.column.editorOptions.dateTimeFormat)("value",e.value)("readonly",e.isUnaryCondition),Hc(2),Ip(e.value||0===e.value?7:-1)}}function qq(e,t){1&e&&$p(0)}function Yq(e,t){if(1&e){let e=Kp();Lp(0,"button",34),rm("keydown",(function(t){return Ko(e),jo(om().onLeftArrowKeyDown(t))}))("click",(function(){return Ko(e),jo(om().scrollChipsOnArrowPress("left"))})),Hp(1,"igx-icon",35),Np()}}function Zq(e,t){if(1&e){let e=Kp();Lp(0,"span",38)(1,"button",39),rm("click",(function(t){Ko(e);let i=om().$index;return jo(om().toggleOperatorsDropDown(t,i))})),Hp(2,"igx-icon",40),Lp(3,"span"),ym(4),Np()(),Lp(5,"igx-drop-down",41,13),rm("selectionChanging",(function(t){Ko(e);let i=om().$implicit;return jo(om().onLogicOperatorChanged(t,i))})),Lp(7,"igx-drop-down-item",16),ym(8),Np(),Lp(9,"igx-drop-down-item",16),ym(10),Np()()()}if(2&e){let e=vm(6),t=om().$implicit,i=om();Hc(),op("--ig-size",i.filteringElementsSize),rp("igxDropDownItemNavigation",e),Hc(3),_m(i.filteringService.getOperatorAsString(t.afterOperator)),Hc(3),rp("value",0)("selected",0===t.afterOperator),Hc(),_m(i.filteringService.grid.resourceStrings.igx_grid_filter_operator_and),Hc(),rp("value",1)("selected",1===t.afterOperator),Hc(),_m(i.filteringService.grid.resourceStrings.igx_grid_filter_operator_or)}}function Xq(e,t){if(1&e){let e=Kp();Bp(0,20),Lp(1,"igx-chip",36,12),rm("pointerdown",(function(t){Ko(e);let i=vm(2);return jo(om().onChipPointerdown(t,i))}))("click",(function(t){let i=Ko(e).$implicit;return jo(om().onChipClick(t,i))}))("keydown",(function(t){let i=Ko(e).$implicit;return jo(om().onChipKeyDown(t,i))}))("remove",(function(t){let i=Ko(e).$implicit;return jo(om().onChipRemoved(t,i))})),Hp(3,"igx-icon",37),Lp(4,"span"),ym(5),Np()(),bg(6,Zq,11,10,"span",38),Gp()}if(2&e){let e=t.$implicit,i=t.$index,n=t.$count,r=om();Hc(),op("--ig-size",r.filteringElementsSize),rp("selectable",!1)("selected",e.isSelected)("removable",!0),Hc(2),rp("name",e.expression.condition.iconName),Hc(2),_m(r.filteringService.getChipLabel(e.expression)),Hc(),Ip(i!==n-1?6:-1)}}function Qq(e,t){if(1&e){let e=Kp();Lp(0,"button",42),rm("click",(function(){return Ko(e),jo(om().scrollChipsOnArrowPress("right"))})),Hp(1,"igx-icon",43),Np()}}function Jq(e,t){if(1&e){let e=Kp();Lp(0,"button",44),rm("click",(function(){return Ko(e),jo(om().clearFiltering())})),Hp(1,"igx-icon",45),Lp(2,"span"),ym(3),Np()(),Lp(4,"button",46,14),rm("click",(function(){return Ko(e),jo(om().close())})),Hp(6,"igx-icon",47),Lp(7,"span"),ym(8),Np()()}if(2&e){let e=om();op("--ig-size",e.filteringElementsSize),rp("disabled",e.disabled)("tabindex",e.disabled),Hc(3),_m(e.filteringService.grid.resourceStrings.igx_grid_filter_row_reset),Hc(),op("--ig-size",e.filteringElementsSize),Hc(4),_m(e.filteringService.grid.resourceStrings.igx_grid_filter_row_close)}}function eY(e,t){if(1&e){let e=Kp();Lp(0,"button",48),rm("click",(function(){return Ko(e),jo(om().clearFiltering())})),Hp(1,"igx-icon",45),Np(),Lp(2,"button",49,14),rm("click",(function(){return Ko(e),jo(om().close())})),Hp(4,"igx-icon",47),Np()}if(2&e){let e=om();op("--ig-size",e.filteringElementsSize),rp("disabled",e.disabled)("tabindex",e.disabled),Hc(2),op("--ig-size",e.filteringElementsSize)}}var tY=(()=>{class e{get column(){return this._column}set column(e){this._column&&this.expressionsList.forEach((e=>e.isSelected=!1)),e&&(this._column=e,this.expressionsList=this.filteringService.getExpressions(this._column.field),this.resetExpression(),this.chipAreaScrollOffset=0,this.transform(this.chipAreaScrollOffset))}get value(){return this._value}set value(e){if(e||0===e||!this.expression.searchVal&&0!==this.expression.searchVal){if(""===e)return;let t=this.expression.searchVal;if(LC(t,e))return;this._value=e,this.expression.searchVal=DS.parseValue(this.column.dataType,e),void 0===this.expressionsList.find((e=>e.expression===this.expression))&&this.addExpression(!0),this.filter()}else this.expression.searchVal=null,this._value=null,0===this.expressionsList.findIndex((e=>e.expression===this.expression))&&1===this.expressionsList.length&&!this.expression.condition.isUnary&&this.filteringService.clearFilter(this.column.field)}get filteringElementsSize(){return this.column.grid.gridSize===yb?vb:this.column.grid.gridSize}get nativeElement(){return this.ref.nativeElement}constructor(e,t,i,n){this.filteringService=e,this.ref=t,this.cdr=i,this.platform=n,this.defaultCSSClass=!0,this._positionSettings={horizontalStartPoint:SI.Left,verticalStartPoint:bI.Bottom},this._conditionsOverlaySettings={closeOnOutsideClick:!0,modal:!1,scrollStrategy:new BI,positionStrategy:new kI(this._positionSettings)},this._operatorsOverlaySettings={closeOnOutsideClick:!0,modal:!1,scrollStrategy:new BI,positionStrategy:new kI(this._positionSettings)},this.chipAreaScrollOffset=0,this._column=null,this.isKeyPressed=!1,this.isComposing=!1,this._cancelChipClick=!1,this._value=null,this.NARROW_WIDTH_THRESHOLD=432,this.$destroyer=new Ci}onKeydownHandler(e){this.platform.isFilteringKeyCombo(e)&&(e.preventDefault(),e.stopPropagation(),this.close())}ngAfterViewInit(){this._conditionsOverlaySettings.outlet=this.column.grid.outlet,this._operatorsOverlaySettings.outlet=this.column.grid.outlet;let e=this.expressionsList.find((e=>!0===e.isSelected));e&&(this.expression=e.expression,this._value=this.expression.searchVal),this.filteringService.grid.localeChange.pipe(Nn(this.$destroyer)).subscribe((()=>{this.cdr.markForCheck()})),requestAnimationFrame((()=>this.focusEditElement()))}get disabled(){return!(this.column.filteringExpressionsTree&&this.column.filteringExpressionsTree.filteringOperands.length>0)}get template(){return this.column.dataType===bS.Date?this.defaultDateUI:this.column.dataType===bS.Time?this.defaultTimeUI:this.column.dataType===bS.DateTime?this.defaultDateTimeUI:this.defaultFilterUI}get type(){switch(this.column.dataType){case bS.String:case bS.Boolean:return"text";case bS.Number:case bS.Currency:return"number"}}get conditions(){return this.column.filters.conditionList()}get isUnaryCondition(){return!this.expression.condition||this.expression.condition.isUnary}get placeholder(){return this.expression.condition&&this.expression.condition.isUnary?this.filteringService.getChipLabel(this.expression):this.column.dataType===bS.Date?this.filteringService.grid.resourceStrings.igx_grid_filter_row_date_placeholder:this.column.dataType===bS.Boolean?this.filteringService.grid.resourceStrings.igx_grid_filter_row_boolean_placeholder:this.filteringService.grid.resourceStrings.igx_grid_filter_row_placeholder}onPrefixKeyDown(e){this.platform.isActivationKey(e)&&this.dropDownConditions.collapsed?(this.toggleConditionsDropDown(this.inputGroupPrefix.nativeElement),e.stopImmediatePropagation()):e.key===this.platform.KEYMAP.TAB&&!this.dropDownConditions.collapsed&&this.toggleConditionsDropDown(this.inputGroupPrefix.nativeElement)}onInputKeyDown(e){if(this.isKeyPressed=!0,e.stopPropagation(),this.column.dataType===bS.Boolean&&this.platform.isActivationKey(e))return this.inputGroupPrefix.nativeElement.focus(),void this.toggleConditionsDropDown(this.inputGroupPrefix.nativeElement);if(e.key===this.platform.KEYMAP.ENTER){if(this.isComposing)return;this.commitInput()}else e.altKey&&e.key===this.platform.KEYMAP.ARROW_DOWN?(this.inputGroupPrefix.nativeElement.focus(),this.toggleConditionsDropDown(this.inputGroupPrefix.nativeElement)):this.platform.isFilteringKeyCombo(e)&&(e.preventDefault(),this.close())}onInputKeyUp(){this.isKeyPressed=!1}onInput(e){if(!e)return;let t=e.target;this.column.dataType!==bS.DateTime?(this.platform.isEdge&&"number"!==t.type||this.isKeyPressed||t.value||t.checkValidity())&&(this.value=t.value):this.value=e}onCompositionStart(){this.isComposing=!0}onCompositionEnd(){this.isComposing=!1}onInputClick(){this.column.dataType===bS.Boolean&&this.dropDownConditions.collapsed&&(this.inputGroupPrefix.nativeElement.focus(),this.toggleConditionsDropDown(this.inputGroupPrefix.nativeElement))}getCondition(e){return this.column.filters.condition(e)}translateCondition(e){return this.filteringService.grid.resourceStrings[`igx_grid_filter_${this.getCondition(e).name}`]||e}getIconName(){return this.column.dataType===bS.Boolean&&null===this.expression.condition?this.getCondition(this.conditions[0]).iconName:this.expression.condition.iconName}isConditionSelected(e){return!!this.expression.condition&&this.expression.condition.name===e}clearFiltering(){this.filteringService.clearFilter(this.column.field),this.resetExpression(),this.input&&this.input.nativeElement.focus(),this.cdr.detectChanges(),this.chipAreaScrollOffset=0,this.transform(this.chipAreaScrollOffset)}commitInput(){this.expressionsList.filter((e=>!0===e.isSelected)).forEach((e=>e.isSelected=!1));let e=-1;for(let t=0;t<this.expressionsList.length;t++){let i=this.expressionsList[t].expression;null===i.searchVal&&!i.condition.isUnary&&(e=t)}-1!==e&&this.removeExpression(e,this.expression),this.resetExpression(),this._value=this.expression.searchVal,this.scrollChipsWhenAddingExpression()}clearInput(e){e?.stopPropagation(),this.value=null}onClearKeyDown(e){this.platform.isActivationKey(e)&&(e.preventDefault(),this.clearInput(),this.focusEditElement())}onClearClick(){this.clearInput(),this.focusEditElement()}onCommitKeyDown(e){this.platform.isActivationKey(e)&&(e.preventDefault(),this.commitInput(),this.focusEditElement())}onCommitClick(e){e?.stopPropagation(),this.commitInput(),this.focusEditElement()}onInputGroupFocusout(){!this.value&&0!==this.value&&this.expression.condition&&!this.expression.condition.isUnary||requestAnimationFrame((()=>{let e=this.column?.grid.document.activeElement;e.classList.contains("igx-chip__remove")||(!e||!this.editorFocused(e))&&this.dropDownConditions.collapsed&&this.commitInput()}))}close(){if(1===this.expressionsList.length&&null===this.expressionsList[0].expression.searchVal&&!1===this.expressionsList[0].expression.condition.isUnary)this.filteringService.getExpressions(this.column.field).pop(),this.filter();else{let e=this.expressionsList.filter((e=>null===e.expression.searchVal&&!e.expression.condition.isUnary));e&&e.length>0&&(e.forEach((e=>this.filteringService.removeExpression(this.column.field,this.expressionsList.indexOf(e)))),this.filter())}this.filteringService.isFilterRowVisible=!1,this.filteringService.updateFilteringCell(this.column),this.filteringService.filteredColumn=null,this.filteringService.selectedExpression=null,this.filteringService.grid.theadRow.nativeElement.focus(),this.chipAreaScrollOffset=0,this.transform(this.chipAreaScrollOffset)}onDateSelected(e){this.value=e}inputGroupPrefixClick(e){e.stopPropagation(),e.currentTarget.focus(),this.toggleConditionsDropDown(e.currentTarget)}toggleConditionsDropDown(e){this._conditionsOverlaySettings.target=e,this._conditionsOverlaySettings.excludeFromOutsideClick=[e],this.dropDownConditions.toggle(this._conditionsOverlaySettings)}toggleOperatorsDropDown(e,t){this._operatorsOverlaySettings.target=e.target.parentElement,this._operatorsOverlaySettings.excludeFromOutsideClick=[e.target.parentElement],this.dropDownOperators.toArray()[t].toggle(this._operatorsOverlaySettings)}onConditionsChanged(e){let t=e.newSelection.value;this.expression.condition=this.getCondition(t),this.expression.condition.isUnary?requestAnimationFrame((()=>this.unaryConditionChangedCallback())):requestAnimationFrame((()=>this.conditionChangedCallback())),requestAnimationFrame((()=>this.focusEditElement()))}onChipPointerdown(e,t){let i=this.column?.grid.document.activeElement;this._cancelChipClick=t.selected&&i&&this.editorFocused(i)}onChipClick(e,t){this._cancelChipClick?this._cancelChipClick=!1:(this.expressionsList.forEach((e=>e.isSelected=!1)),this.toggleChip(t))}toggleChip(e){e.isSelected=!e.isSelected,e.isSelected&&(this.expression=e.expression,this._value=this.expression.searchVal,this.focusEditElement())}onChipKeyDown(e,t){e.key===this.platform.KEYMAP.ENTER&&(e.preventDefault(),this.toggleChip(t))}onLeftArrowKeyDown(e){e.key===this.platform.KEYMAP.TAB&&(this.chipAreaScrollOffset=0,this.transform(this.chipAreaScrollOffset))}onChipRemoved(e,t){let i=this.expressionsList.indexOf(t);this.removeExpression(i,t.expression),this.scrollChipsOnRemove()}onLogicOperatorChanged(e,t){e.oldSelection&&(t.afterOperator=e.newSelection.value,this.expressionsList[this.expressionsList.indexOf(t)+1].beforeOperator=t.afterOperator,requestAnimationFrame((()=>this.filter())))}scrollChipsOnArrowPress(e){let t=0,i=this.chipsArea.element.nativeElement.children,n=this.container.nativeElement.getBoundingClientRect();if("right"===e){for(let e of i)Math.ceil(e.getBoundingClientRect().right)<Math.ceil(n.right)&&t++;t<i.length&&(this.chipAreaScrollOffset-=Math.ceil(i[t].getBoundingClientRect().right)-Math.ceil(n.right)+1,this.transform(this.chipAreaScrollOffset))}if("left"===e){for(let e of i)Math.ceil(e.getBoundingClientRect().left)<Math.ceil(n.left)&&t++;t>0&&(this.chipAreaScrollOffset+=Math.ceil(n.left)-Math.ceil(i[t-1].getBoundingClientRect().left)+1,this.transform(this.chipAreaScrollOffset))}}resetChipsArea(){this.chipAreaScrollOffset=0,this.transform(this.chipAreaScrollOffset),this.showHideArrowButtons()}focusEditElement(){this.input?this.input.nativeElement.focus():this.picker&&this.picker.getEditElement().focus()}ngOnDestroy(){this.$destroyer.next()}showHideArrowButtons(){requestAnimationFrame((()=>{if(this.filteringService.isFilterRowVisible){let e=this.container.nativeElement.getBoundingClientRect().width;this.chipsAreaWidth=this.chipsArea.element.nativeElement.getBoundingClientRect().width,this.showArrows=this.chipsAreaWidth>=e&&this.isColumnFiltered,this.cdr.destroyed||this.cdr.detectChanges()}}))}addExpression(e){let t=new C$;t.expression=this.expression,t.beforeOperator=this.expressionsList.length>0?qS.And:null,t.isSelected=e,this.expressionsList.push(t);let i=this.expressionsList.length;this.expressionsList[i-2]&&(this.expressionsList[i-2].afterOperator=this.expressionsList[i-1].beforeOperator),this.showHideArrowButtons()}removeExpression(e,t){0!==e||1!==this.expressionsList.length?(this.filteringService.removeExpression(this.column.field,e),this.filter(),this.expression===t&&this.resetExpression(),this.showHideArrowButtons()):this.clearFiltering()}resetExpression(e){this.expression={fieldName:this.column.field,condition:null,conditionName:null,searchVal:null,ignoreCase:this.column.filteringIgnoreCase},this.column.dataType!==bS.Boolean&&(this.expression.condition=this.getCondition(e??this.conditions[0])),this.column.dataType===bS.Date&&this.input&&(this.input.nativeElement.value=null),this.showHideArrowButtons()}scrollChipsWhenAddingExpression(){let e=this.chipsArea.element.nativeElement.children;if(!e||0===e.length)return;let t=this.container.nativeElement.offsetWidth,i=this.chipsArea.element.nativeElement.offsetWidth;i>t&&(this.chipAreaScrollOffset=t-i,this.transform(this.chipAreaScrollOffset))}transform(e){requestAnimationFrame((()=>{this.chipsArea.element.nativeElement.style.transform=`translate(${e}px)`}))}scrollChipsOnRemove(){let e=0,t=this.chipsArea.element.nativeElement.children,i=this.container.nativeElement.getBoundingClientRect();for(let n of t)Math.ceil(n.getBoundingClientRect().right)<Math.ceil(i.left)&&e++;if(e<=2)this.chipAreaScrollOffset=0;else{let n="chip"===t[e].id?e-2:e-1;this.chipAreaScrollOffset+=Math.ceil(i.left)-Math.ceil(t[n].getBoundingClientRect().left)+1}this.transform(this.chipAreaScrollOffset)}conditionChangedCallback(){this.expression.searchVal||0===this.expression.searchVal?this.filter():this.value&&(this.value=null)}unaryConditionChangedCallback(){this.value&&(this.value=null),void 0===this.expressionsList.find((e=>e.expression===this.expression))&&this.addExpression(!0),this.filter()}filter(){this.filteringService.filterInternal(this.column.field)}editorFocused(e){return!!(this.inputGroup&&this.inputGroup.nativeElement.contains(e)||this.picker&&this.picker.isFocused)}get isColumnFiltered(){return this.column.filteringExpressionsTree&&this.column.filteringExpressionsTree.filteringOperands.length>0}get isNarrowWidth(){return this.nativeElement.offsetWidth<this.NARROW_WIDTH_THRESHOLD}static{this.ɵfac=function(t){return new(t||e)(lu(OU),lu(zl),lu(Cf),lu(NC))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-grid-filtering-row"]],viewQuery:function(e,t){if(1&e&&(pm(Sq,7,jh),pm(bq,7,jh),pm(Dq,7,jh),pm(Eq,7,jh),pm(Tq,5,zl),pm(Iq,7,yF),pm(Rq,7,IL),pm(Aq,5,zl),pm(kq,5),pm(Oq,5,zl),pm(Fq,7),pm(Pq,5),pm(Vq,7),pm(Mq,5,yF)),2&e){let e;mm(e=fm())&&(t.defaultFilterUI=e.first),mm(e=fm())&&(t.defaultDateUI=e.first),mm(e=fm())&&(t.defaultTimeUI=e.first),mm(e=fm())&&(t.defaultDateTimeUI=e.first),mm(e=fm())&&(t.input=e.first),mm(e=fm())&&(t.dropDownConditions=e.first),mm(e=fm())&&(t.chipsArea=e.first),mm(e=fm())&&(t.inputGroup=e.first),mm(e=fm())&&(t.picker=e.first),mm(e=fm())&&(t.inputGroupPrefix=e.first),mm(e=fm())&&(t.container=e.first),mm(e=fm())&&(t.operand=e.first),mm(e=fm())&&(t.closeButton=e.first),mm(e=fm())&&(t.dropDownOperators=e)}},hostVars:2,hostBindings:function(e,t){1&e&&rm("keydown",(function(e){return t.onKeydownHandler(e)})),2&e&&ap("igx-grid__filtering-row",t.defaultCSSClass)},inputs:{column:"column",value:"value"},decls:26,vars:12,consts:[["inputGroupConditions",""],["defaultFilterUI",""],["defaultDateUI",""],["defaultTimeUI",""],["defaultDateTimeUI",""],["container",""],["chipsArea",""],["buttonsContainer",""],["inputGroup",""],["inputGroupPrefix",""],["input",""],["picker",""],["chip",""],["operators",""],["closeButton",""],[3,"selectionChanging","height"],[3,"value","selected"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["igxIconButton","flat","type","button",1,"igx-grid__filtering-row-scroll-start"],[1,"igx-grid__filtering-row-main"],["tabindex","0"],["igxIconButton","flat","type","button",1,"igx-grid__filtering-row-scroll-end"],[3,"ngClass"],[1,"igx-grid__filtering-dropdown-items"],["family","default",3,"name"],[1,"igx-grid__filtering-dropdown-text"],["type","box",3,"focusout"],["tabindex","0",3,"click","keydown","igxDropDownItemNavigation"],["igxInput","","tabindex","0","autocomplete","off",3,"input","click","compositionstart","compositionend","keydown","keyup","placeholder","value","type","readonly"],["tabindex","0","family","default","name","confirm",3,"keydown","click"],["tabindex","0","family","default","name","input_clear",3,"keydown","click"],["type","box",3,"valueChange","click","keydown","focusout","closed","value","readOnly","outlet","locale","displayFormat","formatter","placeholder","weekStart"],["type","box",3,"valueChange","closed","focusout","keydown","click","value","inputFormat","displayFormat","locale","formatter","outlet","readOnly","placeholder"],["igxInput","","tabindex","0","defaultFormatType","dateTime",3,"valueChange","click","keydown","keyup","placeholder","locale","displayFormat","igxDateTimeEditor","value","readonly"],["igxIconButton","flat","type","button",1,"igx-grid__filtering-row-scroll-start",3,"keydown","click"],["family","default","name","prev"],["id","chip",3,"pointerdown","click","keydown","remove","selectable","selected","removable"],["igxPrefix","","family","default",3,"name"],["id","operand"],["igxButton","","type","button",3,"click","igxDropDownItemNavigation"],["family","default","name","expand_more"],[3,"selectionChanging"],["igxIconButton","flat","type","button",1,"igx-grid__filtering-row-scroll-end",3,"click"],["family","default","name","next"],["igxButton","flat","type","button","igxRipple","",3,"click","disabled","tabindex"],["family","default","name","refresh"],["igxButton","flat","type","button","igxRipple","",3,"click"],["family","default","name","close"],["igxIconButton","flat","type","button","igxRipple","",3,"click","disabled","tabindex"],["igxIconButton","flat","type","button","igxRipple","",3,"click"]],template:function(e,t){if(1&e){let e=Kp();Lp(0,"igx-drop-down",15,0),rm("selectionChanging",(function(i){return Ko(e),jo(t.onConditionsChanged(i))})),Op(2,Hq,5,4,"igx-drop-down-item",16,Ap),Np(),bg(4,Bq,8,9,"ng-template",null,1,sf)(6,$q,8,11,"ng-template",null,2,sf)(8,Kq,8,13,"ng-template",null,3,sf)(10,Uq,8,11,"ng-template",null,4,sf)(12,qq,1,0,"ng-container",17)(13,Yq,2,0,"button",18),Lp(14,"div",19,5)(16,"div")(17,"igx-chips-area",null,6),Op(19,Xq,7,8,"ng-container",20,Nq),Np()()(),bg(21,Qq,2,0,"button",21),Lp(22,"div",22,7),bg(24,Jq,9,8)(25,eY,5,6),Np()}2&e&&(op("--ig-size",t.filteringElementsSize),rp("height","200px"),Hc(2),Pp(t.conditions),Hc(10),rp("ngTemplateOutlet",t.template)("ngTemplateOutletContext",Mm(10,Lq,t)),Hc(),Ip(t.showArrows?13:-1),Hc(6),Pp(t.expressionsList),Hc(2),Ip(t.showArrows?21:-1),Hc(),rp("ngClass",t.isNarrowWidth?"igx-grid__filtering-row-editing-buttons--small":"igx-grid__filtering-row-editing-buttons"),Hc(2),Ip(t.isNarrowWidth?-1:24),Hc(),Ip(t.isNarrowWidth?25:-1))},dependencies:[yF,uF,IL,EL,DA,Ek,dR,eR,oR,cR,cH,BN,GN,oB,AO,qv,mR,jv,hO,rO],encapsulation:2,changeDetection:0})}}return e})(),iY=class{get viewIndex(){return this.index+this.grid.page*this.grid.perPage}get key(){let e=this._data??this.grid.dataView[this.index],t=this.grid.primaryKey;return t?e[t]:e}get addRowUI(){return!!this.grid.crudService.row&&this.grid.crudService.row.isAddRow&&this.grid.crudService.row.id===this.key}get validation(){let e=this.grid.validation.getFormGroup(this.key);return{status:e?.status||"VALID",errors:e?.errors}}get data(){return this.inEditMode?wC(this.grid.dataCloneStrategy.clone(this._data??this.grid.dataView[this.index]),this.grid.transactions.getAggregatedValue(this.key,!1),((e,t)=>{if(Array.isArray(t))return t})):this._data??this.grid.dataView[this.index]}get inEditMode(){if(this.grid.rowEditable){let e=this.grid.crudService.row;return e&&e.id===this.key||!1}return!1}get pinned(){return this.grid.isRecordPinned(this.data)}set pinned(e){e?this.pin():this.unpin()}get expanded(){return this.grid.gridAPI.get_row_expansion_state(this.data)}set expanded(e){this.grid.gridAPI.set_row_expansion_state(this.key,e)}get selected(){return this.grid.selectionService.isRowSelected(this.key)}set selected(e){e?this.grid.selectionService.selectRowsWithNoEvent([this.key]):this.grid.selectionService.deselectRowsWithNoEvent([this.key]),this.grid.cdr.markForCheck()}get deleted(){return this.grid.gridAPI.row_deleted_transaction(this.key)}get hasChildren(){return!1}get disabled(){return this.grid.isGhostRecord(this.data)}get cells(){let e=[];return this.grid.columns.forEach((t=>{let i=new jH(this.grid,this.index,t);e.push(i)})),e}pin(){return this.grid.pinRow(this.key,this.index)}unpin(){return this.grid.unpinRow(this.key)}update(e){let t=this.grid.crudService;t.cellInEditMode&&t.cell.id.rowID===this.key&&this.grid.transactions.endPending(!1);let i=new FF(this.key,this.index,this.data,this.grid);this.grid.gridAPI.update_row(i,e),this.grid.notifyChanges()}delete(){this.grid.deleteRowById(this.key)}},nY=class extends iY{constructor(e,t,i){super(),this.grid=e,this.index=t,this._data=i&&i.addRow&&i.recordRef?i.recordRef:i}get viewIndex(){if(this.grid.paginator){let e=[],t=[],i=this.grid.dataView[0],n=this.grid.expansionStates.size,r=this.grid.groupingExpressions.length,s=0,o=this.grid.groupingFlatResult.indexOf(i);return(n||r)&&this.grid.groupingFlatResult.forEach(((i,n)=>{let s=this.grid.primaryKey?i[this.grid.primaryKey]:i;r&&n<o&&this.grid.isGroupByRecord(i)&&t.push(i),this.grid.expansionStates.get(s)&&n<o&&!this.grid.isGroupByRecord(i)&&e.push(i)})),this.grid.summaryCalculationMode!==rb&&(s=t.filter((e=>this.grid.isExpandedGroup(e))).length,this.grid.summaryPosition===nb&&t.length&&t[t.length-1].records.indexOf(i)>-1&&(s+=-1)),e.length+s+o+this.index}return this.index}get parent(){let e;if(!this.grid.groupingExpressions.length)return;let t=this.index-1;for(;t>=0&&!e;){let i=this.grid.dataView[t];this.grid.isGroupByRecord(i)&&(e=new oY(this.grid,t,i)),t--}return e}},rY=class e extends iY{constructor(e,t,i,n){super(),this.grid=e,this.index=t,this._treeRow=n,this._data=i&&i.addRow&&i.recordRef?i.recordRef:i}get viewIndex(){return this.grid.hasSummarizedColumns&&this.grid.page>0&&this.grid.summaryCalculationMode!==rb?this.grid.processedExpandedFlatData.indexOf(this.grid.dataView[0].data)+(this.grid.summaryPosition===nb?this.grid.rootRecords.indexOf(this.getRootParent(this.grid.dataView[0])):this.grid.rootRecords.indexOf(this.getRootParent(this.grid.dataView[0]))+1)+this.index:this.index+this.grid.page*this.grid.perPage}get data(){if(this.inEditMode)return wC(this.grid.dataCloneStrategy.clone(this._data??this.grid.dataView[this.index]),this.grid.transactions.getAggregatedValue(this.key,!1),((e,t)=>{if(Array.isArray(t))return t}));let e=this.grid.dataView[this.index];return this._data?this._data:this.grid.isTreeRow(e)?e.data:e}get children(){let t=[];return this.treeRow.expanded&&this.treeRow.children.forEach(((i,n)=>{let r=new e(this.grid,this.index+1+n,i.data);t.push(r)})),t}get parent(){return this.grid.getRowByKey(this.treeRow.parent?.key)}get hasChildren(){return!!this.treeRow.children&&this.treeRow.children.length>0}get treeRow(){return this._treeRow??this.grid.records.get(this.key)}get pinned(){return this.grid.isRecordPinned(this)}set pinned(e){e?this.pin():this.unpin()}get expanded(){return this.grid.gridAPI.get_row_expansion_state(this.treeRow)}set expanded(e){this.grid.gridAPI.set_row_expansion_state(this.key,e)}get disabled(){return!!this.grid.isGhostRecord(this.data)&&void 0===this.treeRow.isFilteredOutParent}getRootParent(e){for(;e.parent;)e=e.parent;return e}},sY=class extends iY{constructor(e,t,i){super(),this.grid=e,this.index=t,this._data=i&&i.addRow&&i.recordRef?i.recordRef:i}get hasChildren(){return!!this.grid.childLayoutKeys.length}get viewIndex(){let e=this.grid.filteredSortedData.indexOf(this.grid.dataView[0]),t=this.grid.filteredSortedData.filter(((t,i)=>{let n=this.grid.primaryKey?t[this.grid.primaryKey]:t;return this.grid.expansionStates.get(n)&&i<e}));return e+t.length+this.index}get cells(){let e=[];return this.grid.columns.forEach((t=>{let i=new jH(this.grid,this.index,t);e.push(i)})),e}},oY=class{get groupRow(){return this._groupRow?this._groupRow:this.grid.dataView[this.index]}get children(){let e=[];return this.groupRow.records.forEach(((t,i)=>{let n=new nY(this.grid,this.index+1+i,t);e.push(n)})),e}get viewIndex(){if(this.grid.page){let e=[],t=[],i=this.grid.dataView[0],n=this.grid.expansionStates.size,r=this.grid.groupingExpressions.length,s=0,o=this.grid.groupingFlatResult.indexOf(i);return(n||r)&&this.grid.groupingFlatResult.forEach(((i,n)=>{let s=this.grid.primaryKey?i[this.grid.primaryKey]:i;r&&n<o&&this.grid.isGroupByRecord(i)&&t.push(i),this.grid.expansionStates.get(s)&&n<o&&!this.grid.isGroupByRecord(i)&&e.push(i)})),this.grid.summaryCalculationMode!==rb&&(s=t.filter((e=>this.grid.isExpandedGroup(e))).length,this.grid.summaryPosition===nb&&t.length&&t[t.length-1].records.indexOf(i)>-1&&(s+=-1)),e.length+s+o+this.index}return this.index}constructor(e,t,i){this._groupRow=i,this.grid=e,this.index=t,this.isGroupByRow=!0}get selected(){return this.children.every((e=>e.selected))}set selected(e){e?this.children.forEach((e=>{this.grid.selectionService.selectRowsWithNoEvent([e.key])})):this.children.forEach((e=>{this.grid.selectionService.deselectRowsWithNoEvent([e.key])})),this.grid.cdr.markForCheck()}get expanded(){return this.grid.isExpandedGroup(this.groupRow)}set expanded(e){this.gridAPI.set_grouprow_expansion_state(this.groupRow,e)}isActive(){return!!this.grid.navigation.activeNode&&this.grid.navigation.activeNode.row===this.index}toggle(){this.grid.toggleGroup(this.groupRow)}get gridAPI(){return this.grid.gridAPI}},aY=class{get summaries(){return this._summaries?this._summaries:this.grid.dataView[this.index].summaries}get viewIndex(){if(this.grid.hasSummarizedColumns&&this.grid.page>0){if("flat"===this.grid.type){if(this.grid.page){let e=[],t=[],i=this.grid.dataView[0],n=this.grid.expansionStates.size,r=this.grid.groupingExpressions.length,s=0,o=this.grid.groupingFlatResult.indexOf(i);return(n||r)&&this.grid.groupingFlatResult.forEach(((i,n)=>{let s=this.grid.primaryKey?i[this.grid.primaryKey]:i;r&&n<o&&this.grid.isGroupByRecord(i)&&t.push(i),this.grid.expansionStates.get(s)&&n<o&&!this.grid.isGroupByRecord(i)&&e.push(i)})),this.grid.summaryCalculationMode!==rb&&(s=t.filter((e=>this.grid.isExpandedGroup(e))).length,this.grid.summaryPosition===nb&&t.length&&t[t.length-1].records.indexOf(i)>-1&&(s+=-1)),e.length+s+o+this.index}return this.index}if("tree"===this.grid.type&&this.grid.summaryCalculationMode!==rb)return this.grid.processedExpandedFlatData.indexOf(this.grid.dataView[0].data)+(this.grid.summaryPosition===nb?this.grid.rootRecords.indexOf(this.getRootParent(this.grid.dataView[0])):this.grid.rootRecords.indexOf(this.getRootParent(this.grid.dataView[0]))+1)+this.index}return this.index+this.grid.page*this.grid.perPage}constructor(e,t,i){this._summaries=i,this.grid=e,this.index=t,this.isSummaryRow=!0}getRootParent(e){for(;e.parent;)e=e.parent;return e}},lY=(()=>{class e{transform(e,t,i,n,r,s){if(!e)return"";let o=[],a=XC(n);for(let t of Object.keys(e)){let s=e[t];("function"==typeof s?s(i,n,QC(i,a),r):s)&&o.push(t)}return o.join(" ")}static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵpipe=sg({name:"igxCellStyleClasses",type:e,pure:!0})}}return e})(),dY=(()=>{class e{transform(e,t,i,n,r,s){let o={};if(!e)return o;let a=XC(n);for(let t of Object.keys(e)){let s=e[t];o[t]="function"==typeof s?s(i,n,QC(i,a),r):s}return o}static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵpipe=sg({name:"igxCellStyles",type:e,pure:!0})}}return e})(),cY=(()=>{class e{transform(e){if(e){let t=e.split("/"),i=t[t.length-1].split(".");return i.length?i[0]:""}return e}static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵpipe=sg({name:"igxCellImageAlt",type:e,pure:!0})}}return e})(),hY=(()=>{class e{constructor(e){this.grid=e,this.row=new nY(this.grid,-1,{})}transform(e,t,i,n,r,s,o,a,l,d,c,h){let u=new Set(["igx-grid__tr",a%2?"igx-grid__tr--even":"igx-grid__tr--odd"]),g=[[n,"igx-grid__tr--selected"],[i,"igx-grid__tr--edit"],[r,"igx-grid__tr--edited"],[s,"igx-grid__tr--deleted"],[o,"igx-grid__tr--drag"],[l,"igx-grid__tr--mrl"],[d,"igx-grid__tr--filtered"]];for(let[e,t]of g)e&&u.add(t);for(let i of Object.keys(e??{})){let n=e[i];this.row.index=a,this.row._data=t.data,("function"==typeof n?n(this.row):n)&&u.add(i)}return u}static{this.ɵfac=function(t){return new(t||e)(lu(zF,16))}}static{this.ɵpipe=sg({name:"igxGridRowClasses",type:e,pure:!0})}}return e})(),uY=(()=>{class e{constructor(e){this.grid=e}transform(e,t,i,n){let r={};if(!e)return r;for(let n of Object.keys(e)){let s=e[n],o=this.grid.isTreeRow&&this.grid.isTreeRow(t)?t.data:t,a=new nY(this.grid,i,o);r[n]="function"==typeof s?s(a):s}return r}static{this.ɵfac=function(t){return new(t||e)(lu(zF,16))}}static{this.ɵpipe=sg({name:"igxGridRowStyles",type:e,pure:!0})}}return e})(),gY=(()=>{class e{transform(e){return e.filter((e=>!e.columnGroup))}static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵpipe=sg({name:"igxNotGrouped",type:e,pure:!0})}}return e})(),pY=(()=>{class e{transform(e){return e.filter((e=>0===e.level))}static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵpipe=sg({name:"igxTopLevel",type:e,pure:!0})}}return e})(),mY=(()=>{class e{constructor(e){this.grid=e}transform(e,t,i){return this.grid.transactions.enabled?DS.mergeTransactions(RC(e),this.grid.transactions.getAggregatedChanges(!0),this.grid.primaryKey,this.grid.dataCloneStrategy):e}static{this.ɵfac=function(t){return new(t||e)(lu(zF,16))}}static{this.ɵpipe=sg({name:"gridTransaction",type:e,pure:!0})}}return e})(),fY=(()=>{class e{transform(e,t){return e&&e.length?t?e:[]:e}static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵpipe=sg({name:"visibleColumns",type:e,pure:!0})}}return e})(),vY=(()=>{class e{constructor(e){this.grid=e}transform(e,t,i=!1,n){if(this.grid.hasPinnedRecords&&i){let t=e.filter((e=>!this.grid.isSummaryRow(e)&&this.grid.isRecordPinned(e)));return t.sort(((e,t)=>this.grid.getInitialPinnedIndex(e)-this.grid.getInitialPinnedIndex(t))),t}return this.grid.unpinnedRecords=e,this.grid.hasPinnedRecords?e.map((e=>!this.grid.isSummaryRow(e)&&this.grid.isRecordPinned(e)?{recordRef:e,ghostRecord:!0}:e)):(this.grid.pinnedRecords=[],i?[]:e)}static{this.ɵfac=function(t){return new(t||e)(lu(zF,16))}}static{this.ɵpipe=sg({name:"gridRowPinning",type:e,pure:!0})}}return Hi([function(e,t,i){let n=i.value;return i.value=function(...e){let t=n.apply(this,e);return this.grid.buildDataView(),t},i}],e.prototype,"transform",null),e})(),yY=(()=>{class e{transform(e,t,i,n,r){return r?QC(e,XC(t)):n}static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵpipe=sg({name:"dataMapper",type:e,pure:!0})}}return e})(),xY=(()=>{class e{transform(e,t,i){return e.replace(t,i)}static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵpipe=sg({name:"igxStringReplace",type:e,pure:!0})}}return e})(),_Y=(()=>{class e{transform(e,t,i,n,r,s,o){if(!i){let i=n.getState(e),r=QC(i?.value??{},XC(t));return i?.value&&(r||0===r||!1===r)}{let i=n.getAggregatedValue(e,!1);if(i)return null!=QC(i,XC(t))}}static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵpipe=sg({name:"transactionState",type:e,pure:!0})}}return e})(),wY=(()=>{class e{transform(e,t,i,n){return t(e,i,n)}static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵpipe=sg({name:"columnFormatter",type:e,pure:!0})}}return e})(),CY=(()=>{class e{constructor(e){this.grid=e}transform(e,t=!1,i){if(!(this.grid.rowEditable&&this.grid.crudService.row&&this.grid.crudService.row.isAddRow&&this.grid.crudService.addRowParent&&t===this.grid.crudService.addRowParent.isPinned))return e;let n=e.slice(0),r=this.grid.crudService.row.recordRef;return n.splice(this.grid.crudService.row.index,0,r),n}static{this.ɵfac=function(t){return new(t||e)(lu(zF,16))}}static{this.ɵpipe=sg({name:"gridAddRow",type:e,pure:!0})}}return e})(),SY=["headerVirtualContainer"],bY=["headerDragContainer"],DY=["headerSelectorContainer"],EY=["headerGroupContainer"],TY=["headSelectorBaseTemplate"],IY=["headerHierarchyExpander"],RY=(e,t,i)=>({"igx-grid__hierarchical-expander igx-grid__hierarchical-expander--header igx-grid__tr-action":e,"igx-grid__hierarchical-expander--push":t,"igx-grid__hierarchical-expander--no-border":i}),AY=e=>({$implicit:e}),kY=e=>({visibility:e});function OY(e,t){return this.trackPinnedColumn(t)}function FY(e,t){if(1&e&&Hp(0,"span",22),2&e){let e=om();op("left",e.grid.pinnedWidth,"px"),rp("igxColumnMovingDrop",e.headerContainer)}}function PY(e,t){if(1&e&&Hp(0,"span",23),2&e){let e=om();op("left",e.grid.pinnedWidth,"px"),rp("igxColumnMovingDrop",e.headerContainer)}}function VY(e,t){1&e&&$p(0)}function MY(e,t){if(1&e){let e=Kp();Lp(0,"div",24,2),rm("pointerdown",(function(t){return Ko(e),jo(t.preventDefault())})),Lp(2,"div",25),bg(3,VY,1,0,"ng-container",26),Np()()}if(2&e){let e=om();ap("igx-grid__drag-indicator--header",!e.grid.isRowSelectable),Hc(3),rp("ngTemplateOutlet",e.grid.dragIndicatorIconTemplate||e.grid.dragIndicatorIconBase)}}function LY(e,t){1&e&&$p(0,null,4)}function NY(e,t){if(1&e){let e=Kp();Lp(0,"div",27,3),rm("click",(function(t){return Ko(e),jo(om().headerRowSelection(t))}))("pointerdown",(function(t){return Ko(e),jo(t.preventDefault())})),bg(2,LY,2,0,"ng-container",28),Np()}if(2&e){let e=om(),t=vm(17);ap("igx-grid__cbx-selection--push",e.grid.filteringService.isFilterRowVisible),Hc(2),rp("ngTemplateOutlet",e.grid.headSelectorTemplate||t)("ngTemplateOutletContext",e.rowSelectorsContext)}}function HY(e,t){1&e&&$p(0)}function zY(e,t){if(1&e){let e=Kp();Lp(0,"div",29,5),rm("click",(function(){return Ko(e),jo(om().grid.toggleAll())}))("pointerdown",(function(t){return Ko(e),jo(t.preventDefault())})),bg(2,HY,1,0,"ng-container",28),Np()}if(2&e){let e=om();rp("hidden",!e.grid.hasExpandableChildren||!e.grid.hasVisibleColumns)("ngClass",Nm(4,RY,e.grid.hasExpandableChildren,e.grid.filteringService.isFilterRowVisible,e.grid.isRowSelectable||e.grid.rowDraggable)),Hc(2),rp("ngTemplateOutlet",e.grid.iconTemplate)("ngTemplateOutletContext",Mm(8,AY,e.grid))}}function BY(e,t){1&e&&$p(0)}function GY(e,t){if(1&e){let e=Kp();Lp(0,"div",30,6),rm("click",(function(){return Ko(e),jo(om().grid.toggleAllGroupRows())}))("pointerdown",(function(t){return Ko(e),jo(t.preventDefault())})),bg(2,BY,1,0,"ng-container",28),Np()}if(2&e){let e=om();lp(e.indentationCSSClasses),Hc(2),rp("ngTemplateOutlet",e.grid.iconTemplate)("ngTemplateOutletContext",Mm(5,AY,e.grid))}}function $Y(e,t){if(1&e&&(Hp(0,"igx-grid-header-group",32),Xm(1,"igxHeaderGroupWidth"),Xm(2,"igxHeaderGroupWidth"),Xm(3,"igxHeaderGroupStyle")),2&e){let e=t.$implicit,i=om(2);op("min-width",ef(1,7,e.resolvedWidth,i.grid.defaultHeaderGroupMinWidth,i.hasMRL))("flex-basis",ef(2,11,e.resolvedWidth,i.grid.defaultHeaderGroupMinWidth,i.hasMRL)),rp("ngClass",e.headerGroupClasses)("ngStyle",ef(3,15,e.headerGroupStyles,e,i.grid.pipeTrigger))("column",e)}}function WY(e,t){1&e&&(Op(0,$Y,4,19,"igx-grid-header-group",31,OY,!0),Xm(2,"igxTopLevel")),2&e&&Pp(Qm(2,0,om().pinnedColumnCollection))}function KY(e,t){if(1&e&&(Hp(0,"igx-grid-header-group",32),Xm(1,"igxHeaderGroupWidth"),Xm(2,"igxHeaderGroupWidth"),Xm(3,"igxHeaderGroupStyle")),2&e){let e=t.$implicit,i=om();op("min-width",ef(1,7,e.resolvedWidth,i.grid.defaultHeaderGroupMinWidth,i.hasMRL))("flex-basis",ef(2,11,e.resolvedWidth,i.grid.defaultHeaderGroupMinWidth,i.hasMRL)),rp("ngClass",e.headerGroupClasses)("ngStyle",ef(3,15,e.headerGroupStyles,e,i.grid.pipeTrigger))("column",e)}}function jY(e,t){if(1&e&&(Hp(0,"igx-grid-header-group",32),Xm(1,"igxHeaderGroupWidth"),Xm(2,"igxHeaderGroupWidth"),Xm(3,"igxHeaderGroupStyle")),2&e){let e=t.$implicit,i=om(2);op("min-width",ef(1,9,e.resolvedWidth,i.grid.defaultHeaderGroupMinWidth,i.hasMRL))("flex-basis",ef(2,13,e.resolvedWidth,i.grid.defaultHeaderGroupMinWidth,i.hasMRL))("left",e.rightPinnedOffset),rp("ngClass",e.headerGroupClasses)("ngStyle",ef(3,17,e.headerGroupStyles,e,i.grid.pipeTrigger))("column",e)}}function UY(e,t){1&e&&(Op(0,jY,4,21,"igx-grid-header-group",33,OY,!0),Xm(2,"igxTopLevel")),2&e&&Pp(Qm(2,0,om().pinnedColumnCollection))}function qY(e,t){if(1&e&&Hp(0,"igx-grid-filtering-row",34,7),2&e){let e=om();op("width",e.width,"px"),rp("column",e.grid.filteringService.filteredColumn)}}function YY(e,t){1&e&&Hp(0,"span",19),2&e&&rp("igxColumnMovingDrop",om().headerContainer)}function ZY(e,t){if(1&e&&(Lp(0,"div",35),Hp(1,"igx-checkbox",36,8),Np()),2&e){let e=t.$implicit,i=om();Hc(),rp("tabindex",-1)("readonly",!0)("checked",e.selectedCount>0&&i.grid.selectionService.areAllRowSelected())("disableRipple",!0)("ngStyle",Mm(7,kY,i.grid.isMultiRowSelectionEnabled?"visible":"hidden"))("indeterminate",e.selectedCount>0&&i.grid.selectionService.hasSomeRowSelected())("aria-label",i.grid.headSelectorBaseAriaLabel)}}var XY=(()=>{class e{get groups(){return HC(this._groups?.toArray()??[])}get headers(){return this.groups.map((e=>e.header))}get filters(){return this.groups.map((e=>e.filter))}get headerForOf(){return this.headerContainer}get navigation(){return this.grid.navigation}get nativeElement(){return this.ref.nativeElement}get isHierarchicalGrid(){return!!this.grid.isHierarchicalRecord}get indentationCSSClasses(){return`igx-grid__header-indentation igx-grid__row-indentation--level-${this.grid.groupingExpressions.length}`}get rowSelectorsContext(){let e={$implicit:{selectedCount:this.grid.selectionService.filteredSelectedRowIds.length,totalCount:this.grid.totalRowsCountAfterFilter}};return this.isHierarchicalGrid&&(e.$implicit.selectAll=()=>this.grid.selectAllRows(),e.$implicit.deselectAll=()=>this.grid.deselectAllRows()),e}constructor(e,t){this.ref=e,this.cdr=t,this.pinnedColumnCollection=[],this.unpinnedColumnCollection=[],this.trackPinnedColumn=oS}ngDoCheck(){this.cdr.markForCheck()}scroll(e){this.grid.preventHeaderScroll(e)}headerRowSelection(e){this.grid.isMultiRowSelectionEnabled&&(this.grid.selectionService.areAllRowSelected()?this.grid.selectionService.clearRowSelection(e):this.grid.selectionService.selectAllRows(e))}static{this.ɵfac=function(t){return new(t||e)(lu(zl),lu(Cf))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-grid-header-row"]],viewQuery:function(e,t){if(1&e&&(pm(SY,7,nO),pm(bY,5),pm(DY,5),pm(EY,5),pm(TY,5),pm(tY,5),pm(IY,5),pm(Cq,5)),2&e){let e;mm(e=fm())&&(t.headerContainer=e.first),mm(e=fm())&&(t.headerDragContainer=e.first),mm(e=fm())&&(t.headerSelectorContainer=e.first),mm(e=fm())&&(t.headerGroupContainer=e.first),mm(e=fm())&&(t.headSelectorBaseTemplate=e.first),mm(e=fm())&&(t.filterRow=e.first),mm(e=fm())&&(t.headerHierarchyExpander=e.first),mm(e=fm())&&(t._groups=e)}},inputs:{grid:"grid",pinnedColumnCollection:"pinnedColumnCollection",unpinnedColumnCollection:"unpinnedColumnCollection",activeDescendant:"activeDescendant",hasMRL:[2,"hasMRL","hasMRL",Hf],width:"width"},decls:18,vars:27,consts:[["headerVirtualContainer",""],["headSelectorBaseTemplate",""],["headerDragContainer",""],["headerSelectorContainer",""],["headSelector",""],["headerHierarchyExpander",""],["headerGroupContainer",""],["filteringRow",""],["headerCheckbox",""],["role","rowgroup",1,"igx-grid-thead__wrapper",3,"scroll"],["role","row",1,"igx-grid__tr"],["id","left","droppable","true",1,"igx-grid__scroll-on-drag-left",3,"left","igxColumnMovingDrop"],["id","left","droppable","true",1,"igx-grid__scroll-on-drag-pinned",3,"left","igxColumnMovingDrop"],[1,"igx-grid__drag-indicator","igx-grid__tr-action",3,"igx-grid__drag-indicator--header"],[1,"igx-grid__cbx-selection","igx-grid__tr-action",3,"igx-grid__cbx-selection--push"],[3,"hidden","ngClass"],[3,"class"],["igxGridFor","",3,"igxGridForOf","igxForScrollContainer","igxForContainerSize","igxForTrackBy","igxForSizePropName","igxForScrollOrientation"],[3,"column","width"],["id","right","droppable","true",1,"igx-grid__scroll-on-drag-right",3,"igxColumnMovingDrop"],[1,"igx-grid-thead__thumb",3,"hidden"],["igxHeadSelector",""],["id","left","droppable","true",1,"igx-grid__scroll-on-drag-left",3,"igxColumnMovingDrop"],["id","left","droppable","true",1,"igx-grid__scroll-on-drag-pinned",3,"igxColumnMovingDrop"],[1,"igx-grid__drag-indicator","igx-grid__tr-action",3,"pointerdown"],[2,"visibility","hidden"],[4,"ngTemplateOutlet"],[1,"igx-grid__cbx-selection","igx-grid__tr-action",3,"click","pointerdown"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"click","pointerdown","hidden","ngClass"],[3,"click","pointerdown"],[3,"ngClass","ngStyle","column","min-width","flex-basis"],[3,"ngClass","ngStyle","column"],[3,"ngClass","ngStyle","column","min-width","flex-basis","left"],[3,"column"],[1,"igx-grid__cbx-padding"],[3,"tabindex","readonly","checked","disableRipple","ngStyle","indeterminate","aria-label"]],template:function(e,t){if(1&e){let e=Kp();Lp(0,"div",9),rm("scroll",(function(i){return Ko(e),jo(t.scroll(i))})),Lp(1,"div",10),bg(2,FY,1,3,"span",11)(3,PY,1,3,"span",12)(4,MY,4,3,"div",13)(5,NY,3,4,"div",14)(6,zY,3,10,"div",15)(7,GY,3,7,"div",16)(8,WY,3,2)(9,KY,4,19,"ng-template",17,0,sf),Xm(11,"igxTopLevel"),bg(12,UY,3,2),Np(),bg(13,qY,2,3,"igx-grid-filtering-row",18)(14,YY,1,1,"span",19),Np(),Hp(15,"div",20),bg(16,ZY,3,9,"ng-template",21,1,sf)}2&e&&(op("width",t.width,"px"),ap("igx-grid__tr--mrl",t.hasMRL),Hc(),op("width",t.width,"px"),Hc(),Ip(t.grid.moving&&t.grid.columnInDrag&&t.pinnedColumnCollection.length<=0?2:-1),Hc(),Ip(t.grid.moving&&t.grid.columnInDrag&&t.pinnedColumnCollection.length>0?3:-1),Hc(),Ip(t.grid.rowDraggable?4:-1),Hc(),Ip(t.grid.showRowSelectors?5:-1),Hc(),Ip(t.isHierarchicalGrid?6:-1),Hc(),Ip(null!=t.grid&&null!=t.grid.groupingExpressions&&t.grid.groupingExpressions.length?7:-1),Hc(),Ip(t.pinnedColumnCollection.length&&t.grid.isPinningToStart?8:-1),Hc(),rp("igxGridForOf",Qm(11,25,t.unpinnedColumnCollection))("igxForScrollContainer",t.grid.parentVirtDir)("igxForContainerSize",t.grid.unpinnedWidth)("igxForTrackBy",t.grid.trackColumnChanges)("igxForSizePropName","calcPixelWidth")("igxForScrollOrientation","horizontal"),Hc(3),Ip(t.pinnedColumnCollection.length&&!t.grid.isPinningToStart?12:-1),Hc(),Ip(t.grid.filteringService.isFilterRowVisible?13:-1),Hc(),Ip(t.grid.moving&&t.grid.columnInDrag?14:-1),Hc(),op("width",t.grid.scrollSize,"px"),rp("hidden",!t.grid.hasVerticalScroll()))},dependencies:[ZU,qv,jv,Cq,Uv,nO,tY,OF,pY,gU,pU],encapsulation:2,changeDetection:0})}}return e})(),QY=(()=>{class e extends Mk{constructor(){super(...arguments),this._rowDragStarted=!1,this.transitionEndEvent=()=>{this.ghostElement&&this.ghostElement.removeEventListener("transitionend",this.transitionEndEvent,!1),this.endDragging()}}set data(e){this._data=e}get data(){return this._data.grid.createRow(this._data.index,this._data.data)}get row(){return this._data}onPointerDown(e){e.preventDefault(),this._rowDragStarted=!1,this._removeOnDestroy=!1,super.onPointerDown(e)}onPointerMove(e){if(super.onPointerMove(e),this._dragStarted&&!this._rowDragStarted){this._rowDragStarted=!0;let t={dragDirective:this,dragData:this.data,dragElement:this.row.nativeElement,cancel:!1,owner:this.row.grid};if(this.row.grid.rowDragStart.emit(t),t.cancel)return this.ghostElement.parentNode.removeChild(this.ghostElement),this.ghostElement=null,this._dragStarted=!1,void(this._clicked=!1);this.row.grid.dragRowID=this.row.key,this.row.grid.rowDragging=!0,this.row.grid.cdr.detectChanges(),this.subscription$=Sn(this.row.grid.document.defaultView,"keydown").subscribe((t=>{t.key===this.platformUtil.KEYMAP.ESCAPE&&(this._lastDropArea=!1,this.onPointerUp(e))}))}}onPointerUp(e){if(!this._clicked)return;let t={dragDirective:this,dragData:this.data,dragElement:this.row.nativeElement,animation:!1,owner:this.row.grid};this.zone.run((()=>{this.row.grid.rowDragEnd.emit(t)}));let i=this._lastDropArea;super.onPointerUp(e),!i&&this.ghostElement?this.ghostElement.addEventListener("transitionend",this.transitionEndEvent,!1):this.endDragging()}createGhost(e,t){if(this.row.grid.gridAPI.crudService.endEdit(!1),this.row.grid.cdr.detectChanges(),this.ghostContext={$implicit:this.row.data,data:this.row.data,grid:this.row.grid},super.createGhost(e,t,this.row.nativeElement),this.isHierarchicalGrid){let e=this.row;if(e.expander){let t=e.expander.nativeElement.getBoundingClientRect().width;this._ghostHostX+=t}}let i=this.ghostElement,n=this.row.grid.nativeElement.getBoundingClientRect(),r=this.row.nativeElement.getBoundingClientRect();i.style.overflow="hidden",i.style.width=n.width+"px",i.style.height=r.height+"px",i.classList.add("igx-grid__tr--ghost"),i.classList.remove("igx-grid__tr--selected");let s=i.getElementsByClassName("igx-grid__td");for(let e of s)e.classList.remove("igx-grid__td--selected"),e.classList.remove("igx-grid__td--active")}_unsubscribe(){this.subscription$&&!this.subscription$.closed&&this.subscription$.unsubscribe()}endDragging(){this.onTransitionEnd(null),this.row.grid.dragRowID=null,this.row.grid.rowDragging=!1,this.row.grid.cdr.detectChanges(),this._unsubscribe()}get isHierarchicalGrid(){return"hierarchical"===this.row.grid.type}static{this.ɵfac=(()=>{let t;return function(i){return(t||(t=ol(e)))(i||e)}})()}static{this.ɵdir=rg({type:e,selectors:[["","igxRowDrag",""]],inputs:{data:[0,"igxRowDrag","data"]},features:[dg]})}}return e})(),JY=(()=>{class e{static ngTemplateContextGuard(e,t){return!0}static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵdir=rg({type:e,selectors:[["","igxDragIndicatorIcon",""]]})}}return e})(),eZ=(()=>{class e{constructor(e){this.templateRef=e}static ngTemplateContextGuard(e,t){return!0}static{this.ɵfac=function(t){return new(t||e)(lu(jh))}}static{this.ɵdir=rg({type:e,selectors:[["","igxRowDragGhost",""]]})}}return e})(),tZ=(()=>{class e{constructor(e){this.templateRef=e}static ngTemplateContextGuard(e,t){return!0}static{this.ɵfac=function(t){return new(t||e)(lu(jh))}}static{this.ɵdir=rg({type:e,selectors:[["","igxRowSelector",""]]})}}return e})(),iZ=(()=>{class e{constructor(e){this.templateRef=e}static ngTemplateContextGuard(e,t){return!0}static{this.ɵfac=function(t){return new(t||e)(lu(jh))}}static{this.ɵdir=rg({type:e,selectors:[["","igxGroupByRowSelector",""]]})}}return e})(),nZ=(()=>{class e{constructor(e){this.templateRef=e}static ngTemplateContextGuard(e,t){return!0}static{this.ɵfac=function(t){return new(t||e)(lu(jh))}}static{this.ɵdir=rg({type:e,selectors:[["","igxHeadSelector",""]]})}}return e})(),rZ={};tt(rZ,{CSSResult:()=>cZ,LitElement:()=>IZ,ReactiveElement:()=>SZ,UpdatingElement:()=>TZ,_$LE:()=>AZ,adoptStyles:()=>gZ,css:()=>uZ,defaultConverter:()=>xZ,getCompatibleStyle:()=>pZ,notEqual:()=>_Z,supportsAdoptingStyleSheets:()=>aZ,unsafeCSS:()=>hZ});var sZ,oZ=window,aZ=oZ.ShadowRoot&&(void 0===oZ.ShadyCSS||oZ.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,lZ=Symbol(),dZ=new WeakMap,cZ=class{constructor(e,t,i){if(this._$cssResult$=!0,i!==lZ)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o,t=this.t;if(aZ&&void 0===e){let i=void 0!==t&&1===t.length;i&&(e=dZ.get(t)),void 0===e&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),i&&dZ.set(t,e))}return e}toString(){return this.cssText}},hZ=e=>new cZ("string"==typeof e?e:e+"",void 0,lZ),uZ=(e,...t)=>{let i=1===e.length?e[0]:t.reduce(((t,i,n)=>t+(e=>{if(!0===e._$cssResult$)return e.cssText;if("number"==typeof e)return e;throw Error("Value passed to 'css' function must be a 'css' function result: "+e+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+e[n+1]),e[0]);return new cZ(i,e,lZ)},gZ=(e,t)=>{aZ?e.adoptedStyleSheets=t.map((e=>e instanceof CSSStyleSheet?e:e.styleSheet)):t.forEach((t=>{let i=document.createElement("style"),n=oZ.litNonce;void 0!==n&&i.setAttribute("nonce",n),i.textContent=t.cssText,e.appendChild(i)}))},pZ=aZ?e=>e:e=>e instanceof CSSStyleSheet?(e=>{let t="";for(let i of e.cssRules)t+=i.cssText;return hZ(t)})(e):e,mZ=window,fZ=mZ.trustedTypes,vZ=fZ?fZ.emptyScript:"",yZ=mZ.reactiveElementPolyfillSupport,xZ={toAttribute(e,t){switch(t){case Boolean:e=e?vZ:null;break;case Object:case Array:e=null==e?e:JSON.stringify(e)}return e},fromAttribute(e,t){let i=e;switch(t){case Boolean:i=null!==e;break;case Number:i=null===e?null:Number(e);break;case Object:case Array:try{i=JSON.parse(e)}catch{i=null}}return i}},_Z=(e,t)=>t!==e&&(t==t||e==e),wZ={attribute:!0,type:String,converter:xZ,reflect:!1,hasChanged:_Z},CZ="finalized",SZ=class extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this._$Eu()}static addInitializer(e){var t;this.finalize(),(null!==(t=this.h)&&void 0!==t?t:this.h=[]).push(e)}static get observedAttributes(){this.finalize();let e=[];return this.elementProperties.forEach(((t,i)=>{let n=this._$Ep(i,t);void 0!==n&&(this._$Ev.set(n,i),e.push(n))})),e}static createProperty(e,t=wZ){if(t.state&&(t.attribute=!1),this.finalize(),this.elementProperties.set(e,t),!t.noAccessor&&!this.prototype.hasOwnProperty(e)){let i="symbol"==typeof e?Symbol():"__"+e,n=this.getPropertyDescriptor(e,i,t);void 0!==n&&Object.defineProperty(this.prototype,e,n)}}static getPropertyDescriptor(e,t,i){return{get(){return this[t]},set(n){let r=this[e];this[t]=n,this.requestUpdate(e,r,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)||wZ}static finalize(){if(this.hasOwnProperty(CZ))return!1;this[CZ]=!0;let e=Object.getPrototypeOf(this);if(e.finalize(),void 0!==e.h&&(this.h=[...e.h]),this.elementProperties=new Map(e.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){let e=this.properties,t=[...Object.getOwnPropertyNames(e),...Object.getOwnPropertySymbols(e)];for(let i of t)this.createProperty(i,e[i])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(e){let t=[];if(Array.isArray(e)){let i=new Set(e.flat(1/0).reverse());for(let e of i)t.unshift(pZ(e))}else void 0!==e&&t.push(pZ(e));return t}static _$Ep(e,t){let i=t.attribute;return!1===i?void 0:"string"==typeof i?i:"string"==typeof e?e.toLowerCase():void 0}_$Eu(){var e;this._$E_=new Promise((e=>this.enableUpdating=e)),this._$AL=new Map,this._$Eg(),this.requestUpdate(),null===(e=this.constructor.h)||void 0===e||e.forEach((e=>e(this)))}addController(e){var t,i;(null!==(t=this._$ES)&&void 0!==t?t:this._$ES=[]).push(e),void 0!==this.renderRoot&&this.isConnected&&(null===(i=e.hostConnected)||void 0===i||i.call(e))}removeController(e){var t;null===(t=this._$ES)||void 0===t||t.splice(this._$ES.indexOf(e)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach(((e,t)=>{this.hasOwnProperty(t)&&(this._$Ei.set(t,this[t]),delete this[t])}))}createRenderRoot(){var e;let t=null!==(e=this.shadowRoot)&&void 0!==e?e:this.attachShadow(this.constructor.shadowRootOptions);return gZ(t,this.constructor.elementStyles),t}connectedCallback(){var e;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(e=this._$ES)||void 0===e||e.forEach((e=>{var t;return null===(t=e.hostConnected)||void 0===t?void 0:t.call(e)}))}enableUpdating(e){}disconnectedCallback(){var e;null===(e=this._$ES)||void 0===e||e.forEach((e=>{var t;return null===(t=e.hostDisconnected)||void 0===t?void 0:t.call(e)}))}attributeChangedCallback(e,t,i){this._$AK(e,i)}_$EO(e,t,i=wZ){var n;let r=this.constructor._$Ep(e,i);if(void 0!==r&&!0===i.reflect){let s=(void 0!==(null===(n=i.converter)||void 0===n?void 0:n.toAttribute)?i.converter:xZ).toAttribute(t,i.type);this._$El=e,null==s?this.removeAttribute(r):this.setAttribute(r,s),this._$El=null}}_$AK(e,t){var i;let n=this.constructor,r=n._$Ev.get(e);if(void 0!==r&&this._$El!==r){let e=n.getPropertyOptions(r),s="function"==typeof e.converter?{fromAttribute:e.converter}:void 0!==(null===(i=e.converter)||void 0===i?void 0:i.fromAttribute)?e.converter:xZ;this._$El=r,this[r]=s.fromAttribute(t,e.type),this._$El=null}}requestUpdate(e,t,i){let n=!0;void 0!==e&&(((i=i||this.constructor.getPropertyOptions(e)).hasChanged||_Z)(this[e],t)?(this._$AL.has(e)||this._$AL.set(e,t),!0===i.reflect&&this._$El!==e&&(void 0===this._$EC&&(this._$EC=new Map),this._$EC.set(e,i))):n=!1),!this.isUpdatePending&&n&&(this._$E_=this._$Ej())}_$Ej(){return st(this,null,(function*(){this.isUpdatePending=!0;try{yield this._$E_}catch(e){Promise.reject(e)}let e=this.scheduleUpdate();return null!=e&&(yield e),!this.isUpdatePending}))}scheduleUpdate(){return this.performUpdate()}performUpdate(){var e;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach(((e,t)=>this[t]=e)),this._$Ei=void 0);let t=!1,i=this._$AL;try{t=this.shouldUpdate(i),t?(this.willUpdate(i),null===(e=this._$ES)||void 0===e||e.forEach((e=>{var t;return null===(t=e.hostUpdate)||void 0===t?void 0:t.call(e)})),this.update(i)):this._$Ek()}catch(e){throw t=!1,this._$Ek(),e}t&&this._$AE(i)}willUpdate(e){}_$AE(e){var t;null===(t=this._$ES)||void 0===t||t.forEach((e=>{var t;return null===(t=e.hostUpdated)||void 0===t?void 0:t.call(e)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(e){return!0}update(e){void 0!==this._$EC&&(this._$EC.forEach(((e,t)=>this._$EO(t,this[t],e))),this._$EC=void 0),this._$Ek()}updated(e){}firstUpdated(e){}};SZ[CZ]=!0,SZ.elementProperties=new Map,SZ.elementStyles=[],SZ.shadowRootOptions={mode:"open"},yZ?.({ReactiveElement:SZ}),(null!==(sZ=mZ.reactiveElementVersions)&&void 0!==sZ?sZ:mZ.reactiveElementVersions=[]).push("1.6.3");var bZ,DZ,EZ={};tt(EZ,{CSSResult:()=>cZ,LitElement:()=>IZ,ReactiveElement:()=>SZ,UpdatingElement:()=>TZ,_$LE:()=>AZ,adoptStyles:()=>gZ,css:()=>uZ,defaultConverter:()=>xZ,getCompatibleStyle:()=>pZ,notEqual:()=>_Z,supportsAdoptingStyleSheets:()=>aZ,unsafeCSS:()=>hZ}),nt(EZ,n);var TZ=SZ,IZ=class extends SZ{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var e,t;let i=super.createRenderRoot();return null!==(e=(t=this.renderOptions).renderBefore)&&void 0!==e||(t.renderBefore=i.firstChild),i}update(e){let t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=(0,n.render)(t,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),null===(e=this._$Do)||void 0===e||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),null===(e=this._$Do)||void 0===e||e.setConnected(!1)}render(){return n.noChange}};IZ.finalized=!0,IZ._$litElement$=!0,null===(bZ=globalThis.litElementHydrateSupport)||void 0===bZ||bZ.call(globalThis,{LitElement:IZ});var RZ=globalThis.litElementPolyfillSupport;RZ?.({LitElement:IZ});var AZ={_$AK:(e,t,i)=>{e._$AK(t,i)},_$AL:e=>e._$AL};(null!==(DZ=globalThis.litElementVersions)&&void 0!==DZ?DZ:globalThis.litElementVersions=[]).push("3.3.3"),nt(rZ,EZ),nt(rZ,r);var kZ,OZ=(e,t)=>"method"===t.kind&&t.descriptor&&!("value"in t.descriptor)?Je(Qe({},t),{finisher(i){i.createProperty(t.key,e)}}):{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:t.key,initializer(){"function"==typeof t.initializer&&(this[t.key]=t.initializer.call(this))},finisher(i){i.createProperty(t.key,e)}};function FZ(e){return(t,i)=>void 0!==i?((e,t,i)=>{t.constructor.createProperty(i,e)})(e,t,i):OZ(e,t)}null===(kZ=window.HTMLSlotElement)||void 0===kZ||kZ.prototype.assignedElements;var PZ={};nt(PZ,s);var VZ=Object.defineProperty,MZ=Object.getOwnPropertyDescriptor,LZ=(e,t,i,n)=>{for(var r,s=n>1?void 0:n?MZ(t,i):t,o=e.length-1;o>=0;o--)(r=e[o])&&(s=(n?r(t,i,s):r(s))||s);return n&&s&&VZ(t,i,s),s},NZ=class extends IZ{constructor(){super(...arguments),this.text="Trial version of Ignite UI for Angular",this.url="https://www.infragistics.com/how-to-buy/renewal"}static register(){globalThis.customElements&&!globalThis.customElements.get(this.tagName)&&globalThis.customElements.define(this.tagName,this)}render(){return rZ.html`
            <a part="link" href=${this.url} target="_blank">
                ${(0,PZ.unsafeSVG)('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18px" height="18px" id="img"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5zm-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-2zm-3-4h8v2H8z"/></svg>\n')}
                <span>${this.text}</span>
            </a>
            <span part="image"></span>
        `}};NZ.styles=hZ(':host{display:block;position:absolute;bottom:0;right:0;width:100%;height:100%;z-index:10000;pointer-events:none}[part=link]{position:absolute;display:inline-flex;align-items:center;bottom:0;right:0;font-family:Titillium Web,sans-serif;font-size:.875rem;padding:.125rem .25rem;line-height:normal;border:1px solid var(--igx-watermark-border-color, var(--border-color, var(--igx-watermark-base-color, var(--base-color, #09f))));border-radius:var(--igx-watermark-border-radius, var(--border-radius, .125rem));color:var(--igx-watermark-color, var(--color, #fff));z-index:10002;background-color:var(--igx-watermark-link-background, var(--link-background, var(--igx-watermark-base-color, var(--base-color, #09f))));pointer-events:all;text-decoration:none}[part=link] svg{width:1.125rem;height:1.125rem;fill:currentColor;margin-inline-end:.25rem}[part=image]{width:100%;height:100%;position:absolute;top:0;left:0;z-index:10001;pointer-events:none;background-color:var(--igx-watermark-image-color, var(--image-color, color-mix(in srgb, var(--igx-watermark-base-color, var(--base-color, #09f)) var(--igx-watermark-image-opacity, var(--image-opacity, 15%)), transparent)));mask-image:var(--igx-watermark-background-image, var(--background-image, url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="184" height="104" viewBox="0 0 184 104"><path id="trial" d="M16.72,10.148L10.3,8.434l1.806-6.723L7.09,0.369,5.283,7.092,2.308,6.3,1.15,10.609l2.975,0.8L1.235,22.161q-1.345,5.007-.367,7.207T5.8,32.623a28.163,28.163,0,0,0,4.9.664l0.851-4.1-3.85-.88q-1.721-.46-1.889-1.5a11.188,11.188,0,0,1,.591-3.867l2.741-10.2,6.416,1.714ZM19.7,35.79l4.348-16.181,1.135-.144a33.871,33.871,0,0,1,7.382-.214L33.919,14.2a22.941,22.941,0,0,0-8.788,1.18L25.878,12.6l-5.021-1.342L14.629,34.436Zm16.783,4.485,6.229-23.182L37.64,15.738,31.412,38.921Zm7.287-27.123L45.2,7.82,40.132,6.466,38.7,11.8Zm20.042,11q-1.391-2.334-5.645-3.471a41.951,41.951,0,0,0-9.645-1.285l-0.773,3.62,1.513,0.3q4.563,0.822,7.538,1.617a3.562,3.562,0,0,1,2.2,1.382,3.528,3.528,0,0,1,.116,2.814L58.658,30.8,52.524,29.7a10.645,10.645,0,0,0-6.3.354q-2.306,1.074-3.253,4.6-1.981,7.372,4.946,9.223a18.357,18.357,0,0,0,7.946.285,10.134,10.134,0,0,0,5.722,3.368L62.76,43.72a2.665,2.665,0,0,1-1.343-1.03,2.273,2.273,0,0,1-.13-1.65l2.84-10.571Q65.2,26.482,63.808,24.147ZM57.7,34.367l-1.657,6.166-0.912.055A18.635,18.635,0,0,1,50,40.013q-2.836-.758-1.976-3.957a3.237,3.237,0,0,1,4.142-2.62ZM71.532,49.642l8.82-32.826-5.068-1.354-8.82,32.826Z"/></svg>\')));mask-size:12.5rem 9.375rem;mask-position:top left;-webkit-mask-image:var(--igx-watermark-background-image, var(--background-image, url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="184" height="104" viewBox="0 0 184 104"><path id="trial" d="M16.72,10.148L10.3,8.434l1.806-6.723L7.09,0.369,5.283,7.092,2.308,6.3,1.15,10.609l2.975,0.8L1.235,22.161q-1.345,5.007-.367,7.207T5.8,32.623a28.163,28.163,0,0,0,4.9.664l0.851-4.1-3.85-.88q-1.721-.46-1.889-1.5a11.188,11.188,0,0,1,.591-3.867l2.741-10.2,6.416,1.714ZM19.7,35.79l4.348-16.181,1.135-.144a33.871,33.871,0,0,1,7.382-.214L33.919,14.2a22.941,22.941,0,0,0-8.788,1.18L25.878,12.6l-5.021-1.342L14.629,34.436Zm16.783,4.485,6.229-23.182L37.64,15.738,31.412,38.921Zm7.287-27.123L45.2,7.82,40.132,6.466,38.7,11.8Zm20.042,11q-1.391-2.334-5.645-3.471a41.951,41.951,0,0,0-9.645-1.285l-0.773,3.62,1.513,0.3q4.563,0.822,7.538,1.617a3.562,3.562,0,0,1,2.2,1.382,3.528,3.528,0,0,1,.116,2.814L58.658,30.8,52.524,29.7a10.645,10.645,0,0,0-6.3.354q-2.306,1.074-3.253,4.6-1.981,7.372,4.946,9.223a18.357,18.357,0,0,0,7.946.285,10.134,10.134,0,0,0,5.722,3.368L62.76,43.72a2.665,2.665,0,0,1-1.343-1.03,2.273,2.273,0,0,1-.13-1.65l2.84-10.571Q65.2,26.482,63.808,24.147ZM57.7,34.367l-1.657,6.166-0.912.055A18.635,18.635,0,0,1,50,40.013q-2.836-.758-1.976-3.957a3.237,3.237,0,0,1,4.142-2.62ZM71.532,49.642l8.82-32.826-5.068-1.354-8.82,32.826Z"/></svg>\')));-webkit-mask-position:top left}\n'),NZ.tagName="igc-trial-watermark",LZ([FZ({attribute:"text"})],NZ.prototype,"text",2),LZ([FZ({attribute:"url"})],NZ.prototype,"url",2);var HZ=(()=>{class e{static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵdir=rg({type:e,selectors:[["","igxGridBody",""]],features:[Pm([Zk])]})}}return e})(),zZ=class extends kI{constructor(){super(...arguments),this.isTop=!1,this.isTopInitialPosition=null}position(e,t,i,n,r){let s=this.settings.container,o=r;this.isTop=null!==this.isTopInitialPosition?this.isTopInitialPosition:s.getBoundingClientRect().bottom<o.getBoundingClientRect().bottom+e.getBoundingClientRect().height,e.style.width=o.clientWidth+"px",this.settings.verticalStartPoint=this.settings.verticalDirection=this.isTop?bI.Top:bI.Bottom,this.settings.openAnimation=this.isTop?xT:fT,super.position(e,{width:o.clientWidth,height:o.clientHeight},i,n,o)}},BZ=class{},GZ=(()=>{class e{static ngTemplateContextGuard(e,t){return!0}static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵdir=rg({type:e,selectors:[["","igxRowEdit",""]]})}}return e})(),$Z=(()=>{class e{static ngTemplateContextGuard(e,t){return!0}static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵdir=rg({type:e,selectors:[["","igxRowEditText",""]]})}}return e})(),WZ=(()=>{class e{static ngTemplateContextGuard(e,t){return!0}static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵdir=rg({type:e,selectors:[["","igxRowAddText",""]]})}}return e})(),KZ=(()=>{class e{static ngTemplateContextGuard(e,t){return!0}static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵdir=rg({type:e,selectors:[["","igxRowEditActions",""]]})}}return e})(),jZ=(()=>{class e{constructor(e,t){this.grid=e,this.element=t}handleTab(e){e.stopPropagation(),(this.grid.rowEditTabs.last===this&&!e.shiftKey||this.grid.rowEditTabs.first===this&&e.shiftKey)&&this.move(e)}handleEscape(e){this.grid.crudService.endEdit(!1,e),this.grid.tbody.nativeElement.focus()}handleEnter(e){e.stopPropagation()}move(e){e.preventDefault(),this.currentCellIndex=e.shiftKey?this.grid.lastEditableColumnIndex:this.grid.firstEditableColumnIndex,this.grid.navigation.activeNode.row=this.grid.crudService.rowInEditMode.index,this.grid.navigation.activeNode.column=this.currentCellIndex,this.grid.navigateTo(this.grid.crudService.rowInEditMode.index,this.currentCellIndex,(t=>{t.target.activate(e),this.grid.cdr.detectChanges()}))}static{this.ɵfac=function(t){return new(t||e)(lu(zF),lu(zl))}}static{this.ɵdir=rg({type:e,selectors:[["","igxRowEditTabStop",""]],hostBindings:function(e,t){1&e&&rm("keydown.Tab",(function(e){return t.handleTab(e)}))("keydown.Shift.Tab",(function(e){return t.handleTab(e)}))("keydown.Escape",(function(e){return t.handleEscape(e)}))("keydown.Enter",(function(e){return t.handleEnter(e)}))}})}}return e})(),UZ=e=>({$implicit:e});function qZ(e,t){return this.trackSummaryResult(t)}function YZ(e,t){1&e&&$p(0)}function ZZ(e,t){if(1&e&&bg(0,YZ,1,0,"ng-container",1),2&e){let e=om(),t=vm(2);rp("ngTemplateOutlet",e.summaryTemplate?e.summaryTemplate:t)("ngTemplateOutletContext",Mm(2,UZ,e.summaryResults))}}function XZ(e,t){if(1&e&&(Lp(0,"div",3)(1,"span",4),ym(2),Np(),Lp(3,"span",5),ym(4),Np()()),2&e){let e=t.$implicit,i=om(2);op("height",i.itemHeight,"px"),Hc(),rp("title",e.label),Hc(),_m(i.translateSummary(e)),Hc(),rp("title",i.formatSummaryResult(e)),Hc(),wm(" ",i.formatSummaryResult(e)," ")}}function QZ(e,t){1&e&&Op(0,XZ,5,6,"div",2,qZ,!0),2&e&&Pp(om().summaryResults)}var JZ=(()=>{class e{constructor(e){this.element=e,this.firstCellIndentation=0,this.hasSummary=!1,this.trackSummaryResult=oS}get visibleColumnIndex(){return this.column.visibleIndex}get attrCellID(){return`${this.grid.id}_${this.rowIndex}_${this.visibleColumnIndex}`}activate(){let e=this.grid.navigation.activeNode;e&&this.rowIndex===e.row&&this.visibleColumnIndex===e.column||(this.grid.navigation.setActiveNode({row:this.rowIndex,column:this.visibleColumnIndex},"summaryCell"),this.grid.cdr.detectChanges())}get selectionNode(){return{row:this.rowIndex,column:this.column.columnLayoutChild?this.column.parent.visibleIndex:this.visibleColumnIndex,isSummaryRow:!0}}get width(){return this.column.getCellWidth()}get nativeElement(){return this.element.nativeElement}get columnDatatype(){return this.column.dataType}get itemHeight(){return this.column.grid.defaultSummaryHeight}get grid(){return this.column.grid}get currencyCode(){return this.column.pipeArgs.currencyCode?this.column.pipeArgs.currencyCode:av(this.grid.locale)}get currencySymbol(){return this.column.pipeArgs.display?this.column.pipeArgs.display:function(e){return Zp(e)[Qp.CurrencySymbol]||null}(this.grid.locale)}translateSummary(e){return this.grid.resourceStrings[`igx_grid_summary_${e.key}`]||e.label}formatSummaryResult(e){if(void 0===e.summaryResult||null===e.summaryResult||""===e.summaryResult)return"";if(this.summaryFormatter)return this.summaryFormatter(e,this.column.summaries);let t=this.column.pipeArgs,i=this.grid.locale;if("count"===e.key)return Bv(e.summaryResult,i);if(e.defaultFormatting)switch(this.column.dataType){case bS.Number:return Bv(e.summaryResult,i,t.digitsInfo);case bS.Date:case bS.DateTime:case bS.Time:return mv(e.summaryResult,t.format,i,t.timezone);case bS.Currency:return Hv(e.summaryResult,i,this.currencySymbol,this.currencyCode,t.digitsInfo);case bS.Percent:return zv(e.summaryResult,i,t.digitsInfo)}return e.summaryResult}static{this.ɵfac=function(t){return new(t||e)(lu(zl))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-grid-summary-cell"]],hostVars:5,hostBindings:function(e,t){1&e&&rm("pointerdown",(function(){return t.activate()})),2&e&&($g("data-rowIndex",t.rowIndex)("data-visibleIndex",t.visibleColumnIndex)("id",t.attrCellID),ap("igx-grid-summary--active",t.active))},inputs:{summaryResults:"summaryResults",column:"column",firstCellIndentation:"firstCellIndentation",hasSummary:[2,"hasSummary","hasSummary",Hf],summaryFormatter:"summaryFormatter",summaryTemplate:"summaryTemplate",active:"active",rowIndex:"rowIndex"},decls:3,vars:1,consts:[["defaultSummary",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"igx-grid-summary__item",3,"height"],[1,"igx-grid-summary__item"],[1,"igx-grid-summary__label",3,"title"],[1,"igx-grid-summary__result",3,"title"]],template:function(e,t){1&e&&bg(0,ZZ,1,4,"ng-container")(1,QZ,2,0,"ng-template",null,0,sf),2&e&&Ip(t.hasSummary?0:-1)},dependencies:[qv],encapsulation:2,changeDetection:0})}}return e})(),eX=["igxDirRef"];function tX(e,t){return this.trackPinnedColumn(t)}function iX(e,t){if(1&e){let e=Kp();Lp(0,"div",4),rm("pointerdown",(function(t){return Ko(e),jo(t.preventDefault())})),Np()}if(2&e){let e=om(2);op("min-width",e.grid.summariesMargin,"px")("flex-basis",e.grid.summariesMargin,"px")}}function nX(e,t){1&e&&$p(0)}function rX(e,t){if(1&e&&bg(0,nX,1,0,"ng-container",5),2&e){let e=om(2);rp("ngTemplateOutlet",vm(2))("ngTemplateOutletContext",e.getContext(e))}}function sX(e,t){if(1&e&&Hp(0,"igx-grid-summary-cell",6),2&e){let e=t.$implicit,i=om(2);op("max-height",i.minHeight,"px")("min-height",i.minHeight,"px")("min-width",e.resolvedWidth)("max-width",e.resolvedWidth)("flex-basis",e.resolvedWidth),ap("igx-grid-summary--empty",!e.hasSummary)("igx-grid-summary--pinned-last",e.isLastPinned),rp("column",e)("rowIndex",i.index)("firstCellIndentation",i.firstCellIndentation)("summaryResults",i.getColumnSummaries(e.field))("summaryTemplate",e.summaryTemplate)("hasSummary",e.hasSummary)("summaryFormatter",e.summaryFormatter)("active",i.isCellActive(e.visibleIndex))}}function oX(e,t){1&e&&$p(0)}function aX(e,t){if(1&e&&bg(0,oX,1,0,"ng-container",5),2&e){let e=om(2);rp("ngTemplateOutlet",vm(2))("ngTemplateOutletContext",e.getContext(e))}}function lX(e,t){if(1&e&&(bg(0,iX,1,4,"div",2)(1,rX,1,2,"ng-container")(2,sX,1,22,"ng-template",3,1,sf),Xm(4,"igxNotGrouped"),bg(5,aX,1,2,"ng-container")),2&e){let e=om();Ip(e.grid.summariesMargin?0:-1),Hc(),Ip(e.pinnedColumns.length>0&&e.grid.isPinningToStart?1:-1),Hc(),rp("igxGridForOf",Qm(4,9,e.unpinnedColumns))("igxForScrollContainer",e.grid.parentVirtDir)("igxForScrollOrientation","horizontal")("igxForContainerSize",e.grid.unpinnedWidth)("igxForTrackBy",e.grid.trackColumnChanges)("igxForSizePropName","calcPixelWidth"),Hc(3),Ip(e.pinnedColumns.length>0&&!e.grid.isPinningToStart?5:-1)}}function dX(e,t){if(1&e&&Hp(0,"igx-grid-summary-cell",8),2&e){let e=t.$implicit,i=om(2);op("max-height",i.minHeight,"px")("min-height",i.minHeight,"px")("min-width",e.resolvedWidth)("max-width",e.resolvedWidth)("flex-basis",e.resolvedWidth)("left",e.rightPinnedOffset),ap("igx-grid-summary--empty",!e.hasSummary)("igx-grid-summary--pinned-first",e.isFirstPinned)("igx-grid-summary--pinned-last",e.isLastPinned),rp("column",e)("firstCellIndentation",i.firstCellIndentation)("rowIndex",i.index)("summaryResults",i.getColumnSummaries(e.field))("summaryTemplate",e.summaryTemplate)("hasSummary",e.hasSummary)("active",i.isCellActive(e.visibleIndex))}}function cX(e,t){1&e&&(Op(0,dX,1,25,"igx-grid-summary-cell",7,tX,!0),Xm(2,"igxNotGrouped")),2&e&&Pp(Qm(2,0,om().pinnedColumns))}var hX=(()=>{class e{get dataRowIndex(){return this.index}get minHeight(){return this.grid.summaryRowHeight-1}get summaryCells(){let e=new jl;if(!this._summaryCells)return e;let t=this._summaryCells.filter((e=>e.nativeElement.isConnected));return e.reset(t),e}set summaryCells(e){}constructor(e,t,i){this.grid=e,this.element=t,this.cdr=i,this.firstCellIndentation=-1,this.trackPinnedColumn=oS}ngDoCheck(){this.cdr.markForCheck()}get nativeElement(){return this.element.nativeElement}getColumnSummaries(e){return this.summaries.get(e)?this.summaries.get(e):[]}isCellActive(e){let t=this.grid.navigation.activeNode;return!!t&&t.row===this.index&&t.column===e}get pinnedColumns(){return this.grid.pinnedColumns}get unpinnedColumns(){return this.grid.unpinnedColumns}getContext(e){return{$implicit:e}}static{this.ɵfac=function(t){return new(t||e)(lu(zF),lu(zl),lu(Cf))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-grid-summary-row"]],viewQuery:function(e,t){if(1&e&&(pm(eX,5,nO),pm(JZ,5,JZ)),2&e){let e;mm(e=fm())&&(t.virtDirRow=e.first),mm(e=fm())&&(t._summaryCells=e)}},hostVars:1,hostBindings:function(e,t){2&e&&$g("data-rowIndex",t.dataRowIndex)},inputs:{summaries:"summaries",gridID:"gridID",index:"index",firstCellIndentation:"firstCellIndentation"},features:[Pm([Zk])],decls:3,vars:1,consts:[["summaryCellTemplate",""],["igxDirRef",""],[1,"igx-grid__summaries-patch",3,"min-width","flex-basis"],["igxGridFor","",3,"igxGridForOf","igxForScrollContainer","igxForScrollOrientation","igxForContainerSize","igxForTrackBy","igxForSizePropName"],[1,"igx-grid__summaries-patch",3,"pointerdown"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["role","cell",1,"igx-grid-summary","igx-grid-summary--fw",3,"column","rowIndex","firstCellIndentation","summaryResults","summaryTemplate","hasSummary","summaryFormatter","active"],["role","cell",1,"igx-grid-summary","igx-grid-summary--fw","igx-grid-summary--pinned",3,"igx-grid-summary--empty","igx-grid-summary--pinned-first","igx-grid-summary--pinned-last","column","firstCellIndentation","rowIndex","summaryResults","summaryTemplate","hasSummary","active","max-height","min-height","min-width","max-width","flex-basis","left"],["role","cell",1,"igx-grid-summary","igx-grid-summary--fw","igx-grid-summary--pinned",3,"column","firstCellIndentation","rowIndex","summaryResults","summaryTemplate","hasSummary","active"]],template:function(e,t){1&e&&bg(0,lX,6,11)(1,cX,3,2,"ng-template",null,0,sf),2&e&&Ip(t.summaries.size?0:-1)},dependencies:[qv,nO,JZ,gY],encapsulation:2,changeDetection:0})}}return e})(),uX=(()=>{class e{get ratio(){return this._ratio}constructor(e,t,i){this.element=e,this.document=t,this.zone=i,this.restrictHResizeMin=Number.MIN_SAFE_INTEGER,this.restrictHResizeMax=Number.MAX_SAFE_INTEGER,this.resizeEnd=new Ci,this.resizeStart=new Ci,this.resize=new Ci,this._ratio=1,this._destroy=new Ci,this.resizeStart.pipe(Nn(this._destroy),cn((e=>e.clientX)),Ln((e=>this.resize.pipe(Nn(this._destroy),Nn(this.resizeEnd),cn((t=>(t.clientX-e)/this._ratio)))))).subscribe((e=>{let t=this._left+e,i=this._left-this.restrictHResizeMin,n=this._left+this.restrictHResizeMax;this.left=t<i?i:t,t>n&&(this.left=n)}))}ngOnInit(){this.zone.runOutsideAngular((()=>{Sn(this.document.defaultView,"mousemove").pipe(Nn(this._destroy),zn((()=>En(0,Pi)))).subscribe((e=>this.onMousemove(e))),Sn(this.document.defaultView,"mouseup").pipe(Nn(this._destroy)).subscribe((e=>this.onMouseup(e)))}))}ngOnDestroy(){this._destroy.next(!0),this._destroy.complete()}set left(e){requestAnimationFrame((()=>this.element.nativeElement.style.left=e+"px"))}set top(e){null!=this.restrictResizerTop?requestAnimationFrame((()=>this.element.nativeElement.style.top=this.restrictResizerTop+"px")):requestAnimationFrame((()=>this.element.nativeElement.style.top=e+"px"))}onMouseup(e){this.resizeEnd.next(e),this.resizeEnd.complete()}onMousedown(e){e.preventDefault();let t=this.element.nativeElement.parentElement.parentElement,i=t.getBoundingClientRect().width,n=parseFloat(window.getComputedStyle(t).width);Math.abs(i-n)>1&&(this._ratio=i/n),this.left=this._left=(e.clientX-t.getBoundingClientRect().left)/this._ratio,this.top=e.target.getBoundingClientRect().top-t.getBoundingClientRect().top,this.resizeStart.next(e)}onMousemove(e){e.preventDefault(),this.resize.next(e)}static{this.ɵfac=function(t){return new(t||e)(lu(zl),lu(Kf),lu(Il))}}static{this.ɵdir=rg({type:e,selectors:[["","igxResizer",""]],inputs:{restrictHResizeMin:"restrictHResizeMin",restrictHResizeMax:"restrictHResizeMax",restrictResizerTop:"restrictResizerTop"},outputs:{resizeEnd:"resizeEnd",resizeStart:"resizeStart",resize:"resize"}})}}return e})(),gX=(()=>{class e{constructor(e){this.colResizingService=e}static{this.ɵfac=function(t){return new(t||e)(lu(mU))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-grid-column-resizer"]],viewQuery:function(e,t){if(1&e&&pm(uX,7),2&e){let e;mm(e=fm())&&(t.resizer=e.first)}},inputs:{restrictResizerTop:"restrictResizerTop"},decls:1,vars:7,consts:[["igxResizer","",1,"igx-grid-th__resize-line",3,"resizeEnd","restrictHResizeMax","restrictHResizeMin","restrictResizerTop"]],template:function(e,t){1&e&&(Lp(0,"div",0),rm("resizeEnd",(function(e){return t.colResizingService.resizeColumn(e,t.resizer.ratio)})),Np()),2&e&&(op("left",-99999,"px")("height",t.colResizingService.resizerHeight,"px"),rp("restrictHResizeMax",t.colResizingService.restrictResizeMax)("restrictHResizeMin",t.colResizingService.restrictResizeMin)("restrictResizerTop",t.restrictResizerTop))},dependencies:[uX],encapsulation:2,changeDetection:0})}}return e})(),pX=(()=>{class e extends SO{constructor(){super(...arguments),this.ariaLive="polite",this.autoHide=!0,this.displayTime=4e3,this.textMessage=""}get isVisible(){return!this.collapsed}set isVisible(e){e!==this.isVisible&&(e?requestAnimationFrame((()=>{this.open()})):this.close())}open(){clearInterval(this.timeoutId);let e={positionStrategy:this.strategy,closeOnEscape:!1,closeOnOutsideClick:!1,modal:!1,outlet:this.outlet};super.open(e),this.autoHide&&(this.timeoutId=window.setTimeout((()=>{this.close()}),this.displayTime))}close(){clearTimeout(this.timeoutId),super.close()}static{this.ɵfac=(()=>{let t;return function(i){return(t||(t=ol(e)))(i||e)}})()}static{this.ɵdir=rg({type:e,hostVars:1,hostBindings:function(e,t){2&e&&$g("aria-live",t.ariaLive)},inputs:{ariaLive:"ariaLive",autoHide:[2,"autoHide","autoHide",Hf],displayTime:"displayTime",outlet:"outlet",isVisible:[2,"isVisible","isVisible",Hf]},features:[dg]})}}return e})(),mX=["*",[["","igxButton",""]]],fX=["*","[igxButton]"];function vX(e,t){if(1&e){let e=Kp();Lp(0,"button",4),rm("click",(function(){return Ko(e),jo(om().triggerAction())})),ym(1),Np()}if(2&e){let e=om();Hc(),wm(" ",e.actionText," ")}}var yX=0,xX=(()=>{class e extends pX{constructor(){super(...arguments),this.id="igx-snackbar-"+yX++,this.cssClass="igx-snackbar",this.clicked=new wl,this.animationStarted=new wl,this.animationDone=new wl,this._positionSettings={horizontalDirection:SI.Center,verticalDirection:bI.Bottom,openAnimation:qD(rE,{params:{duration:".35s",easing:"cubic-bezier(0.0, 0.0, 0.2, 1)",fromPosition:"translateY(100%)",toPosition:"translateY(0)"}}),closeAnimation:qD(sE,{params:{duration:".2s",easing:"cubic-bezier(0.4, 0.0, 1, 1)",fromPosition:"translateY(0)",toPosition:"translateY(100%)"}})}}get positionSettings(){return this._positionSettings}set positionSettings(e){this._positionSettings=e}open(e){void 0!==e&&(this.textMessage=e),this.strategy=this.outlet?new MI(this.positionSettings):new VI(this.positionSettings),super.open()}toggle(){this.collapsed||this.isClosing?this.open():this.close()}triggerAction(){this.clicked.emit(this)}ngOnInit(){this.opened.pipe(Nn(this.destroy$)).subscribe((()=>{let e={owner:this,id:this._overlayId};this.animationStarted.emit(e)})),this.closed.pipe(Nn(this.destroy$)).subscribe((()=>{let e={owner:this,id:this._overlayId};this.animationDone.emit(e)}))}static{this.ɵfac=(()=>{let t;return function(i){return(t||(t=ol(e)))(i||e)}})()}static{this.ɵcmp=Qu({type:e,selectors:[["igx-snackbar"]],hostVars:3,hostBindings:function(e,t){2&e&&($g("id",t.id),ap("igx-snackbar",t.cssClass))},inputs:{id:"id",actionText:"actionText",positionSettings:"positionSettings"},outputs:{clicked:"clicked",animationStarted:"animationStarted",animationDone:"animationDone"},features:[dg],ngContentSelectors:fX,decls:7,vars:2,consts:[["customButton",""],[1,"igx-snackbar__message"],[1,"igx-snackbar__button"],["igxButton",""],["igxButton","",3,"click"]],template:function(e,t){if(1&e&&(lm(mX),Lp(0,"div",1),ym(1),dm(2),Np(),Lp(3,"div",2,0),dm(5,1),Np(),bg(6,vX,2,1,"button",3)),2&e){let e=vm(4);Hc(),wm(" ",t.textMessage," "),Hc(5),Ip(!e.children.length&&t.actionText?6:-1)}},dependencies:[mR],encapsulation:2})}}return e})(),_X=class{},wX=(e,t)=>t.fieldName;function CX(e,t){if(1&e){let e=Kp();Lp(0,"igx-chip",4),Xm(1,"igxGroupByMeta"),Xm(2,"igxGroupByMeta"),Xm(3,"igxGroupByMeta"),Xm(4,"igxGroupByMeta"),rm("keyDown",(function(t){return Ko(e),jo(om().handleKeyDown(t.owner.id,t.originalEvent))}))("remove",(function(t){return Ko(e),jo(om().clearGrouping(t.owner.id))}))("chipClick",(function(){let t=Ko(e).$implicit;return jo(om().handleClick(t.fieldName))})),Lp(5,"span"),ym(6),Xm(7,"igxGroupByMeta"),Np(),Hp(8,"igx-icon",5),Np(),Lp(9,"span",6),Hp(10,"igx-icon",7),Np()}if(2&e){let e=t.$implicit,i=t.$index,n=t.$count,r=om();rp("id",e.fieldName)("title",ef(1,8,e.fieldName,r.grid,r.grid.groupablePipeTrigger).title)("removable",ef(2,12,e.fieldName,r.grid,r.grid.groupablePipeTrigger).groupable)("draggable",ef(3,16,e.fieldName,r.grid,r.grid.groupablePipeTrigger).groupable)("disabled",!ef(4,20,e.fieldName,r.grid,r.grid.groupablePipeTrigger).groupable),Hc(6),_m(ef(7,24,e.fieldName,r.grid,r.grid.groupablePipeTrigger).title),Hc(2),rp("name",1===e.dir?"sort_asc":"sort_desc"),Hc(2),rp("hidden",i===n-1&&!r.dropAreaVisible)}}function SX(e,t){1&e&&$p(0)}function bX(e,t){if(1&e&&(Hp(0,"igx-icon",8),Lp(1,"span",9),ym(2),Np()),2&e){let e=om();Hc(2),_m(e.dropAreaMessage)}}var DX=(()=>{class e extends Jj{constructor(e,t){super(e,t),this.sortingExpressions=[]}handleReorder(e){let{chipsArray:t,originalEvent:i}=e,n=this.getReorderedExpressions(t);this.grid.groupingExpansionState=[],this.expressions=n,i instanceof KeyboardEvent&&(this.grid.groupingExpressions=n)}handleMoveEnd(){this.grid.groupingExpressions=this.expressions}groupBy(e){this.grid.groupBy(e)}clearGrouping(e){this.grid.clearGrouping(e)}static{this.ɵfac=function(t){return new(t||e)(lu(zl),lu(NC))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-grid-group-by-area"]],inputs:{sortingExpressions:"sortingExpressions",grid:"grid"},features:[Pm([{provide:Jj,useExisting:e}]),dg],decls:7,vars:3,consts:[["default",""],[3,"reorder","moveEnd"],["igxGroupAreaDrop","",1,"igx-drop-area",3,"igxDrop","hidden"],[4,"ngTemplateOutlet"],[3,"keyDown","remove","chipClick","id","title","removable","draggable","disabled"],["family","default","igxSuffix","",3,"name"],[1,"igx-grid-grouparea__connector"],["family","default","name","arrow_forward",3,"hidden"],["family","default","name","group_work",1,"igx-drop-area__icon"],[1,"igx-drop-area__text"]],template:function(e,t){if(1&e){let e=Kp();Lp(0,"igx-chips-area",1),rm("reorder",(function(i){return Ko(e),jo(t.handleReorder(i))}))("moveEnd",(function(){return Ko(e),jo(t.handleMoveEnd())})),Op(1,CX,11,28,null,null,wX),Lp(3,"div",2),rm("igxDrop",(function(i){return Ko(e),jo(t.onDragDrop(i))})),bg(4,SX,1,0,"ng-container",3),Np()(),bg(5,bX,3,1,"ng-template",null,0,sf)}if(2&e){let e=vm(6);Hc(),Pp(t.chipExpressions),Hc(2),rp("hidden",!t.dropAreaVisible),$g("gridId",t.grid.id),Hc(),rp("ngTemplateOutlet",t.dropAreaTemplate||e)}},dependencies:[IL,EL,DA,cR,hU,Lk,qv,eU],encapsulation:2})}}return e})(),EX=new hr("IgxGridTransaction"),TX=(()=>{class e{constructor(){this._validityStates=new Map,this._valid=!0}get valid(){return this._valid}create(e,t){let i=this.getFormGroup(e);if(i)for(let e of this.grid.columns){let n=i.get(e.field);n?n.markAsPristine():this.addFormControl(i,t,e)}else{i=new dx({});for(let e of this.grid.columns)this.addFormControl(i,t,e);let n={formGroup:i,owner:this.grid};this.grid.formGroupCreated.emit(n),i.patchValue(t),this.add(e,i)}return i}addFormControl(e,t,i){let n=QC(t||{},XC(i.field)),r=this.getFieldKey(i.field),s=new Cx(n,{updateOn:this.grid.validationTrigger});s.addValidators(i.validators),e.addControl(r,s),s.setValue(n)}getFieldKey(e){return(e?.split(".")??[]).join("_")}getFormGroup(e){return this._validityStates.get(e)}getFormControl(e,t){let i=this.getFormGroup(e),n=this.getFieldKey(t);return i?.get(n)}add(e,t){this._validityStates.set(e,t)}getValidity(){let e=[];return this._validityStates.forEach(((t,i)=>{let n=[];for(let e of this.grid.columns){let i=this.getFieldKey(e.field),r=t.get(i);r&&n.push({field:i,status:r.status,errors:r.errors})}e.push({key:i,status:t.status,fields:n,errors:t.errors})})),e}getInvalid(){return this.getValidity().filter((e=>"INVALID"===e.status))}update(e,t){if(!t)return;let i=Object.keys(t),n=this.getFormGroup(e);for(let e of i){let i=this.getFieldKey(e),r=n?.get(i);r&&r.value!==t[e]&&r.setValue(t[e],{emitEvent:!1})}this.updateStatus()}updateAll(e){if(e&&0!==this._validityStates.size)for(let t of e){let e=t[this.grid.primaryKey]||t;if(this.getFormGroup(e)){let i=this.grid.transactions.getAggregatedValue(e,!0)||t;this.update(e,i)}}}markAsTouched(e,t){let i=this.getFormGroup(e);if(!i)return;i.markAsTouched();let n=t?[t]:this.grid.columns.map((e=>e.field));for(let e of n){let t=this.getFieldKey(e);i?.get(t)?.markAsTouched()}}updateStatus(){let e=this.valid;this._valid=0===this.getInvalid().length,this.valid!==e&&this.grid.validationStatusChange.emit({status:this.valid?"VALID":"INVALID",owner:this.grid})}clear(e){void 0!==e?this._validityStates.delete(e):this._validityStates.clear(),this.updateStatus()}static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵprov=ir({token:e,factory:e.ɵfac})}}return e})(),IX=(()=>{class e{get activeNode(){return this._activeNode}set activeNode(e){this._activeNode=e}constructor(e){this.platform=e,this._activeNode={},this.lastActiveNode={},this.pendingNavigation=!1}handleNavigation(e){let t=e.key.toLowerCase();BC.has(t)&&e.stopPropagation(),(!this.grid.crudService.cell||!BC.has(t))&&((e.repeat&&jC.has(t)||"tab"===t&&this.grid.crudService.cell)&&e.preventDefault(),e.repeat?setTimeout((()=>this.dispatchEvent(e)),1):this.dispatchEvent(e))}dispatchEvent(e){let t=e.key.toLowerCase(),i=this.grid.crudService.cell||this.grid.crudService.row;if(!this.activeNode||!(jC.has(t)||"tab"===t&&i))return;let n=e.shiftKey,r=e.ctrlKey;if(BC.has(t)&&this.pendingNavigation)return void e.preventDefault();let s=this.isDataRow(this.activeNode.row)?"dataCell":this.isDataRow(this.activeNode.row,!0)?"summaryCell":"groupRow";if(this.emitKeyDown(s,this.activeNode.row,e))return;if(e.altKey)return void this.handleAlt(t,e);-1===[" ","spacebar","space"].indexOf(t)&&this.grid.selectionService.keyboardStateOnKeydown(this.activeNode,n,n&&"tab"===t);let o=this.getNextPosition(this.activeNode.row,this.activeNode.column,t,n,r,e);BC.has(t)&&(e.preventDefault(),this.navigateInBody(o.rowIndex,o.colIndex,(t=>{t.target.activate(e),this.grid.cdr.detectChanges()}))),this.grid.cdr.detectChanges()}summaryNav(e){this.grid.hasSummarizedColumns&&this.horizontalNav(e,e.key.toLowerCase(),this.grid.dataView.length,"summaryCell")}headerNavigation(e){let t=e.key.toLowerCase();if(!UC.has(t)||-1!==this.activeNode?.row)return;e.preventDefault();let i=e.ctrlKey,n=e.shiftKey,r=e.altKey;this.performHeaderKeyCombination(this.currentActiveColumn,t,n,i,r,e),!(n||r||i&&(t.includes("down")||t.includes("down")))&&(this.grid.hasColumnGroups?this.handleMCHeaderNav(t,i):this.horizontalNav(e,t,-1,"headerCell"))}focusTbody(e){let t=this.grid.verticalScrollContainer.totalItemCount??this.grid.dataView.length;if(t<1)this.activeNode=null;else if(!this.activeNode||!Object.keys(this.activeNode).length||this.activeNode.row<0||this.activeNode.row>t-1){let i=Object.keys(this.lastActiveNode).length,n=i&&(this.lastActiveNode.row<0||this.lastActiveNode.row>t-1);if(this.setActiveNode(this.lastActiveNode.row>=0&&this.lastActiveNode.row<t?this.firstVisibleNode(this.lastActiveNode.row):this.firstVisibleNode()),n||this.grid.cellSelection!==db)this.grid.clearCellSelection(),this.grid.navigateTo(this.activeNode.row,this.activeNode.column,(t=>{t.target?.activate(e),this.grid.cdr.detectChanges()}));else{if(i&&!this.grid.selectionService.selected(this.lastActiveNode))return;let e={rowStart:this.activeNode.row,rowEnd:this.activeNode.row,columnStart:this.activeNode.column,columnEnd:this.activeNode.column};this.grid.selectRange(e),this.grid.notifyChanges()}}}focusFirstCell(e=!0){if((e||this.grid.dataView.length)&&this.activeNode&&(-1===this.activeNode.row||this.activeNode.row===this.grid.dataView.length||!e&&!this.grid.hasSummarizedColumns))return;let t=this.lastActiveNode&&e&&-1!==this.lastActiveNode.row||!e&&this.lastActiveNode.row!==this.grid.dataView.length;this.setActiveNode(this.firstVisibleNode(e?-1:this.grid.dataView.length)),t&&this.performHorizontalScrollToCell(this.activeNode.column)}isColumnFullyVisible(e){if(e<0||this.isColumnPinned(e,this.forOfDir()))return!0;let t=this.getColumnUnpinnedIndex(e),i=this.forOfDir().getColumnScrollLeft(t+1)-this.forOfDir().getColumnScrollLeft(t);return this.displayContainerWidth<i&&this.displayContainerScrollLeft===this.forOfDir().getColumnScrollLeft(t)||this.displayContainerWidth>=this.forOfDir().getColumnScrollLeft(t+1)-this.displayContainerScrollLeft&&this.displayContainerScrollLeft<=this.forOfDir().getColumnScrollLeft(t)}shouldPerformHorizontalScroll(e,t=-1){if(e<0||e>this.grid.visibleColumns.length-1)return!1;if(t<0||t>this.grid.dataView.length-1)return!this.isColumnFullyVisible(e);let i=this.grid.dataView[t];return!i.expression&&!i.detailsData&&!this.isColumnFullyVisible(e)}shouldPerformVerticalScroll(e,t){if(this.grid.isRecordPinnedByViewIndex(e))return!1;let i=this.grid.hasPinnedRecords&&this.grid.isRowPinningToTop?e-this.grid.pinnedDataView.length:e,n=this.getRowElementByIndex(e),r=this.grid.verticalScrollContainer.getSizeAt(i),s=this.grid.calcHeight?Math.ceil(this.grid.calcHeight):0,o=n?n.offsetTop+r+this.containerTopOffset:s+r;return!n||n.offsetTop<Math.abs(this.containerTopOffset)||s&&o-s>5}performVerticalScrollToCell(e,t=-1,i){if(!this.shouldPerformVerticalScroll(e,t))return void(i&&i());this.pendingNavigation=!0;let n=this.grid.hasPinnedRecords&&this.grid.isRowPinningToTop?e-this.grid.pinnedDataView.length:e;this.grid.verticalScrollContainer.scrollTo(n),this.grid.verticalScrollContainer.chunkLoad.pipe(Vn()).subscribe((()=>{this.pendingNavigation=!1,i&&i()}))}performHorizontalScrollToCell(e,t){if(this.grid.rowList<1&&this.grid.summariesRowList.length<1&&this.grid.hasColumnGroups){let t=this.grid.getColumnByVisibleIndex(e);for(;t.parent;)t=t.parent;e=this.forOfDir().igxForOf.indexOf(t)}this.shouldPerformHorizontalScroll(e)&&(this.pendingNavigation=!0,this.grid.parentVirtDir.chunkLoad.pipe(Vn()).subscribe((()=>{this.pendingNavigation=!1,t&&t()})),this.forOfDir().scrollTo(this.getColumnUnpinnedIndex(e)))}isDataRow(e,t=!1){let i;if(e<0||e>this.grid.dataView.length-1){if(i=this.grid.dataView[e-this.grid.virtualizationState.startIndex],!i)return this.grid.verticalScrollContainer.isRemote&&e>=0&&e<=this.grid.totalItemCount-1}else i=this.grid.dataView[e];return i&&!this.grid.isGroupByRecord(i)&&!this.grid.isDetailRecord(i)&&!i.childGridsData&&(t||!i.summaries)}isGroupRow(e){if(e<0||e>this.grid.dataView.length-1)return!1;let t=this.grid.dataView[e];return t&&this.grid.isGroupByRecord(t)}setActiveNode(e){if(!this.isActiveNodeChanged(e))return;this.activeNode||(this.activeNode=e),Object.assign(this.activeNode,e);let t=this.grid.dataView[e.row],i=e.row<0?"headerCell":this.isDataRow(e.row)?"dataCell":t&&this.grid.isGroupByRecord(t)?"groupRow":t&&this.grid.isDetailRecord(t)?"masterDetailRow":"summaryCell",n={row:this.activeNode.row,column:this.activeNode.column,level:this.activeNode.level,tag:i};this.grid.activeNodeChange.emit(n)}isActiveNodeChanged(e){let t=!1,i=(e,i)=>{if(e){n=Object.getOwnPropertyNames(e);for(let r of n)this.activeNode[i][r]!==e[r]&&(t=!0)}else t=!0};if(!this.activeNode)return t=!0;let n=Object.getOwnPropertyNames(e);for(let r of n)this.activeNode[r]&&"object"==typeof this.activeNode[r]?i(e[r],r):this.activeNode[r]!==e[r]&&(t=!0);return t}restoreActiveNodeFocus(){!this.activeNode||!Object.keys(this.activeNode).length||(this.activeNode.row>=0&&this.activeNode.row<this.grid.dataView.length&&this.grid.tbody.nativeElement.focus(),-1===this.activeNode.row&&this.grid.theadRow.nativeElement.focus(),this.activeNode.row===this.grid.dataView.length&&this.grid.tfoot.nativeElement.focus())}getNextPosition(e,t,i,n,r,s){if(!this.isDataRow(e,!0)&&(i.indexOf("down")<0||i.indexOf("up")<0)&&r)return{rowIndex:e,colIndex:t};switch(i){case"pagedown":case"pageup":s.preventDefault(),"pagedown"===i?this.grid.verticalScrollContainer.scrollNextPage():this.grid.verticalScrollContainer.scrollPrevPage();let o=this.grid.crudService.cell;this.grid.verticalScrollContainer.chunkLoad.pipe(Vn()).subscribe((()=>{o&&this.grid.rowList.map((e=>e.index)).indexOf(o.rowIndex)<0&&this.grid.tbody.nativeElement.focus({preventScroll:!0})}));break;case"tab":this.handleEditing(n,s);break;case"end":e=r?this.findLastDataRowIndex():this.activeNode.row,t=this.lastColumnIndex;break;case"home":e=r?this.findFirstDataRowIndex():this.activeNode.row,t=0;break;case"arrowleft":case"left":t=r?0:this.activeNode.column-1;break;case"arrowright":case"right":t=r?this.lastColumnIndex:this.activeNode.column+1;break;case"arrowup":case"up":if(r&&!this.isDataRow(e)||this.grid.rowEditable&&this.grid.crudService.rowEditingBlocked)break;t=void 0!==this.activeNode.column?this.activeNode.column:0,e=r?this.findFirstDataRowIndex():this.activeNode.row-1;break;case"arrowdown":case"down":if(r&&!this.isDataRow(e)||this.grid.rowEditable&&this.grid.crudService.rowEditingBlocked)break;t=void 0!==this.activeNode.column?this.activeNode.column:0,e=r?this.findLastDataRowIndex():this.activeNode.row+1;break;case"enter":case"f2":let a=this.grid.gridAPI.get_cell_by_visible_index(this.activeNode.row,this.activeNode.column);if(!this.isDataRow(e)||!a.editable)break;this.grid.crudService.enterEditMode(a,s);break;case"escape":case"esc":if(!this.isDataRow(e))break;if(this.grid.crudService.isInCompositionMode)return;(this.grid.crudService.cellInEditMode||this.grid.crudService.rowInEditMode)&&(this.grid.crudService.endEdit(!1,s),this.platform.isEdge&&this.grid.cdr.detectChanges(),this.grid.tbody.nativeElement.focus());break;case" ":case"spacebar":case"space":let l=this.grid.gridAPI.get_row_by_index(this.activeNode.row);this.grid.isRowSelectable&&l&&(this.isDataRow(e)&&(l.selected?this.grid.selectionService.deselectRow(l.key,s):this.grid.selectionService.selectRowById(l.key,!1,s)),this.isGroupRow(e)&&l.onGroupSelectorClick(s));break;default:return}return{rowIndex:e,colIndex:t}}horizontalNav(e,t,i,n){let r=e.ctrlKey;if(!zC.has(e.key.toLowerCase())||(e.preventDefault(),this.activeNode.row=i,i>0&&this.emitKeyDown("summaryCell",this.activeNode.row,e)))return;let s={column:this.activeNode.column,mchCache:{level:this.activeNode.level,visibleIndex:this.activeNode.column}};if((t.includes("left")||"home"===t)&&this.activeNode.column>0&&(s.column=r||"home"===t?0:this.activeNode.column-1),(t.includes("right")||"end"===t)&&this.activeNode.column<this.lastColumnIndex&&(s.column=r||"end"===t?this.lastColumnIndex:this.activeNode.column+1),"headerCell"===n){let e=this.grid.getColumnByVisibleIndex(s.column);s.mchCache.level=e.level,s.mchCache.visibleIndex=e.visibleIndex}this.setActiveNode({row:this.activeNode.row,column:s.column,mchCache:s.mchCache}),this.performHorizontalScrollToCell(this.activeNode.column)}get lastColumnIndex(){return Math.max(...this.grid.visibleColumns.map((e=>e.visibleIndex)))}get displayContainerWidth(){return Math.round(this.grid.parentVirtDir.dc.instance._viewContainer.element.nativeElement.offsetWidth)}get displayContainerScrollLeft(){return Math.ceil(this.grid.headerContainer.scrollPosition)}get containerTopOffset(){return parseInt(this.grid.verticalScrollContainer.dc.instance._viewContainer.element.nativeElement.style.top,10)}getColumnUnpinnedIndex(e){let t=this.grid.unpinnedColumns.find((t=>!t.columnGroup&&t.visibleIndex===e));return this.grid.pinnedColumns.length?this.grid.unpinnedColumns.filter((e=>!e.columnGroup)).indexOf(t):e}forOfDir(){return this.grid.dataRowList.length>0?this.grid.dataRowList.first.virtDirRow:this.grid.summariesRowList.length?this.grid.summariesRowList.first.virtDirRow:this.grid.headerContainer}handleAlt(e,t){t.preventDefault();let i=this.grid.gridAPI.get_row_by_index(this.activeNode.row);if((this.isToggleKey(e)||this.isAddKey(e))&&i){if(this.isAddKey(e)){if(!this.grid.rowEditable)return void console.warn("The grid must be in row edit mode to perform row adding!");t.shiftKey&&void 0!==i.treeRow?this.grid.crudService.enterAddRowMode(i,!0,t):t.shiftKey||this.grid.crudService.enterAddRowMode(i,!1,t)}else!i.expanded&&$C.has(e)?void 0===i.key?i.toggle():this.grid.gridAPI.set_row_expansion_state(i.key,!0,t):i.expanded&&WC.has(e)&&(void 0===i.key?i.toggle():this.grid.gridAPI.set_row_expansion_state(i.key,!1,t));this.grid.notifyChanges()}}handleEditing(e,t){let i=e?this.grid.getPreviousCell(this.activeNode.row,this.activeNode.column,(e=>e.editable)):this.grid.getNextCell(this.activeNode.row,this.activeNode.column,(e=>e.editable));if(!this.grid.crudService.rowInEditMode&&this.isActiveNode(i.rowIndex,i.visibleColumnIndex))return this.grid.crudService.endEdit(!0,t),void this.grid.tbody.nativeElement.focus();if(t.preventDefault(),this.grid.crudService.rowInEditMode&&this.grid.rowEditTabs.length&&(this.activeNode.row!==i.rowIndex||this.isActiveNode(i.rowIndex,i.visibleColumnIndex))){if(this.grid.crudService.updateCell(!0,t).cancel)return;e?this.grid.rowEditTabs.last.element.nativeElement.focus():this.grid.rowEditTabs.first.element.nativeElement.focus()}else this.grid.crudService.rowInEditMode&&!this.grid.rowEditTabs.length&&(e&&i.rowIndex===this.activeNode.row&&i.visibleColumnIndex===this.activeNode.column?i.visibleColumnIndex=this.grid.lastEditableColumnIndex:e||i.rowIndex!==this.activeNode.row||i.visibleColumnIndex!==this.activeNode.column?i.rowIndex=this.activeNode.row:i.visibleColumnIndex=this.grid.firstEditableColumnIndex),this.navigateInBody(i.rowIndex,i.visibleColumnIndex,(e=>{e.target.activate(t),this.grid.cdr.detectChanges()}))}navigateInBody(e,t,i=null){!this.isValidPosition(e,t)||this.isActiveNode(e,t)||this.grid.navigateTo(e,t,i)}emitKeyDown(e,t,i){let n=this.grid.summariesRowList.toArray().concat(this.grid.rowList.toArray()).find((e=>e.index===t));if(!n)return;let r={targetType:e,event:i,cancel:!1,target:"groupRow"===e?n:"dataCell"===e?n.cells?.find((e=>e.visibleColumnIndex===this.activeNode.column)):n.summaryCells?.find((e=>e.visibleColumnIndex===this.activeNode.column))};return this.grid.gridKeydown.emit(r),r.cancel&&"dataCell"===e?(this.grid.selectionService.clear(),this.grid.selectionService.keyboardState.active=!0,r.cancel):void 0}isColumnPinned(e,t){return!t.getScroll().clientWidth||this.grid.getColumnByVisibleIndex(e)?.pinned}findFirstDataRowIndex(){return this.grid.dataView.findIndex((e=>!this.grid.isGroupByRecord(e)&&!this.grid.isDetailRecord(e)&&!e.summaries))}findLastDataRowIndex(){if(this.grid.totalItemCount)return this.grid.totalItemCount-1;let e=this.grid.dataView.length;for(;e--;)if(this.isDataRow(e))return e}getRowElementByIndex(e){if(this.grid.hasDetails){let t=this.grid.nativeElement.querySelector(`[detail="true"][data-rowindex="${e}"]`);if(t)return t}return this.grid.rowList.toArray().concat(this.grid.summariesRowList.toArray()).find((t=>t.index===e))?.nativeElement}isValidPosition(e,t){let i=this.grid.totalItemCount??this.grid.dataView.length;return!(e<0||t<0||i-1<e||this.lastColumnIndex<t||this.activeNode.column!==t&&!this.isDataRow(e,!0))}performHeaderKeyCombination(e,t,i,n,r,s){let o=this.grid.sortingExpressions.find((t=>t.fieldName===e.field))?.dir;if(n&&t.includes("up")&&e.sortable&&!e.columnGroup)return o=o===cS.Asc?cS.None:cS.Asc,void this.grid.sort({fieldName:e.field,dir:o,ignoreCase:!1});if(n&&t.includes("down")&&e.sortable&&!e.columnGroup)return o=o===cS.Desc?cS.None:cS.Desc,void this.grid.sort({fieldName:e.field,dir:o,ignoreCase:!1});if(i&&r&&this.isToggleKey(t)&&!e.columnGroup&&e.groupable)return o=o||cS.Asc,t.includes("right")?this.grid.groupBy({fieldName:e.field,dir:o,ignoreCase:e.sortingIgnoreCase,strategy:e.sortStrategy,groupingComparer:e.groupingComparer}):this.grid.clearGrouping(e.field),void(this.activeNode.column=t.includes("right")&&this.grid.hideGroupedColumns&&e.visibleIndex===this.lastColumnIndex?this.lastColumnIndex-1:this.activeNode.column);if(r&&($C.has(t)||WC.has(t)))this.handleMCHExpandCollapse(t,e);else if(-1!==[" ","spacebar","space"].indexOf(t)&&this.handleColumnSelection(e,s),r&&("l"===t||"¬"===t)&&this.grid.allowAdvancedFiltering&&this.grid.openAdvancedFilteringDialog(),n&&i&&"l"===t&&this.grid.allowFiltering&&!e.columnGroup&&e.filterable)if(this.grid.filterMode===tb){let t=this.grid.headerGroups.find((e=>e.active)).nativeElement;this.grid.filteringService.toggleFilterDropdown(t,e)}else this.performHorizontalScrollToCell(e.visibleIndex),this.grid.filteringService.filteredColumn=e,this.grid.filteringService.isFilterRowVisible=!0}firstVisibleNode(e){let t=void 0!==this.lastActiveNode.column?this.lastActiveNode.column:this.grid.visibleColumns.sort(((e,t)=>e.visibleIndex-t.visibleIndex)).find((e=>this.isColumnFullyVisible(e.visibleIndex)))?.visibleIndex,i=this.grid.visibleColumns.find((e=>!e.columnLayout&&e.visibleIndex===t));return{row:(e||this.grid.rowList.find((e=>!this.shouldPerformVerticalScroll(e.index,t)))?.index)??0,column:i?.visibleIndex??0,level:i?.level??0,mchCache:i?{level:i.level,visibleIndex:i.visibleIndex}:{},layout:i&&i.columnLayoutChild?{rowStart:i.rowStart,colStart:i.colStart,rowEnd:i.rowEnd,colEnd:i.colEnd,columnVisibleIndex:i.visibleIndex}:null}}handleMCHeaderNav(e,t){let i={visibleIndex:this.activeNode.mchCache.visibleIndex,level:this.activeNode.mchCache.level},n=this.currentActiveColumn,r=Math.max(...this.grid.visibleColumns.filter((e=>e.level<=this.activeNode.level)).map((e=>e.visibleIndex))),s=n;if((e.includes("left")||"home"===e)&&this.activeNode.column>0){let n=t||"home"===e?0:this.activeNode.column-1;s=this.getNextColumnMCH(n),i.visibleIndex=s.visibleIndex}if((e.includes("right")||"end"===e)&&n.visibleIndex<r){let r=n.children?Math.max(...n.allChildren.map((e=>e.visibleIndex)))+1:n.visibleIndex+1;s=t||"end"===e?this.getNextColumnMCH(this.lastColumnIndex):this.getNextColumnMCH(r),i.visibleIndex=s.visibleIndex}!t&&e.includes("up")&&this.activeNode.level>0&&(s=n.parent,i.level=s.level),!t&&e.includes("down")&&n.children&&(s=n.children.find((e=>e.visibleIndex===i.visibleIndex))||n.children.toArray().sort(((e,t)=>t.visibleIndex-e.visibleIndex)).filter((e=>e.visibleIndex<i.visibleIndex))[0],i.level=s.level),this.setActiveNode({row:this.activeNode.row,column:s.visibleIndex,level:s.level,mchCache:i}),this.performHorizontalScrollToCell(s.visibleIndex)}handleMCHExpandCollapse(e,t){!t.children||!t.collapsible||(!t.expanded&&$C.has(e)?t.expanded=!0:t.expanded&&WC.has(e)&&(t.expanded=!1))}handleColumnSelection(e,t){if(!e.selectable||this.grid.columnSelection===ab)return;let i=this.grid.columnSelection===lb,n=e.children?e.allChildren.filter((e=>!e.hidden&&e.selectable&&!e.columnGroup)).map((e=>e.field)):[e.field];e.selected?this.grid.selectionService.deselectColumns(n,t):this.grid.selectionService.selectColumns(n,i,!1,t)}getNextColumnMCH(e){let t=this.grid.getColumnByVisibleIndex(e),i=t.parent;for(;i&&t.level>this.activeNode.mchCache.level;)t=t.parent,i=t.parent;return t}get currentActiveColumn(){return this.grid.visibleColumns.find((e=>e.visibleIndex===this.activeNode.column&&e.level===this.activeNode.level))}isActiveNode(e,t){return!!this.activeNode&&this.activeNode.row===e&&this.activeNode.column===t}isToggleKey(e){return WC.has(e)||$C.has(e)}isAddKey(e){return KC.has(e)}static{this.ɵfac=function(t){return new(t||e)(Vr(NC))}}static{this.ɵprov=ir({token:e,factory:e.ɵfac})}}return e})(),RX=(()=>{class e{constructor(){this.rootSummaryID="igxGridRootSummary",this.summaryHeight=0,this.maxSummariesLength=0,this.groupingExpressions=[],this.retriggerRootPipe=0,this.deleteOperation=!1,this.summaryCacheMap=new Map}recalculateSummaries(){this.resetSummaryHeight(),this.grid.notifyChanges(!0)}clearSummaryCache(e){if(this.summaryCacheMap.size){if(!e)return this.summaryCacheMap.clear(),void(this.grid?.rootSummariesEnabled&&this.retriggerRootPipe++);if(e.data){let t=this.grid.primaryKey?e.data[this.grid.primaryKey]:e.data;this.removeSummaries(t)}if(void 0!==e.rowID&&null!==e.rowID){let t=e.cellID?this.grid.columns.find((t=>t.index===e.cellID.columnID)).field:void 0;if(t&&this.grid.rowEditable)return;let i=this.grid.groupingExpressions&&-1!==this.grid.groupingExpressions.map((e=>e.fieldName)).indexOf(t);t&&i&&(t=void 0),this.removeSummaries(e.rowID,t)}}}removeSummaries(e,t){if(this.deleteSummaryCache(this.rootSummaryID,t),1!==this.summaryCacheMap.size||!this.summaryCacheMap.has(this.rootSummaryID))if("tree"===this.grid.type){if(this.grid.transactions.enabled&&this.deleteOperation)return this.deleteOperation=!1,void this.summaryCacheMap.clear();this.removeAllTreeGridSummaries(e,t)}else"hierarchical"===this.grid.type?this.grid.transactions.enabled&&this.deleteOperation&&(this.deleteOperation=!1,this.summaryCacheMap.clear()):this.getSummaryID(e,this.grid.groupingExpressions).forEach((e=>{this.deleteSummaryCache(e,t)}))}removeSummariesCachePerColumn(e){this.summaryCacheMap.forEach((t=>{t.get(e)&&t.delete(e)})),this.grid.rootSummariesEnabled&&this.retriggerRootPipe++}calcMaxSummaryHeight(){if(this.summaryHeight)return this.summaryHeight;if(!this.grid.data)return this.summaryHeight=0;let e=0;return this.grid.columns.filter((e=>e.hasSummary&&!e.hidden)).forEach((t=>{let i=t.summaries.operate([],[],t.field),n=t.disabledSummaries.length>0?i.filter((e=>!t.disabledSummaries.includes(e.key))).length:i.length;e<n&&(e=n)})),this.maxSummariesLength=e,this.summaryHeight=e*this.grid.defaultSummaryHeight,this.summaryHeight}calculateSummaries(e,t,i){let n=this.summaryCacheMap.get(e);if(n||(n=new Map,this.summaryCacheMap.set(e,n)),!this.hasSummarizedColumns||!t)return n;let r=this.grid.columns.filter((e=>e.hasSummary)),s=r.map((e=>XC(e.field)));for(let[e,o]of r.entries())if(!n.get(o.field)){let r=o.summaries.operate(t.map((t=>QC(t,s[e]))),t,o.field,i,this.grid.locale,o.pipeArgs);r=o.disabledSummaries.length>0?r.filter((e=>!o.disabledSummaries.includes(e.key))):r,n.set(o.field,r)}return n}resetSummaryHeight(){this.summaryHeight=0,this.grid&&(this.grid.summaryPipeTrigger++,this.grid.rootSummariesEnabled&&(this.retriggerRootPipe++,Promise.resolve().then((()=>this.grid.notifyChanges(!0)))))}updateSummaryCache(e){if(0!==this.summaryCacheMap.size&&this.hasSummarizedColumns){if(0===this.groupingExpressions.length)return void(this.groupingExpressions=e.expressions.map((e=>e.fieldName)));if(0===e.length)return this.groupingExpressions=[],void this.clearSummaryCache();this.compareGroupingExpressions(this.groupingExpressions,e),this.groupingExpressions=e.expressions.map((e=>e.fieldName))}}get hasSummarizedColumns(){return this.grid.columns.filter((e=>e.hasSummary&&!e.hidden)).length>0}deleteSummaryCache(e,t){if(this.summaryCacheMap.get(e)){let i=t&&this.grid.filteringExpressionsTree&&-1!==this.grid.filteringExpressionsTree.filteringOperands.map((e=>e.fieldName)).indexOf(t);t&&this.summaryCacheMap.get(e).get(t)&&!i?this.summaryCacheMap.get(e).delete(t):this.summaryCacheMap.delete(e),e===this.rootSummaryID&&this.grid.rootSummariesEnabled&&this.retriggerRootPipe++}}getSummaryID(e,t){if(0===t.length)return[];let i=[],n=this.grid.data;this.grid.transactions.enabled&&(n=DS.mergeTransactions(RC(this.grid.data),this.grid.transactions.getAggregatedChanges(!0),this.grid.primaryKey,this.grid.dataCloneStrategy));let r=this.grid.primaryKey?n.find((t=>t[this.grid.primaryKey]===e)):e;if(!r)return i;let s="{ ";return t.forEach((e=>{s+=`'${e.fieldName}': '${r[e.fieldName]}'`,i.push(s.concat(" }")),s+=", "})),i}removeAllTreeGridSummaries(e,t){let i=this.grid.records.get(e);if(i)for(i=i.children?i:i.parent;i;)e=i.key,this.deleteSummaryCache(e,t),i=i.parent}compareGroupingExpressions(e,t){let i=t.expressions.map((e=>e.fieldName)),n=t.ungroupedColumns;if(e.length<=i.length){let t=i.slice(0,e.length).toString();e.toString()!==t&&this.clearSummaryCache()}else{if(e.slice(0,i.length).toString()!==i.toString())return void this.clearSummaryCache();n.map((e=>e.field)).forEach((e=>{this.summaryCacheMap.forEach(((t,i)=>{-1!==i.indexOf(e)&&this.summaryCacheMap.delete(i)}))}))}}static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵprov=ir({token:e,factory:e.ɵfac})}}return e})(),AX=["loadingOverlay"],kX=["igxLoadingOverlayOutlet"],OX=["emptyFilteredGrid"],FX=["defaultEmptyGrid"],PX=["defaultLoadingGrid"],VX=["scrollContainer"],MX=["verticalScrollContainer"],LX=["verticalScrollHolder"],NX=["scr"],HX=["headSelectorBaseTemplate"],zX=["footer"],BX=["tbody"],GX=["pinContainer"],$X=["tfoot"],WX=["igxRowEditingOverlayOutlet"],KX=["dragIndicatorIconBase"],jX=["rowEditingOverlay"],UX=["igxFilteringOverlayOutlet"],qX=["sink"],YX=["defaultExpandedTemplate"],ZX=["defaultCollapsedTemplate"],XX=["defaultESFHeaderIcon"],QX=["defaultRowEditTemplate"],JX=["summaryRow"],eQ=["row"],tQ=["pinnedRow"],iQ=-1,nQ=(()=>{class e{set summaryRowHeight(e){this._summaryRowHeight=0|e,this.summaryService.summaryHeight=e,this._init||this.reflow()}get summaryRowHeight(){return this.hasSummarizedColumns&&this.rootSummariesEnabled?this._summaryRowHeight||this.summaryService.calcMaxSummaryHeight():0}get hasColumnsToAutosize(){return this._columns.some((e=>"fit-content"===e.width))}get dataCloneStrategy(){return this._dataCloneStrategy}set dataCloneStrategy(e){e&&(this._dataCloneStrategy=e,this._transactions.cloneStrategy=e)}get primaryKey(){return this._primaryKey}set primaryKey(e){this._primaryKey=e,this.checkPrimaryKeyField()}get excelStyleFilteringComponent(){return this.excelStyleFilteringComponents?.first}get headerGroups(){return this.theadRow.groups}get actionStrip(){return this.actionStripComponents?.first}get dragGhostCustomTemplate(){return this._dragGhostCustomTemplate||this.dragGhostCustomTemplates?.first}set dragGhostCustomTemplate(e){this._dragGhostCustomTemplate=e}get headerContainer(){return this.theadRow?.headerForOf}get headerSelectorContainer(){return this.theadRow?.headerSelectorContainer}get headerDragContainer(){return this.theadRow?.headerDragContainer}get headerGroupContainer(){return this.theadRow?.headerGroupContainer}get filteringRow(){return this.theadRow?.filterRow}get rowEditTextTemplate(){return this._rowEditTextTemplate||this.rowEditTextDirectives?.first}set rowEditTextTemplate(e){this._rowEditTextTemplate=e}get rowAddTextTemplate(){return this._rowAddTextTemplate||this.rowAddText}set rowAddTextTemplate(e){this._rowAddTextTemplate=e}get rowEditActionsTemplate(){return this._rowEditActionsTemplate||this.rowEditActionsDirectives?.first}set rowEditActionsTemplate(e){this._rowEditActionsTemplate=e}get rowExpandedIndicatorTemplate(){return this._rowExpandedIndicatorTemplate||this.rowExpandedIndicatorDirectiveTemplate}set rowExpandedIndicatorTemplate(e){this._rowExpandedIndicatorTemplate=e}get rowCollapsedIndicatorTemplate(){return this._rowCollapsedIndicatorTemplate||this.rowCollapsedIndicatorDirectiveTemplate}set rowCollapsedIndicatorTemplate(e){this._rowCollapsedIndicatorTemplate=e}get headerExpandedIndicatorTemplate(){return this._headerExpandIndicatorTemplate||this.headerExpandedIndicatorDirectiveTemplate}set headerExpandedIndicatorTemplate(e){this._headerExpandIndicatorTemplate=e}get headerCollapsedIndicatorTemplate(){return this._headerCollapseIndicatorTemplate||this.headerCollapsedIndicatorDirectiveTemplate}set headerCollapsedIndicatorTemplate(e){this._headerCollapseIndicatorTemplate=e}get excelStyleHeaderIconTemplate(){return this._excelStyleHeaderIconTemplate||this.excelStyleHeaderIconDirectiveTemplate}set excelStyleHeaderIconTemplate(e){this._excelStyleHeaderIconTemplate=e}get sortAscendingHeaderIconTemplate(){return this._sortAscendingHeaderIconTemplate}set sortAscendingHeaderIconTemplate(e){this._sortAscendingHeaderIconTemplate=e}get sortDescendingHeaderIconTemplate(){return this._sortDescendingHeaderIconTemplate}set sortDescendingHeaderIconTemplate(e){this._sortDescendingHeaderIconTemplate=e}get sortHeaderIconTemplate(){return this._sortHeaderIconTemplate}set sortHeaderIconTemplate(e){this._sortHeaderIconTemplate=e}set resourceStrings(e){this._resourceStrings=Object.assign({},this._resourceStrings,e)}get resourceStrings(){return this._resourceStrings}get filteringLogic(){return this._filteringExpressionsTree.operator}set filteringLogic(e){this._filteringExpressionsTree.operator=e}get filteringExpressionsTree(){return this._filteringExpressionsTree}set filteringExpressionsTree(e){if(e&&$S(e)){for(let t=0;t<e.filteringOperands.length;t++)if(!$S(e.filteringOperands[t])){let i=new US(qS.And,e.filteringOperands[t].fieldName);i.filteringOperands.push(e.filteringOperands[t]),e.filteringOperands[t]=i}e.type=jS.Regular,e&&this._columns?.length>0?this._filteringExpressionsTree=this.getRecreatedTree(e):this._filteringExpressionsTree=e,this.filteringPipeTrigger++,this.filteringExpressionsTreeChange.emit(this._filteringExpressionsTree),this.filteringService.isFilteringExpressionsTreeEmpty(this._filteringExpressionsTree)&&this.filteringService.isFilteringExpressionsTreeEmpty(this._advancedFilteringExpressionsTree)&&(this._filteredData=null),this.filteringService.refreshExpressions(),this.selectionService.clearHeaderCBState(),this.summaryService.clearSummaryCache(),this.notifyChanges()}}get advancedFilteringExpressionsTree(){return this._advancedFilteringExpressionsTree}set advancedFilteringExpressionsTree(e){let t={owner:this,filteringExpressions:e,cancel:!1};this.filtering.emit(t),!t.cancel&&(e&&$S(e)?(e.type=jS.Advanced,this._columns&&this._columns.length>0?this._advancedFilteringExpressionsTree=this.getRecreatedTree(e):this._advancedFilteringExpressionsTree=e,this.filteringPipeTrigger++):this._advancedFilteringExpressionsTree=null,this.advancedFilteringExpressionsTreeChange.emit(this._advancedFilteringExpressionsTree),this.filteringService.isFilteringExpressionsTreeEmpty(this._filteringExpressionsTree)&&this.filteringService.isFilteringExpressionsTreeEmpty(this._advancedFilteringExpressionsTree)&&(this._filteredData=null),this.selectionService.clearHeaderCBState(),this.summaryService.clearSummaryCache(),this.notifyChanges(),requestAnimationFrame((()=>this.filteringDone.emit(this._advancedFilteringExpressionsTree))))}get locale(){return this._locale}set locale(e){e!==this._locale&&(this._locale=e,this._currencyPositionLeft=void 0,this.summaryService.clearSummaryCache(),this.pipeTrigger++,this.notifyChanges(),this.localeChange.emit())}get pagingMode(){return this._pagingMode}set pagingMode(e){this._pagingMode=e,this.pipeTrigger++,this.notifyChanges(!0)}get page(){return this.paginator?.page||0}set page(e){this.paginator&&(this.paginator.page=e)}get perPage(){return this.paginator?.perPage||15}set perPage(e){this.paginator&&(this.paginator.perPage=e)}get hideRowSelectors(){return this._hideRowSelectors}set hideRowSelectors(e){this._hideRowSelectors=e,this.notifyChanges(!0)}get rowDraggable(){return this._rowDrag&&this.hasVisibleColumns}set rowDraggable(e){this._rowDrag=e,this.notifyChanges(!0)}get rowEditable(){return this._rowEditable}set rowEditable(e){this._init||this.refreshGridState(),this._rowEditable=e,this.notifyChanges()}get height(){return this._height}set height(e){this._height!==e&&(this._height=e,this.nativeElement.style.height=e,this.notifyChanges(!0))}get hostWidth(){return this._width||this._hostWidth}get width(){return this._width}set width(e){this._width!==e&&(this._width=e,this.nativeElement.style.width=e,this.notifyChanges(!0))}get headerWidth(){return parseInt(this.width,10)-17}get rowHeight(){return this._rowHeight?this._rowHeight:this.defaultRowHeight}set rowHeight(e){"number"!=typeof e&&(e=parseInt(e,10)),this._rowHeight=e}get columnWidth(){return this._columnWidth}set columnWidth(e){this._columnWidth=e,this.columnWidthSetByUser=!0,this.notifyChanges(!0)}set emptyGridMessage(e){this._emptyGridMessage=e}get emptyGridMessage(){return this._emptyGridMessage||this.resourceStrings.igx_grid_emptyGrid_message}set isLoading(e){this._isLoading!==e&&(this._isLoading=e,this.data&&this.evaluateLoadingState()),Promise.resolve().then((()=>{this.notifyChanges()}))}get isLoading(){return this._isLoading}get shouldGenerate(){return this.autoGenerate}set shouldGenerate(e){this.autoGenerate=e}set emptyFilteredGridMessage(e){this._emptyFilteredGridMessage=e}get emptyFilteredGridMessage(){return this._emptyFilteredGridMessage||this.resourceStrings.igx_grid_emptyFilteredGrid_message}get pinning(){return this._pinning}set pinning(e){e!==this._pinning&&this.resetCaches(),this._pinning=e}get allowFiltering(){return this._allowFiltering}set allowFiltering(e){this._allowFiltering!==e&&(this._allowFiltering=e,this.filteringService.registerSVGIcons(),this.filteringService.isFilterRowVisible=!1,this.filteringService.filteredColumn=null,this.notifyChanges(!0))}get allowAdvancedFiltering(){return this._allowAdvancedFiltering}set allowAdvancedFiltering(e){this._allowAdvancedFiltering!==e&&(this._allowAdvancedFiltering=e,this.filteringService.registerSVGIcons(),this._init||this.notifyChanges(!0))}get filterMode(){return this._filterMode}set filterMode(e){switch(e){case tb:case eb:this._filterMode=e}this.filteringService.isFilterRowVisible&&this.filteringRow.close(),this.notifyChanges(!0)}get summaryPosition(){return this._summaryPosition}set summaryPosition(e){this._summaryPosition=e,this.notifyChanges()}get summaryCalculationMode(){return this._summaryCalculationMode}set summaryCalculationMode(e){this._summaryCalculationMode=e,this._init||(this.crudService.endEdit(!1),this.summaryService.resetSummaryHeight(),this.notifyChanges(!0))}get showSummaryOnCollapse(){return this._showSummaryOnCollapse}set showSummaryOnCollapse(e){this._showSummaryOnCollapse=e,this.notifyChanges()}get filterStrategy(){return this._filterStrategy}set filterStrategy(e){this._filterStrategy=e}get sortStrategy(){return this._sortingStrategy}set sortStrategy(e){this._sortingStrategy=e}set sortingOptions(e){this._init||this.clearSort(),this._sortingOptions=Object.assign(this._sortingOptions,e)}get sortingOptions(){return this._sortingOptions}set selectedRows(e){this.selectRows(e||[],!0)}get selectedRows(){return this.selectionService.getSelectedRows()}get headerGroupsList(){return this.theadRow.groups}get headerCellList(){return this.headerGroupsList.map((e=>e.header)).filter((e=>e))}get filterCellList(){return this.headerGroupsList.map((e=>e.filter)).filter((e=>e))}get summariesRowList(){let e=new jl;if(!this._summaryRowList)return e;let t=this._summaryRowList.filter((e=>null!==e.element.nativeElement.parentElement));return e.reset(t),e}get rowList(){let e=new jl;if(!this._rowList)return e;let t=this._rowList.filter((e=>null!==e.element.nativeElement.parentElement)).sort(((e,t)=>e.index-t.index));return e.reset(t),e}get dataRowList(){let e=new jl;if(!this._dataRowList)return e;let t=this._dataRowList.filter((e=>null!==e.element.nativeElement.parentElement)).sort(((e,t)=>e.index-t.index));return e.reset(t),e}get headSelectorTemplate(){return this._headSelectorTemplate||this.headSelectorsTemplates?.first}set headSelectorTemplate(e){this._headSelectorTemplate=e}get isPinningToStart(){return this.pinning.columns!==gb.End}get isRowPinningToTop(){return this.pinning.rows!==pb.Bottom}get rowSelectorTemplate(){return this._rowSelectorTemplate||this.rowSelectorsTemplates?.first}set rowSelectorTemplate(e){this._rowSelectorTemplate=e}get rowOutletDirective(){return this.rowEditingOutletDirective}get parentRowOutletDirective(){return this.outlet}get rowEditCustom(){return this.rowEditCustomDirectives&&this.rowEditCustomDirectives.first?this.rowEditCustomDirectives.first:null}get rowEditContainer(){return this.rowEditCustom?this.rowEditCustom:this.defaultRowEditTemplate}get dragIndicatorIconTemplate(){return this._customDragIndicatorIconTemplate||this.dragIndicatorIconTemplates?.first}set dragIndicatorIconTemplate(e){this._customDragIndicatorIconTemplate=e}get firstEditableColumnIndex(){let e=this.visibleColumns.filter((e=>e.editable)).map((e=>e.visibleIndex)).sort(((e,t)=>e-t));return e.length?e[0]:null}get lastEditableColumnIndex(){let e=this.visibleColumns.filter((e=>e.editable)).map((e=>e.visibleIndex)).sort(((e,t)=>e>t?-1:1));return e.length?e[0]:null}get rowEditTabs(){return this.rowEditTabsCUSTOM.length?this.rowEditTabsCUSTOM:this.rowEditTabsDEFAULT}get activeDescendant(){let e=this.navigation.activeNode;return e&&Object.keys(e).length?e.row<0?`${this.id}_${e.row}_${e.mchCache.level}_${e.column}`:`${this.id}_${e.row}_${e.column}`:this.id}get bannerClass(){return"igx-banner "+(this.rowEditPositioningStrategy.isTop?"igx-banner__border-top":"igx-banner__border-bottom")}get sortingExpressions(){return this._sortingExpressions}set sortingExpressions(e){this._sortingExpressions=RC(e),this.sortingExpressionsChange.emit(this._sortingExpressions),this.notifyChanges()}get maxLevelHeaderDepth(){return null===this._maxLevelHeaderDepth&&(this._maxLevelHeaderDepth=this.hasColumnLayouts?this._columns.reduce(((e,t)=>Math.max(e,t.rowStart)),0):this._columns.reduce(((e,t)=>Math.max(e,t.level)),0)),this._maxLevelHeaderDepth}get hiddenColumnsCount(){return this._columns.filter((e=>!1===e.columnGroup&&!0===e.hidden)).length}get pinnedColumnsCount(){return this.pinnedColumns.filter((e=>!e.columnLayout)).length}get batchEditing(){return this._batchEditing}set batchEditing(e){e!==this._batchEditing&&(delete this._transactions,this._batchEditing=e,this.switchTransactionService(e),this.subscribeToTransactions())}get transactions(){return this._diTransactions&&!this.batchEditing?this._diTransactions:this._transactions}get currentRowState(){return this._currentRowState}get currencyPositionLeft(){if(void 0!==this._currencyPositionLeft)return this._currencyPositionLeft;let e=ov(this.locale,Zf.Currency).split(","),t=e.indexOf(e.find((e=>e.includes("¤"))));return this._currencyPositionLeft=t<1}get cellSelection(){return this._cellSelectionMode}set cellSelection(e){this._cellSelectionMode=e,this.selectionService.clear(!0),this.notifyChanges()}get rowSelection(){return this._rowSelectionMode}set rowSelection(e){this._rowSelectionMode=e,this._init||(this.selectionService.clearAllSelectedRows(),this.notifyChanges(!0))}get columnSelection(){return this._columnSelectionMode}set columnSelection(e){this._columnSelectionMode=e,this.selectionService.clearAllSelectedColumns(),this.notifyChanges(!0)}set pagingState(e){this._pagingState=e,this.paginator&&!this._init&&(this.paginator.totalRecords=e.metadata.countRecords)}get pagingState(){return this._pagingState}get lastSearchInfo(){return this._lastSearchInfo}get type(){return"flat"}get paginator(){return this.paginationComponents?.first}get scrollSize(){return this.verticalScrollContainer.getScrollNativeSize()}get minColumnWidth(){return 136}get isCustomSetRowHeight(){return!isNaN(this._rowHeight)}get filteredData(){return this._filteredData}get filteredSortedData(){return this._filteredSortedData}get rowChangesCount(){if(!this.crudService.row)return 0;let e=t=>{let i=0;return Object.keys(t).forEach((n=>VC(t[n])?i+=e(t[n]):i++)),i};if(this.transactions.getState(this.crudService.row.id)?.type===lS.ADD)return this._columns.filter((e=>e.field)).length;let t=this.transactions.getAggregatedValue(this.crudService.row.id,!1);return t?e(t):0}get dataWithAddedInTransactionRows(){let e=RC(this.gridAPI.get_all_data());return this.transactions.enabled&&e.push(...this.transactions.getAggregatedChanges(!0).filter((e=>e.type===lS.ADD)).map((e=>e.newValue))),this.crudService.row&&this.crudService.row.isAddRow&&e.splice(this.crudService.row.index,0,this.crudService.row.data),e}get dataLength(){return this.transactions.enabled?this.dataWithAddedInTransactionRows.length:this.gridAPI.get_all_data().length}get template(){return this.isLoading&&(this.hasZeroResultFilter||this.hasNoData)?this.loadingGridTemplate?this.loadingGridTemplate:this.loadingGridDefaultTemplate:this.hasZeroResultFilter?this.emptyGridTemplate?this.emptyGridTemplate:this.emptyFilteredGridTemplate:this.hasNoData?this.emptyGridTemplate?this.emptyGridTemplate:this.emptyGridDefaultTemplate:void 0}get hasZeroResultFilter(){return this.filteredData&&0===this.filteredData.length}get totalCalcWidth(){return this.platform.isBrowser?this.calcWidth:void 0}get renderData(){return!this.platform.isBrowser&&this.isPercentHeight?void 0:this.data}get hasNoData(){return!this.data||0===this.dataLength||!this.platform.isBrowser}get shouldOverlayLoading(){return this.isLoading&&!this.hasNoData&&!this.hasZeroResultFilter}get isMultiRowSelectionEnabled(){return this.rowSelection===db||this.rowSelection===cb}get isRowSelectable(){return this.rowSelection!==ab}get isCellSelectable(){return this.cellSelection!==ab}get columnInDrag(){return this.gridAPI.cms.column}constructor(e,t,i,n,r,s,o,a,l,d,c,h,u,g,p,m,f,v,y,x,_){this.validation=e,this.selectionService=t,this.colResizingService=i,this.gridAPI=n,this.transactionFactory=r,this.elementRef=s,this.zone=o,this.document=a,this.cdr=l,this.differs=d,this.viewRef=c,this.injector=h,this.envInjector=u,this.navigation=g,this.filteringService=p,this.textHighlightService=m,this.overlayService=f,this.summaryService=v,this.localeId=y,this.platform=x,this._diTransactions=_,this.snackbarDisplayTime=6e3,this.autoGenerate=!1,this.autoGenerateExclude=[],this.moving=!1,this.clipboardOptions={enabled:!0,copyHeaders:!0,copyFormatters:!0,separator:"\t"},this.filteringExpressionsTreeChange=new wl,this.advancedFilteringExpressionsTreeChange=new wl,this.gridScroll=new wl,this.rowStyles=null,this.cellClick=new wl,this.rowClick=new wl,this.formGroupCreated=new wl,this.validationStatusChange=new wl,this.selected=new wl,this.rowSelectionChanging=new wl,this.columnSelectionChanging=new wl,this.columnPin=new wl,this.columnPinned=new wl,this.cellEditEnter=new wl,this.cellEditExit=new wl,this.cellEdit=new wl,this.cellEditDone=new wl,this.rowEditEnter=new wl,this.rowEdit=new wl,this.rowEditDone=new wl,this.rowEditExit=new wl,this.columnInit=new wl,this.columnsAutogenerated=new wl,this.sorting=new wl,this.sortingDone=new wl,this.filtering=new wl,this.filteringDone=new wl,this.rowAdded=new wl,this.rowDeleted=new wl,this.rowDelete=new wl,this.rowAdd=new wl,this.columnResized=new wl,this.contextMenu=new wl,this.doubleClick=new wl,this.columnVisibilityChanging=new wl,this.columnVisibilityChanged=new wl,this.columnMovingStart=new wl,this.columnMoving=new wl,this.columnMovingEnd=new wl,this.gridKeydown=new wl,this.rowDragStart=new wl,this.rowDragEnd=new wl,this.gridCopy=new wl,this.expansionStatesChange=new wl,this.selectedRowsChange=new wl,this.rowToggle=new wl,this.rowPinning=new wl,this.rowPinned=new wl,this.activeNodeChange=new wl,this.sortingExpressionsChange=new wl,this.toolbarExporting=new wl,this.rangeSelected=new wl,this.rendered=new wl,this.localeChange=new wl,this.dataChanging=new wl,this.dataChanged=new wl,this.columnList=new jl,this.tmpOutlets=new jl,this.rowExpandedIndicatorDirectiveTemplate=null,this.rowCollapsedIndicatorDirectiveTemplate=null,this.headerExpandedIndicatorDirectiveTemplate=null,this.headerCollapsedIndicatorDirectiveTemplate=null,this.excelStyleHeaderIconDirectiveTemplate=null,this.sortAscendingHeaderIconDirectiveTemplate=null,this.sortDescendingHeaderIconDirectiveTemplate=null,this.sortHeaderIconDirectiveTemplate=null,this.tabindex=0,this.hostRole="grid",this.baseClass="igx-grid",this.validationTrigger="change",this.rowDragging=!1,this.dragRowID=null,this.calcHeight=0,this.disableTransitions=!1,this.columnWidthSetByUser=!1,this.rendered$=this.rendered.asObservable().pipe(function(e,t,i){let n,r=!1;return e&&"object"==typeof e?({bufferSize:n=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:i}=e):n=e??1/0,function(e={}){let{connector:t=(()=>new Ci),resetOnError:i=!0,resetOnComplete:n=!0,resetOnRefCountZero:r=!0}=e;return e=>{let s,o,a,l=0,d=!1,c=!1,h=()=>{o?.unsubscribe(),o=void 0},u=()=>{h(),s=a=void 0,d=c=!1},g=()=>{let e=s;u(),e?.unsubscribe()};return vi(((e,p)=>{l++,!c&&!d&&h();let m=a=a??t();p.add((()=>{l--,0===l&&!c&&!d&&(o=Mn(g,r))})),m.subscribe(p),!s&&l>0&&(s=new li({next:e=>m.next(e),error:e=>{c=!0,h(),o=Mn(u,i,e),m.error(e)},complete:()=>{d=!0,h(),o=Mn(u,n),m.complete()}}),Qi(e).subscribe(s))}))(e)}}({connector:()=>new Ei(n,t,i),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}({bufferSize:1,refCount:!0})),this.resizeNotify=new Ci,this.rowAddedNotifier=new Ci,this.rowDeletedNotifier=new Ci,this.pipeTriggerNotifier=new Ci,this._destroyed=!1,this._totalRecords=-1,this.columnsWithNoSetWidths=null,this.pipeTrigger=0,this.filteringPipeTrigger=0,this.isColumnWidthSum=!1,this.summaryPipeTrigger=0,this.groupablePipeTrigger=0,this.EMPTY_DATA=[],this.destroy$=new Ci,this._pagingMode="local",this._hideRowSelectors=!1,this._rowDrag=!1,this._columns=[],this._pinnedColumns=[],this._unpinnedColumns=[],this._filteringExpressionsTree=new US(qS.And),this._sortingExpressions=[],this._maxLevelHeaderDepth=null,this._columnHiding=!1,this._columnPinning=!1,this._pinnedRecordIDs=[],this._allowFiltering=!1,this._allowAdvancedFiltering=!1,this._filterMode=eb,this._defaultTargetRecordNumber=10,this._expansionStates=new Map,this._defaultExpandState=!1,this._headerFeaturesWidth=NaN,this._init=!0,this._firstAutoResize=!0,this._autoSizeColumnsNotify=new Ci,this._cdrRequestRepaint=!1,this._batchEditing=!1,this._sortingOptions={mode:"multiple"},this._filterStrategy=new QS,this._autoGeneratedCols=[],this._autoGeneratedColsRefs=[],this._dataView=[],this._lastSearchInfo={searchText:"",caseSensitive:!1,exactMatch:!1,activeMatchIndex:0,matchInfoCache:[],matchCount:0,content:""},this._rowEditable=!1,this._filteredSortedData=null,this._filteredData=null,this._cdrRequests=!1,this._resourceStrings=TA($G),this._emptyGridMessage=null,this._emptyFilteredGridMessage=null,this._isLoading=!1,this.overlayIDs=[],this._pinning={columns:gb.Start},this._shouldRecalcRowHeight=!1,this._advancedFilteringPositionSettings={verticalDirection:bI.Middle,horizontalDirection:SI.Center,horizontalStartPoint:SI.Center,verticalStartPoint:bI.Middle},this._advancedFilteringOverlaySettings={closeOnOutsideClick:!1,modal:!1,positionStrategy:new kI(this._advancedFilteringPositionSettings)},this._height="100%",this._width="100%",this._horizontalForOfs=[],this._multiRowLayoutRowSize=1,this._totalWidth=NaN,this._pinnedVisible=[],this._unpinnedVisible=[],this._pinnedWidth=NaN,this._unpinnedWidth=NaN,this._visibleColumns=[],this._columnGroups=!1,this._summaryPosition=nb,this._summaryCalculationMode=ob,this._showSummaryOnCollapse=!1,this._summaryRowHeight=0,this._cellSelectionMode=db,this._rowSelectionMode=ab,this._selectRowOnClick=!0,this._columnSelectionMode=ab,this.rowEditPositioningStrategy=new zZ({horizontalDirection:SI.Right,verticalDirection:bI.Bottom,horizontalStartPoint:SI.Left,verticalStartPoint:bI.Bottom,closeAnimation:null}),this.rowEditSettings={scrollStrategy:new BI,modal:!1,closeOnOutsideClick:!1,outlet:this.rowOutletDirective,positionStrategy:this.rowEditPositioningStrategy},this.transactionChange$=new Ci,this._rendered=!1,this.DRAG_SCROLL_DELTA=10,this._dataCloneStrategy=new CS,this._autoSize=!1,this._sortHeaderIconTemplate=null,this._sortAscendingHeaderIconTemplate=null,this._sortDescendingHeaderIconTemplate=null,this._gridSize=yb,this._defaultRowHeight=50,this.displayStyle="grid",this.templateRows="auto auto auto 1fr auto auto",this.isHorizontalScrollHidden=!1,this.preventContainerScroll=e=>{0!==e.target.scrollTop&&(this.verticalScrollContainer.addScroll(e.target.scrollTop),e.target.scrollTop=0),0!==e.target.scrollLeft&&(this.headerContainer.scrollPosition+=e.target.scrollLeft,e.target.scrollLeft=0)},this.rowEditingWheelHandler=e=>{e.deltaY>0?this.verticalScrollContainer.scrollNext():this.verticalScrollContainer.scrollPrev()},this.locale=this.locale||this.localeId,this._transactions=this.transactionFactory.create("None"),this._transactions.cloneStrategy=this.dataCloneStrategy,this.cdr.detach(),this.selectionService.selectedRowsChange.pipe(Nn(this.destroy$)).subscribe((e=>{this.selectedRowsChange.emit(e)})),NZ.register()}hideActionStrip(){this.actionStrip?.hide()}get headerFeaturesWidth(){return this._headerFeaturesWidth}isDetailRecord(e){return!1}isGroupByRecord(e){return!1}isGhostRecord(e){return void 0!==e.ghostRecord}isAddRowRecord(e){return void 0!==e.addRow}getDataViewIndex(e,t){return t&&!this.isRowPinningToTop?e+=this.unpinnedDataView.length:!t&&this.isRowPinningToTop&&(e+=this.pinnedDataView.length),e}get hasDetails(){return!1}get virtualizationState(){return this.verticalScrollContainer.state}hideOverlays(){this.overlayIDs.forEach((e=>{let t=this.overlayService.getOverlayById(e);t?.visible&&!t.closeAnimationPlayer?.hasStarted()&&(this.overlayService.hide(e),this.nativeElement.focus())}))}isRecordPinnedByViewIndex(e){return this.hasPinnedRecords&&this.isRowPinningToTop&&e<this.pinnedDataView.length||!this.isRowPinningToTop&&e>=this.unpinnedDataView.length}isRecordPinnedByIndex(e){return this.hasPinnedRecords&&this.isRowPinningToTop&&e<this._filteredSortedPinnedData.length||!this.isRowPinningToTop&&e>=this._filteredSortedUnpinnedData.length}isRecordPinned(e){return-1!==this.getInitialPinnedIndex(e)}getInitialPinnedIndex(e){let t=this.gridAPI.get_row_id(e);return this._pinnedRecordIDs.indexOf(t)}get hasPinnedRecords(){return this._pinnedRecordIDs.length>0}get pinnedRecordsCount(){return this._pinnedRecordIDs.length}get crudService(){return this.gridAPI.crudService}_setupServices(){this.gridAPI.grid=this,this.crudService.grid=this,this.selectionService.grid=this,this.validation.grid=this,this.navigation.grid=this,this.filteringService.grid=this,this.summaryService.grid=this}_setupListeners(){let e=Nn(this.destroy$);Sn(this.nativeElement,"focusout").pipe(Rn((()=>!!this.navigation.activeNode)),e).subscribe((e=>{let t=this.navigation.activeNode;!this.crudService.cell&&t&&(e.target===this.tbody.nativeElement&&t.row>=0&&t.row<this.dataView.length||e.target===this.theadRow.nativeElement&&-1===t.row||e.target===this.tfoot.nativeElement&&t.row===this.dataView.length)&&!(this.rowEditable&&this.crudService.rowEditingBlocked&&this.crudService.rowInEditMode)&&this.clearActiveNode()})),this.rowAddedNotifier.pipe(e).subscribe((e=>this.refreshGridState(e))),this.rowDeletedNotifier.pipe(e).subscribe((e=>{this.summaryService.deleteOperation=!0,this.summaryService.clearSummaryCache(e)})),this.subscribeToTransactions(),this.resizeNotify.pipe(Rn((()=>!this._init)),Bn(40,Pi,{leading:!0,trailing:!0}),e).subscribe((()=>{this.zone.run((()=>{this.nativeElement.isConnected&&(this.shouldResize&&(this._gridSize=this.gridSize,this.updateDefaultRowHeight(),this._autoSize=this.isPercentHeight&&this.calcHeight!==this.getDataBasedBodyHeight(),this.crudService.endEdit(!1),0===this._summaryRowHeight&&(this.summaryService.summaryHeight=0)),this.notifyChanges(!0))}))})),this.pipeTriggerNotifier.pipe(Nn(this.destroy$)).subscribe((()=>this.pipeTrigger++)),this.columnMovingEnd.pipe(e).subscribe((()=>this.crudService.endEdit(!1))),this.overlayService.opening.pipe(e).subscribe((e=>{if(this._advancedFilteringOverlayId===e.id){let t=e.componentRef.instance;t&&t.initialize(this,this.overlayService,e.id)}})),this.overlayService.opened.pipe(e).subscribe((e=>{let t=this.overlayService.getOverlayById(e.id)?.settings;if(this._advancedFilteringOverlayId!==e.id)this.rowEditingOverlay?.overlayId!==e.id&&t?.outlet===this.outlet&&-1===this.overlayIDs.indexOf(e.id)&&this.overlayIDs.push(e.id);else{let t=e.componentRef.instance;t&&(t.lastActiveNode=this.navigation.activeNode,t.queryBuilder.setAddButtonFocus())}})),this.overlayService.closed.pipe(Rn((()=>!this._init)),e).subscribe((e=>{if(this._advancedFilteringOverlayId===e.id)return this.overlayService.detach(this._advancedFilteringOverlayId),void(this._advancedFilteringOverlayId=null);let t=this.overlayIDs.indexOf(e.id);-1!==t&&this.overlayIDs.splice(t,1)})),this.verticalScrollContainer.dataChanging.pipe(Rn((()=>!this._init)),e).subscribe((e=>{this.isPercentHeight&&(!this.calcHeight||this.calcHeight===this.getDataBasedBodyHeight()||this.calcHeight===this.renderedRowHeight*this._defaultTargetRecordNumber)&&(this.calculateGridHeight(),e.containerSize=this.calcHeight),this.evaluateLoadingState()})),this.verticalScrollContainer.scrollbarVisibilityChanged.pipe(Rn((()=>!this._init)),e).subscribe((()=>{this.notifyChanges(!0),this.cdr.detectChanges(),Promise.resolve().then((()=>this.headerContainer.updateScroll()))})),this.headerContainer?.scrollbarVisibilityChanged.pipe(Rn((()=>!this._init)),e).subscribe((()=>{this.notifyChanges(!0),this.cdr.detectChanges()})),this.verticalScrollContainer.contentSizeChange.pipe(Rn((()=>!this._init)),Bn(30),e).subscribe((()=>{this.notifyChanges(!0)})),this._autoSizeColumnsNotify.pipe(Bn(0,this.platform.isBrowser?Pi:void 0,{leading:!1,trailing:!0}),e).subscribe((()=>{this.autoSizeColumnsInView(),this._firstAutoResize=!1}))}ngOnInit(){this._setupServices(),this._setupListeners(),this.rowListDiffer=this.differs.find([]).create(null),this.columnListDiffer=this.differs.find([]).create(((e,t)=>t.field)),this.calcWidth=this.width&&-1===this.width.indexOf("%")?parseInt(this.width,10):0,this.gridComputedStyles=this.document.defaultView.getComputedStyle(this.nativeElement)}resetColumnsCaches(){this._columns.forEach((e=>e.resetCaches()))}generateRowID(){let e=this._columns.find((e=>e.field===this.primaryKey));return"string"===(this.data.length?this.resolveDataTypes(this.data[0][this.primaryKey]):e?e.dataType:"string")?_$():iQ--}resetForOfCache(){let e=this.dataRowList.first;e&&(this._cdrRequests&&e.virtDirRow.cdr.detectChanges(),e.virtDirRow.assumeMaster())}setFilteredData(e,t){if(this.hasPinnedRecords&&t){this._filteredPinnedData=e||[];let t=this._filteredUnpinnedData||[],i=[...this._filteredPinnedData,...t];this._filteredData=i.length>0?i:this._filteredUnpinnedData}else this.hasPinnedRecords&&!t?this._filteredUnpinnedData=e:this._filteredData=e}resetColumnCollections(){this.hasColumnLayouts&&this._columns.filter((e=>e.columnLayout)).forEach((e=>e.populateVisibleIndexes())),this._visibleColumns.length=0,this._pinnedVisible.length=0,this._unpinnedVisible.length=0}resetCachedWidths(){this._unpinnedWidth=NaN,this._pinnedWidth=NaN,this._totalWidth=NaN}resetCaches(e=!0){e&&(this._headerFeaturesWidth=NaN,this.summaryService.summaryHeight=0),this.resetColumnsCaches(),this.resetColumnCollections(),this.resetForOfCache(),this.resetCachedWidths(),this.hasVisibleColumns=void 0,this._columnGroups=this._columns.some((e=>e.columnGroup))}ngAfterContentInit(){this.sortHeaderIconDirectiveTemplate&&(this.sortHeaderIconTemplate=this.sortHeaderIconDirectiveTemplate),this.sortAscendingHeaderIconDirectiveTemplate&&(this.sortAscendingHeaderIconTemplate=this.sortAscendingHeaderIconDirectiveTemplate),this.sortDescendingHeaderIconDirectiveTemplate&&(this.sortDescendingHeaderIconTemplate=this.sortDescendingHeaderIconDirectiveTemplate),this.setupColumns(),this.toolbar.changes.pipe(Rn((()=>!this._init)),Nn(this.destroy$)).subscribe((()=>this.notifyChanges(!0))),this.setUpPaginator(),this.paginationComponents.changes.pipe(Nn(this.destroy$)).subscribe((()=>{this.setUpPaginator()})),this.actionStrip&&(this.actionStrip.menuOverlaySettings.outlet=this.outlet)}dataRebinding(e){0==e.state.chunkSize&&(this._shouldRecalcRowHeight=!0),this.dataChanging.emit(e)}dataRebound(e){this.selectionService.clearHeaderCBState(),this._shouldRecalcRowHeight&&(this._shouldRecalcRowHeight=!1,this.updateDefaultRowHeight()),this.dataChanged.emit(e)}createFilterDropdown(e,t){if(t.outlet=this.outlet,this.excelStyleFilteringComponent){this.excelStyleFilteringComponent.initialize(e,this.overlayService);let i=this.overlayService.attach(this.excelStyleFilteringComponent.element,t);return this.excelStyleFilteringComponent.overlayComponentId=i,i}return this.overlayService.attach(Xj,this.viewRef,t)}setUpPaginator(){this.paginator?(this.paginator.pageChange.pipe(Hn((()=>!!this.paginator)),Rn((()=>!this._init))).pipe(Nn(this.destroy$)).subscribe((()=>{this.selectionService.clear(!0),this.crudService.endEdit(!1),this.pipeTrigger++,this.navigateTo(0),this.notifyChanges()})),this.paginator.perPageChange.pipe(Hn((()=>!!this.paginator)),Rn((()=>!this._init))).pipe(Nn(this.destroy$)).subscribe((()=>{this.selectionService.clear(!0),this.page=0,this.crudService.endEdit(!1),this.notifyChanges()}))):this.markForCheck()}setFilteredSortedData(e,t){e=e||[],this.pinnedRecordsCount>0?t?(this._filteredSortedPinnedData=e,this.pinnedRecords=e,this._filteredSortedData=this.isRowPinningToTop?[...this._filteredSortedPinnedData,...this._filteredSortedUnpinnedData]:[...this._filteredSortedUnpinnedData,...this._filteredSortedPinnedData],this.refreshSearch(!0,!1)):this._filteredSortedUnpinnedData=e:(this._filteredSortedData=e,this.refreshSearch(!0,!1)),this.buildDataView(e)}resetHorizontalVirtualization(){let e=e=>this.isDefined(e.nativeElement.parentElement);this._horizontalForOfs=[...this._dataRowList.filter(e).map((e=>e.virtDirRow)),...this._summaryRowList.filter(e).map((e=>e.virtDirRow))]}_setupRowObservers(){let e=e=>this.isDefined(e.nativeElement.parentElement),t=function(...e){return pi(e)}(cn((t=>t.filter(e).map((e=>e.virtDirRow))))),i=t(this._dataRowList.changes),n=t(this._summaryRowList.changes);i.pipe(Nn(this.destroy$)).subscribe((()=>{this.resetHorizontalVirtualization()})),n.pipe(Nn(this.destroy$)).subscribe((()=>{this.resetHorizontalVirtualization()})),this.resetHorizontalVirtualization()}_zoneBegoneListeners(){this.zone.runOutsideAngular((()=>{this.verticalScrollHandler=this.verticalScrollHandler.bind(this),this.horizontalScrollHandler=this.horizontalScrollHandler.bind(this),this.verticalScrollContainer.getScroll().addEventListener("scroll",this.verticalScrollHandler),this.headerContainer?.getScroll().addEventListener("scroll",this.horizontalScrollHandler),this.hasColumnsToAutosize&&this.headerContainer?.dataChanged.pipe(Nn(this.destroy$)).subscribe((()=>{this.cdr.detectChanges(),this.zone.onStable.pipe(Vn()).subscribe((()=>{this.autoSizeColumnsInView()}))})),qC(this.nativeElement).pipe(Vn(),Nn(this.destroy$)).subscribe((()=>this.resizeNotify.next())),qC(this.tbodyContainer.nativeElement).pipe(Nn(this.destroy$)).subscribe((()=>this.resizeNotify.next()))}))}ngAfterViewInit(){this.initPinning(),this.calculateGridSizes(),this._init=!1,this.cdr.reattach(),this._setupRowObservers(),this._zoneBegoneListeners(),this.verticalScrollContainer.displayContainer.addEventListener("scroll",this.preventContainerScroll),this._pinnedRowList.changes.pipe(Nn(this.destroy$)).subscribe((e=>{this.onPinnedRowsChanged(e)})),this.addRowSnackbar?.clicked.pipe(Nn(this.destroy$)).subscribe((()=>{let e=this.filteredSortedData[this.lastAddedRowIndex];this.scrollTo(e,0),this.addRowSnackbar.close()})),this.rendered$.pipe(Nn(this.destroy$)).subscribe((()=>{this.paginator&&(this.paginator.totalRecords=this.totalRecords?this.totalRecords:this.paginator.totalRecords,this.paginator.overlaySettings={outlet:this.outlet}),this.hasColumnsToAutosize&&this.autoSizeColumnsInView(),this._rendered=!0})),Promise.resolve().then((()=>this.rendered.next(!0)))}notifyChanges(e=!1){this._cdrRequests=!0,this._cdrRequestRepaint=e,this.cdr.markForCheck()}ngDoCheck(){if(!this._init){if(this._cdrRequestRepaint)return this.resetNotifyChanges(),this.calculateGridSizes(),void this.refreshSearch(!0);this._cdrRequests&&(this.resetNotifyChanges(),this.cdr.detectChanges())}}getDragGhostCustomTemplate(){return this.dragGhostCustomTemplate}ngOnDestroy(){this.tmpOutlets.forEach((e=>{e.cleanCache()})),this._autoGeneratedColsRefs.forEach((e=>e.destroy())),this._autoGeneratedColsRefs=[],this.destroy$.next(!0),this.destroy$.complete(),this.transactionChange$.next(),this.transactionChange$.complete(),this._destroyed=!0,this.textHighlightService.destroyGroup(this.id),this._advancedFilteringOverlayId&&(this.overlayService.detach(this._advancedFilteringOverlayId),delete this._advancedFilteringOverlayId),this.overlayIDs.forEach((e=>{let t=this.overlayService.getOverlayById(e);t&&!t.detached&&this.overlayService.detach(e)})),this.zone.runOutsideAngular((()=>{this.verticalScrollContainer?.getScroll()?.removeEventListener("scroll",this.verticalScrollHandler),this.headerContainer?.getScroll()?.removeEventListener("scroll",this.horizontalScrollHandler),this.verticalScrollContainer?.displayContainer?.removeEventListener("scroll",this.preventContainerScroll)}))}toggleColumnVisibility(e){let t=e.column?this._columns.find((t=>t===e.column)):void 0;t&&t.toggleVisibility(e.newValue)}get expansionStates(){return this._expansionStates}set expansionStates(e){this._expansionStates=new Map(e),this.expansionStatesChange.emit(this._expansionStates),this.notifyChanges(!0),this.gridAPI.grid&&this.cdr.detectChanges()}expandAll(){this._defaultExpandState=!0,this.expansionStates=new Map}collapseAll(){this._defaultExpandState=!1,this.expansionStates=new Map}expandRow(e){this.gridAPI.set_row_expansion_state(e,!0)}collapseRow(e){this.gridAPI.set_row_expansion_state(e,!1)}toggleRow(e){let t=this.gridAPI.get_rec_by_id(e),i=this.gridAPI.get_row_expansion_state(t);this.gridAPI.set_row_expansion_state(e,!i)}getDefaultExpandState(e){return this._defaultExpandState}get nativeElement(){return this.elementRef.nativeElement}get outlet(){return this.resolveOutlet()}set outlet(e){this._userOutletDirective=e}get defaultRowHeight(){return this._defaultRowHeight}get defaultSummaryHeight(){switch(this.gridSize){case vb:return 30;case fb:return 24;default:return 36}}get defaultHeaderGroupMinWidth(){switch(this.gridSize){case vb:return 32;case fb:return 24;default:return 48}}get pinnedWidth(){return isNaN(this._pinnedWidth)?(this._pinnedWidth=this.getPinnedWidth(),this._pinnedWidth):this._pinnedWidth}get unpinnedWidth(){return isNaN(this._unpinnedWidth)?(this._unpinnedWidth=this.getUnpinnedWidth(),this._unpinnedWidth):this._unpinnedWidth}getHeaderCellWidth(e){let t=this.document.createRange(),i=this.platform.getNodeSizeViaRange(t,e,e.parentElement),n=this.document.defaultView.getComputedStyle(e),r=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight)+parseFloat(n.borderRightWidth),s=this.document.defaultView.getComputedStyle(e.parentElement),o=parseFloat(s.borderRightWidth)+parseFloat(s.borderLeftWidth);return{width:Math.ceil(i),padding:Math.ceil(r+o)}}featureColumnsWidth(e){if(Number.isNaN(this._headerFeaturesWidth)){let t=this.headerSelectorContainer?.nativeElement?.getBoundingClientRect?this.headerSelectorContainer.nativeElement.getBoundingClientRect().width:0,i=this.rowDraggable&&this.headerDragContainer?.nativeElement?.getBoundingClientRect?this.headerDragContainer.nativeElement.getBoundingClientRect().width:0,n=this.headerGroupContainer?.nativeElement?.getBoundingClientRect?this.headerGroupContainer.nativeElement.getBoundingClientRect().width:0,r=e?.nativeElement?.getBoundingClientRect?e.nativeElement.getBoundingClientRect().width:0;this._headerFeaturesWidth=t+i+n+r}return this._headerFeaturesWidth}get summariesMargin(){return this.featureColumnsWidth()}get columns(){return this._columns||[]}get pinnedColumns(){return this._pinnedVisible.length||(this._pinnedVisible=this._pinnedColumns.filter((e=>!e.hidden))),this._pinnedVisible}get pinnedRows(){return this._pinnedRowList.toArray().sort(((e,t)=>e.index-t.index))}get unpinnedColumns(){return this._unpinnedVisible.length||(this._unpinnedVisible=this._unpinnedColumns.filter((e=>!e.hidden))),this._unpinnedVisible}getHeaderGroupWidth(e){return this.hasColumnLayouts?"":`${Math.max(parseFloat(e.calcWidth),this.defaultHeaderGroupMinWidth)}px`}getColumnByName(e){return this._columns.find((t=>t.field===e))}getColumnByVisibleIndex(e){return this.visibleColumns.find((t=>!t.columnGroup&&!t.columnLayout&&t.visibleIndex===e))}recalculateAutoSizes(){this._columns.forEach((e=>e.autoSize=void 0)),this.resetCaches(),this.zone.onStable.pipe(Vn()).subscribe((()=>{this.cdr.detectChanges(),this.autoSizeColumnsInView()}))}get visibleColumns(){return this._visibleColumns.length||(this._visibleColumns=this._columns.filter((e=>!e.hidden))),this._visibleColumns}get totalRecords(){return this._totalRecords>=0?this._totalRecords:this.pagingState?.metadata.countRecords}set totalRecords(e){e>=0&&(this.paginator&&(this.paginator.totalRecords=e),this._totalRecords=e,this.pipeTrigger++,this.notifyChanges())}get totalWidth(){if(!isNaN(this._totalWidth))return this._totalWidth;let e=this.visibleColumns.filter((e=>0===e.level&&!e.pinned)),t=0,i=0;for(;i<e.length;i++)t+=parseFloat(e[i].calcWidth)||0;return this._totalWidth=t,t}get showRowSelectors(){return this.isRowSelectable&&this.hasVisibleColumns&&!this.hideRowSelectors}get showAddButton(){return this.rowEditable&&0===this.dataView.length&&this._columns.length>0}get showDragIcons(){return this.rowDraggable&&this._columns.length>this.hiddenColumnsCount}_getDataViewIndex(e){let t=e;return(e<0||e>=this.dataView.length)&&"remote"===this.pagingMode&&0!==this.page?t=e-this.perPage*this.page:this.gridAPI.grid.verticalScrollContainer.isRemote&&(t=e-this.gridAPI.grid.virtualizationState.startIndex),t}getDataIndex(e){let t=e;return this.gridAPI.grid.verticalScrollContainer.isRemote&&(t=e+this.gridAPI.grid.virtualizationState.startIndex),t}moveColumn(e,t,i=WH.AfterDropTarget){let n={source:e,target:t,cancel:!1};if(this.columnMovingEnd.emit(n),!n.cancel&&e!==t&&e.level===t.level&&e.topLevelParent===t.topLevelParent){if(e.level&&this._moveChildColumns(e.parent,e,t,i),t.pinned&&!e.pinned){let n=this._pinnedColumns.indexOf(t),r=i===WH.AfterDropTarget?n+1:n;e.pin(r)}if(!t.pinned&&e.pinned){let n=this._unpinnedColumns.indexOf(t),r=i===WH.AfterDropTarget?n+1:n;e.unpin(r)}this._moveColumns(e,t,i),this._columnsReordered(e)}}markForCheck(){this.pipeTrigger++,this.cdr.detectChanges()}addRow(e){this.crudService.endEdit(!0),this.gridAPI.addRowToData(e),this.pipeTrigger++,this.rowAddedNotifier.next({data:e,rowData:e,owner:this,primaryKey:e[this.primaryKey],rowKey:e[this.primaryKey]}),this.notifyChanges()}deleteRow(e){if(void 0!==this.primaryKey&&null!==this.primaryKey)return this.deleteRowById(e)}deleteRowById(e){let t={rowID:e,primaryKey:e,rowKey:e,rowData:this.getRowData(e),data:this.getRowData(e),oldValue:this.getRowData(e),owner:this,isAddRow:!1,cancel:!1};if(this.rowDelete.emit(t),t.cancel)return;let i=this.gridAPI.deleteRowById(e);if(null!=i){let e={data:i,rowData:i,owner:this,primaryKey:i[this.primaryKey],rowKey:i[this.primaryKey]};this.rowDeleted.emit(e)}return i}updateCell(e,t,i){if(this.isDefined(this.primaryKey)){let n=this._columns.find((e=>e.field===i));if(n){let i=this.gridAPI.getRowData(t),r=this.gridAPI.get_row_index_in_data(t);if(r<0)return;let s={rowID:t,columnID:n.index,rowIndex:r},o=new VF(s,r,n,i[n.field],e,i,this);this.validation.getFormControl(o.id.rowID,o.column.field).setValue(e),this.gridAPI.update_cell(o),this.cdr.detectChanges()}}}updateRow(e,t){if(this.isDefined(this.primaryKey)){let i=this.crudService.cell;i&&i.id.rowID===t&&this.crudService.endCellEdit();let n=new FF(t,-1,this.gridAPI.getRowData(t),this);this.gridAPI.update_row(n,e),this.notifyChanges()}}getRowData(e){if(!this.primaryKey)return e;let t=this.gridAPI.get_all_data(this.transactions.enabled),i=this.gridAPI.get_row_index_in_data(e);return i<0?{}:t[i]}sort(e){let t=RC(this.sortingExpressions);if(e instanceof Array)for(let i of e)this.gridAPI.prepare_sorting_expression([t],i);else"single"===this._sortingOptions.mode&&this._columns.forEach((t=>{t.field!==e.fieldName&&this.clearSort(t.field)})),this.gridAPI.prepare_sorting_expression([t],e);let i={owner:this,sortingExpressions:t,cancel:!1};this.sorting.emit(i),!i.cancel&&(this.crudService.endEdit(!1),e instanceof Array?this.gridAPI.sort_multiple(e):this.gridAPI.sort(e),requestAnimationFrame((()=>this.sortingDone.emit(e))))}filter(e,t,i,n){this.filteringService.filter(e,t,i,n)}filterGlobal(e,t,i){this.filteringService.filterGlobal(e,t,i)}enableSummaries(...e){1===e.length&&Array.isArray(e[0])?this._multipleSummaries(e[0],!0):this._summaries(e[0],!0,e[1])}disableSummaries(...e){1===e.length&&Array.isArray(e[0])?this._disableMultipleSummaries(e[0]):this._summaries(e[0],!1)}clearFilter(e){this.filteringService.clearFilter(e)}clearSort(e){e?this.gridAPI.get_column_by_name(e)&&this.gridAPI.clear_sort(e):this.sortingExpressions=[]}refreshGridState(e){this.crudService.endEdit(!0),this.selectionService.clearHeaderCBState(),this.summaryService.clearSummaryCache(),this.summaryPipeTrigger++,this.cdr.detectChanges()}pinColumn(e,t){return(e instanceof UH?e:this.getColumnByName(e)).pin(t)}unpinColumn(e,t){return(e instanceof UH?e:this.getColumnByName(e)).unpin(t)}pinRow(e,t,i){if(-1!==this._pinnedRecordIDs.indexOf(e))return!1;let n=this.gridAPI.get_pin_row_event_args(e,t,i,!0);if(this.rowPinning.emit(n),n.cancel)return;this.crudService.endEdit(!1);let r="number"==typeof n.insertAtIndex?n.insertAtIndex:this._pinnedRecordIDs.length;return this._pinnedRecordIDs.splice(r,0,e),this.pipeTrigger++,this.gridAPI.grid&&(this.cdr.detectChanges(),this.rowPinned.emit(n)),!0}unpinRow(e,t){let i=this._pinnedRecordIDs.indexOf(e);if(-1===i)return!1;let n=this.gridAPI.get_pin_row_event_args(e,null,t,!1);return this.rowPinning.emit(n),n.cancel?void 0:(this.crudService.endEdit(!1),this._pinnedRecordIDs.splice(i,1),this.pipeTrigger++,this.gridAPI.grid&&(this.cdr.detectChanges(),this.rowPinned.emit(n)),!0)}get pinnedRowHeight(){let e=this.pinContainer?this.pinContainer.nativeElement.offsetHeight:0;return this.hasPinnedRecords?e:0}get totalHeight(){let e=this.calcHeight?this.calcHeight+this.pinnedRowHeight:this.calcHeight;return this.platform.isBrowser?e:void 0}reflow(){this.calculateGridSizes()}findNext(e,t,i){return this.find(e,1,t,i)}findPrev(e,t,i){return this.find(e,-1,t,i)}refreshSearch(e,t=!0){if(this._lastSearchInfo.searchText){if(this.rebuildMatchCache(),e){let e=this.textHighlightService.highlightGroupsMap.get(this.id);this._lastSearchInfo.matchInfoCache.forEach(((t,i)=>{t.column===e.column&&t.row===e.row&&t.index===e.index&&YC(t.metadata,e.metadata)&&(this._lastSearchInfo.activeMatchIndex=i)}))}return this.find(this._lastSearchInfo.searchText,0,this._lastSearchInfo.caseSensitive,this._lastSearchInfo.exactMatch,!1,t)}return 0}clearSearch(){this._lastSearchInfo={searchText:"",caseSensitive:!1,exactMatch:!1,activeMatchIndex:0,matchInfoCache:[],matchCount:0,content:""},this.rowList.forEach((e=>{e.cells&&e.cells.forEach((e=>{e.clearHighlight()}))}))}get hasEditableColumns(){return this._columns.some((e=>e.editable))}get hasSummarizedColumns(){return this._columns.filter((e=>e.hasSummary&&!e.hidden)).length>0}get rootSummariesEnabled(){return this.summaryCalculationMode!==sb}get hasVisibleColumns(){return void 0===this._hasVisibleColumns?!!this._columns&&this._columns.some((e=>!e.hidden)):this._hasVisibleColumns}set hasVisibleColumns(e){this._hasVisibleColumns=e}get hasMovableColumns(){return this.moving}get hasColumnGroups(){return this._columnGroups}get hasColumnLayouts(){return!!this._columns.some((e=>e.columnLayout))}get multiRowLayoutRowSize(){return this._multiRowLayoutRowSize}get rowBasedHeight(){return this.dataLength*this.rowHeight}get isPercentWidth(){return this.width&&-1!==this.width.indexOf("%")}get shouldResize(){return this._gridSize!==this.gridSize}get isPercentHeight(){return this._height&&-1!==this._height.indexOf("%")}get defaultTargetBodyHeight(){let e=this.dataLength;return this.renderedActualRowHeight*Math.min(this._defaultTargetRecordNumber,this.paginator?Math.min(e,this.paginator.perPage):e)}get renderedRowHeight(){return this.rowHeight+1}get outerWidth(){return this.hasVerticalScroll()?this.calcWidth+this.scrollSize:this.calcWidth}get gridSize(){return this.gridComputedStyles?.getPropertyValue("--component-size")||yb}getVisibleContentHeight(){let e=this.theadRow.nativeElement.clientHeight+this.tbody.nativeElement.clientHeight;return this.hasSummarizedColumns&&(e+=this.tfoot.nativeElement.clientHeight),e}getPossibleColumnWidth(e=null){let t;t=null!==e?e:this.calcWidth||parseFloat(this.document.defaultView.getComputedStyle(this.nativeElement).getPropertyValue("width"));let i=this.visibleColumns.filter((e=>!e.columnGroup)),n=[],r=this.visibleColumns.filter((e=>e.columnGroup)).map((e=>e.getInitialChildColumnSizes(e.children))),s=r.reduce(((e,t)=>e+t.length),0);r.forEach((e=>n=n.concat(e)));let o=this.hasColumnLayouts?n.filter((e=>e.widthSetByUser)):i.filter((e=>(e.widthSetByUser||e.widthConstrained)&&"fit-content"!==e.width)),a=this.hasColumnLayouts?s-o.length:i.length-o.length,l=o.reduce(((e,i)=>{let n=this.hasColumnLayouts?i.ref:i,r=n.widthConstrained?n.calcPixelWidth:i.width,s=parseFloat(r);isNaN(s)&&(s=136);let o=r&&"string"==typeof r&&-1!==r.indexOf("%")?s/100*t:s;return e+(this.hasColumnLayouts?o:n.getConstrainedSizePx(o))}),0);return l||a?(t-=this.featureColumnsWidth(),(Number.isFinite(l)?Math.max((t-l)/a,this.minColumnWidth):Math.max(t/a,this.minColumnWidth))+"px"):"0px"}hasVerticalScroll(){if(this._init)return!1;let e=!!this.verticalScrollContainer&&this.verticalScrollContainer.isScrollable();return!!(this.calcWidth&&this.dataView&&this.dataView.length>0&&e)}getPinnedWidth(e=!1){let t=e?this._pinnedColumns:this.pinnedColumns,i=0;for(let e of t)0===e.level&&(i+=parseFloat(e.calcWidth));return this.isPinningToStart&&(i+=this.featureColumnsWidth()),i}isColumnGrouped(e){return!1}onHeaderSelectorClick(e){this.isMultiRowSelectionEnabled&&(this.selectionService.areAllRowSelected()?this.selectionService.clearRowSelection(e):this.selectionService.selectAllRows(e))}get headSelectorBaseAriaLabel(){return this._filteringExpressionsTree.filteringOperands.length>0?this.selectionService.areAllRowSelected()?"Deselect all filtered":"Select all filtered":this.selectionService.areAllRowSelected()?"Deselect all":"Select all"}get totalRowsCountAfterFilter(){return this.data?this.selectionService.allData.length:0}get pinnedDataView(){return this.pinnedRecords?this.pinnedRecords:[]}get unpinnedDataView(){return this.unpinnedRecords?this.unpinnedRecords:this.verticalScrollContainer?.igxForOf||[]}get dataView(){return this._dataView}get selectRowOnClick(){return this._selectRowOnClick}set selectRowOnClick(e){this._selectRowOnClick=e}selectRows(e,t){this.selectionService.selectRowsWithNoEvent(e,t),this.notifyChanges()}deselectRows(e){this.selectionService.deselectRowsWithNoEvent(e),this.notifyChanges()}selectAllRows(e=!0){let t=e&&this.filteredData?this.filteredData:this.gridAPI.get_all_data(!0),i=this.selectionService.getRowIDs(t).filter((e=>!this.gridAPI.row_deleted_transaction(e)));this.selectRows(i)}deselectAllRows(e=!0){e&&this.filteredData&&this.filteredData.length>0?this.deselectRows(this.selectionService.getRowIDs(this.filteredData)):(this.selectionService.clearAllSelectedRows(),this.notifyChanges())}clearCellSelection(){this.selectionService.clear(!0),this.notifyChanges()}dragScroll(e){let t=this.headerContainer.getScroll(),i=this.verticalScrollContainer.getScroll(),{left:n,top:r}=e;t.scrollLeft+=n*this.DRAG_SCROLL_DELTA,i.scrollTop+=r*this.DRAG_SCROLL_DELTA}isDefined(e){return null!=e}selectRange(e){this.isDefined(e)?(e instanceof Array?e.forEach((e=>this.setSelection(e))):this.setSelection(e),this.notifyChanges()):this.clearCellSelection()}columnToVisibleIndex(e){let t=this.visibleColumns;return"number"==typeof e?e:t.find((t=>t.field===e)).visibleIndex}setSelection(e){let t={row:e.rowStart,column:this.columnToVisibleIndex(e.columnStart)},i={row:e.rowEnd,column:this.columnToVisibleIndex(e.columnEnd)};this.selectionService.pointerState.node=t,this.selectionService.selectRange(i,this.selectionService.pointerState),this.selectionService.addRangeMeta(i,this.selectionService.pointerState),this.selectionService.initPointerState()}getSelectedRanges(){return this.selectionService.ranges}getSelectedData(e=!1,t=!1){let i=this.filteredSortedData;return this.extractDataFromSelection(i,e,t)}selectedColumns(){return this.selectionService.getSelectedColumns().map((e=>this.getColumnByName(e))).filter((e=>e))}selectColumns(e,t){let i=[];0===e.length||"string"==typeof e[0]?i=e:e.forEach((e=>{if(e.columnGroup){let t=e.allChildren.filter((e=>!e.columnGroup)).map((e=>e.field));i=[...i,...t]}else i.push(e.field)})),this.selectionService.selectColumnsWithNoEvent(i,t),this.notifyChanges()}deselectColumns(e){let t=[];0===e.length||"string"==typeof e[0]?t=e:e.forEach((e=>{if(e.columnGroup){let i=e.allChildren.filter((e=>!e.columnGroup)).map((e=>e.field));t=[...t,...i]}else t.push(e.field)})),this.selectionService.deselectColumnsWithNoEvent(t),this.notifyChanges()}deselectAllColumns(){this.selectionService.clearAllSelectedColumns(),this.notifyChanges()}selectAllColumns(){this.selectColumns(this._columns.filter((e=>!e.columnGroup)))}getSelectedColumnsData(e=!1,t=!1){let i=this.filteredSortedData?this.filteredSortedData:this.data;return this.extractDataFromColumnsSelection(i,e,t)}combineSelectedCellAndColumnData(e,t=!1,i=!1){let n=this.filteredSortedData;return this.extractDataFromSelection(n,t,i,e)}copyHandler(e){let t=e.composedPath().map((e=>e.tagName?.toLowerCase()));if(t.includes("igx-grid-filtering-row")||t.includes("igx-grid-filtering-cell"))return;let i,n=this.gridAPI.grid.selectedColumns(),r=this.getSelectedColumnsData(this.clipboardOptions.copyFormatters,this.clipboardOptions.copyHeaders);"copy"===e.type&&(i=this.getSelectedData(this.clipboardOptions.copyFormatters,this.clipboardOptions.copyHeaders));let s,o=[];if("KeyC"===e.code&&(e.ctrlKey||e.metaKey)&&"igx-grid-thead__wrapper"===e.currentTarget.className)i.length?0===r.length?s=this.prepareCopyData(e,i):(o=this.combineSelectedCellAndColumnData(r,this.clipboardOptions.copyFormatters,this.clipboardOptions.copyHeaders),s=this.prepareCopyData(e,o[0],o[1])):(o=r,s=this.prepareCopyData(e,o)),navigator.clipboard.writeText(s).then().catch((e=>console.error(e)));else{if(!this.clipboardOptions.enabled||this.crudService.cellInEditMode||"keydown"===e.type)return;n.length?(o=this.combineSelectedCellAndColumnData(r,this.clipboardOptions.copyFormatters,this.clipboardOptions.copyHeaders),s=this.prepareCopyData(e,o[0],o[1])):(o=i,s=this.prepareCopyData(e,o)),e.clipboardData.setData("text/plain",s)}}prepareCopyData(e,t,i){let n={data:t,cancel:!1};if(this.gridCopy.emit(n),n.cancel)return;let r=new Rb(n.data,this.clipboardOptions.separator),s=i?r.prepareData(i):r.prepareData();return this.clipboardOptions.copyHeaders||(s=s.substring(s.indexOf("\n")+1)),t&&t.length>0&&1===Object.values(t[0]).length&&(s=s.slice(0,-2)),e.preventDefault(),e.stopPropagation(),s}showSnackbarFor(e){this.addRowSnackbar.actionText=-1===e?"":this.resourceStrings.igx_grid_snackbar_addrow_actiontext,this.lastAddedRowIndex=e,this.addRowSnackbar.open()}navigateTo(e,t=-1,i=null){let n=this.totalItemCount??this.dataView.length-1;if(e<0||e>n||-1!==t&&-1===this._columns.map((e=>e.visibleIndex)).indexOf(t))return;this.dataView.slice(e,e+1).find((e=>e.expression||e.childGridsData))&&(t=-1);let r=this.navigation.shouldPerformVerticalScroll(e,t),s=this.navigation.shouldPerformHorizontalScroll(t,e);r?this.navigation.performVerticalScrollToCell(e,t,(()=>{s?this.navigation.performHorizontalScrollToCell(t,(()=>this.executeCallback(e,t,i))):this.executeCallback(e,t,i)})):s?this.navigation.performHorizontalScrollToCell(t,(()=>{r?this.navigation.performVerticalScrollToCell(e,t,(()=>this.executeCallback(e,t,i))):this.executeCallback(e,t,i)})):this.executeCallback(e,t,i)}getNextCell(e,t,i=null){let n=this._columns.filter((e=>!e.columnGroup&&e.visibleIndex>=0)),r=this._getDataViewIndex(e);if(!this.isValidPosition(r,t))return{rowIndex:e,visibleColumnIndex:t};let s=i?n.filter((e=>i(e))).map((e=>e.visibleIndex)).sort(((e,t)=>e-t)):n.map((e=>e.visibleIndex)).sort(((e,t)=>e-t)),o=s.find((e=>e>t));if(this.dataView.slice(r,r+1).find((e=>!(e.expression||e.summaries||e.childGridsData||e.detailsData)))&&void 0!==o)return{rowIndex:e,visibleColumnIndex:o};{let i=this.getNextDataRowIndex(e);return 0===s.length||i===e?{rowIndex:e,visibleColumnIndex:t}:{rowIndex:i,visibleColumnIndex:s[0]}}}getPreviousCell(e,t,i=null){let n=this._columns.filter((e=>!e.columnGroup&&e.visibleIndex>=0)),r=this._getDataViewIndex(e);if(!this.isValidPosition(r,t))return{rowIndex:e,visibleColumnIndex:t};let s=i?n.filter((e=>i(e))).map((e=>e.visibleIndex)).sort(((e,t)=>t-e)):n.map((e=>e.visibleIndex)).sort(((e,t)=>t-e)),o=s.find((e=>e<t));if(this.dataView.slice(r,r+1).find((e=>!(e.expression||e.summaries||e.childGridsData||e.detailsData)))&&void 0!==o)return{rowIndex:e,visibleColumnIndex:o};{let i=this.getNextDataRowIndex(e,!0);return 0===s.length||i===e?{rowIndex:e,visibleColumnIndex:t}:{rowIndex:i,visibleColumnIndex:s[0]}}}endRowEditTabStop(e=!0,t){if(this.crudService.endEdit(e,t))return!0;this.navigation.restoreActiveNodeFocus()}trackColumnChanges(e,t){return t.field+t._calcWidth.toString()}isExpandedGroup(e){}openRowOverlay(e){this.configureRowEditingOverlay(e,this.rowList.length<=2),this.rowEditingOverlay.open(this.rowEditSettings),this.rowEditingOverlay.element.addEventListener("wheel",this.rowEditingWheelHandler)}closeRowEditingOverlay(){this.rowEditingOverlay.element.removeEventListener("wheel",this.rowEditingWheelHandler),this.rowEditPositioningStrategy.isTopInitialPosition=null,this.rowEditingOverlay.close(),this.rowEditingOverlay.element.parentElement.style.display=""}toggleRowEditingOverlay(e){this.rowEditingOverlay.element.style.display=e?"block":"none"}repositionRowEditingOverlay(e){if(e&&!this.rowEditingOverlay.collapsed){let t=this.rowEditingOverlay.element.parentElement.style;e?(t.display="",this.configureRowEditingOverlay(e.key),this.rowEditingOverlay.reposition()):t.display="none"}}cachedViewLoaded(e){if(this.hasHorizontalScroll()){let t=e.context.templateID.type,i=e.context.index;e.view.detectChanges(),this.zone.onStable.pipe(Vn()).subscribe((()=>{let e="dataRow"===t?this.gridAPI.get_row_by_index(i):null,n="summaryRow"===t?this.summariesRowList.find((e=>e.dataRowIndex===i)):null;e&&e instanceof aP?this._restoreVirtState(e):n&&this._restoreVirtState(n)}))}}openAdvancedFilteringDialog(e){let t=e||this._advancedFilteringOverlaySettings;this._advancedFilteringOverlayId||(this._advancedFilteringOverlaySettings.target=this.rootGrid?this.rootGrid.nativeElement:this.nativeElement,this._advancedFilteringOverlaySettings.outlet=this.outlet,this._advancedFilteringOverlayId=this.overlayService.attach(YG,this.viewRef,t),this.overlayService.show(this._advancedFilteringOverlayId))}closeAdvancedFilteringDialog(e){if(this._advancedFilteringOverlayId){let t=this.overlayService.getOverlayById(this._advancedFilteringOverlayId).componentRef.instance;e&&t.applyChanges(),t.closeDialog()}}getEmptyRecordObjectFor(e){let t=Qe({},e?.data);Object.keys(t).forEach((e=>t[e]=void 0));let i=this.generateRowID();return t[this.primaryKey]=i,{rowID:i,data:t,recordRef:t}}hasHorizontalScroll(){return Math.round(this.totalWidth-this.unpinnedWidth)>0&&null!==this.width}isSummaryRow(e){return e&&e.summaries&&e.summaries instanceof Map}triggerPipes(){this.pipeTrigger++,this.cdr.detectChanges()}getUnpinnedIndexById(e){return this.unpinnedRecords.findIndex((t=>t[this.primaryKey]===e))}endEdit(e=!0,t){if(!this.crudService.cellInEditMode&&!this.crudService.rowInEditMode)return;let i=this.nativeElement?.getRootNode(),n=this.nativeElement?.contains(i.activeElement),r=this.crudService.endEdit(e,t);return n?this.navigation.restoreActiveNodeFocus():this.navigation.activeNode&&this.clearActiveNode(),r}beginAddRowById(e,t){let i=e;if(null==e){if(t)return void console.warn("The record cannot be added as a child to an unspecified record.");i=null}else if(i=this.gridAPI.get_rec_index_by_id(e,this.dataView),-1===i)return void console.warn("No row with the specified ID was found.");this._addRowForIndex(i,t)}_addRowForIndex(e,t){if(this.dataView.length)if(e>=0&&e<this.dataView.length){if((e<this.virtualizationState.startIndex||e>=this.virtualizationState.startIndex+this.virtualizationState.chunkSize)&&!this.isRecordPinnedByViewIndex(e))return this.verticalScrollContainer.chunkLoad.pipe(Vn(),Nn(this.destroy$)).subscribe((()=>{this.beginAddRowForIndex(e,t)})),this.navigateTo(e),void this.notifyChanges(!0);this.beginAddRowForIndex(e,t)}else console.warn("The row with the specified PK or index is outside of the current data view.");else this.beginAddRowForIndex(e,t)}beginAddRowByIndex(e){return 0===e?this.beginAddRowById(null):this._addRowForIndex(e-1)}preventHeaderScroll(e){0!==e.target.scrollLeft&&(this.navigation.forOfDir().getScroll().scrollLeft=e.target.scrollLeft,e.target.scrollLeft=0)}beginAddRowForIndex(e,t=!1){let i=null==e?null:this.rowList.find((t=>t.index===e));void 0!==i?this.crudService.enterAddRowMode(i,t):console.warn("No row with the specified PK or index was found.")}switchTransactionService(e){this._transactions=e?this.transactionFactory.create("Base"):this.transactionFactory.create("None"),this.dataCloneStrategy&&(this._transactions.cloneStrategy=this.dataCloneStrategy)}subscribeToTransactions(){this.transactionChange$.next(),this.transactions.onStateUpdate.pipe(Nn(Tn(this.destroy$,this.transactionChange$))).subscribe(this.transactionStatusUpdate.bind(this))}transactionStatusUpdate(e){let t=[];if(e.origin===dS.REDO?t=e.actions?e.actions.filter((e=>e.transaction.type===lS.DELETE)):[]:e.origin===dS.UNDO&&(t=e.actions?e.actions.filter((e=>e.transaction.type===lS.ADD)):[]),t.length>0)for(let e of t)this.selectionService.isRowSelected(e.transaction.id)&&this.selectionService.deselectRow(e.transaction.id);(e.origin===dS.REDO||e.origin===dS.UNDO)&&e.actions.forEach((e=>{if(e.transaction.type===lS.UPDATE){let t=this.transactions.getAggregatedValue(e.transaction.id,!0);this.validation.update(e.transaction.id,t??e.recordRef)}else if(e.transaction.type===lS.DELETE||e.transaction.type===lS.ADD){let t=this.transactions.getAggregatedValue(e.transaction.id,!0);t?(this.validation.create(e.transaction.id,t??e.recordRef),this.validation.update(e.transaction.id,t??e.recordRef),this.validation.markAsTouched(e.transaction.id)):this.validation.clear(e.transaction.id)}})),this.selectionService.clearHeaderCBState(),this.summaryService.clearSummaryCache(),this.pipeTrigger++,this.notifyChanges()}writeToData(e,t){OC(this.gridAPI.get_all_data()[e],t)}_restoreVirtState(e){let t=e.virtDirRow,i=t.getScroll().scrollLeft;t.onHScroll(i),t.cdr.detectChanges()}changeRowEditingOverlayStateOnScroll(e){!this.rowEditable||!this.rowEditingOverlay||this.rowEditingOverlay.collapsed||(e?this.repositionRowEditingOverlay(e):this.toggleRowEditingOverlay(!1))}evaluateLoadingState(){if(this.shouldOverlayLoading){let e={outlet:this.loadingOutlet,closeOnOutsideClick:!1,positionStrategy:new MI};this.loadingOverlay.open(e)}else this.loadingOverlay.close()}calculateGridWidth(){let e;if(this.isPercentWidth){let t=this.document.defaultView.getComputedStyle(this.nativeElement).getPropertyValue("width");e=-1===t.indexOf("%")?parseFloat(t):null}else e=parseInt(this.width,10);!e&&this.nativeElement&&(e=this.nativeElement.offsetWidth),null!==this.width&&e?this.isColumnWidthSum=!1:(this.isColumnWidthSum=!0,e=this.getColumnWidthSum()),this.hasVerticalScroll()&&null!==this.width&&(e-=this.scrollSize),(Number.isFinite(e)||null===e)&&e!==this.calcWidth&&(this.calcWidth=e),this._derivePossibleWidth()}_derivePossibleWidth(){this.columnWidthSetByUser||(this._columnWidth=null!==this.width?this.getPossibleColumnWidth():this.minColumnWidth+"px"),this._columns.forEach((e=>{if(this.hasColumnLayouts&&parseFloat(this._columnWidth)){let t=parseFloat(this._columnWidth)*(e.colEnd?e.colEnd-e.colStart:1);e.defaultWidth=t+"px"}else e.defaultWidth=this.getExtremumBasedColWidth(e),e.resetCaches()})),this.resetCachedWidths()}getExtremumBasedColWidth(e){let t=this._columnWidth;t&&"string"!=typeof t&&(t=String(t));let i=-1===t.indexOf("%")?e.userSetMinWidthPx:e.minWidthPercent,n=-1===t.indexOf("%")?e.maxWidthPx:e.maxWidthPercent;return e.hidden||(i>parseFloat(t)?t=String(e.minWidth):n<parseFloat(t)&&(t=String(e.maxWidth)),-1===t.indexOf("%")&&-1===t.indexOf("px")&&(t+="px")),t}resetNotifyChanges(){this._cdrRequestRepaint=!1,this._cdrRequests=!1}resolveOutlet(){return this._userOutletDirective?this._userOutletDirective:this._outletDirective}_moveColumns(e,t,i){let n=this._pinnedColumns.concat(this._unpinnedColumns);this._reorderColumns(e,t,i,n);let r=this._resetColumnList(n);this.updateColumns(r)}updateColumns(e){this._pinnedColumns=e.filter((e=>e.pinned)),this._unpinnedColumns=e.filter((e=>!e.pinned)),this._columns=e,this._columns&&this._columns.length&&this._filteringExpressionsTree&&(this._filteringExpressionsTree=this.getRecreatedTree(this._filteringExpressionsTree)),this._columns&&this._columns.length&&this._advancedFilteringExpressionsTree&&(this._advancedFilteringExpressionsTree=this.getRecreatedTree(this._advancedFilteringExpressionsTree)),this.resetCaches()}_resetColumnList(e){e||(e=this._columns);let t=[];return e.filter((e=>0===e.level)).forEach((e=>{t.push(e),e.columnGroup&&(t=t.concat(e.allChildren))})),t}_reorderColumns(e,t,i,n,r=!1){let s=n.indexOf(e),o=r?1:e.allChildren.length+1;n.splice(s,o);let a=n.indexOf(t);i===WH.AfterDropTarget&&(a++,!r&&t.columnGroup&&(a+=t.allChildren.length)),n.splice(a,0,e)}_moveChildColumns(e,t,i,n){let r=e.children.toArray();this._reorderColumns(t,i,n,r,!0),e.children.reset(r)}setupColumns(){this.autoGenerate?this.autogenerateColumns():this._columns=this.getColumnList(),this._columns&&this._columns.length&&this._filteringExpressionsTree&&(this._filteringExpressionsTree=this.getRecreatedTree(this._filteringExpressionsTree)),this._columns&&this._columns.length&&this._advancedFilteringExpressionsTree&&(this._advancedFilteringExpressionsTree=this.getRecreatedTree(this._advancedFilteringExpressionsTree)),this.initColumns(this._columns,(e=>this.columnInit.emit(e))),this.columnListDiffer.diff(this.columnList),this.columnList.changes.pipe(Nn(this.destroy$)).subscribe((e=>{this.onColumnsChanged(e)}))}getColumnList(){return this.columnList.toArray().filter((e=>e.grid===this))}deleteRowFromData(e,t){if(-1!==t)if(this.transactions.enabled){let i={id:e,type:lS.DELETE,newValue:null};this.transactions.add(i,this.data[t])}else this.data.splice(t,1);else{let t=this.transactions.getState(e);this.transactions.add({id:e,type:lS.DELETE,newValue:null},t&&t.recordRef)}}getDataBasedBodyHeight(){return!this.data||this.data.length<this._defaultTargetRecordNumber?0:this.defaultTargetBodyHeight}onPinnedRowsChanged(e){this.rowListDiffer.diff(e)&&this.notifyChanges(!0)}onColumnsChanged(e){let t=this.columnListDiffer.diff(e);if(this.autoGenerate&&0===this._columns.length&&this._autoGeneratedCols.length>0)this.updateColumns(this._autoGeneratedCols);else if(t){let e=!1,i=!1,n=!1;t.forEachAddedItem((t=>{t.item.grid===this&&(e=!0,t.item.pinned?(this._pinnedColumns.push(t.item),n=!0):this._unpinnedColumns.push(t.item))})),this.initColumns(this.getColumnList(),(e=>this.columnInit.emit(e))),n&&this.initPinning(),t.forEachRemovedItem((e=>{e.item.grid===this&&(e.item instanceof XH||(this.gridAPI.clear_groupby(e.item.field),this.filteringService.clear_filter(e.item.field),this.filteringService.isFilterRowVisible&&this.filteringService.filteredColumn&&this.filteringService.filteredColumn.field===e.item.field&&this.filteringRow.close(),this.gridAPI.clear_sort(e.item.field),this.selectionService.deselectColumnsWithNoEvent([e.item.field])),i=!0)})),this.resetCaches(),(e||i)&&this.onColumnsAddedOrRemoved()}}checkPrimaryKeyField(){this.primaryKey&&this.data?.length&&!(this.primaryKey in this.data[0])&&console.warn(`Field "${this.primaryKey}" is not defined in the data. Set \`primaryKey\` to a valid field.`)}onColumnsAddedOrRemoved(){this.summaryService.clearSummaryCache(),Promise.resolve().then((()=>{this.notifyChanges(!0)}))}calculateGridSizes(e=!0){this.cdr.detectChanges(),this.resetCaches(e);let t=this.hasVerticalScroll(),i=!this.isHorizontalScrollHidden;this.calculateGridWidth(),this.resetCaches(e),this.cdr.detectChanges(),this.calculateGridHeight(),this.rowEditable&&this.repositionRowEditingOverlay(this.crudService.rowInEditMode),this.filteringService.isFilterRowVisible&&this.filteringRow.resetChipsArea(),this.cdr.detectChanges(),t!==this.hasVerticalScroll()&&(this.calculateGridWidth(),this.cdr.detectChanges()),i!==this.hasHorizontalScroll()&&(this.isHorizontalScrollHidden=!this.hasHorizontalScroll(),this.cdr.detectChanges(),this.calculateGridHeight(),this.cdr.detectChanges()),this.zone.isStable?this.zone.run((()=>{this._applyWidthHostBinding(),this.cdr.detectChanges()})):this.zone.onStable.pipe(Vn()).subscribe((()=>{this.zone.run((()=>{this._applyWidthHostBinding()}))})),this.resetCaches(e),this.hasColumnsToAutosize&&(this.cdr.detectChanges(),this.zone.onStable.pipe(Vn()).subscribe((()=>{this._autoSizeColumnsNotify.next()})))}calculateGridHeight(){this.calcHeight=this._calculateGridBodyHeight(),this.pinnedRowHeight&&this.calcHeight&&(this.calcHeight-=this.pinnedRowHeight)}getGroupAreaHeight(){return 0}getComputedHeight(e){return e.offsetHeight?parseFloat(this.document.defaultView.getComputedStyle(e).getPropertyValue("height")):0}getFooterHeight(){return this.summaryRowHeight||this.getComputedHeight(this.tfoot.nativeElement)}getTheadRowHeight(){let e=this.getComputedHeight(this.theadRow.nativeElement)||0;return!this.allowFiltering||this.allowFiltering&&this.filterMode!==eb?e-this.getFilterCellHeight():e}getToolbarHeight(){let e=0;return this.toolbar.first&&(e=this.getComputedHeight(this.toolbar.first.nativeElement)),e}getPagingFooterHeight(){let e=0;if(this.footer){let t=this.getComputedHeight(this.footer.nativeElement);e=this.footer.nativeElement.firstElementChild?t:0}return e}getFilterCellHeight(){let e=0!==this.headerGroupsList.length?this.headerGroupsList[0].nativeElement:null,t=e?e.querySelector("igx-grid-filtering-cell"):null;return t?t.offsetHeight:0}_calculateGridBodyHeight(){if(!this._height)return null;let e=this.getTheadRowHeight(),t=this.getFooterHeight(),i=this.getToolbarHeight()+e+t+this.getPagingFooterHeight()+this.getGroupAreaHeight()+this.getComputedHeight(this.scr.nativeElement),n=0;if(this.isPercentHeight){let e=this.document.defaultView.getComputedStyle(this.nativeElement).getPropertyValue("height");if(this._shouldAutoSize(i)||-1!==e.indexOf("%")){let e=this.getDataBasedBodyHeight();return e>0?e:null}n=parseFloat(e)}else n=parseInt(this._height,10);let r=Math.abs(n-i);if(0===Math.round(r)||isNaN(n)){let e=this.defaultTargetBodyHeight;return e>0?e:null}return r}checkContainerSizeChange(){let e=this.nativeElement.parentElement||this.nativeElement.getRootNode().host,t=e.offsetHeight;this.nativeElement.style.display="none";let i=e.offsetHeight;return this.nativeElement.style.display="",t!==i}_shouldAutoSize(e){this.tbody.nativeElement.style.display="none";let t=this.nativeElement.parentElement||this.nativeElement.getRootNode().host,i=!t||0===t.clientHeight||t.clientHeight===e;return t&&(i||this._autoSize)&&(this._autoSize=!1,i=this.checkContainerSizeChange()),this.tbody.nativeElement.style.display="",i}getUnpinnedWidth(e=!1){let t=this.isPercentWidth?this.calcWidth:parseInt(this.width,10)||parseInt(this.hostWidth,10)||this.calcWidth;return this.hasVerticalScroll()&&!this.isPercentWidth&&(t-=this.scrollSize),this.isPinningToStart||(t-=this.featureColumnsWidth()),t-this.getPinnedWidth(e)}_summaries(e,t,i){let n=this.gridAPI.get_column_by_name(e);n&&(n.hasSummary=t,i&&(this.rootSummariesEnabled&&this.summaryService.retriggerRootPipe++,n.summaries=i))}_multipleSummaries(e,t){e.forEach((e=>{this._summaries(e.fieldName,t,e.customSummary)}))}_disableMultipleSummaries(e){e.forEach((e=>{let t=e&&e.fieldName?e.fieldName:e;this._summaries(t,!1)}))}resolveDataTypes(e){return"number"==typeof e?bS.Number:"boolean"==typeof e?bS.Boolean:"object"==typeof e&&e instanceof Date?bS.Date:"string"==typeof e&&/\.(gif|jpe?g|tiff?|png|webp|bmp)$/i.test(e)?bS.Image:bS.String}autogenerateColumns(){let e=this.gridAPI.get_data(),t=this.generateDataFields(e),i=[];this._autoGeneratedColsRefs.forEach((e=>e.destroy())),this._autoGeneratedColsRefs=[],t.forEach((t=>{let n=Gf(UH,{environmentInjector:this.envInjector,elementInjector:this.injector});n.instance.field=t,n.instance.dataType=this.resolveDataTypes(e[0][t]),n.changeDetectorRef.detectChanges(),this._autoGeneratedColsRefs.push(n),i.push(n.instance)})),this._autoGeneratedCols=i,this.updateColumns(i),this.columnsAutogenerated.emit({columns:this._autoGeneratedCols})}generateDataFields(e){return Object.keys(e&&0!==e.length?e[0]:[]).filter((e=>!this.autoGenerateExclude.includes(e)))}initColumns(e,t=null){this._columnGroups=e.some((e=>e.columnGroup)),this.hasColumnLayouts&&e.forEach((e=>{if(e.columnLayout){let t=e.children?e.children.reduce(((e,t)=>Math.max(t.rowStart+t.gridRowSpan-1,e)),1):1;this._multiRowLayoutRowSize=Math.max(t,this._multiRowLayoutRowSize)}})),this.hasColumnLayouts&&this.hasColumnGroups&&(e=e.filter((e=>e.columnLayout||e.columnLayoutChild))),this._maxLevelHeaderDepth=null,e.forEach((e=>{e.defaultWidth=this.columnWidthSetByUser?this._columnWidth:e.defaultWidth?e.defaultWidth:"",t&&t(e)})),this.updateColumns(e),this.hasColumnLayouts&&e.forEach((e=>{e.populateVisibleIndexes()}))}reinitPinStates(){this._pinnedColumns=this._columns.filter((e=>e.pinned)).sort(((e,t)=>this._pinnedColumns.indexOf(e)-this._pinnedColumns.indexOf(t))),this._unpinnedColumns=this.hasColumnGroups?this._columns.filter((e=>!e.pinned)):this._columns.filter((e=>!e.pinned)).sort(((e,t)=>this._unpinnedColumns.indexOf(e)-this._unpinnedColumns.indexOf(t)))}extractDataFromSelection(e,t=!1,i=!1,n){let r,s={},o=[],a=[],l=new Map,d=[],c=this.selectionService.activeElement;if("hierarchical"===this.type){let e=[];for(let[t,i]of this.expansionStates.entries())if(i){let i=this.gridAPI.get_rec_index_by_id(t,this.dataView);e.push(i)}if(this.selectionService.selection.size>0){if(e.length>0)for(let[t,i]of this.selectionService.selection.entries()){let n=t,r=0;e.forEach((e=>{n>Number(e)&&r++})),l.set(n-r,i)}}else if(c){let t=0;e.length>0&&(e.forEach((e=>{c.row>Number(e)&&t++})),c.row-=t)}}let h,u=this.totalItemCount??0,g=u&&u>this.dataView.length;h="hierarchical"===this.type&&l.size>0?g?Array.from(l):Array.from(l).filter((t=>t[0]<e.length)):g?Array.from(this.selectionService.selection):Array.from(this.selectionService.selection).filter((t=>t[0]<e.length)),this.cellSelection===lb&&c&&h.push([c.row,(new Set).add(c.column)]),this.cellSelection===ab&&c&&h.push([c.row,(new Set).add(c.column)]),n&&(o=n);for(let[l,d]of h){if(l=this.paginator&&"local"===this.pagingMode&&e===this.filteredSortedData?l+this.perPage*this.page:l,l=g?l-this.virtualizationState.startIndex:l,!e[l]||void 0!==e[l].detailsData)continue;let c=Array.from(d);for(let o of c)r=this.getSelectableColumnsAt(o),r.forEach((r=>{if(r){let o="pivot"!==this.type&&i&&r.header||r.field,a=e[l].ghostRecord?e[l].recordRef:e[l],d="pivot"===this.type?a.aggregationValues.get(r.field):QC(a,XC(r.field));s[o]=t&&r.formatter?r.formatter(d,a):d,n&&(s[o]||(s[o]=""),s[o]=s[o].toString().concat("recordRow-"+l))}}));if(Object.keys(s).length)if(n){a.length||(a=Object.keys(n[0]));for(let[e,t]of Object.entries(s)){a.includes(e)||a.push(e);let i=t,n=+i.split("recordRow-")[1];i=i.split("recordRow-")[0],s[e]=i;let r=Object.assign(o[n],s);o[n]=r}}else o.push(s);s={}}return a.length?(d.push(o),d.push(a),d):o}getSelectableColumnsAt(e){if(this.hasColumnLayouts){let t=this.visibleColumns.filter((e=>e.columnLayout)).sort(((e,t)=>e.visibleIndex-t.visibleIndex))[e];return t?t.children.toArray():[]}return[this.visibleColumns.filter((e=>!e.columnGroup)).sort(((e,t)=>e.visibleIndex-t.visibleIndex))[e]]}autoSizeColumnsInView(){if(!this.hasColumnsToAutosize)return;let e=this.headerContainer.state,t=!1,i=this.headerContainer.igxGridForOf.slice(e.startIndex,e.startIndex+e.chunkSize).flatMap((e=>e.columnGroup?e.allChildren:e)),n=this.pinnedColumns.concat(i);for(let e of n)if(!e.autoSize&&e.headerCell){let i=[];e._cells.length!==this.rowList.length&&this.rowList.forEach((e=>e.cdr.detectChanges()));let n=this._dataRowList.map((t=>t.cells.find((t=>t.column===e))));n.forEach((e=>i.push(e?.nativeElement?.offsetWidth||0)));let r=Math.max(...i),s=this.headerCellList.find((t=>t.column===e));i.push(s.nativeElement.offsetWidth);let o=Math.max(...i),a=0;if(n.length>0&&e.bodyTemplate){let e=this.document.defaultView.getComputedStyle(n[0].nativeElement);a=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight)}else r=o;if(0===o||r<=a&&this._firstAutoResize)continue;let l=Math.ceil(Math.max(...i))+1;e.maxWidth&&l>e.maxWidthPx?l=e.maxWidthPx:l<e.userSetMinWidthPx&&(l=e.userSetMinWidthPx),e.autoSize=l,e.resetCaches(),t=!0}t&&(this.resetCachedWidths(),this.cdr.detectChanges()),this.isColumnWidthSum&&(this.calcWidth=this.getColumnWidthSum())}extractDataFromColumnsSelection(e,t=!1,i=!1){let n={},r=[],s=this.selectedColumns();if(0===s.length)return[];for(let o of e)s.forEach((e=>{let r=i&&e.header||e.field;n[r]=t&&e.formatter?e.formatter(o[e.field],o):o[e.field]})),Object.keys(n).length&&r.push(n),n={};return r}initPinning(){this.calculateGridWidth(),this.resetCaches(),this.handleColumnPinningForGroups(),this.notifyChanges()}scrollTo(e,t,i=this._filteredSortedUnpinnedData){let n=!1;if(this.paginator&&"number"!=typeof e){let t=i.indexOf(e),r=Math.floor(t/this.perPage);this.page!==r&&(n=!0,this.page=r)}n?this.verticalScrollContainer.dataChanged.pipe(Vn(),Nn(this.destroy$)).subscribe((()=>{this.scrollDirective(this.verticalScrollContainer,"number"==typeof e?e:this.unpinnedDataView.indexOf(e))})):this.scrollDirective(this.verticalScrollContainer,"number"==typeof e?e:this.unpinnedDataView.indexOf(e)),this.scrollToHorizontally(t)}scrollToHorizontally(e){let t="number"==typeof e?e:this.getColumnByName(e).visibleIndex,i=this.rowList.find((e=>!!e.virtDirRow)),n=i?i.virtDirRow:null;this.isPinningToStart&&this.pinnedColumns.length?t>=this.pinnedColumns.length&&(t-=this.pinnedColumns.length,this.scrollDirective(n,t)):this.scrollDirective(n,t)}scrollDirective(e,t){e&&e.scrollTo(t)}getColumnWidthSum(){let e=0;return(this.hasColumnLayouts?this.visibleColumns.filter((e=>e.columnLayout)):this.visibleColumns.filter((e=>!e.columnGroup))).forEach((t=>{e+=parseInt(t.calcWidth||t.defaultWidth,10)||this.minColumnWidth})),e?(this.cdr.detectChanges(),e+=this.featureColumnsWidth(),e):null}_columnsReordered(e){this.notifyChanges(),this.resetColumnCollections(),e.resetCaches()}buildDataView(e){this._dataView=this.isRowPinningToTop?[...this.pinnedDataView,...this.unpinnedDataView]:[...this.unpinnedDataView,...this.pinnedDataView]}_applyWidthHostBinding(){let e=this._width;if(null===e){let t=this.calcWidth;this.hasVerticalScroll()&&(t+=this.scrollSize),e=t+"px",this.resetCaches()}this._hostWidth=e,this.cdr.markForCheck()}verticalScrollHandler(e){this.verticalScrollContainer.onScroll(e),this.disableTransitions=!0,this.zone.run((()=>{this.zone.onStable.pipe(Vn()).subscribe((()=>{this.verticalScrollContainer.chunkLoad.emit(this.verticalScrollContainer.state),this.rowEditable&&this.changeRowEditingOverlayStateOnScroll(this.crudService.rowInEditMode)}))})),this.disableTransitions=!1,this.hideOverlays(),this.actionStrip?.hide(),this.actionStrip&&(this.actionStrip.context=null);let t={direction:"vertical",event:e,scrollPosition:this.verticalScrollContainer.scrollPosition};this.gridScroll.emit(t)}horizontalScrollHandler(e){let t=e.target.scrollLeft;this.headerContainer.onHScroll(t),this._horizontalForOfs.forEach((e=>e.onHScroll(t))),this.cdr.markForCheck(),this.zone.run((()=>{this.zone.onStable.pipe(Vn()).subscribe((()=>{this.parentVirtDir.chunkLoad.emit(this.headerContainer.state),requestAnimationFrame((()=>{this.autoSizeColumnsInView()}))}))})),this.navigation.isColumnFullyVisible(this.navigation.lastColumnIndex)||this.hideOverlays();let i={direction:"horizontal",event:e,scrollPosition:this.headerContainer.scrollPosition};this.gridScroll.emit(i)}get renderedActualRowHeight(){let e=1;if(this.rowList.toArray().length>0){let t=this.document.defaultView.getComputedStyle(this.rowList.first.nativeElement);e=t.borderBottomWidth?Math.ceil(parseFloat(t.borderBottomWidth)):e}return this.rowHeight+e}executeCallback(e,t=-1,i=null){if(!i)return;let n=this.summariesRowList.filter((e=>0!==e.index)).concat(this.rowList.toArray()).find((t=>t.index===e));if(!n){this.totalItemCount&&this.verticalScrollContainer.dataChanged.pipe(Vn(),Nn(this.destroy$)).subscribe((()=>{this.cdr.detectChanges(),n=this.summariesRowList.filter((e=>0!==e.index)).concat(this.rowList.toArray()).find((t=>t.index===e));let r=this.getNavigationArguments(n,t);i(r)}));let r=this._getDataViewIndex(e);return void(this.dataView[r].detailsData&&(this.navigation.setActiveNode({row:e}),this.cdr.detectChanges()))}let r=this.getNavigationArguments(n,t);i(r)}getNavigationArguments(e,t){let i,n;switch(e.nativeElement.tagName.toLowerCase()){case"igx-grid-groupby-row":i="groupRow",n=e;break;case"igx-grid-summary-row":i="summaryCell",n=-1!==t?e.summaryCells.find((e=>e.visibleColumnIndex===t)):e.summaryCells.first;break;case"igx-child-grid-row":i="hierarchicalRow",n=e;break;default:i="dataCell",n=-1!==t?e.cells.find((e=>e.visibleColumnIndex===t)):e.cells.first}return{targetType:i,target:n}}getNextDataRowIndex(e,t=!1){let i=this._getDataViewIndex(e);if(e<0||0===e&&t||i>=this.dataView.length-1&&!t)return e;let n=t?this.findPrevEditableDataRowIndex(e):this.dataView.findIndex(((e,t)=>t>i&&this.isEditableDataRecordAtIndex(t))),r=this.getDataIndex(n);return-1!==r?r:e}findPrevEditableDataRowIndex(e){let t=this.dataView.length,i=this._getDataViewIndex(e);for(;t--;)if(t<i&&this.isEditableDataRecordAtIndex(t))return t;return-1}isEditableDataRecordAtIndex(e){let t=this.dataView[e];return!(t.expression||t.summaries||t.childGridsData||t.detailsData||this.isGhostRecordAtIndex(e))}isGhostRecordAtIndex(e){let t=this.isRecordPinned(this.dataView[e]),i=this.isRecordPinnedByViewIndex(e);return t&&!i}isValidPosition(e,t){let i=this.summariesRowList.filter((e=>0!==e.index)).concat(this.rowList.toArray()).length,n=this._columns.filter((e=>!e.columnGroup&&e.visibleIndex>=0&&!e.hidden)).length;return!(i<1||n<1)&&e>-1&&e<this.dataView.length&&t>-1&&t<=Math.max(...this.visibleColumns.map((e=>e.visibleIndex)))}find(e,t,i,n,r,s=!0){if(!this.rowList)return 0;if(s&&this.crudService.endEdit(!1),!e)return this.clearSearch(),0;let o=!!i,a=!!n,l=!1;if(this._lastSearchInfo.searchText!==e||this._lastSearchInfo.caseSensitive!==o||this._lastSearchInfo.exactMatch!==a?(this._lastSearchInfo={searchText:e,activeMatchIndex:0,caseSensitive:o,exactMatch:a,matchInfoCache:[],matchCount:0,content:""},l=!0):this._lastSearchInfo.activeMatchIndex+=t,l&&(this.rowList.forEach((t=>{t.cells&&t.cells.forEach((t=>{t.highlightText(e,o,a)}))})),this.rebuildMatchCache()),this._lastSearchInfo.activeMatchIndex>=this._lastSearchInfo.matchCount?this._lastSearchInfo.activeMatchIndex=0:this._lastSearchInfo.activeMatchIndex<0&&(this._lastSearchInfo.activeMatchIndex=this._lastSearchInfo.matchCount-1),this._lastSearchInfo.matchCount>0){let e=this._lastSearchInfo.matchInfoCache[this._lastSearchInfo.activeMatchIndex];this._lastSearchInfo=Qe({},this._lastSearchInfo),!1!==r&&this.scrollTo(e.row,e.column),this.textHighlightService.setActiveHighlight(this.id,{column:e.column,row:e.row,index:e.index,metadata:e.metadata})}else this.textHighlightService.clearActiveHighlight(this.id);return this._lastSearchInfo.matchCount}rebuildMatchCache(){this._lastSearchInfo.matchInfoCache=[];let e=this._lastSearchInfo.caseSensitive,t=this._lastSearchInfo.exactMatch,i=e?this._lastSearchInfo.searchText:this._lastSearchInfo.searchText.toLowerCase(),n=this.filteredSortedData,r=this.visibleColumns.filter((e=>!e.columnGroup)).sort(((e,t)=>e.visibleIndex-t.visibleIndex)),s=r.map((e=>XC(e.field)));n.forEach(((n,o)=>{r.forEach(((r,a)=>{let l=this.getColumnByName(r.field).pipeArgs,d=r.formatter?r.formatter(QC(n,s[a]),n):"number"===r.dataType?Bv(QC(n,s[a]),this.locale,l.digitsInfo):"date"===r.dataType?eS(QC(n,s[a]),l.format,this.locale,l.timezone):QC(n,s[a]);if(null!=d&&r.searchable){let s=e?String(d):String(d).toLowerCase();if(t){if(s===i){let e={row:n,column:r.field,index:0,metadata:new Map([["pinned",this.isRecordPinnedByIndex(o)]])};this._lastSearchInfo.matchInfoCache.push(e)}}else{let e=0,t=s.indexOf(i);for(;-1!==t;){let a={row:n,column:r.field,index:e++,metadata:new Map([["pinned",this.isRecordPinnedByIndex(o)]])};this._lastSearchInfo.matchInfoCache.push(a),s=s.substring(t+i.length),t=s.indexOf(i)}}}}))})),this._lastSearchInfo.matchCount=this._lastSearchInfo.matchInfoCache.length}updateDefaultRowHeight(){if(this.dataRowList.length>0&&this.dataRowList.first.cells&&this.dataRowList.first.cells.length>0){let e=parseFloat(this.document.defaultView.getComputedStyle(this.dataRowList.first.cells.first.nativeElement)?.getPropertyValue("height"));e?this._defaultRowHeight=e:this._shouldRecalcRowHeight=!0}}configureRowEditingOverlay(e,t=!1){let i=this.rowEditSettings,n=this.overlayService.getOverlayById(this.rowEditingOverlay.overlayId);n&&(i=n.settings),i.outlet=t?this.parentRowOutletDirective:this.rowOutletDirective,this.rowEditPositioningStrategy.settings.container=this.tbody.nativeElement;let r=-1!==this._pinnedRecordIDs.indexOf(e)?this.pinnedRows.find((t=>t.key===e)):this.gridAPI.get_row_by_key(e);r&&(i.target=r.element.nativeElement,this.toggleRowEditingOverlay(!0))}handleColumnPinningForGroups(){let e=[],t=[];this._pinnedColumns.forEach((e=>{e.parent&&(e.parent.pinned=!0),e.columnGroup&&e.children.forEach((e=>e.pinned=!0))}));for(let i of this._columns)i.pinned&&!i.parent?e.push(i):i.pinned&&i.parent?i.topLevelParent.pinned?e.push(i):(i.pinned=!1,t.push(i)):t.push(i);this._pinnedColumns=e,this._unpinnedColumns=t}shouldRecreateColumns(e,t){return!e||!e.length||!(!t||!t.length)&&Object.keys(e[0]).join()!==Object.keys(t[0]).join()}clearActiveNode(){this.navigation.lastActiveNode=this.navigation.activeNode,this.navigation.activeNode={},this.notifyChanges()}getRecreatedTree(e){return this._hGridSchema?WS(e,this._hGridSchema,!0):KS(e,this._columns)}static{this.ɵfac=function(t){return new(t||e)(lu(TX),lu(rP),lu(mU),lu(BF),lu(jI),lu(zl),lu(Il),lu(Kf),lu(Cf),lu(Pf),lu(Su),lu(hl),lu(vs),lu(IX),lu(OU),lu(Mx),lu(zI),lu(RX),lu(uf),lu(NC),lu(EX,8))}}static{this.ɵdir=rg({type:e,contentQueries:function(e,t,i){if(1&e&&(gm(i,Ej,7,Ej),gm(i,WZ,5,jh),gm(i,nU,5,jh),gm(i,rU,5,jh),gm(i,sU,5,jh),gm(i,oU,5,jh),gm(i,aU,5,jh),gm(i,dU,5,jh),gm(i,cU,5,jh),gm(i,lU,5,jh),gm(i,Xj,4,Xj),gm(i,UH,5,UH),gm(i,dP,4),gm(i,nZ,4,jh),gm(i,tZ,4,jh),gm(i,eZ,4,jh),gm(i,GZ,4,jh),gm(i,$Z,4,jh),gm(i,KZ,4,jh),gm(i,JY,4,jh),gm(i,jZ,5),gm(i,BZ,4),gm(i,_X,4)),2&e){let e;mm(e=fm())&&(t.excelStyleLoadingValuesTemplateDirective=e.first),mm(e=fm())&&(t.rowAddText=e.first),mm(e=fm())&&(t.rowExpandedIndicatorDirectiveTemplate=e.first),mm(e=fm())&&(t.rowCollapsedIndicatorDirectiveTemplate=e.first),mm(e=fm())&&(t.headerExpandedIndicatorDirectiveTemplate=e.first),mm(e=fm())&&(t.headerCollapsedIndicatorDirectiveTemplate=e.first),mm(e=fm())&&(t.excelStyleHeaderIconDirectiveTemplate=e.first),mm(e=fm())&&(t.sortAscendingHeaderIconDirectiveTemplate=e.first),mm(e=fm())&&(t.sortDescendingHeaderIconDirectiveTemplate=e.first),mm(e=fm())&&(t.sortHeaderIconDirectiveTemplate=e.first),mm(e=fm())&&(t.excelStyleFilteringComponents=e),mm(e=fm())&&(t.columnList=e),mm(e=fm())&&(t.actionStripComponents=e),mm(e=fm())&&(t.headSelectorsTemplates=e),mm(e=fm())&&(t.rowSelectorsTemplates=e),mm(e=fm())&&(t.dragGhostCustomTemplates=e),mm(e=fm())&&(t.rowEditCustomDirectives=e),mm(e=fm())&&(t.rowEditTextDirectives=e),mm(e=fm())&&(t.rowEditActionsDirectives=e),mm(e=fm())&&(t.dragIndicatorIconTemplates=e),mm(e=fm())&&(t.rowEditTabsCUSTOM=e),mm(e=fm())&&(t.toolbar=e),mm(e=fm())&&(t.paginationComponents=e)}},viewQuery:function(e,t){if(1&e&&(pm(xX,5),pm(gX,5),pm(AX,7,SO),pm(kX,7,DO),pm(OX,7,jh),pm(FX,7,jh),pm(PX,7,jh),pm(VX,7,nO),pm(MX,7,nO),pm(LX,7,nO),pm(NX,7,zl),pm(HX,7,jh),pm(zX,5,zl),pm(XY,7),pm(DX,5),pm(BX,7),pm(HZ,7,zl),pm(GX,5,zl),pm($X,7),pm(WX,7,DO),pm(KX,7,jh),pm(jX,5,SO),pm(UX,7,DO),pm(qX,7,Su),pm(YX,7,jh),pm(ZX,7,jh),pm(XX,7,jh),pm(QX,7,jh),pm(wO,5,wO),pm(jZ,5),pm(JX,5,hX),pm(eQ,5),pm(tQ,5),pm(aP,5,aP)),2&e){let e;mm(e=fm())&&(t.addRowSnackbar=e.first),mm(e=fm())&&(t.resizeLine=e.first),mm(e=fm())&&(t.loadingOverlay=e.first),mm(e=fm())&&(t.loadingOutlet=e.first),mm(e=fm())&&(t.emptyFilteredGridTemplate=e.first),mm(e=fm())&&(t.emptyGridDefaultTemplate=e.first),mm(e=fm())&&(t.loadingGridDefaultTemplate=e.first),mm(e=fm())&&(t.parentVirtDir=e.first),mm(e=fm())&&(t.verticalScrollContainer=e.first),mm(e=fm())&&(t.verticalScroll=e.first),mm(e=fm())&&(t.scr=e.first),mm(e=fm())&&(t.headerSelectorBaseTemplate=e.first),mm(e=fm())&&(t.footer=e.first),mm(e=fm())&&(t.theadRow=e.first),mm(e=fm())&&(t.groupArea=e.first),mm(e=fm())&&(t.tbody=e.first),mm(e=fm())&&(t.tbodyContainer=e.first),mm(e=fm())&&(t.pinContainer=e.first),mm(e=fm())&&(t.tfoot=e.first),mm(e=fm())&&(t.rowEditingOutletDirective=e.first),mm(e=fm())&&(t.dragIndicatorIconBase=e.first),mm(e=fm())&&(t.rowEditingOverlay=e.first),mm(e=fm())&&(t._outletDirective=e.first),mm(e=fm())&&(t.anchor=e.first),mm(e=fm())&&(t.defaultExpandedTemplate=e.first),mm(e=fm())&&(t.defaultCollapsedTemplate=e.first),mm(e=fm())&&(t.defaultESFHeaderIconTemplate=e.first),mm(e=fm())&&(t.defaultRowEditTemplate=e.first),mm(e=fm())&&(t.tmpOutlets=e),mm(e=fm())&&(t.rowEditTabsDEFAULT=e),mm(e=fm())&&(t._summaryRowList=e),mm(e=fm())&&(t._rowList=e),mm(e=fm())&&(t._pinnedRowList=e),mm(e=fm())&&(t._dataRowList=e)}},hostVars:12,hostBindings:function(e,t){1&e&&rm("mouseleave",(function(){return t.hideActionStrip()})),2&e&&($g("tabindex",t.tabindex)("role",t.hostRole),op("height",t.height)("width",t.hostWidth)("display",t.displayStyle)("grid-template-rows",t.templateRows),ap("igx-grid",t.baseClass))},inputs:{snackbarDisplayTime:"snackbarDisplayTime",autoGenerate:[2,"autoGenerate","autoGenerate",Hf],autoGenerateExclude:"autoGenerateExclude",moving:[2,"moving","moving",Hf],emptyGridTemplate:"emptyGridTemplate",addRowEmptyTemplate:"addRowEmptyTemplate",loadingGridTemplate:"loadingGridTemplate",summaryRowHeight:"summaryRowHeight",dataCloneStrategy:"dataCloneStrategy",clipboardOptions:"clipboardOptions",rowClasses:"rowClasses",rowStyles:"rowStyles",primaryKey:"primaryKey",uniqueColumnValuesStrategy:"uniqueColumnValuesStrategy",dragGhostCustomTemplate:"dragGhostCustomTemplate",rowEditTextTemplate:"rowEditTextTemplate",rowAddTextTemplate:"rowAddTextTemplate",rowEditActionsTemplate:"rowEditActionsTemplate",rowExpandedIndicatorTemplate:"rowExpandedIndicatorTemplate",rowCollapsedIndicatorTemplate:"rowCollapsedIndicatorTemplate",headerExpandedIndicatorTemplate:"headerExpandedIndicatorTemplate",headerCollapsedIndicatorTemplate:"headerCollapsedIndicatorTemplate",excelStyleHeaderIconTemplate:"excelStyleHeaderIconTemplate",sortAscendingHeaderIconTemplate:"sortAscendingHeaderIconTemplate",sortDescendingHeaderIconTemplate:"sortDescendingHeaderIconTemplate",sortHeaderIconTemplate:"sortHeaderIconTemplate",resourceStrings:"resourceStrings",filteringLogic:"filteringLogic",filteringExpressionsTree:"filteringExpressionsTree",advancedFilteringExpressionsTree:"advancedFilteringExpressionsTree",locale:"locale",pagingMode:"pagingMode",hideRowSelectors:[2,"hideRowSelectors","hideRowSelectors",Hf],rowDraggable:[2,"rowDraggable","rowDraggable",Hf],validationTrigger:"validationTrigger",rowEditable:[2,"rowEditable","rowEditable",Hf],height:"height",width:"width",rowHeight:"rowHeight",columnWidth:"columnWidth",emptyGridMessage:"emptyGridMessage",isLoading:[2,"isLoading","isLoading",Hf],emptyFilteredGridMessage:"emptyFilteredGridMessage",pinning:"pinning",allowFiltering:[2,"allowFiltering","allowFiltering",Hf],allowAdvancedFiltering:[2,"allowAdvancedFiltering","allowAdvancedFiltering",Hf],filterMode:"filterMode",summaryPosition:"summaryPosition",summaryCalculationMode:"summaryCalculationMode",showSummaryOnCollapse:[2,"showSummaryOnCollapse","showSummaryOnCollapse",Hf],filterStrategy:"filterStrategy",sortStrategy:"sortStrategy",sortingOptions:"sortingOptions",selectedRows:"selectedRows",headSelectorTemplate:"headSelectorTemplate",rowSelectorTemplate:"rowSelectorTemplate",dragIndicatorIconTemplate:"dragIndicatorIconTemplate",sortingExpressions:"sortingExpressions",batchEditing:[2,"batchEditing","batchEditing",Hf],cellSelection:"cellSelection",rowSelection:"rowSelection",columnSelection:"columnSelection",expansionStates:"expansionStates",outlet:"outlet",totalRecords:"totalRecords",selectRowOnClick:[2,"selectRowOnClick","selectRowOnClick",Hf]},outputs:{filteringExpressionsTreeChange:"filteringExpressionsTreeChange",advancedFilteringExpressionsTreeChange:"advancedFilteringExpressionsTreeChange",gridScroll:"gridScroll",cellClick:"cellClick",rowClick:"rowClick",formGroupCreated:"formGroupCreated",validationStatusChange:"validationStatusChange",selected:"selected",rowSelectionChanging:"rowSelectionChanging",columnSelectionChanging:"columnSelectionChanging",columnPin:"columnPin",columnPinned:"columnPinned",cellEditEnter:"cellEditEnter",cellEditExit:"cellEditExit",cellEdit:"cellEdit",cellEditDone:"cellEditDone",rowEditEnter:"rowEditEnter",rowEdit:"rowEdit",rowEditDone:"rowEditDone",rowEditExit:"rowEditExit",columnInit:"columnInit",columnsAutogenerated:"columnsAutogenerated",sorting:"sorting",sortingDone:"sortingDone",filtering:"filtering",filteringDone:"filteringDone",rowAdded:"rowAdded",rowDeleted:"rowDeleted",rowDelete:"rowDelete",rowAdd:"rowAdd",columnResized:"columnResized",contextMenu:"contextMenu",doubleClick:"doubleClick",columnVisibilityChanging:"columnVisibilityChanging",columnVisibilityChanged:"columnVisibilityChanged",columnMovingStart:"columnMovingStart",columnMoving:"columnMoving",columnMovingEnd:"columnMovingEnd",gridKeydown:"gridKeydown",rowDragStart:"rowDragStart",rowDragEnd:"rowDragEnd",gridCopy:"gridCopy",expansionStatesChange:"expansionStatesChange",selectedRowsChange:"selectedRowsChange",rowToggle:"rowToggle",rowPinning:"rowPinning",rowPinned:"rowPinned",activeNodeChange:"activeNodeChange",sortingExpressionsChange:"sortingExpressionsChange",toolbarExporting:"toolbarExporting",rangeSelected:"rangeSelected",rendered:"rendered",localeChange:"localeChange",dataChanging:"dataChanging",dataChanged:"dataChanged"}})}}return Hi([PH()],e.prototype,"primaryKey",null),Hi([PH()],e.prototype,"filteringLogic",null),Hi([PH()],e.prototype,"filteringExpressionsTree",null),Hi([PH()],e.prototype,"advancedFilteringExpressionsTree",null),Hi([PH()],e.prototype,"hideRowSelectors",null),Hi([PH()],e.prototype,"rowEditable",null),Hi([PH()],e.prototype,"height",null),Hi([PH()],e.prototype,"width",null),Hi([PH()],e.prototype,"rowHeight",null),Hi([PH()],e.prototype,"columnWidth",null),Hi([PH()],e.prototype,"isLoading",null),Hi([PH()],e.prototype,"sortingExpressions",null),Hi([PH()],e.prototype,"cellSelection",null),Hi([PH()],e.prototype,"rowSelection",null),Hi([PH()],e.prototype,"columnSelection",null),Hi([PH()],e.prototype,"selectRowOnClick",null),e})(),rQ=(()=>{class e{constructor(e,t){this.crudService=e,this.cms=t,this.destroyMap=new Map}get_column_by_name(e){return this.grid.columns.find((t=>t.field===e))}get_summary_data(){let e=this.grid,t=e.filteredData;return t&&e.hasPinnedRecords&&(t=e._filteredUnpinnedData),t||(e.transactions.enabled?(t=DS.mergeTransactions(RC(e.data),e.transactions.getAggregatedChanges(!0),e.primaryKey,e.dataCloneStrategy),e.transactions.getTransactionLog().filter((e=>e.type===lS.DELETE)).map((e=>e.id)).forEach((i=>{let n=(e.primaryKey?t.map((t=>t[e.primaryKey])):t).indexOf(i);-1!==n&&t.splice(n,1)}))):t=e.data),t}getRowData(e){let t=this.get_all_data(this.grid.transactions.enabled);return t[this.get_row_index_in_data(e,t)]}get_row_index_in_data(e,t){let i=this.grid;if(!i)return-1;let n=t??this.get_all_data(i.transactions.enabled);return i.primaryKey?n.findIndex((t=>t.recordRef?t.recordRef[i.primaryKey]===e:t[i.primaryKey]===e)):n.indexOf(e)}get_row_by_key(e){if(!this.grid)return null;let t=this.grid.primaryKey;return null!=t?this.grid.dataRowList.find((i=>i.data[t]===e)):this.grid.dataRowList.find((t=>t.data===e))}get_row_by_index(e){return this.grid.rowList.find((t=>t.index===e))}get_rec_id_by_index(e,t){if(t=t||this.grid.data,e>=0&&e<t.length){let i=t[e];return this.grid.primaryKey?i[this.grid.primaryKey]:i}return null}get_cell_by_key(e,t){let i=this.get_row_by_key(e);if(i&&i.cells)return i.cells.find((e=>e.column.field===t))}get_cell_by_index(e,t){let i=this.get_row_by_index(e),n=i&&i.cells;return n&&"number"==typeof t?i.cells.find((e=>e.column.index===t)):n&&"string"==typeof t?i.cells.find((e=>e.column.field===t)):void 0}get_cell_by_visible_index(e,t){let i=this.get_row_by_index(e);if(i&&i.cells)return i.cells.find((e=>e.visibleColumnIndex===t))}update_cell(e){if(!e)return;let t=e.createCellEditEventArgs(!0);this.grid.crudService.row||this.grid.summaryService.clearSummaryCache(t);let i=this.getRowData(e.id.rowID),n=((e,t)=>{let i,n={},r=e?.split(".")??[],s=r.shift();return n[s]=t,i=n,r.forEach((e=>{i[s]={},i=i[s],i[e]=t,s=e})),n})(e.column.field,t.newValue);if(this.updateData(this.grid,e.id.rowID,i,e.rowData,n),this.grid.crudService.row||this.grid.validation.update(e.id.rowID,n),this.grid.primaryKey===e.column.field){if(this.grid.pinnedRecords.length>0){let i=this.grid.pinnedRecords.indexOf(e.rowData);if(-1!==i){let n=e.value,r=this.grid.getRowByIndex(e.rowIndex);this.unpin_row(n,r),this.pin_row(t.newValue,i,r)}}this.grid.selectionService.isRowSelected(e.id.rowID)&&(this.grid.selectionService.deselectRow(e.id.rowID),this.grid.selectionService.selectRowById(t.newValue)),this.grid.hasSummarizedColumns&&this.grid.summaryService.removeSummaries(e.id.rowID)}return(!this.grid.rowEditable||!this.crudService.row||this.crudService.row.id!==e.id.rowID||!this.grid.transactions.enabled)&&(this.grid.summaryService.clearSummaryCache(t),this.grid.pipeTrigger++),t}update_row(e,t,i){let n=this.grid,r=n.selectionService.isRowSelected(e.id),s=this.crudService.row,o=this.get_all_data(n.transactions.enabled),a=this.get_row_index_in_data(e.id,o),l=n.hasSummarizedColumns;this.crudService.updateRowEditData(e,t);let d=e.createRowEditEventArgs(!0,i);if(-1===a)return d;if(s){let e=n.transactions.getState(d.rowID,!0);if(n.transactions.endPending(!1),!e)return d}if(!d.newValue)return d;l&&n.summaryService.removeSummaries(d.rowID),this.updateData(n,e.id,o[a],d.oldValue,d.newValue),this.grid.validation.update(e.id,d.newValue);let c=n.primaryKey?d.newValue[n.primaryKey]:d.newValue;return r&&(n.selectionService.deselectRow(e.id),n.selectionService.selectRowById(c)),e.id=c,l&&n.summaryService.removeSummaries(c),n.pipeTrigger++,d}sort(e){e.dir===cS.None&&this.remove_grouping_expression(e.fieldName);let t=RC(this.grid.sortingExpressions);this.prepare_sorting_expression([t],e),this.grid.sortingExpressions=t}sort_decoupled(e){e.dir===cS.None&&this.remove_grouping_expression(e.fieldName);let t=RC(this.grid.groupingExpressions);this.prepare_grouping_expression([t],e),this.grid.groupingExpressions=t}sort_multiple(e){let t=RC(this.grid.sortingExpressions);for(let i of e)i.dir===cS.None&&this.remove_grouping_expression(i.fieldName),this.prepare_sorting_expression([t],i);this.grid.sortingExpressions=t}sort_groupBy_multiple(e){let t=RC(this.grid.groupingExpressions);for(let i of e)i.dir===cS.None&&this.remove_grouping_expression(i.fieldName),this.prepare_grouping_expression([t],i)}clear_sort(e){let t=this.grid.sortingExpressions,i=t.findIndex((t=>t.fieldName===e));i>-1&&(t.splice(i,1),this.grid.sortingExpressions=t)}clear_groupby(e){}should_apply_number_style(e){return e.dataType===bS.Number}get_data(){let e=this.grid;return e.data?e.data:[]}get_all_data(e=!1){let t=this.grid,i=t&&t.data?t.data:[];return i=e?t.dataWithAddedInTransactionRows:i,i}get_filtered_data(){return this.grid.filteredData}addRowToData(e,t){let i=this.grid,n=i.primaryKey?e[i.primaryKey]:e;if(i.transactions.enabled){let t={id:n,type:lS.ADD,newValue:e};i.transactions.add(t)}else i.data.push(e);i.validation.markAsTouched(n),i.validation.update(n,e)}deleteRowFromData(e,t){let i=this.grid;if(-1!==t)if(i.transactions.enabled){let n={id:e,type:lS.DELETE,newValue:null};i.transactions.add(n,i.data[t])}else i.data.splice(t,1);else{let t=i.transactions.getState(e);i.transactions.add({id:e,type:lS.DELETE,newValue:null},t&&t.recordRef)}i.validation.clear(e)}deleteRowById(e){let t,i=this.grid,n=this.get_all_data(i.transactions.enabled);t=i.primaryKey?n.map((e=>e[i.primaryKey])).indexOf(e):n.indexOf(e);let r=i.transactions.getState(e),s=r&&r.type!==lS.DELETE;if(-1===t&&!s)return;this.crudService.endEdit(!0);let o=n[t],a=o?o[i.primaryKey]:void 0;i.rowDeletedNotifier.next({data:o,rowData:o,owner:i,primaryKey:a,rowKey:a}),this.deleteRowFromData(e,t),i.selectionService.isRowSelected(e)?i.selectionService.deselectRowsWithNoEvent([e]):i.selectionService.clearHeaderCBState(),i.pipeTrigger++,i.notifyChanges();let l=i.transactions.enabled?i.dataWithAddedInTransactionRows:n;return i.refreshSearch(),l.length%i.perPage==0&&l.length/i.perPage-1<i.page&&0!==i.page&&i.page--,o}get_row_id(e){return this.grid.primaryKey?e[this.grid.primaryKey]:e}row_deleted_transaction(e){let t=this.grid;if(!t||!t.transactions.enabled)return!1;let i=t.transactions.getState(e);return!!i&&i.type===lS.DELETE}get_row_expansion_state(e){let t=this.grid,i=t.expansionStates,n=t.primaryKey?e[t.primaryKey]:e,r=i.get(n);return void 0!==r?r:t.getDefaultExpandState(e)}set_row_expansion_state(e,t,i){let n=this.grid,r=n.expansionStates;if(!this.allow_expansion_state_change(e,t))return;let s={rowKey:e,rowID:e,expanded:t,event:i,cancel:!1};n.rowToggle.emit(s),!s.cancel&&(r.set(e,t),n.expansionStates=r)}get_rec_by_id(e){return this.grid.primaryKey?this.getRowData(e):e}get_rec_index_by_id(e,t){return t=t||this.grid.data,this.grid.primaryKey?t.findIndex((t=>t[this.grid.primaryKey]===e)):-1}allow_expansion_state_change(e,t){return this.grid.expansionStates.get(e)!==t}prepare_sorting_expression(e,t){if(t.dir===cS.None)return void e.forEach((e=>{e.splice(e.findIndex((e=>e.fieldName===t.fieldName)),1)}));let i=e[0];for(let t=1;t<e.length;t++)i.length<e[t].length&&(i=e[t]);let n=i.find((e=>e.fieldName===t.fieldName));e.forEach((e=>{let i=e.find((e=>e.fieldName===t.fieldName));i||n?!i&&n?(e.push(n),Object.assign(n,t)):Object.assign(i,t):e.push(t)}))}prepare_grouping_expression(e,t){if(t.dir===cS.None)return void e.forEach((e=>{e.splice(e.findIndex((e=>e.fieldName===t.fieldName)),1)}));let i=e[0];for(let t=1;t<e.length;t++)i.length<e[t].length&&(i=e[t]);let n=i.find((e=>e.fieldName===t.fieldName));e.forEach((e=>{let i=e.find((e=>e.fieldName===t.fieldName));i||n?!i&&n?(e.push(n),Object.assign(n,t)):Object.assign(i,t):e.push(t)}))}remove_grouping_expression(e){}filterDataByExpressions(e){let t=this.get_all_data();if(e.filteringOperands.length){let i={expressionsTree:e,strategy:this.grid.filterStrategy};t=YS.filter(RC(t),i,this.grid)}return t}sortDataByExpressions(e,t){return DS.sort(RC(e),t,this.grid.sortStrategy,this.grid)}pin_row(e,t,i){let n=this.grid;if(-1!==n._pinnedRecordIDs.indexOf(e))return;let r=this.get_pin_row_event_args(e,t,i,!0);if(n.rowPinning.emit(r),r.cancel)return;let s="number"==typeof r.insertAtIndex?r.insertAtIndex:n._pinnedRecordIDs.length;n._pinnedRecordIDs.splice(s,0,e)}unpin_row(e,t){let i=this.grid,n=i._pinnedRecordIDs.indexOf(e);if(-1===n)return;let r=this.get_pin_row_event_args(e,null,t,!1);i.rowPinning.emit(r),!r.cancel&&i._pinnedRecordIDs.splice(n,1)}get_pin_row_event_args(e,t,i,n){let r={isPinned:!!n,rowKey:e,rowID:e,row:i,cancel:!1};return"number"==typeof t&&(r.insertAtIndex=t<=this.grid.pinnedRecords.length?t:this.grid.pinnedRecords.length),r}updateData(e,t,i,n,r){if(e.transactions.enabled){let i={id:t,type:lS.UPDATE,newValue:r};e.transactions.add(i,n)}else OC(i,r)}update_row_in_array(e,t,i){this.grid.data[i]=e}getSortStrategyPerColumn(e){return this.get_column_by_name(e)?this.get_column_by_name(e).sortStrategy:void 0}static{this.ɵfac=function(t){return new(t||e)(Vr(HF),Vr(KH))}}static{this.ɵprov=ir({token:e,factory:e.ɵfac})}}return e})(),sQ=(()=>{class e extends rQ{groupBy(e){let t=RC(this.grid.groupingExpressions);this.prepare_grouping_expression([t],e),this.grid.groupingExpressions=t,this.arrange_sorting_expressions()}groupBy_multiple(e){let t=RC(this.grid.groupingExpressions);for(let i of e)this.prepare_grouping_expression([t],i);this.grid.groupingExpressions=t,this.arrange_sorting_expressions()}clear_groupby(e){let t=RC(this.grid.groupingExpressions);if(e){let i="string"==typeof e?[e]:e,n=t.filter((e=>i.indexOf(e.fieldName)<0));this.grid.groupingExpressions=n,i.forEach((e=>{let i=t.findIndex((t=>t.fieldName===e)),n=this.grid.groupingExpansionState,r=n.filter((e=>e.hierarchy&&e.hierarchy.length<=i));r.length!==n.length&&(this.grid.groupingExpansionState=r)}))}else this.grid.groupingExpressions=[],this.grid.groupingExpansionState=[]}groupBy_get_expanded_for_group(e){let t=this.grid.groupingExpansionState,i=DS.getHierarchy(e);return t.find((t=>DS.isHierarchyMatch(t.hierarchy||[{fieldName:e.expression.fieldName,value:e.value}],i,this.grid.groupingExpressions)))}groupBy_is_row_in_group(e,t){let i=this.grid,n=!1;return e.records.forEach((e=>{(i.primaryKey?e[i.primaryKey]===t:e===t)&&(n=!0)})),n}groupBy_toggle_group(e){let t=this.grid;t.gridAPI.crudService.cellInEditMode&&this.crudService.endEdit(!1);let i=t.groupingExpansionState,n=this.groupBy_get_expanded_for_group(e);n?n.expanded=!n.expanded:i.push({expanded:!t.groupsExpanded,hierarchy:DS.getHierarchy(e)}),this.grid.groupingExpansionState=[...i],t.rowEditable&&t.repositionRowEditingOverlay(t.gridAPI.crudService.rowInEditMode)}set_grouprow_expansion_state(e,t){this.grid.isExpandedGroup(e)!==t&&this.groupBy_toggle_group(e)}groupBy_fully_expand_group(e){let t=this.groupBy_get_expanded_for_group(e);(t?t.expanded:this.grid.groupsExpanded)||this.groupBy_toggle_group(e),e.groupParent&&this.groupBy_fully_expand_group(e.groupParent)}groupBy_select_all_rows_in_group(e,t){this.grid.selectionService.selectRowsWithNoEvent(this.grid.primaryKey?e.records.map((e=>e[this.grid.primaryKey])):e.records,t)}groupBy_deselect_all_rows_in_group(e){this.grid.selectionService.deselectRowsWithNoEvent(this.grid.primaryKey?e.records.map((e=>e[this.grid.primaryKey])):e.records)}arrange_sorting_expressions(){let e=this.grid.groupingExpressions,t=RC(this.grid.sortingExpressions);for(let i of e){let e=t.findIndex((e=>e.fieldName===i.fieldName));e>-1&&t.splice(e,1)}this.grid.sortingExpressions=t}get_groupBy_record_id(e){let t="{ ",i=DS.getHierarchy(e);for(let e=0;e<i.length;e++){let n=i[e];t+=`'${n.fieldName}': '${n.value}'`,e<i.length-1&&(t+=", ")}return t+=" }",t}remove_grouping_expression(e){let t=this.grid.groupingExpressions,i=t.findIndex((t=>t.fieldName===e));-1!==i&&t.splice(i,1)}static{this.ɵfac=(()=>{let t;return function(i){return(t||(t=ol(e)))(i||e)}})()}static{this.ɵprov=ir({token:e,factory:e.ɵfac})}}return e})(),oQ=["groupContent"],aQ=["defaultGroupByExpandedTemplate"],lQ=["defaultGroupByCollapsedTemplate"],dQ=e=>({$implicit:e}),cQ=(e,t,i)=>({selectedCount:e,totalCount:t,groupRow:i}),hQ=(e,t,i,n,r)=>[e,t,i,n,r];function uQ(e,t){1&e&&(Lp(0,"div",8),Hp(1,"igx-icon",13),Np()),2&e&&(Hc(),op("visibility","hidden"))}function gQ(e,t){}function pQ(e,t){1&e&&bg(0,gQ,0,0,"ng-template",null,6,sf)}function mQ(e,t){if(1&e){let e=Kp();Lp(0,"div",14),rm("pointerdown",(function(t){return Ko(e),jo(t.preventDefault())}))("click",(function(t){return Ko(e),jo(om().onGroupSelectorClick(t))})),bg(1,pQ,2,0,null,11),Np()}if(2&e){let e=om(),t=vm(16);Hc(),rp("ngTemplateOutlet",e.grid.groupByRowSelectorTemplate?e.grid.groupByRowSelectorTemplate:t)("ngTemplateOutletContext",Mm(6,dQ,Nm(2,cQ,e.selectedRowsInTheGroup.length,e.groupRow.records.length,e.groupRow)))}}function fQ(e,t){1&e&&$p(0)}function vQ(e,t){1&e&&$p(0)}function yQ(e,t){1&e&&Hp(0,"igx-icon",15)}function xQ(e,t){1&e&&Hp(0,"igx-icon",16)}function _Q(e,t){if(1&e&&(Lp(0,"div",17),Hp(1,"igx-icon",18),Lp(2,"span",19),ym(3),Np(),Lp(4,"span",20),ym(5),Xm(6,"columnFormatter"),Xm(7,"number"),Xm(8,"date"),Xm(9,"currency"),Xm(10,"percent"),Np(),Hp(11,"igx-badge",21),Np()),2&e){let e=om();Hc(3),wm(" ",e.groupRow.column&&e.groupRow.column.header?e.groupRow.column.header:e.groupRow.expression?e.groupRow.expression.fieldName:"",": "),Hc(2),_m(e.formatter?tf(6,3,e.groupRow.value,e.formatter,e.groupRow.records[0],null):"number"===e.dataType?ef(7,8,e.groupRow.value,e.groupRow.column.pipeArgs.digitsInfo,e.grid.locale):"date"===e.dataType||"time"===e.dataType||"dateTime"===e.dataType?tf(8,12,e.groupRow.value,e.groupRow.column.pipeArgs.format,e.groupRow.column.pipeArgs.timezone,e.grid.locale):"currency"===e.dataType?nf(9,17,zm(27,hQ,e.groupRow.value,e.currencyCode,e.groupRow.column.pipeArgs.display,e.groupRow.column.pipeArgs.digitsInfo,e.grid.locale)):"percent"===e.dataType?ef(10,23,e.groupRow.value,e.groupRow.column.pipeArgs.digitsInfo,e.grid.locale):e.groupRow.value),Hc(6),rp("value",e.groupRow.records?e.groupRow.records.length:0)}}function wQ(e,t){if(1&e&&(Lp(0,"div",22),Hp(1,"igx-checkbox",23,7),Np()),2&e){let e=om();Hc(),rp("tabindex",-1)("readonly",!0)("checked",e.areAllRowsInTheGroupSelected)("disableRipple",!0)("indeterminate",e.groupByRowCheckboxIndeterminateState)("disabled","single"===e.grid.rowSelection)("aria-label",e.groupByRowSelectorBaseAriaLabel)}}var CQ=(()=>{class e{get focused(){return this.isActive()}get currencyCode(){return this.groupRow.column.pipeArgs.currencyCode?this.groupRow.column.pipeArgs.currencyCode:av(this.grid.locale)}constructor(e,t,i,n,r){this.grid=e,this.gridSelection=t,this.element=i,this.cdr=n,this.filteringService=r,this.isFocused=!1,this.destroy$=new Ci,this.defaultCssClass="igx-grid__group-row",this.paddingIndentationCssClass="igx-grid__group-row--padding-level",this.gridSelection.selectedRowsChange.pipe(Nn(this.destroy$)).subscribe((()=>{this.cdr.markForCheck()}))}activate(){this.grid.navigation.setActiveNode({row:this.index})}onClick(e){this.grid.rowClick.emit({row:this.grid.createRow(this.index),event:e})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}get expanded(){return this.grid.isExpandedGroup(this.groupRow)}get describedBy(){let e=void 0!==this.groupRow.expression?this.groupRow.expression.fieldName:"";return this.gridID+"_"+e}get dataRowIndex(){return this.index}get nativeElement(){return this.element.nativeElement}get attrCellID(){return`${this.gridID}_${this.index}`}get styleClasses(){return`${this.defaultCssClass} ${this.paddingIndentationCssClass}-`+this.groupRow.level+(this.isActive()?` ${this.defaultCssClass}--active`:"")}isActive(){return!!this.grid.navigation.activeNode&&this.grid.navigation.activeNode.row===this.index}getRowID(e){return this.grid.primaryKey?e[this.grid.primaryKey]:e}onGroupSelectorClick(e){this.grid.isMultiRowSelectionEnabled&&(e.stopPropagation(),this.areAllRowsInTheGroupSelected?this.gridSelection.deselectRows(this.groupRow.records.map((e=>this.getRowID(e)))):this.gridSelection.selectRows(this.groupRow.records.map((e=>this.getRowID(e)))))}toggle(){this.grid.toggleGroup(this.groupRow)}get iconTemplate(){return this.expanded?this.grid.rowExpandedIndicatorTemplate||this.defaultGroupByExpandedTemplate:this.grid.rowCollapsedIndicatorTemplate||this.defaultGroupByCollapsedTemplate}get selectionNode(){return{row:this.index,column:this.gridSelection.activeElement?this.gridSelection.activeElement.column:0}}get dataType(){let e=this.groupRow.column;return e&&e.dataType||bS.String}get formatter(){let e=this.groupRow.column;return e&&e.formatter||null}get areAllRowsInTheGroupSelected(){return this.groupRow.records.every((e=>this.gridSelection.isRowSelected(this.getRowID(e))))}get selectedRowsInTheGroup(){let e=new Set(this.gridSelection.filteredSelectedRowIds);return this.groupRow.records.filter((t=>e.has(this.getRowID(t))))}get groupByRowCheckboxIndeterminateState(){return this.selectedRowsInTheGroup.length>0&&!this.areAllRowsInTheGroupSelected}get groupByRowSelectorBaseAriaLabel(){return(this.areAllRowsInTheGroupSelected?this.grid.resourceStrings.igx_grid_groupByArea_deselect_message:this.grid.resourceStrings.igx_grid_groupByArea_select_message).replace("{0}",this.groupRow.expression.fieldName).replace("{1}",this.groupRow.value)}get showRowSelectors(){return this.grid.rowSelection!==ab&&!this.hideGroupRowSelectors}static{this.ɵfac=function(t){return new(t||e)(lu(zF),lu(rP),lu(zl),lu(Cf),lu(OU))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-grid-groupby-row"]],viewQuery:function(e,t){if(1&e&&(pm(oQ,7),pm(aQ,7,jh),pm(lQ,7,jh)),2&e){let e;mm(e=fm())&&(t.groupContent=e.first),mm(e=fm())&&(t.defaultGroupByExpandedTemplate=e.first),mm(e=fm())&&(t.defaultGroupByCollapsedTemplate=e.first)}},hostVars:6,hostBindings:function(e,t){1&e&&rm("pointerdown",(function(){return t.activate()}))("click",(function(e){return t.onClick(e)})),2&e&&($g("aria-expanded",t.expanded)("aria-describedby",t.describedBy)("data-rowIndex",t.dataRowIndex)("id",t.attrCellID),lp(t.styleClasses))},inputs:{hideGroupRowSelectors:"hideGroupRowSelectors",rowDraggable:"rowDraggable",index:"index",gridID:"gridID",groupRow:"groupRow",isFocused:"isFocused"},decls:17,vars:10,consts:[["defaultGroupRow",""],["groupContent",""],["defaultGroupByExpandedTemplate",""],["defaultGroupByCollapsedTemplate",""],["defaultGroupByTemplate",""],["groupByRowSelectorBaseTemplate",""],["groupByRowSelector",""],["groupByRowCheckbox",""],[1,"igx-grid__drag-indicator","igx-grid__tr-action"],[1,"igx-grid__cbx-selection","igx-grid__tr-action"],[1,"igx-grid__grouping-indicator",3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"igx-grid__group-content"],["family","default","name","drag_indicator"],[1,"igx-grid__cbx-selection","igx-grid__tr-action",3,"pointerdown","click"],["family","default","name","tree_collapse"],["family","default","name","tree_expand"],[1,"igx-group-label"],["family","default","name","group_work",1,"igx-group-label__icon"],[1,"igx-group-label__column-name"],[1,"igx-group-label__text"],[1,"igx-group-label__count-badge",3,"value"],[1,"igx-grid__cbx-padding"],[3,"tabindex","readonly","checked","disableRipple","indeterminate","disabled","aria-label"]],template:function(e,t){if(1&e){let e=Kp();Bp(0,null,0),bg(2,uQ,2,2,"div",8)(3,mQ,2,8,"div",9),Lp(4,"div",10),rm("click",(function(){return Ko(e),jo(t.toggle())})),bg(5,fQ,1,0,"ng-container",11),Np(),Lp(6,"div",12,1),bg(8,vQ,1,0,"ng-container",11),Np(),bg(9,yQ,1,0,"ng-template",null,2,sf)(11,xQ,1,0,"ng-template",null,3,sf)(13,_Q,12,33,"ng-template",null,4,sf)(15,wQ,3,7,"ng-template",null,5,sf),Gp()}if(2&e){let e=vm(14);Hc(2),Ip(t.rowDraggable?2:-1),Hc(),Ip(t.showRowSelectors?3:-1),Hc(2),rp("ngTemplateOutlet",t.iconTemplate)("ngTemplateOutletContext",Mm(6,dQ,t)),Hc(3),rp("ngTemplateOutlet",t.grid.groupRowTemplate?t.grid.groupRowTemplate:e)("ngTemplateOutletContext",Mm(8,dQ,t.groupRow))}},dependencies:[qv,ry,ny,sy,oy,DA,ZP,OF,wY],encapsulation:2,changeDetection:0})}}return e})(),SQ=(()=>{class e extends IX{isValidPosition(e,t){return!(e<0||t<0||this.grid.dataView.length-1<e||Math.max(...this.grid.visibleColumns.map((e=>e.visibleIndex)))<t||this.activeNode.column!==t&&!this.isDataRow(e,!0))}shouldPerformVerticalScroll(e,t){if(!super.shouldPerformVerticalScroll(e,t))return!1;if(!this.isDataRow(e)||t<0)return super.shouldPerformVerticalScroll(e,t);let i=super.getRowElementByIndex(e),n=this.grid.calcHeight?Math.ceil(this.grid.calcHeight):0,r=this.getVerticalScrollPositions(e,t);return!i||i.offsetTop+r.topOffset<Math.abs(this.containerTopOffset)||n&&n<r.rowBottom-Math.ceil(this.scrollTop)}isColumnFullyVisible(e){let t=this.grid.getColumnByVisibleIndex(e);if(this.isParentColumnFullyVisible(t?.parent)||super.isColumnPinned(e,this.forOfDir()))return!0;let i=this.getChildColumnScrollPositions(e),n=i.rightScroll-i.leftScroll;return this.displayContainerWidth<n&&this.displayContainerScrollLeft===i.leftScroll||this.displayContainerWidth>=i.rightScroll-this.displayContainerScrollLeft&&this.displayContainerScrollLeft<=i.leftScroll}getVerticalScrollPositions(e,t){let i=this.grid.getColumnByVisibleIndex(t),n=i.rowEnd&&i.rowEnd-i.rowStart?i.rowEnd-i.rowStart:1,r=this.grid.defaultRowHeight*(i.rowStart-1),s=this.grid.verticalScrollContainer.sizesCache[e]+r;return{topOffset:r,rowTop:s,rowBottom:s+this.grid.defaultRowHeight*n}}performHorizontalScrollToCell(e,t){if(!this.shouldPerformHorizontalScroll(e))return;let i=this.getChildColumnScrollPositions(e),n=i.rightScroll-this.displayContainerScrollLeft,r=!(this.displayContainerScrollLeft<=i.leftScroll)&&this.displayContainerWidth>=n?i.leftScroll:i.rightScroll-this.displayContainerWidth;this.forOfDir().getScroll().scrollLeft=r,this.grid.parentVirtDir.chunkLoad.pipe(Vn()).subscribe((()=>{t&&t()}))}performVerticalScrollToCell(e,t,i){let n=this.parentByChildIndex(t||0)?.children;if(!super.isDataRow(e)||n&&n.length<2||t<0)return super.performVerticalScrollToCell(e,t,i);let r=this.grid.calcHeight?Math.ceil(this.grid.calcHeight):0,s=this.getVerticalScrollPositions(e,t),o=super.getRowElementByIndex(e);this.scrollTop>s.rowTop&&(!o||o.offsetTop+s.topOffset<Math.abs(this.containerTopOffset))?0===s.topOffset?this.grid.verticalScrollContainer.scrollTo(e):this.grid.verticalScrollContainer.scrollPosition=s.rowTop:this.grid.verticalScrollContainer.addScrollTop(Math.abs(s.rowBottom-this.scrollTop-r)),this.grid.verticalScrollContainer.chunkLoad.pipe(Vn()).subscribe((()=>{i&&i()}))}getNextHorizontalCellPosition(e=!1){let t=this.parentByChildIndex(this.activeNode.column);if(!this.hasNextHorizontalPosition(e,t))return{row:this.activeNode.row,column:this.activeNode.column};let i=(e?t.children.filter((e=>e.rowStart<=this.activeNode.layout.rowStart)).sort(((e,t)=>t.visibleIndex-e.visibleIndex)):t.children.filter((e=>e.rowStart<=this.activeNode.layout.rowStart))).find((t=>e?t.visibleIndex<this.activeNode.column&&this.rowEnd(t)>this.activeNode.layout.rowStart:t.visibleIndex>this.activeNode.column&&t.colStart>this.activeNode.layout.colStart));if(!i||e&&1===this.activeNode.layout.colStart){let n=e?t.visibleIndex-1:t.visibleIndex+1,r=this.grid.columns.find((e=>e.columnLayout&&e.visibleIndex===n)).children;i=e?r.toArray().reverse().find((e=>e.rowStart<=this.activeNode.layout.rowStart)):r.find((e=>this.rowEnd(e)>this.activeNode.layout.rowStart&&1===e.colStart))}return{row:this.activeNode.row,column:i.visibleIndex}}getNextVerticalPosition(e=!1){if(this.activeNode.column=this.activeNode.column||0,!this.hasNextVerticalPosition(e))return{row:this.activeNode.row,column:this.activeNode.column};let t=this.grid.getColumnByVisibleIndex(this.activeNode.column).rowStart,i=!this.isDataRow(this.activeNode.row)||(e?1===t:t===this.lastRowStartPerBlock()),n=e?this.activeNode.row-1:this.activeNode.row+1;if(i&&!this.isDataRow(n))return{row:n,column:this.activeNode.column};let r=this.parentByChildIndex(this.activeNode.column).children,s=e?this.getPreviousRowIndex(r,i):this.getNextRowIndex(r,i);return{row:i?n:this.activeNode.row,column:s.visibleIndex}}headerNavigation(e){let t=e.key.toLowerCase();if(!UC.has(t))return;e.preventDefault(),this.activeNode.layout||(this.activeNode.layout=this.layout(this.activeNode.column||0));let i=e.altKey,n=e.ctrlKey;if(this.performHeaderKeyCombination(this.grid.getColumnByVisibleIndex(this.activeNode.column),t,e.shiftKey,n,i,e),n||i||!t.includes("down")&&!t.includes("up"))this.horizontalNav(e,t,-1,"headerCell");else{let e=this.parentByChildIndex(this.activeNode.column).children,i=t.includes("down")?this.getNextRowIndex(e,!1):this.getPreviousRowIndex(e,!1);if(!i)return;this.activeNode.column=i.visibleIndex;let n=this.layout(this.activeNode.column),r=Je(Qe({},this.activeNode.layout),{rowStart:n.rowStart,rowEnd:n.rowEnd});this.setActiveNode({row:this.activeNode.row,layout:r})}}layout(e){let t=this.grid.getColumnByVisibleIndex(e);return{colStart:t.colStart,rowStart:t.rowStart,colEnd:t.colEnd,rowEnd:t.rowEnd,columnVisibleIndex:t.visibleIndex}}getNextPosition(e,t,i,n,r,s){switch(this.activeNode.layout||(this.activeNode.layout=this.layout(this.activeNode.column||0)),i){case"tab":case" ":case"spacebar":case"space":case"escape":case"esc":case"enter":case"f2":super.getNextPosition(e,t,i,n,r,s);break;case"end":e=r?this.findLastDataRowIndex():this.activeNode.row,t=r?this.lastColIndexPerMRLBlock(this.lastIndexPerRow):this.lastIndexPerRow;break;case"home":e=r?this.findFirstDataRowIndex():this.activeNode.row,t=r?0:this.firstIndexPerRow;break;case"arrowleft":case"left":t=r?this.firstIndexPerRow:this.getNextHorizontalCellPosition(!0).column;break;case"arrowright":case"right":t=r?this.lastIndexPerRow:this.getNextHorizontalCellPosition().column;break;case"arrowup":case"up":let o=this.getNextVerticalPosition(!0);t=r?this.activeNode.column:o.column,e=r?this.findFirstDataRowIndex():o.row;break;case"arrowdown":case"down":let a=this.getNextVerticalPosition();t=r?this.activeNode.column:a.column,e=r?this.findLastDataRowIndex():a.row;break;default:return}let o=this.layout(t),a=i.includes("up")||i.includes("down")?{rowStart:o.rowStart}:{colStart:o.colStart};return Object.assign(this.activeNode.layout,a,{rowEnd:o.rowEnd}),r&&("home"===i||"end"===i)&&(this.activeNode.layout=o),{rowIndex:e,colIndex:t}}horizontalNav(e,t,i,n){let r=e.ctrlKey;if(!zC.has(t)||e.altKey)return;this.activeNode.row=i;let s={column:this.activeNode.column,mchCache:{level:this.activeNode.level,visibleIndex:this.activeNode.column}};if((t.includes("left")||"home"===t)&&this.activeNode.column>0&&(s.column=r||"home"===t?this.firstIndexPerRow:this.getNextHorizontalCellPosition(!0).column),(t.includes("right")||"end"===t)&&this.activeNode.column!==this.lastIndexPerRow&&(s.column=r||"end"===t?this.lastIndexPerRow:this.getNextHorizontalCellPosition().column),"headerCell"===n){let e=this.grid.getColumnByVisibleIndex(s.column);s.mchCache.level=e.level,s.mchCache.visibleIndex=e.visibleIndex}let o=this.layout(s.column),a=Je(Qe({},this.activeNode.layout),{colStart:o.colStart,rowEnd:o.rowEnd});this.setActiveNode({row:this.activeNode.row,column:s.column,layout:a,mchCache:s.mchCache}),this.performHorizontalScrollToCell(s.column)}isParentColumnFullyVisible(e){if(!this.forOfDir().getScroll().clientWidth||e?.pinned)return!0;let t=this.forOfDir().igxForOf.indexOf(e);return this.displayContainerWidth>=this.forOfDir().getColumnScrollLeft(t+1)-this.displayContainerScrollLeft&&this.displayContainerScrollLeft<=this.forOfDir().getColumnScrollLeft(t)}getChildColumnScrollPositions(e){let t=this.grid.getColumnByVisibleIndex(e),i=this.forOfDir().igxForOf.indexOf(t.parent),n=this.forOfDir().getColumnScrollLeft(i),r=this.forOfDir().getColumnScrollLeft(i+1);return t.parent.children.forEach((e=>{e.rowStart>=t.rowStart&&e.visibleIndex<t.visibleIndex&&(n+=parseInt(e.width,10)),e.rowStart<=t.rowStart&&e.visibleIndex>t.visibleIndex&&(r-=parseInt(e.width,10))})),{leftScroll:n,rightScroll:r}}getNextRowIndex(e,t){let i=t?1:this.rowEnd(this.grid.getColumnByVisibleIndex(this.activeNode.column)),n=e.filter((e=>e.rowStart===i));return n.find((e=>e.colStart===this.activeNode.layout.colStart))||n.sort(((e,t)=>t.visibleIndex-e.visibleIndex)).find((e=>e.colStart<=this.activeNode.layout.colStart))}getPreviousRowIndex(e,t){let i=t?Math.max(...e.map((e=>this.rowEnd(e)))):this.grid.getColumnByVisibleIndex(this.activeNode.column).rowStart,n=e.filter((e=>this.rowEnd(e)===i));return n.find((e=>e.colStart===this.activeNode.layout.colStart))||n.sort(((e,t)=>t.visibleIndex-e.visibleIndex)).find((e=>e.colStart<=this.activeNode.layout.colStart))}get lastIndexPerRow(){let e=this.grid.visibleColumns.find((e=>e.visibleIndex===this.lastLayoutIndex&&e.columnLayout)).children.toArray().reverse();return(e.find((e=>e.rowStart===this.activeNode.layout.rowStart))||e.find((e=>e.rowStart<=this.activeNode.layout.rowStart))).visibleIndex}get firstIndexPerRow(){let e=this.grid.visibleColumns.find((e=>0===e.visibleIndex&&e.columnLayout)).children;return(e.find((e=>e.rowStart===this.activeNode.layout.rowStart))||e.find((e=>e.rowStart<=this.activeNode.layout.rowStart))).visibleIndex}get lastLayoutIndex(){return Math.max(...this.grid.visibleColumns.filter((e=>e.columnLayout)).map((e=>e.visibleIndex)))}get scrollTop(){return Math.abs(this.grid.verticalScrollContainer.getScroll().scrollTop)}lastColIndexPerMRLBlock(e=this.activeNode.column){return this.parentByChildIndex(e).children.last.visibleIndex}lastRowStartPerBlock(e=this.activeNode.column){return Math.max(...this.parentByChildIndex(e).children.map((e=>e.rowStart)))}rowEnd(e){return e.rowEnd&&e.rowEnd-e.rowStart?e.rowStart+e.rowEnd-e.rowStart:e.rowStart+1}parentByChildIndex(e){return this.grid.getColumnByVisibleIndex(e)?.parent}hasNextHorizontalPosition(e=!1,t){return!(e&&0===t.visibleIndex&&1===this.activeNode.layout.colStart||!e&&t.visibleIndex===this.lastLayoutIndex&&this.activeNode.column===this.lastIndexPerRow)}hasNextVerticalPosition(e=!1){return!(e&&0===this.activeNode.row&&(!this.isDataRow(this.activeNode.row)||1===this.activeNode.layout.rowStart)||!e&&this.activeNode.row>=this.grid.dataView.length-1&&this.activeNode.column===this.lastColIndexPerMRLBlock())}static{this.ɵfac=(()=>{let t;return function(i){return(t||(t=ol(e)))(i||e)}})()}static{this.ɵprov=ir({token:e,factory:e.ɵfac})}}return e})(),bQ=(()=>{class e{constructor(e){this.grid=e}transform(e,t,i,n){return t?this.addDetailRows(e,i):e}addDetailRows(e,t){let i=[];return e.forEach((e=>{if(i.push(e),!this.grid.isGroupByRecord(e)&&!this.grid.isSummaryRow(e)&&this.grid.gridAPI.get_row_expansion_state(e)){let t={detailsData:e};i.push(t)}})),i}static{this.ɵfac=function(t){return new(t||e)(lu(zF,16))}}static{this.ɵpipe=sg({name:"gridDetails",type:e,pure:!0})}}return e})(),DQ=(()=>{class e{constructor(e){this.grid=e}transform(e,t,i,n,r,s,o,a){return e.data&&t&&i!==rb?this.addSummaryRows(r,e,n,s):e.data}addSummaryRows(e,t,i,n){let r=[],s=new Map,o=this.grid.summaryService.calcMaxSummaryHeight();if(t.metadata.length&&!this.grid.isGroupByRecord(t.data[0])&&this.grid.isGroupByRecord(t.metadata[0])&&i===nb){let e=[];for(e.push(t.metadata[0]);e[e.length-1].groupParent;)e.push(e[e.length-1].groupParent);e.reverse(),e.forEach((e=>e.skip=!0)),t.data.splice(0,0,...e)}for(let e of t.data){let t,a=!1,l=null;if(this.grid.isGroupByRecord(e)?(a=!!e.skip,e.skip=null,l=e,t=this.grid.gridAPI.get_groupBy_record_id(l)):t=this.grid.gridAPI.get_row_id(e),a||r.push(e),i===nb&&n&&l&&!this.grid.isExpandedGroup(l)){let e=this.removeDeletedRecord(this.grid,l.records.slice()),i={summaries:this.grid.summaryService.calculateSummaries(t,e),max:o};r.push(i)}if(i===nb&&s.has(t)){let e=s.get(t);for(let t of e){let e=this.grid.gridAPI.get_groupBy_record_id(t),i=this.removeDeletedRecord(this.grid,t.records.slice()),n={summaries:this.grid.summaryService.calculateSummaries(e,i,t),max:o};r.push(n)}}let d=!n&&l&&!this.grid.isExpandedGroup(l);if(null!==l&&!d)if(i===ib){let e=this.removeDeletedRecord(this.grid,l.records.slice()),i={summaries:this.grid.summaryService.calculateSummaries(t,e,l),max:o};r.push(i)}else if(i===nb){let e,t=l;for(;t.groups&&t.groups.length>0&&this.grid.isExpandedGroup(t);)t=t.groups[t.groups.length-1];e=this.grid.isExpandedGroup(t)?this.grid.gridAPI.get_row_id(t.records[t.records.length-1]):this.grid.gridAPI.get_groupBy_record_id(t);let i=s.get(e);i||(i=[],s.set(e,i)),i.unshift(l)}}return r}removeDeletedRecord(e,t){return e.transactions.enabled&&e.transactions.getTransactionLog().filter((e=>"delete"===e.type)).map((e=>e.id)).forEach((i=>{let n=(e.primaryKey?t.map((t=>t[e.primaryKey])):t).indexOf(i);-1!==n&&t.splice(n,1)})),t}static{this.ɵfac=function(t){return new(t||e)(lu(zF,16))}}static{this.ɵpipe=sg({name:"gridSummary",type:e,pure:!0})}}return e})(),EQ=(()=>{class e{constructor(e){this.grid=e}transform(e,t,i,n,r,s,o){let a,l=i.concat(t);return a=l.length?DS.sort(RC(e),l,n,this.grid):e,this.grid.setFilteredSortedData(a,o),a}static{this.ɵfac=function(t){return new(t||e)(lu(zF,16))}}static{this.ɵpipe=sg({name:"gridSort",type:e,pure:!0})}}return e})(),TQ=(()=>{class e{constructor(e){this.grid=e}transform(e,t,i,n,r,s,o,a){let l={expressions:[],expansion:[],defaultExpanded:r};l.expressions=this.grid.groupingExpressions;let d,c={data:[],metadata:[]};return l.expressions.length?(l.expansion=this.grid.groupingExpansionState,l.defaultExpanded=this.grid.groupsExpanded,d=DS.group(RC(e),l,n,this.grid,o,c)):(o.splice(0,o.length),d={data:e,metadata:e}),this.grid.groupingFlatResult=d.data,this.grid.groupingResult=c.data,this.grid.groupingMetadata=c.metadata,d}static{this.ɵfac=function(t){return new(t||e)(lu(zF,16))}}static{this.ɵpipe=sg({name:"gridGroupBy",type:e,pure:!0})}}return e})(),IQ=(()=>{class e{constructor(e){this.grid=e}transform(e,t,i=0,n=15,r){if(!t||"local"!==this.grid.pagingMode)return e;let s={index:i,recordsPerPage:n},o=this.grid._totalRecords>=0?this.grid._totalRecords:e.data?.length;DS.correctPagingState(s,o);let a={data:DS.page(RC(e.data),s,o),metadata:DS.page(RC(e.metadata),s,o)};return this.grid.page!==s.index&&(this.grid.page=s.index),this.grid.pagingState=s,a}static{this.ɵfac=function(t){return new(t||e)(lu(zF,16))}}static{this.ɵpipe=sg({name:"gridPaging",type:e,pure:!0})}}return e})(),RQ=(()=>{class e{constructor(e){this.grid=e}transform(e,t,i,n,r,s,o,a){let l={expressionsTree:t,strategy:i,advancedExpressionsTree:n};if(US.empty(l.expressionsTree)&&US.empty(l.advancedExpressionsTree))return e;let d=YS.filter(RC(e),l,this.grid);return this.grid.setFilteredData(d,a),d}static{this.ɵfac=function(t){return new(t||e)(lu(zF,16))}}static{this.ɵpipe=sg({name:"gridFiltering",type:e,pure:!0})}}return e})(),AQ=(()=>{class e{constructor(e){this.grid=e}transform(e,t=0){let i=this.grid.summaryService;return i.calculateSummaries(i.rootSummaryID,this.grid.gridAPI.get_summary_data())}static{this.ɵfac=function(t){return new(t||e)(lu(zF,16))}}static{this.ɵpipe=sg({name:"igxGridSummaryDataPipe",type:e,pure:!0})}}return e})(),kQ=["errorIcon"],OQ=["defaultError"],FQ=["defaultCell"],PQ=["defaultPinnedIndicator"],VQ=["inlineEditor"],MQ=["addRowCell"],LQ=["error"],NQ=(e,t,i,n,r)=>[e,t,i,n,r],HQ=(e,t)=>({"igx-icon--success":e,"igx-icon--error":t});function zQ(e,t){if(1&e&&(Lp(0,"igx-chip",9),ym(1),Np()),2&e){let e=om(2);op("--ig-size",1),rp("disabled",!0),Hc(),_m(e.grid.resourceStrings.igx_grid_pinned_row_indicator)}}function BQ(e,t){1&e&&bg(0,zQ,2,4,"igx-chip",8),2&e&&Ip(om().displayPinnedChip?0:-1)}function GQ(e,t){if(1&e&&(Lp(0,"div",10),Xm(1,"columnFormatter"),Xm(2,"number"),Xm(3,"date"),Xm(4,"currency"),Xm(5,"percent"),ym(6),Xm(7,"columnFormatter"),Xm(8,"number"),Xm(9,"date"),Xm(10,"currency"),Xm(11,"percent"),Np()),2&e){let e=om(2);rp("cssClass",e.highlightClass)("activeCssClass",e.activeHighlightClass)("groupName",e.gridID)("value",e.formatter?tf(1,9,e.value,e.formatter,e.rowData,e.columnData):"number"===e.column.dataType?ef(2,14,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):"date"===e.column.dataType||"time"===e.column.dataType||"dateTime"===e.column.dataType?tf(3,18,e.value,e.column.pipeArgs.format,e.column.pipeArgs.timezone,e.grid.locale):"currency"===e.column.dataType?nf(4,23,zm(57,NQ,e.value,e.currencyCode,e.column.pipeArgs.display,e.column.pipeArgs.digitsInfo,e.grid.locale)):"percent"===e.column.dataType?ef(5,29,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):e.value)("row",e.rowData)("column",e.column.field)("containerClass","igx-grid__td-text")("metadata",e.searchMetadata),Hc(6),_m(e.formatter?tf(7,33,e.value,e.formatter,e.rowData,e.columnData):"number"===e.column.dataType?ef(8,38,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):"date"===e.column.dataType||"time"===e.column.dataType||"dateTime"===e.column.dataType?tf(9,42,e.value,e.column.pipeArgs.format,e.column.pipeArgs.timezone,e.grid.locale):"currency"===e.column.dataType?nf(10,47,zm(63,NQ,e.value,e.currencyCode,e.column.pipeArgs.display,e.column.pipeArgs.digitsInfo,e.grid.locale)):"percent"===e.column.dataType?ef(11,53,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):e.value)}}function $Q(e,t){if(1&e&&Hp(0,"igx-icon",11),2&e){let e=om(2);rp("name",e.value?"confirm":"close")("ngClass",Lm(2,HQ,e.value,!e.value))}}function WQ(e,t){if(1&e&&(Hp(0,"img",12),Xm(1,"igxCellImageAlt")),2&e){let e=om(2);rp("src",e.value,uc)("alt",Qm(1,2,e.value))}}function KQ(e,t){if(1&e&&bg(0,GQ,12,69,"div",10)(1,$Q,1,5,"igx-icon",11)(2,WQ,2,4,"img",12),2&e){let e=om();Ip("boolean"!==e.column.dataType&&"image"!==e.column.dataType||"boolean"===e.column.dataType&&e.formatter?0:-1),Hc(),Ip("boolean"!==e.column.dataType||e.formatter?-1:1),Hc(),Ip("image"===e.column.dataType?2:-1)}}function jQ(e,t){if(1&e&&(Lp(0,"div",10),Xm(1,"columnFormatter"),Xm(2,"number"),Xm(3,"date"),Xm(4,"currency"),Xm(5,"percent"),ym(6),Np()),2&e){let e=om(2);rp("cssClass",e.highlightClass)("activeCssClass",e.activeHighlightClass)("groupName",e.gridID)("value",e.formatter?ef(1,9,e.value,e.formatter,e.rowData):"number"===e.column.dataType?ef(2,13,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):"date"===e.column.dataType||"time"===e.column.dataType||"dateTime"===e.column.dataType?tf(3,17,e.value,e.column.pipeArgs.format,e.column.pipeArgs.timezone,e.grid.locale):"currency"===e.column.dataType?nf(4,22,zm(32,NQ,e.value,e.currencyCode,e.column.pipeArgs.display,e.column.pipeArgs.digitsInfo,e.grid.locale)):"percent"===e.column.dataType?ef(5,28,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):e.value)("row",e.rowData)("column",e.column.field)("containerClass","igx-grid__td-text")("metadata",e.searchMetadata),Hc(6),_m(e.isEmptyAddRowCell?e.column.header||e.column.field:e.value)}}function UQ(e,t){if(1&e&&bg(0,jQ,7,38,"div",10),2&e){let e=om();Ip("boolean"!==e.column.dataType||"boolean"===e.column.dataType&&e.formatter?0:-1)}}function qQ(e,t){if(1&e){let e=Kp();Bp(0,13),Lp(1,"igx-input-group")(2,"input",14),rm("compositionstart",(function(){return Ko(e),jo(om(2).grid.crudService.isInCompositionMode=!0)}))("compositionend",(function(){return Ko(e),jo(om(2).grid.crudService.isInCompositionMode=!1)})),Np()(),Gp()}if(2&e){let e=om(2);rp("formGroup",e.formGroup),Hc(2),rp("igxFocus",!0)("igxTextSelection",!0)("formControl",e.formControl),$g("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid)}}function YQ(e,t){if(1&e&&(Lp(0,"igx-input-group",13),Hp(1,"input",15),Np()),2&e){let e=om(2);rp("formGroup",e.formGroup),Hc(),rp("igxFocus",!0)("igxTextSelection",!0)("step",e.step)("formControl",e.formControl),$g("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid)}}function ZQ(e,t){if(1&e&&(Bp(0,13),Hp(1,"igx-checkbox",16),Gp()),2&e){let e=om(2);rp("formGroup",e.formGroup),Hc(),rp("checked",e.editValue)("igxFocus",!0)("disableRipple",!0)("formControl",e.formControl)}}function XQ(e,t){if(1&e){let e=Kp();Bp(0,13),Lp(1,"igx-date-picker",17),Em("valueChange",(function(t){Ko(e);let i=om(2);return Dm(i.editValue,t)||(i.editValue=t),jo(t)})),Np(),Gp()}if(2&e){let e=om(2);rp("formGroup",e.formGroup),Hc(),op("width",100,"%"),rp("outlet",e.grid.outlet)("locale",e.grid.locale)("weekStart",e.column.pipeArgs.weekStart),bm("value",e.editValue),rp("igxFocus",!0)("formControl",e.formControl)("inputFormat",null==e.column.editorOptions?null:e.column.editorOptions.dateTimeFormat)("displayFormat",e.column.pipeArgs.format)}}function QQ(e,t){if(1&e){let e=Kp();Bp(0,13),Lp(1,"igx-time-picker",18),Em("valueChange",(function(t){Ko(e);let i=om(2);return Dm(i.editValue,t)||(i.editValue=t),jo(t)})),Np(),Gp()}if(2&e){let e=om(2);rp("formGroup",e.formGroup),Hc(),op("width",100,"%"),rp("outlet",e.grid.outlet)("locale",e.grid.locale)("inputFormat",null==e.column.editorOptions?null:e.column.editorOptions.dateTimeFormat)("displayFormat",e.column.pipeArgs.format),bm("value",e.editValue),rp("igxFocus",!0)("formControl",e.formControl)}}function JQ(e,t){if(1&e&&(Lp(0,"igx-input-group",13),Hp(1,"input",19),Np()),2&e){let e=om(2);rp("formGroup",e.formGroup),Hc(),rp("formControl",e.formControl)("locale",e.grid.locale)("igxDateTimeEditor",null==e.column.editorOptions?null:e.column.editorOptions.dateTimeFormat)("defaultFormatType",e.column.dataType)("displayFormat",e.column.pipeArgs.format)("igxFocus",!0),$g("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid)}}function eJ(e,t){if(1&e&&(Lp(0,"igx-prefix"),ym(1),Np()),2&e){let e=om(3);Hc(),_m(e.currencyCodeSymbol)}}function tJ(e,t){if(1&e&&(Lp(0,"igx-suffix"),ym(1),Np()),2&e){let e=om(3);Hc(),_m(e.currencyCodeSymbol)}}function iJ(e,t){if(1&e&&(Lp(0,"igx-input-group",13),bg(1,eJ,2,1,"igx-prefix"),Hp(2,"input",15),bg(3,tJ,2,1,"igx-suffix"),Np()),2&e){let e=om(2);rp("formGroup",e.formGroup),Hc(),Ip(e.grid.currencyPositionLeft?1:-1),Hc(),rp("igxFocus",!0)("igxTextSelection",!0)("step",e.step)("formControl",e.formControl),$g("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid),Hc(),Ip(e.grid.currencyPositionLeft?-1:3)}}function nJ(e,t){if(1&e&&(Lp(0,"igx-input-group",13),Hp(1,"input",15),Lp(2,"igx-suffix"),ym(3),Xm(4,"percent"),Np()()),2&e){let e=om(2);rp("formGroup",e.formGroup),Hc(),rp("igxFocus",!0)("igxTextSelection",!0)("step",e.step)("formControl",e.formControl),$g("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid),Hc(2),wm(" ",ef(4,8,e.editValue,e.column.pipeArgs.digitsInfo,e.grid.locale)," ")}}function rJ(e,t){if(1&e&&bg(0,qQ,3,6,"ng-container",13)(1,YQ,2,7,"igx-input-group",13)(2,ZQ,2,5,"ng-container",13)(3,XQ,2,11,"ng-container",13)(4,QQ,2,10,"ng-container",13)(5,JQ,2,9,"igx-input-group",13)(6,iJ,4,9,"igx-input-group",13)(7,nJ,5,12,"igx-input-group",13),2&e){let e=om();Ip("string"===e.column.dataType||"image"===e.column.dataType?0:-1),Hc(),Ip("number"===e.column.dataType?1:-1),Hc(),Ip("boolean"===e.column.dataType?2:-1),Hc(),Ip("date"===e.column.dataType?3:-1),Hc(),Ip("time"===e.column.dataType?4:-1),Hc(),Ip("dateTime"===e.column.dataType?5:-1),Hc(),Ip("currency"===e.column.dataType?6:-1),Hc(),Ip("percent"===e.column.dataType?7:-1)}}function sJ(e,t){1&e&&$p(0)}function oJ(e,t){1&e&&$p(0)}function aJ(e,t){1&e&&$p(0)}function lJ(e,t){if(1&e){let e=Kp();Lp(0,"igx-icon",20,5),rm("mouseover",(function(){return Ko(e),jo(om().errorShowing=!0)}))("mouseout",(function(){return Ko(e),jo(om().errorShowing=!1)})),Np(),Lp(2,"div",21,6)(5,"div"),bg(6,aJ,1,0,"ng-container",7),Np()()}if(2&e){let e=vm(4),t=om(),i=vm(12);rp("igxTooltipTarget",e)("igxToggleOutlet",t.grid.outlet),Hc(2),rp("id",t.ariaErrorMessage),Hc(3),op("width","max-content"),Hc(),rp("ngTemplateOutlet",t.cellValidationErrorTemplate||i)("ngTemplateOutletContext",t.context)}}function dJ(e,t){if(1&e&&(Lp(0,"div"),ym(1),Np()),2&e){let e=om(2);Hc(),wm(" ",e.grid.resourceStrings.igx_grid_required_validation_error," ")}}function cJ(e,t){if(1&e&&(Lp(0,"div"),ym(1),Xm(2,"igxStringReplace"),Np()),2&e){let e=om(2);Hc(),wm(" ",ef(2,1,e.grid.resourceStrings.igx_grid_min_length_validation_error,"{0}",e.formGroup.get(e.column.field).errors.minlength.requiredLength)," ")}}function hJ(e,t){if(1&e&&(Lp(0,"div"),ym(1),Xm(2,"igxStringReplace"),Np()),2&e){let e=om(2);Hc(),wm(" ",ef(2,1,e.grid.resourceStrings.igx_grid_max_length_validation_error,"{0}",e.formGroup.get(e.column.field).errors.maxlength.requiredLength)," ")}}function uJ(e,t){if(1&e&&(Lp(0,"div"),ym(1),Xm(2,"igxStringReplace"),Np()),2&e){let e=om(2);Hc(),wm(" ",ef(2,1,e.grid.resourceStrings.igx_grid_min_validation_error,"{0}",e.formGroup.get(e.column.field).errors.min.min)," ")}}function gJ(e,t){if(1&e&&(Lp(0,"div"),ym(1),Xm(2,"igxStringReplace"),Np()),2&e){let e=om(2);Hc(),wm(" ",ef(2,1,e.grid.resourceStrings.igx_grid_max_validation_error,"{0}",e.formGroup.get(e.column.field).errors.max.max)," ")}}function pJ(e,t){if(1&e&&(Lp(0,"div"),ym(1),Np()),2&e){let e=om(2);Hc(),wm(" ",e.grid.resourceStrings.igx_grid_email_validation_error," ")}}function mJ(e,t){if(1&e&&(Lp(0,"div"),ym(1),Np()),2&e){let e=om(2);Hc(),wm(" ",e.grid.resourceStrings.igx_grid_pattern_validation_error," ")}}function fJ(e,t){if(1&e&&bg(0,dJ,2,1,"div")(1,cJ,3,5,"div")(2,hJ,3,5,"div")(3,uJ,3,5,"div")(4,gJ,3,5,"div")(5,pJ,2,1,"div")(6,mJ,2,1,"div"),2&e){let e,t,i,n,r,s,o,a=om();Ip(null!=a.formGroup&&null!=(e=a.formGroup.get(null==a.column?null:a.column.field).errors)&&e.required?0:-1),Hc(),Ip(null!=a.formGroup&&null!=(t=a.formGroup.get(null==a.column?null:a.column.field).errors)&&t.minlength?1:-1),Hc(),Ip(null!=a.formGroup&&null!=(i=a.formGroup.get(null==a.column?null:a.column.field).errors)&&i.maxlength?2:-1),Hc(),Ip(null!=a.formGroup&&null!=(n=a.formGroup.get(null==a.column?null:a.column.field).errors)&&n.min?3:-1),Hc(),Ip(null!=a.formGroup&&null!=(r=a.formGroup.get(null==a.column?null:a.column.field).errors)&&r.max?4:-1),Hc(),Ip(null!=a.formGroup&&null!=(s=a.formGroup.get(null==a.column?null:a.column.field).errors)&&s.email?5:-1),Hc(),Ip(null!=a.formGroup&&null!=(o=a.formGroup.get(null==a.column?null:a.column.field).errors)&&o.pattern?6:-1)}}var vJ=(()=>{class e{get isEmptyAddRowCell(){return this.intRow.addRowUI&&(void 0===this.value||null===this.value)}get formGroup(){return this.grid.validation.getFormGroup(this.intRow.key)}get row(){return this.grid.createRow(this.intRow.index)}get context(){let e=()=>this.getCellType(!0),t={$implicit:this.value,additionalTemplateContext:this.column.additionalTemplateContext,get cell(){return e()}};return this.editMode&&(t.formControl=this.formControl),this.isInvalid&&(t.defaultErrorTemplate=this.defaultErrorTemplate),t}get template(){return this.editMode&&this.formGroup?this.column.inlineEditorTemplate||this.inlineEditorTemplate:this.cellTemplate?this.cellTemplate:this.grid.rowEditable&&this.intRow.addRowUI?this.addRowCellTemplate:this.defaultCellTemplate}get pinnedIndicatorTemplate(){return this.pinnedIndicator?this.pinnedIndicator:this.defaultPinnedIndicator}get gridID(){return this.intRow.gridID}get rowIndex(){return this.intRow.index}get columnIndex(){return this.column.index}get visibleColumnIndex(){return this.column.columnLayoutChild?this.column.visibleIndex:this._vIndex}set visibleColumnIndex(e){this._vIndex=e}get cellID(){let e=this.grid.primaryKey;return{rowID:e?this.rowData[e]:this.rowData,columnID:this.columnIndex,rowIndex:this.rowIndex}}get attrCellID(){return`${this.intRow.gridID}_${this.rowIndex}_${this.visibleColumnIndex}`}get title(){if(this.editMode||this.cellTemplate||this.errorShowing)return"";if(this.formatter)return this.formatter(this.value,this.rowData,this.columnData);let e=this.column.pipeArgs,t=this.grid.locale;switch(this.column.dataType){case bS.Percent:return zv(this.value,t,e.digitsInfo);case bS.Currency:return tS(this.value,this.currencyCode,e.display,e.digitsInfo,t);case bS.Date:case bS.DateTime:case bS.Time:return eS(this.value,e.format,t,e.timezone)}return this.value}get booleanClass(){return"boolean"===this.column.dataType&&this.value}get nativeElement(){return this.element.nativeElement}get cellSelectionMode(){return this._cellSelection}set cellSelectionMode(e){this._cellSelection!==e&&(this.zone.runOutsideAngular((()=>{e===db?this.addPointerListeners(e):this.removePointerListeners(this._cellSelection)})),this._cellSelection=e)}set lastSearchInfo(e){this._lastSearchInfo=e,this.highlightText(this._lastSearchInfo.searchText,this._lastSearchInfo.caseSensitive,this._lastSearchInfo.exactMatch)}get readonly(){return!this.editable}get ariaDescribeBy(){let e=(this.gridID+"_"+this.column.field).replace(".","_");return this.isInvalid&&(e+=" "+this.ariaErrorMessage),e}get ariaErrorMessage(){return this.grid.id+"_"+this.column.field+"_"+this.intRow.index+"_error"}get isInvalid(){let e=this.formGroup?.get(this.column?.field)?.invalid&&this.formGroup?.get(this.column?.field)?.touched;return!this.intRow.deleted&&e}get isValidAfterEdit(){let e=this.formGroup?.get(this.column?.field);return this.editMode&&e&&!e.invalid&&e.dirty}get formControl(){return this.grid.validation.getFormControl(this.intRow.key,this.column.field)}get gridRowSpan(){return this.column.gridRowSpan}get gridColumnSpan(){return this.column.gridColumnSpan}get rowEnd(){return this.column.rowEnd}get colEnd(){return this.column.colEnd}get rowStart(){return this.column.rowStart}get colStart(){return this.column.colStart}get ariaSelected(){return this.selected||this.column.selected||this.intRow.selected}get selected(){return this.selectionService.selected(this.selectionNode)}set selected(e){let t=this.selectionNode;e?this.selectionService.add(t):this.selectionService.remove(t),this.grid.notifyChanges()}get columnSelected(){return this.selectionService.isColumnSelected(this.column.field)}set editValue(e){this.grid.crudService.cellInEditMode&&(this.grid.crudService.cell.editValue=e)}get editValue(){if(this.grid.crudService.cellInEditMode)return this.grid.crudService.cell.editValue}get editable(){return this.column.editable&&!this.intRow.disabled}get minHeight(){if(this.grid.isCustomSetRowHeight)return this.grid.renderedRowHeight}set highlight(e){this._highlight=e,this._highlight&&this.grid.lastSearchInfo.searchText&&(this._highlight.highlight(this.grid.lastSearchInfo.searchText,this.grid.lastSearchInfo.caseSensitive,this.grid.lastSearchInfo.exactMatch),this._highlight.activateIfNecessary())}get highlight(){return this._highlight}get selectionNode(){return{row:this.rowIndex,column:this.column.columnLayoutChild?this.column.parent.visibleIndex:this.visibleColumnIndex,layout:this.column.columnLayoutChild?{rowStart:this.column.rowStart,colStart:this.column.colStart,rowEnd:this.column.rowEnd,colEnd:this.column.colEnd,columnVisibleIndex:this.visibleColumnIndex}:null}}get step(){let e=this.column.pipeArgs.digitsInfo;if(!e)return 1;let t=+e.substr(e.indexOf(".")+1,1);return 1/Math.pow(10,t)}get currencyCode(){return this.column.pipeArgs.currencyCode?this.column.pipeArgs.currencyCode:av(this.grid.locale)}get currencyCodeSymbol(){return hv(this.currencyCode,"wide",this.grid.locale)}constructor(e,t,i,n,r,s,o,a){this.selectionService=e,this.grid=t,this.overlayService=i,this.cdr=n,this.element=r,this.zone=s,this.touchManager=o,this.platformUtil=a,this._destroy$=new Ci,this.lastPinned=!1,this.firstPinned=!1,this.editMode=!1,this.role="gridcell",this.width="",this.active=!1,this.displayPinnedChip=!1,this.highlightClass="igx-highlight",this.activeHighlightClass="igx-highlight__active",this._cellSelection=db,this._vIndex=-1,this.onDoubleClick=e=>{"doubletap"===e.type&&e.preventDefault(),this.editable&&!this.editMode&&!this.intRow.deleted&&!this.grid.crudService.rowEditingBlocked&&this.grid.crudService.enterEditMode(this,e),this.grid.doubleClick.emit({cell:this.getCellType(),event:e})},this.errorShowing=!1,this.pointerdown=e=>{if(this.cellSelectionMode===db){if(!this.platformUtil.isLeftClick(e))return e.preventDefault(),this.grid.navigation.setActiveNode({rowIndex:this.rowIndex,colIndex:this.visibleColumnIndex}),this.selectionService.addKeyboardRange(),this.selectionService.initKeyboardState(),this.selectionService.primaryButton=!1,void(this.selected||this.grid.crudService.updateCell(!0,e));this.selectionService.primaryButton=!0,this.selectionService.pointerDown(this.selectionNode,e.shiftKey,e.ctrlKey),this.activate(e)}else this.activate(e)},this.pointerenter=e=>{("hierarchical"!==this.grid.type||this.grid.navigation?.activeNode?.gridID&&this.grid.navigation.activeNode.gridID===this.gridID)&&this.selectionService.pointerEnter(this.selectionNode,e)&&this.grid.cdr.detectChanges()},this.focusout=()=>{this.closeErrorTooltip()},this.pointerup=e=>{let t="hierarchical"===this.grid.type;!this.platformUtil.isLeftClick(e)||t&&(!this.grid.navigation?.activeNode?.gridID||this.grid.navigation.activeNode.gridID!==this.gridID)||this.selectionService.pointerUp(this.selectionNode,this.grid.rangeSelected)&&this.grid.cdr.detectChanges()}}onClick(e){this.grid.cellClick.emit({cell:this.getCellType(),event:e})}ngOnInit(){this.zone.runOutsideAngular((()=>{this.nativeElement.addEventListener("pointerdown",this.pointerdown),this.addPointerListeners(this.cellSelectionMode)})),this.platformUtil.isIOS&&this.touchManager.addEventListener(this.nativeElement,"doubletap",this.onDoubleClick,{cssProps:{}})}ngAfterViewInit(){this.errorTooltip.changes.pipe(Nn(this._destroy$)).subscribe((()=>{this.errorTooltip.length>0&&this.active&&(this.cdr.detectChanges(),this.openErrorTooltip())}))}openErrorTooltip(){this.errorTooltip.first.open({target:this.errorIcon.el.nativeElement,closeOnOutsideClick:!0,excludeFromOutsideClick:[this.nativeElement],closeOnEscape:!1,outlet:this.grid.outlet,modal:!1,positionStrategy:new FI({horizontalStartPoint:SI.Center,horizontalDirection:SI.Center,openAnimation:qD(hT,{params:{duration:"150ms"}}),closeAnimation:qD(sE,{params:{duration:"75ms"}})})})}ngOnDestroy(){this.zone.runOutsideAngular((()=>{this.nativeElement.removeEventListener("pointerdown",this.pointerdown),this.removePointerListeners(this.cellSelectionMode)})),this.touchManager.destroy(),this._destroy$.next(),this._destroy$.complete()}ngOnChanges(e){if(e.editMode&&e.editMode.currentValue&&this.formControl&&(this.formControl.valueChanges.pipe(Hn((()=>this.editMode))).subscribe((()=>this.formControl.markAsTouched())),this.formControl.statusChanges.pipe(Hn((()=>this.editMode))).subscribe((e=>{if("INVALID"===e&&this.errorTooltip.length>0){this.cdr.detectChanges();let e=this.errorTooltip.first;this.resizeAndRepositionOverlayById(e.overlayId,this.errorTooltip.first.element.offsetWidth)}}))),e.value&&!e.value.firstChange){this.highlight&&(this.highlight.lastSearchInfo.searchText=this.grid.lastSearchInfo.searchText,this.highlight.lastSearchInfo.caseSensitive=this.grid.lastSearchInfo.caseSensitive,this.highlight.lastSearchInfo.exactMatch=this.grid.lastSearchInfo.exactMatch);let t=this.grid.rowEditable?this.row.inEditMode:this.editMode;this.formControl&&this.formControl.value!==e.value.currentValue&&!t&&this.formControl.setValue(e.value.currentValue)}}resizeAndRepositionOverlayById(e,t){let i=this.overlayService.getOverlayById(e);i&&(i.initialSize.width=t,i.elementRef.nativeElement.parentElement.style.width=t+"px",this.overlayService.reposition(e))}setEditMode(e){this.intRow.deleted||(this.editable&&e?(this.grid.crudService.cellInEditMode&&(this.grid.gridAPI.update_cell(this.grid.crudService.cell),this.grid.crudService.endCellEdit()),this.grid.crudService.enterEditMode(this)):this.grid.crudService.endCellEdit(),this.grid.notifyChanges())}update(e){if(this.intRow.deleted)return;let t=this.grid.crudService.cell;t||(t=this.grid.crudService.createCell(this)),t.editValue=e,this.grid.gridAPI.update_cell(t),this.grid.crudService.endCellEdit(),this.cdr.markForCheck()}closeErrorTooltip(){let e=this.errorTooltip.first;e&&e.close()}activate(e){let t=this.selectionNode,i=!this.selectionService.isActiveNode(t);if(this.selectionService.primaryButton){let n=this.selectionService.activeElement;if(this.cellSelectionMode===lb&&e?.ctrlKey&&this.selected?(this.selectionService.activeElement=null,i=!0):this.selectionService.activeElement=t,this._updateCRUDStatus(e))return void(this.selectionService.activeElement=n);let r=this.selectionService.activeElement,s=r?this.grid.gridAPI.get_row_by_index(r.row):null;if(this.grid.crudService.rowEditingBlocked&&s&&this.intRow.key!==s.key)return}else this.selectionService.activeElement=null,this.grid.crudService.cellInEditMode&&!this.editMode&&this.grid.crudService.updateCell(!0,e);this.grid.navigation.setActiveNode({row:this.rowIndex,column:this.visibleColumnIndex});let n=e&&e.target&&e.target===this.errorIcon?.el.nativeElement;this.isInvalid&&!n&&(this.cdr.detectChanges(),this.openErrorTooltip(),this.grid.activeNodeChange.pipe(Vn()).subscribe((()=>{this.closeErrorTooltip()}))),this.selectionService.primaryButton=!0,this.cellSelectionMode===db&&this.selectionService.activeElement&&(this.selectionService.isInMap(this.selectionService.activeElement)&&e?.ctrlKey&&!e?.shiftKey?(this.selectionService.remove(this.selectionService.activeElement),i=!0):(this.selectionService.add(this.selectionService.activeElement,!1),this.selectionService.keyboardStateOnFocus(t,this.grid.rangeSelected,this.nativeElement))),this.grid.isCellSelectable&&i&&this.zone.run((()=>this.grid.selected.emit({cell:this.getCellType(),event:e})))}highlightText(e,t,i){return this.highlight&&this.column.searchable?this.highlight.highlight(e,t,i):0}clearHighlight(){this.highlight&&this.column.searchable&&this.highlight.clearHighlight()}calculateSizeToFit(e){return this.platformUtil.getNodeSizeViaRange(e,this.nativeElement)}get searchMetadata(){let e=new Map;return e.set("pinned",this.grid.isRecordPinnedByViewIndex(this.intRow.index)),e}_updateCRUDStatus(e){if(this.editMode)return;let t,i=this.grid.crudService,n=this.grid.crudService.cell,r=!(!i.row&&!i.cell);if(this.editable&&r&&!this.intRow.deleted){if(n){if(t=this.grid.crudService.updateCell(!1,e),this.grid.sortingExpressions.length&&this.grid.sortingExpressions.indexOf(n.column.field)&&this.grid.cdr.detectChanges(),t&&t.cancel)return!0;i.exitCellEdit(e)}return this.grid.tbody.nativeElement.focus({preventScroll:!0}),this.grid.notifyChanges(),i.enterEditMode(this,e),!1}n&&i.sameRow(this.cellID.rowID)?this.grid.crudService.updateCell(!0,e):r&&!i.sameRow(this.cellID.rowID)&&this.grid.crudService.endEdit(!0,e)}addPointerListeners(e){e===db&&(this.nativeElement.addEventListener("pointerenter",this.pointerenter),this.nativeElement.addEventListener("pointerup",this.pointerup),this.nativeElement.addEventListener("focusout",this.focusout))}removePointerListeners(e){e===db&&(this.nativeElement.removeEventListener("pointerenter",this.pointerenter),this.nativeElement.removeEventListener("pointerup",this.pointerup),this.nativeElement.removeEventListener("focusout",this.focusout))}getCellType(e){let t=e?this.grid.createRow(this.intRow.index,this.intRow.data):this.intRow.index;return new jH(this.grid,t,this.column)}static{this.ɵfac=function(t){return new(t||e)(lu(rP),lu(zF),lu(zI),lu(Cf),lu(zl),lu(Il),lu(oL),lu(NC))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-grid-cell"]],viewQuery:function(e,t){if(1&e&&(pm(kQ,5,DA),pm(OQ,7,jh),pm(FQ,7,jh),pm(PQ,7,jh),pm(VQ,7,jh),pm(MQ,7,jh),pm(xO,5,xO),pm(LQ,5,TO)),2&e){let e;mm(e=fm())&&(t.errorIcon=e.first),mm(e=fm())&&(t.defaultErrorTemplate=e.first),mm(e=fm())&&(t.defaultCellTemplate=e.first),mm(e=fm())&&(t.defaultPinnedIndicator=e.first),mm(e=fm())&&(t.inlineEditorTemplate=e.first),mm(e=fm())&&(t.addRowCellTemplate=e.first),mm(e=fm())&&(t.highlight=e.first),mm(e=fm())&&(t.errorTooltip=e)}},hostVars:33,hostBindings:function(e,t){1&e&&rm("dblclick",(function(e){return t.onDoubleClick(e)}))("click",(function(e){return t.onClick(e)})),2&e&&($g("data-rowIndex",t.rowIndex)("data-visibleIndex",t.visibleColumnIndex)("id",t.attrCellID)("title",t.title)("role",t.role)("aria-readonly",t.readonly)("aria-describedby",t.ariaDescribeBy)("aria-invalid",t.isInvalid)("aria-selected",t.ariaSelected),op("min-height",t.minHeight,"px"),ap("igx-grid__td--new",t.isEmptyAddRowCell)("igx-grid__td--bool-true",t.booleanClass)("igx-grid__td--pinned-last",t.lastPinned)("igx-grid__td--pinned-first",t.firstPinned)("igx-grid__td--editing",t.editMode)("igx-grid__td--invalid",t.isInvalid)("igx-grid__td--valid",t.isValidAfterEdit)("igx-grid__td--active",t.active)("igx-grid__td--selected",t.selected)("igx-grid__td--column-selected",t.columnSelected)("igx-grid__td--row-pinned-first",t.displayPinnedChip))},inputs:{column:"column",intRow:"intRow",row:"row",rowData:"rowData",columnData:"columnData",cellTemplate:"cellTemplate",cellValidationErrorTemplate:"cellValidationErrorTemplate",pinnedIndicator:"pinnedIndicator",value:"value",formatter:"formatter",visibleColumnIndex:"visibleColumnIndex",cellSelectionMode:"cellSelectionMode",lastSearchInfo:"lastSearchInfo",lastPinned:"lastPinned",firstPinned:"firstPinned",editMode:[2,"editMode","editMode",Hf],width:"width",active:"active",displayPinnedChip:"displayPinnedChip"},features:[Pm([oL]),po],decls:13,vars:5,consts:[["defaultPinnedIndicator",""],["defaultCell",""],["addRowCell",""],["inlineEditor",""],["defaultError",""],["errorIcon",""],["error","","tooltipRef","tooltip"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"igx-grid__td--pinned-chip",3,"disabled","--ig-size"],[1,"igx-grid__td--pinned-chip",3,"disabled"],["igxTextHighlight","",1,"igx-grid__td-text",3,"cssClass","activeCssClass","groupName","value","row","column","containerClass","metadata"],["family","default",3,"name","ngClass"],[3,"src","alt"],[3,"formGroup"],["igxInput","",3,"compositionstart","compositionend","igxFocus","igxTextSelection","formControl"],["igxInput","","type","number",3,"igxFocus","igxTextSelection","step","formControl"],[3,"checked","igxFocus","disableRipple","formControl"],["mode","dropdown",3,"valueChange","outlet","locale","weekStart","value","igxFocus","formControl","inputFormat","displayFormat"],["mode","dropdown",3,"valueChange","outlet","locale","inputFormat","displayFormat","value","igxFocus","formControl"],["type","text","igxInput","",3,"formControl","locale","igxDateTimeEditor","defaultFormatType","displayFormat","igxFocus"],["family","default","name","error",3,"mouseover","mouseout","igxTooltipTarget","igxToggleOutlet"],["igxTooltip","",3,"id"]],template:function(e,t){1&e&&bg(0,BQ,1,1,"ng-template",null,0,sf)(2,KQ,3,3,"ng-template",null,1,sf)(4,UQ,1,1,"ng-template",null,2,sf)(6,rJ,8,8,"ng-template",null,3,sf)(8,sJ,1,0,"ng-container",7)(9,oJ,1,0,"ng-container",7)(10,lJ,7,7)(11,fJ,7,7,"ng-template",null,4,sf),2&e&&(Hc(8),rp("ngTemplateOutlet",t.pinnedIndicatorTemplate)("ngTemplateOutletContext",t.context),Hc(),rp("ngTemplateOutlet",t.template)("ngTemplateOutletContext",t.context),Hc(),Ip(t.isInvalid?10:-1))},dependencies:[jv,qv,ry,sy,oy,ny,Vx,yy,Tx,jy,Uy,Ax,Ox,EL,xO,DA,Ek,oR,Hk,_O,OF,cH,oB,AO,dR,cR,RO,TO,cY,xY,wY],encapsulation:2,changeDetection:0})}}return e})(),yJ=["indicator"],xJ=["indentationDiv"],_J=["defaultExpandedTemplate"],wJ=["defaultCollapsedTemplate"],CJ=(e,t,i,n,r)=>[e,t,i,n,r],SJ=(e,t)=>({"igx-icon--success":e,"igx-icon--error":t}),bJ=e=>({$implicit:e});function DJ(e,t){if(1&e&&(Lp(0,"igx-chip",13),ym(1),Np()),2&e){let e=om(2);op("--ig-size",1),rp("disabled",!0),Hc(),_m(e.grid.resourceStrings.igx_grid_pinned_row_indicator)}}function EJ(e,t){1&e&&bg(0,DJ,2,4,"igx-chip",12),2&e&&Ip(om().displayPinnedChip?0:-1)}function TJ(e,t){if(1&e&&(Lp(0,"div",17),Xm(1,"columnFormatter"),Xm(2,"number"),Xm(3,"date"),Xm(4,"currency"),Xm(5,"percent"),ym(6),Xm(7,"columnFormatter"),Xm(8,"number"),Xm(9,"date"),Xm(10,"currency"),Xm(11,"percent"),Np()),2&e){let e=om(2);ap("igx-grid__td--number","number"===e.column.dataType||"percent"===e.column.dataType||"currency"===e.column.dataType),rp("cssClass",e.highlightClass)("activeCssClass",e.activeHighlightClass)("groupName",e.gridID)("value",e.formatter?ef(1,11,e.value,e.formatter,e.rowData):"number"===e.column.dataType?ef(2,15,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):"date"===e.column.dataType||"time"===e.column.dataType||"dateTime"===e.column.dataType?tf(3,19,e.value,e.column.pipeArgs.format,e.column.pipeArgs.timezone,e.grid.locale):"currency"===e.column.dataType?nf(4,24,zm(57,CJ,e.value,e.currencyCode,e.column.pipeArgs.display,e.column.pipeArgs.digitsInfo,e.grid.locale)):"percent"===e.column.dataType?ef(5,30,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):e.value)("row",e.rowData)("column",e.column.field)("containerClass","igx-grid__td-text")("metadata",e.searchMetadata),Hc(6),wm(" ",e.formatter?ef(7,34,e.value,e.formatter,e.rowData):"number"===e.column.dataType?ef(8,38,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):"date"===e.column.dataType||"time"===e.column.dataType||"dateTime"===e.column.dataType?tf(9,42,e.value,e.column.pipeArgs.format,e.column.pipeArgs.timezone,e.grid.locale):"currency"===e.column.dataType?nf(10,47,zm(63,CJ,e.value,e.currencyCode,e.column.pipeArgs.display,e.column.pipeArgs.digitsInfo,e.grid.locale)):"percent"===e.column.dataType?ef(11,53,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):e.value,"")}}function IJ(e,t){if(1&e&&(Lp(0,"div"),Hp(1,"igx-icon",18),Np()),2&e){let e=om(2);ap("igx-grid__td--bool","boolean"===e.column.dataType),Hc(),rp("name",e.value?"confirm":"close")("ngClass",Lm(4,SJ,e.value,!e.value))}}function RJ(e,t){if(1&e&&(Hp(0,"img",16),Xm(1,"igxCellImageAlt")),2&e){let e=om(2);rp("src",e.value,uc)("alt",Qm(1,2,e.value))}}function AJ(e,t){if(1&e&&bg(0,TJ,12,69,"div",14)(1,IJ,2,7,"div",15)(2,RJ,2,4,"img",16),2&e){let e=om();Ip("boolean"!==e.column.dataType&&"image"!==e.column.dataType||"boolean"===e.column.dataType&&e.formatter?0:-1),Hc(),Ip("boolean"!==e.column.dataType||e.formatter?-1:1),Hc(),Ip("image"===e.column.dataType?2:-1)}}function kJ(e,t){if(1&e&&(Lp(0,"div",17),Xm(1,"columnFormatter"),Xm(2,"number"),Xm(3,"date"),Xm(4,"currency"),Xm(5,"percent"),ym(6),Np()),2&e){let e=om(2);rp("cssClass",e.highlightClass)("activeCssClass",e.activeHighlightClass)("groupName",e.gridID)("value",e.formatter?ef(1,9,e.value,e.formatter,e.rowData):"number"===e.column.dataType?ef(2,13,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):"date"===e.column.dataType||"time"===e.column.dataType||"dateTime"===e.column.dataType?tf(3,17,e.value,e.column.pipeArgs.format,e.column.pipeArgs.timezone,e.grid.locale):"currency"===e.column.dataType?nf(4,22,zm(32,CJ,e.value,e.currencyCode,e.column.pipeArgs.display,e.column.pipeArgs.digitsInfo,e.grid.locale)):"percent"===e.column.dataType?ef(5,28,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):e.value)("row",e.rowData)("column",e.column.field)("containerClass","igx-grid__td-text")("metadata",e.searchMetadata),Hc(6),wm(" ",e.value?e.value:e.column.header||e.column.field," ")}}function OJ(e,t){if(1&e&&bg(0,kJ,7,38,"div",17),2&e){let e=om();Ip("boolean"!==e.column.dataType||"boolean"===e.column.dataType&&e.formatter?0:-1)}}function FJ(e,t){if(1&e){let e=Kp();Bp(0,19),Lp(1,"igx-input-group")(2,"input",21),rm("compositionstart",(function(){return Ko(e),jo(om(2).grid.crudService.isInCompositionMode=!0)}))("compositionend",(function(){return Ko(e),jo(om(2).grid.crudService.isInCompositionMode=!1)})),Np()(),Gp()}if(2&e){let e=om(2);rp("formGroup",e.formGroup),Hc(),op("--ig-size",1),Hc(),rp("igxFocus",!0)("formControl",e.formControl),$g("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid)}}function PJ(e,t){if(1&e&&(Lp(0,"igx-input-group",19),Hp(1,"input",22),Np()),2&e){let e=om(2);op("--ig-size",1),rp("formGroup",e.formGroup),Hc(),rp("igxFocus",!0)("step",e.step)("formControl",e.formControl),$g("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid)}}function VJ(e,t){if(1&e&&(Bp(0,19),Hp(1,"igx-checkbox",23),Gp()),2&e){let e=om(2);rp("formGroup",e.formGroup),Hc(),rp("checked",e.editValue)("igxFocus",!0)("disableRipple",!0)("formControl",e.formControl)}}function MJ(e,t){if(1&e){let e=Kp();Bp(0,19),Lp(1,"igx-date-picker",24),Em("valueChange",(function(t){Ko(e);let i=om(2);return Dm(i.editValue,t)||(i.editValue=t),jo(t)})),Np(),Gp()}if(2&e){let e=om(2);rp("formGroup",e.formGroup),Hc(),op("width",100,"%"),rp("outlet",e.grid.outlet)("locale",e.grid.locale)("weekStart",e.column.pipeArgs.weekStart),bm("value",e.editValue),rp("igxFocus",!0)("formControl",e.formControl)("inputFormat",null==e.column.editorOptions?null:e.column.editorOptions.dateTimeFormat)("displayFormat",e.column.pipeArgs.format)}}function LJ(e,t){if(1&e){let e=Kp();Bp(0,19),Lp(1,"igx-time-picker",25),Em("valueChange",(function(t){Ko(e);let i=om(2);return Dm(i.editValue,t)||(i.editValue=t),jo(t)})),Np(),Gp()}if(2&e){let e=om(2);rp("formGroup",e.formGroup),Hc(),op("width",100,"%"),rp("outlet",e.grid.outlet)("locale",e.grid.locale),bm("value",e.editValue),rp("igxFocus",!0)("formControl",e.formControl)("inputFormat",null==e.column.editorOptions?null:e.column.editorOptions.dateTimeFormat)("displayFormat",e.column.pipeArgs.format)}}function NJ(e,t){if(1&e&&(Lp(0,"igx-input-group",19),Hp(1,"input",26),Np()),2&e){let e=om(2);rp("formGroup",e.formGroup),Hc(),rp("formControl",e.formControl)("locale",e.grid.locale)("igxDateTimeEditor",null==e.column.editorOptions?null:e.column.editorOptions.dateTimeFormat)("defaultFormatType",e.column.dataType)("displayFormat",e.column.pipeArgs.format)("igxFocus",!0),$g("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid)}}function HJ(e,t){if(1&e&&(Lp(0,"igx-prefix"),ym(1),Np()),2&e){let e=om(3);Hc(),_m(e.currencyCodeSymbol)}}function zJ(e,t){if(1&e&&(Lp(0,"igx-suffix"),ym(1),Np()),2&e){let e=om(3);Hc(),_m(e.currencyCodeSymbol)}}function BJ(e,t){if(1&e&&(Lp(0,"igx-input-group",19),bg(1,HJ,2,1,"igx-prefix"),Hp(2,"input",22),bg(3,zJ,2,1,"igx-suffix"),Np()),2&e){let e=om(2);op("--ig-size",1),rp("formGroup",e.formGroup),Hc(),Ip(e.grid.currencyPositionLeft?1:-1),Hc(),rp("igxFocus",!0)("step",e.step)("formControl",e.formControl),$g("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid),Hc(),Ip(e.grid.currencyPositionLeft?-1:3)}}function GJ(e,t){if(1&e&&(Lp(0,"igx-input-group",19),Hp(1,"input",22),Lp(2,"igx-suffix"),ym(3),Xm(4,"percent"),Np()()),2&e){let e=om(2);op("--ig-size",1),rp("formGroup",e.formGroup),Hc(),rp("igxFocus",!0)("step",e.step)("formControl",e.formControl),$g("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid),Hc(2),wm(" ",ef(4,9,e.editValue,e.column.pipeArgs.digitsInfo,e.grid.locale)," ")}}function $J(e,t){if(1&e&&bg(0,FJ,3,7,"ng-container",19)(1,PJ,2,8,"igx-input-group",20)(2,VJ,2,5,"ng-container",19)(3,MJ,2,11,"ng-container",19)(4,LJ,2,10,"ng-container",19)(5,NJ,2,9,"igx-input-group",19)(6,BJ,4,10,"igx-input-group",20)(7,GJ,5,13,"igx-input-group",20),2&e){let e=om();Ip("string"===e.column.dataType||"image"===e.column.dataType?0:-1),Hc(),Ip("number"===e.column.dataType?1:-1),Hc(),Ip("boolean"===e.column.dataType?2:-1),Hc(),Ip("date"===e.column.dataType?3:-1),Hc(),Ip("time"===e.column.dataType?4:-1),Hc(),Ip("dateTime"===e.column.dataType?5:-1),Hc(),Ip("currency"===e.column.dataType?6:-1),Hc(),Ip("percent"===e.column.dataType?7:-1)}}function WJ(e,t){1&e&&$p(0)}function KJ(e,t){if(1&e){let e=Kp();Lp(0,"div",27,7),rm("click",(function(t){return Ko(e),jo(om().toggle(t))}))("focus",(function(){return Ko(e),jo(om().onIndicatorFocus())})),bg(2,WJ,1,0,"ng-container",11),Np()}if(2&e){let e=om();Hc(2),rp("ngTemplateOutlet",e.iconTemplate)("ngTemplateOutletContext",Mm(2,bJ,e.row))}}function jJ(e,t){1&e&&$p(0)}function UJ(e,t){1&e&&$p(0)}function qJ(e,t){1&e&&$p(0)}function YJ(e,t){if(1&e){let e=Kp();Lp(0,"igx-icon",28,8),rm("mouseover",(function(){return Ko(e),jo(om().errorShowing=!0)}))("mouseout",(function(){return Ko(e),jo(om().errorShowing=!1)})),Np(),Lp(2,"div",29,9)(5,"div"),bg(6,qJ,1,0,"ng-container",11),Np()()}if(2&e){let e=vm(4),t=om(),i=vm(17);rp("igxTooltipTarget",e)("igxToggleOutlet",t.grid.outlet),Hc(2),rp("id",t.ariaErrorMessage),Hc(3),op("width","max-content"),Hc(),rp("ngTemplateOutlet",t.cellValidationErrorTemplate||i)("ngTemplateOutletContext",t.context)}}function ZJ(e,t){1&e&&Hp(0,"igx-icon",30)}function XJ(e,t){1&e&&Hp(0,"igx-icon",31)}function QJ(e,t){if(1&e&&(Lp(0,"div"),ym(1),Np()),2&e){let e=om(2);Hc(),wm(" ",e.grid.resourceStrings.igx_grid_required_validation_error," ")}}function JJ(e,t){if(1&e&&(Lp(0,"div"),ym(1),Xm(2,"igxStringReplace"),Np()),2&e){let e=om(2);Hc(),wm(" ",ef(2,1,e.grid.resourceStrings.igx_grid_min_length_validation_error,"{0}",e.formGroup.get(e.column.field).errors.minlength.requiredLength)," ")}}function e1(e,t){if(1&e&&(Lp(0,"div"),ym(1),Xm(2,"igxStringReplace"),Np()),2&e){let e=om(2);Hc(),wm(" ",ef(2,1,e.grid.resourceStrings.igx_grid_max_length_validation_error,"{0}",e.formGroup.get(e.column.field).errors.maxlength.requiredLength)," ")}}function t1(e,t){if(1&e&&(Lp(0,"div"),ym(1),Xm(2,"igxStringReplace"),Np()),2&e){let e=om(2);Hc(),wm(" ",ef(2,1,e.grid.resourceStrings.igx_grid_min_validation_error,"{0}",e.formGroup.get(e.column.field).errors.min.min)," ")}}function i1(e,t){if(1&e&&(Lp(0,"div"),ym(1),Xm(2,"igxStringReplace"),Np()),2&e){let e=om(2);Hc(),wm(" ",ef(2,1,e.grid.resourceStrings.igx_grid_max_validation_error,"{0}",e.formGroup.get(e.column.field).errors.max.max)," ")}}function n1(e,t){if(1&e&&(Lp(0,"div"),ym(1),Np()),2&e){let e=om(2);Hc(),wm(" ",e.grid.resourceStrings.igx_grid_email_validation_error," ")}}function r1(e,t){if(1&e&&(Lp(0,"div"),ym(1),Np()),2&e){let e=om(2);Hc(),wm(" ",e.grid.resourceStrings.igx_grid_pattern_validation_error," ")}}function s1(e,t){if(1&e&&bg(0,QJ,2,1,"div")(1,JJ,3,5,"div")(2,e1,3,5,"div")(3,t1,3,5,"div")(4,i1,3,5,"div")(5,n1,2,1,"div")(6,r1,2,1,"div"),2&e){let e,t,i,n,r,s,o,a=om();Ip(null!=a.formGroup&&null!=(e=a.formGroup.get(null==a.column?null:a.column.field).errors)&&e.required?0:-1),Hc(),Ip(null!=a.formGroup&&null!=(t=a.formGroup.get(null==a.column?null:a.column.field).errors)&&t.minlength?1:-1),Hc(),Ip(null!=a.formGroup&&null!=(i=a.formGroup.get(null==a.column?null:a.column.field).errors)&&i.maxlength?2:-1),Hc(),Ip(null!=a.formGroup&&null!=(n=a.formGroup.get(null==a.column?null:a.column.field).errors)&&n.min?3:-1),Hc(),Ip(null!=a.formGroup&&null!=(r=a.formGroup.get(null==a.column?null:a.column.field).errors)&&r.max?4:-1),Hc(),Ip(null!=a.formGroup&&null!=(s=a.formGroup.get(null==a.column?null:a.column.field).errors)&&s.email?5:-1),Hc(),Ip(null!=a.formGroup&&null!=(o=a.formGroup.get(null==a.column?null:a.column.field).errors)&&o.pattern?6:-1)}}var o1=(()=>{class e extends vJ{constructor(e,t,i,n,r,s,o,a,l){super(e,t,i,n,r,s,o,l),this.document=a,this.expanded=!1}toggle(e){e.stopPropagation();let t=this.grid.gridAPI.get_row_expansion_state(this.intRow.data);this.grid.gridAPI.set_row_expansion_state(this.intRow.key,!t,e)}onIndicatorFocus(){this.grid.gridAPI.update_cell(this.grid.crudService.cell)}calculateSizeToFit(e){let t=0;if(this.indentationDiv){let e=this.document.defaultView.getComputedStyle(this.indentationDiv.nativeElement);t=parseFloat(e.paddingLeft)}return this.platformUtil.getNodeSizeViaRange(e,this.nativeElement)+t}get iconTemplate(){return this.expanded?this.grid.rowExpandedIndicatorTemplate||this.defaultExpandedTemplate:this.grid.rowCollapsedIndicatorTemplate||this.defaultCollapsedTemplate}get showExpanderIndicator(){let e=this.intRow.pinned&&this.intRow.disabled;return!this.editMode&&(!this.intRow.pinned||e)}static{this.ɵfac=function(t){return new(t||e)(lu(rP),lu(zF),lu(zI),lu(Cf),lu(zl),lu(Il),lu(oL),lu(Kf),lu(NC))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-expandable-grid-cell"]],viewQuery:function(e,t){if(1&e&&(pm(yJ,5,zl),pm(xJ,5,zl),pm(_J,7,jh),pm(wJ,7,jh)),2&e){let e;mm(e=fm())&&(t.indicator=e.first),mm(e=fm())&&(t.indentationDiv=e.first),mm(e=fm())&&(t.defaultExpandedTemplate=e.first),mm(e=fm())&&(t.defaultCollapsedTemplate=e.first)}},inputs:{expanded:"expanded"},features:[Pm([oL]),dg],decls:18,vars:6,consts:[["defaultPinnedIndicator",""],["defaultCell",""],["addRowCell",""],["inlineEditor",""],["defaultExpandedTemplate",""],["defaultCollapsedTemplate",""],["defaultError",""],["indicator",""],["errorIcon",""],["error","","tooltipRef","tooltip"],[1,"igx-grid__tree-grouping-indicator"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"igx-grid__td--pinned-chip",3,"disabled","--ig-size"],[1,"igx-grid__td--pinned-chip",3,"disabled"],["igxTextHighlight","",1,"igx-grid__td-text",3,"cssClass","igx-grid__td--number","activeCssClass","groupName","value","row","column","containerClass","metadata"],[3,"igx-grid__td--bool"],[3,"src","alt"],["igxTextHighlight","",1,"igx-grid__td-text",3,"cssClass","activeCssClass","groupName","value","row","column","containerClass","metadata"],["family","default",3,"name","ngClass"],[3,"formGroup"],[3,"--ig-size","formGroup"],["igxInput","",3,"compositionstart","compositionend","igxFocus","formControl"],["igxInput","","type","number",3,"igxFocus","step","formControl"],[3,"checked","igxFocus","disableRipple","formControl"],["mode","dropdown",3,"valueChange","outlet","locale","weekStart","value","igxFocus","formControl","inputFormat","displayFormat"],["mode","dropdown",3,"valueChange","outlet","locale","value","igxFocus","formControl","inputFormat","displayFormat"],["type","text","igxInput","",3,"formControl","locale","igxDateTimeEditor","defaultFormatType","displayFormat","igxFocus"],[1,"igx-grid__tree-grouping-indicator",3,"click","focus"],["family","default","name","error",3,"mouseover","mouseout","igxTooltipTarget","igxToggleOutlet"],["igxTooltip","",3,"id"],["family","default","name","tree_collapse"],["family","default","name","tree_expand"]],template:function(e,t){1&e&&bg(0,EJ,1,1,"ng-template",null,0,sf)(2,AJ,3,3,"ng-template",null,1,sf)(4,OJ,1,1,"ng-template",null,2,sf)(6,$J,8,8,"ng-template",null,3,sf)(8,KJ,3,4,"div",10)(9,jJ,1,0,"ng-container",11)(10,UJ,1,0,"ng-container",11)(11,YJ,7,7)(12,ZJ,1,0,"ng-template",null,4,sf)(14,XJ,1,0,"ng-template",null,5,sf)(16,s1,7,7,"ng-template",null,6,sf),2&e&&(Hc(8),Ip(t.showExpanderIndicator?8:-1),Hc(),rp("ngTemplateOutlet",t.pinnedIndicatorTemplate)("ngTemplateOutletContext",t.context),Hc(),rp("ngTemplateOutlet",t.template)("ngTemplateOutletContext",t.context),Hc(),Ip(t.isInvalid?11:-1))},dependencies:[EL,xO,DA,jv,Px,yy,Tx,jy,Uy,Vx,Ax,Ox,Ek,oR,Hk,OF,cH,oB,AO,dR,cR,qv,RO,TO,cY,xY,wY,ry,sy,oy,ny],encapsulation:2,changeDetection:0})}}return e})(),a1=(e,t,i,n)=>({index:e,rowID:t,key:i,selected:n}),l1=e=>({$implicit:e}),d1=(e,t)=>({"grid-template-rows":e,"grid-template-columns":t}),c1=(e,t,i)=>({"grid-template-rows":e,"grid-template-columns":t,"z-index":i}),h1=(e,t,i,n,r,s,o)=>[e,t,i,n,r,s,o],u1=(e,t,i,n,r,s)=>[e,t,i,n,r,s],g1=(e,t,i,n,r)=>[e,t,i,n,r];function p1(e,t){return this.trackPinnedColumn(t)}function m1(e,t){1&e&&$p(0)}function f1(e,t){1&e&&$p(0)}function v1(e,t){if(1&e){let e=Kp();Lp(0,"div",11),rm("animationend",(function(){return Ko(e),jo(om().animationEndHandler())})),bg(1,f1,1,0,"ng-container",10),Np()}if(2&e){let e=om(),t=vm(4);ap("igx-grid__tr--add-animate",e.triggerAddAnimationClass),Hc(),rp("ngTemplateOutlet",t)}}function y1(e,t){1&e&&$p(0)}function x1(e,t){if(1&e){let e=Kp();Lp(0,"div",15),rm("click",(function(t){return Ko(e),jo(t.stopPropagation())})),bg(1,y1,1,0,"ng-container",10),Np()}if(2&e){let e=om(2);lp(e.resolveDragIndicatorClasses),rp("igxRowDrag",e)("ghostTemplate",e.grid.getDragGhostCustomTemplate()),Hc(),rp("ngTemplateOutlet",e.grid.dragIndicatorIconTemplate?e.grid.dragIndicatorIconTemplate:e.grid.dragIndicatorIconBase)}}function _1(e,t){}function w1(e,t){1&e&&bg(0,_1,0,0,"ng-template")}function C1(e,t){if(1&e){let e=Kp();Lp(0,"div",16),rm("pointerdown",(function(t){return Ko(e),jo(t.preventDefault())}))("click",(function(t){return Ko(e),jo(om(2).onRowSelectorClick(t))})),bg(1,w1,1,0,null,17),Np()}if(2&e){let e=om(2),t=vm(8);Hc(),rp("ngTemplateOutlet",e.grid.rowSelectorTemplate?e.grid.rowSelectorTemplate:t)("ngTemplateOutletContext",Mm(7,l1,Hm(2,a1,e.viewIndex,e.key,e.key,e.selected)))}}function S1(e,t){if(1&e){let e=Kp();Lp(0,"div",18),rm("pointerdown",(function(t){return Ko(e),jo(t.preventDefault())}))("click",(function(t){return Ko(e),jo(t.stopPropagation())})),Np()}2&e&&wp("igx-grid__row-indentation igx-grid__row-indentation--level-",om(2).grid.groupingExpressions.length,"")}function b1(e,t){1&e&&$p(0)}function D1(e,t){if(1&e&&bg(0,b1,1,0,"ng-container",17),2&e){let e=t.$implicit,i=om(4),n=vm(10),r=vm(12);rp("ngTemplateOutlet",0===e.visibleIndex&&i.grid.hasDetails?r:n)("ngTemplateOutletContext",i.getContext(e,i))}}function E1(e,t){1&e&&(Op(0,D1,1,2,"ng-container",null,p1,!0),Xm(2,"igxNotGrouped")),2&e&&Pp(Qm(2,0,om(3).pinnedColumns))}function T1(e,t){1&e&&$p(0)}function I1(e,t){if(1&e&&bg(0,T1,1,0,"ng-container",17),2&e){let e=t.$implicit,i=om(3),n=vm(10),r=vm(12);rp("ngTemplateOutlet",0===e.visibleIndex&&i.grid.hasDetails?r:n)("ngTemplateOutletContext",i.getContext(e,i))}}function R1(e,t){1&e&&$p(0)}function A1(e,t){if(1&e&&bg(0,R1,1,0,"ng-container",17),2&e){let e=t.$implicit,i=om(4),n=vm(10),r=vm(12);rp("ngTemplateOutlet",0===e.visibleIndex&&i.grid.hasDetails?r:n)("ngTemplateOutletContext",i.getContext(e,i))}}function k1(e,t){1&e&&(Op(0,A1,1,2,"ng-container",null,p1,!0),Xm(2,"igxNotGrouped")),2&e&&Pp(Qm(2,0,om(3).pinnedColumns))}function O1(e,t){if(1&e&&(bg(0,E1,3,2)(1,I1,1,2,"ng-template",19,8,sf),Xm(3,"igxNotGrouped"),bg(4,k1,3,2)),2&e){let e=om(2);Ip(e.pinnedColumns.length>0&&e.grid.isPinningToStart?0:-1),Hc(),rp("igxGridForOf",Qm(3,8,e.unpinnedColumns))("igxForScrollContainer",e.grid.parentVirtDir)("igxForScrollOrientation","horizontal")("igxForContainerSize",e.grid.unpinnedWidth)("igxForSizePropName","calcPixelWidth")("igxForTrackBy",e.grid.trackColumnChanges),Hc(3),Ip(e.pinnedColumns.length>0&&!e.grid.isPinningToStart?4:-1)}}function F1(e,t){1&e&&$p(0)}function P1(e,t){if(1&e&&bg(0,F1,1,0,"ng-container",17),2&e){let e=om(3);rp("ngTemplateOutlet",vm(6))("ngTemplateOutletContext",e.getContextMRL(e.pinnedColumns,e))}}function V1(e,t){1&e&&$p(0)}function M1(e,t){if(1&e&&bg(0,V1,1,0,"ng-container",17),2&e){let e=t.$implicit,i=om(4),n=vm(14),r=vm(16);rp("ngTemplateOutlet",0===e.visibleIndex&&i.grid.hasDetails?r:n)("ngTemplateOutletContext",i.getContext(e,i))}}function L1(e,t){if(1&e&&(Lp(0,"div",20),Op(1,M1,1,2,"ng-container",null,p1,!0),Np()),2&e){let e=t.$implicit;rp("ngStyle",Lm(1,d1,e.getGridTemplate(!0),e.getGridTemplate(!1))),Hc(),Pp(e.children)}}function N1(e,t){1&e&&$p(0)}function H1(e,t){if(1&e&&bg(0,N1,1,0,"ng-container",17),2&e){let e=om(3);rp("ngTemplateOutlet",vm(6))("ngTemplateOutletContext",e.getContextMRL(e.pinnedColumns,e))}}function z1(e,t){if(1&e&&(bg(0,P1,1,2,"ng-container")(1,L1,3,4,"ng-template",19,8,sf),Xm(3,"igxTopLevel"),bg(4,H1,1,2,"ng-container")),2&e){let e=om(2);Ip(e.pinnedColumns.length>0&&e.grid.isPinningToStart?0:-1),Hc(),rp("igxGridForOf",Qm(3,8,e.unpinnedColumns))("igxForScrollContainer",e.grid.parentVirtDir)("igxForScrollOrientation","horizontal")("igxForContainerSize",e.grid.unpinnedWidth)("igxForSizePropName","calcPixelWidth")("igxForTrackBy",e.grid.trackColumnChanges),Hc(3),Ip(e.pinnedColumns.length>0&&!e.grid.isPinningToStart?4:-1)}}function B1(e,t){if(1&e&&bg(0,x1,2,5,"div",12)(1,C1,2,9,"div",13)(2,S1,1,3,"div",14)(3,O1,5,10)(4,z1,5,10),2&e){let e=om();Ip(e.rowDraggable?0:-1),Hc(),Ip(e.showRowSelectors?1:-1),Hc(),Ip(e.grid.groupingExpressions.length>0?2:-1),Hc(),Ip(e.grid.hasColumnLayouts?-1:3),Hc(),Ip(e.grid.hasColumnLayouts?4:-1)}}function G1(e,t){1&e&&$p(0)}function $1(e,t){if(1&e&&bg(0,G1,1,0,"ng-container",17),2&e){let e=t.$implicit,i=om(3),n=vm(14),r=vm(16);rp("ngTemplateOutlet",0===e.visibleIndex&&i.grid.hasDetails?r:n)("ngTemplateOutletContext",i.getContext(e,i))}}function W1(e,t){if(1&e&&(Lp(0,"div",20),Op(1,$1,1,2,"ng-container",null,Ap),Np()),2&e){let e=t.$implicit;op("left",om(2).mrlRightPinnedOffset),ap("igx-grid__td--pinned-last",e.hasLastPinnedChildColumn)("igx-grid__td--pinned-first",e.hasFirstPinnedChildColumn),rp("ngStyle",Nm(7,c1,e.getGridTemplate(!0),e.getGridTemplate(!1),e.pinned?1:null)),Hc(),Pp(e.children)}}function K1(e,t){1&e&&(Op(0,W1,3,11,"div",21,p1,!0),Xm(2,"igxTopLevel")),2&e&&Pp(Qm(2,0,t.$implicit))}function j1(e,t){if(1&e&&(Lp(0,"div",22),Hp(1,"igx-checkbox",23),Np()),2&e){let e=om();Hc(),rp("tabindex",-1)("checked",e.selected)("readonly",!0)("disabled",e.deleted)("disableRipple",!0)("disableTransitions",e.grid.disableTransitions)("aria-label",e.rowCheckboxAriaLabel)}}function U1(e,t){if(1&e&&(Hp(0,"igx-grid-cell",24,9),Xm(2,"transactionState"),Xm(3,"igxCellStyleClasses"),Xm(4,"igxCellStyles"),Xm(5,"dataMapper")),2&e){let e=t.$implicit,i=om();op("min-width",e.resolvedWidth)("max-width",e.resolvedWidth)("flex-basis",e.resolvedWidth)("left",e.rightPinnedOffset),ap("igx-grid__td--edited",nf(2,36,Gm(64,h1,i.key,e.field,i.grid.rowEditable,i.grid.transactions,i.grid.pipeTrigger,i.grid.gridAPI.crudService.cell,i.grid.gridAPI.crudService.row)))("igx-grid__td--pinned",e.pinned)("igx-grid__td--number","number"===e.dataType||"percent"===e.dataType||"currency"===e.dataType)("igx-grid__td--bool","boolean"===e.dataType)("igx-grid__td--image","image"===e.dataType),rp("ngClass",nf(3,44,Bm(72,u1,e.cellClasses,i.data[e.field],i.data,e.field,i.viewIndex,i.grid.pipeTrigger)))("ngStyle",nf(4,51,Bm(79,u1,e.cellStyles,i.data[e.field],i.data,e.field,i.viewIndex,i.grid.pipeTrigger)))("editMode",e.editable&&i.grid.crudService.targetInEdit(i.index,e.index))("column",e)("formatter",e.formatter)("intRow",i)("lastPinned",e.columnLayoutChild?null:e.isLastPinned)("firstPinned",e.columnLayoutChild?null:e.isFirstPinned)("rowData",i.data)("width",e.getCellWidth())("visibleColumnIndex",e.visibleIndex)("value",nf(5,58,zm(86,g1,i.data,e.field,i.grid.pipeTrigger,i.data[e.field],e.hasNestedPath)))("cellTemplate",e.bodyTemplate)("cellValidationErrorTemplate",e.errorTemplate)("lastSearchInfo",i.grid.lastSearchInfo)("active",i.isCellActive(e.visibleIndex))("cellSelectionMode",i.grid.cellSelection)("displayPinnedChip",i.shouldDisplayPinnedChip(e.visibleIndex))}}function q1(e,t){if(1&e&&(Hp(0,"igx-expandable-grid-cell",25,9),Xm(2,"transactionState"),Xm(3,"igxCellStyleClasses"),Xm(4,"igxCellStyles"),Xm(5,"dataMapper")),2&e){let e=t.$implicit,i=om();op("min-width",e.resolvedWidth)("max-width",e.resolvedWidth)("flex-basis",e.resolvedWidth),ap("igx-grid__td--pinned",e.pinned)("igx-grid__td--edited",nf(2,30,Gm(58,h1,i.key,e.field,i.grid.rowEditable,i.grid.transactions,i.grid.pipeTrigger,i.grid.gridAPI.crudService.cell,i.grid.gridAPI.crudService.row)))("igx-grid__td--number",("number"===e.dataType||"percent"===e.dataType||"currency"===e.dataType)&&0!==e.visibleIndex),rp("ngClass",nf(3,38,Bm(66,u1,e.cellClasses,i.data[e.field],i.data,e.field,i.viewIndex,i.grid.pipeTrigger)))("ngStyle",nf(4,45,Bm(73,u1,e.cellStyles,i.data[e.field],i.data,e.field,i.viewIndex,i.grid.pipeTrigger)))("expanded",i.expanded)("editMode",e.editable&&i.grid.crudService.targetInEdit(i.index,e.index))("column",e)("formatter",e.formatter)("intRow",i)("lastPinned",e.columnLayoutChild?null:e.isLastPinned)("rowData",i.data)("width",e.getCellWidth())("visibleColumnIndex",e.visibleIndex)("value",nf(5,52,zm(80,g1,i.data,e.field,i.grid.pipeTrigger,i.data[e.field],e.hasNestedPath)))("cellTemplate",e.bodyTemplate)("cellValidationErrorTemplate",e.errorTemplate)("lastSearchInfo",i.grid.lastSearchInfo)("active",i.isCellActive(e.visibleIndex))("cellSelectionMode",i.grid.cellSelection)("displayPinnedChip",i.shouldDisplayPinnedChip(e.visibleIndex))}}function Y1(e,t){if(1&e&&(Hp(0,"igx-grid-cell",26,9),Xm(2,"transactionState"),Xm(3,"igxCellStyleClasses"),Xm(4,"igxCellStyles"),Xm(5,"dataMapper")),2&e){let e=t.$implicit,i=om();op("grid-row-end",e.rowEnd)("grid-column-end",e.colEnd)("grid-row-start",e.rowStart)("grid-column-start",e.colStart),ap("igx-grid__td--edited",nf(2,31,Gm(59,h1,i.key,e.field,i.grid.rowEditable,i.grid.transactions,i.grid.pipeTrigger,i.grid.gridAPI.crudService.cell,i.grid.gridAPI.crudService.row)))("igx-grid__td--pinned",e.pinned)("igx-grid__td--number","number"===e.dataType||"percent"===e.dataType||"currency"===e.dataType),rp("ngClass",nf(3,39,Bm(67,u1,e.cellClasses,i.data[e.field],i.data,e.field,i.viewIndex,i.grid.pipeTrigger)))("ngStyle",nf(4,46,Bm(74,u1,e.cellStyles,i.data[e.field],i.data,e.field,i.viewIndex,i.grid.pipeTrigger)))("editMode",e.editable&&i.grid.crudService.targetInEdit(i.index,e.index))("column",e)("lastPinned",e.columnLayoutChild?null:e.isLastPinned)("firstPinned",e.columnLayoutChild?null:e.isFirstPinned)("formatter",e.formatter)("intRow",i)("rowData",i.data)("visibleColumnIndex",e.visibleIndex)("value",nf(5,53,zm(81,g1,i.data,e.field,i.grid.pipeTrigger,i.data[e.field],e.hasNestedPath)))("cellTemplate",e.bodyTemplate)("cellValidationErrorTemplate",e.errorTemplate)("lastSearchInfo",i.grid.lastSearchInfo)("active",i.isCellActive(e.visibleIndex))("cellSelectionMode",i.grid.cellSelection)("displayPinnedChip",i.shouldDisplayPinnedChip(e.visibleIndex))}}function Z1(e,t){if(1&e&&(Hp(0,"igx-expandable-grid-cell",27,9),Xm(2,"transactionState"),Xm(3,"igxCellStyleClasses"),Xm(4,"igxCellStyles"),Xm(5,"dataMapper")),2&e){let e=t.$implicit,i=om();op("grid-row-end",e.rowEnd)("grid-column-end",e.colEnd)("grid-row-start",e.rowStart)("grid-column-start",e.colStart),ap("igx-grid__td--edited",nf(2,31,Gm(59,h1,i.key,e.field,i.grid.rowEditable,i.grid.transactions,i.grid.pipeTrigger,i.grid.gridAPI.crudService.cell,i.grid.gridAPI.crudService.row)))("igx-grid__td--pinned",e.pinned)("igx-grid__td--number",("number"===e.dataType||"percent"===e.dataType||"currency"===e.dataType)&&0!==e.visibleIndex),rp("ngClass",nf(3,39,Bm(67,u1,e.cellClasses,i.data[e.field],i.data,e.field,i.viewIndex,i.grid.pipeTrigger)))("ngStyle",nf(4,46,Bm(74,u1,e.cellStyles,i.data[e.field],i.data,e.field,i.viewIndex,i.grid.pipeTrigger)))("expanded",i.expanded)("editMode",e.editable&&i.grid.crudService.targetInEdit(i.index,e.index))("column",e)("lastPinned",e.columnLayoutChild?null:e.isLastPinned)("formatter",e.formatter)("intRow",i)("rowData",i.data)("visibleColumnIndex",e.visibleIndex)("value",nf(5,53,zm(81,g1,i.data,e.field,i.grid.pipeTrigger,i.data[e.field],e.hasNestedPath)))("cellTemplate",e.bodyTemplate)("cellValidationErrorTemplate",e.errorTemplate)("lastSearchInfo",i.grid.lastSearchInfo)("active",i.isCellActive(e.visibleIndex))("cellSelectionMode",i.grid.cellSelection)("displayPinnedChip",i.shouldDisplayPinnedChip(e.visibleIndex))}}var X1=(()=>{class e extends aP{getContext(e,t){return{$implicit:e,row:t}}get mrlRightPinnedOffset(){return this.grid.isPinningToStart?null:-this.grid.pinnedWidth-this.grid.headerFeaturesWidth+"px"}getContextMRL(e,t){return{$implicit:e,row:t}}static{this.ɵfac=(()=>{let t;return function(i){return(t||(t=ol(e)))(i||e)}})()}static{this.ɵcmp=Qu({type:e,selectors:[["igx-grid-row"]],features:[Pm([{provide:aP,useExisting:Jn((()=>e))}]),dg],decls:17,vars:1,consts:[["addTemp",""],["defaultTemp",""],["mrlPinnedTemplate",""],["rowSelectorBaseTemplate",""],["cellTemplate",""],["expandableCellTemplate",""],["mrlCellTemplate",""],["mrlExpandableCellTemplate",""],["igxDirRef",""],["cell",""],[4,"ngTemplateOutlet"],[1,"igx-grid__tr--inner",3,"animationend"],[3,"class","igxRowDrag","ghostTemplate"],[1,"igx-grid__cbx-selection","igx-grid__tr-action"],[3,"class"],[3,"click","igxRowDrag","ghostTemplate"],[1,"igx-grid__cbx-selection","igx-grid__tr-action",3,"pointerdown","click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"pointerdown","click"],["igxGridFor","",3,"igxGridForOf","igxForScrollContainer","igxForScrollOrientation","igxForContainerSize","igxForSizePropName","igxForTrackBy"],[1,"igx-grid__mrl-block",3,"ngStyle"],[1,"igx-grid__mrl-block",3,"igx-grid__td--pinned-last","igx-grid__td--pinned-first","left","ngStyle"],[1,"igx-grid__cbx-padding"],[3,"tabindex","checked","readonly","disabled","disableRipple","disableTransitions","aria-label"],[1,"igx-grid__td","igx-grid__td--fw",3,"ngClass","ngStyle","editMode","column","formatter","intRow","lastPinned","firstPinned","rowData","width","visibleColumnIndex","value","cellTemplate","cellValidationErrorTemplate","lastSearchInfo","active","cellSelectionMode","displayPinnedChip"],[1,"igx-grid__td","igx-grid__td--fw","igx-grid__td--tree-cell",3,"ngClass","ngStyle","expanded","editMode","column","formatter","intRow","lastPinned","rowData","width","visibleColumnIndex","value","cellTemplate","cellValidationErrorTemplate","lastSearchInfo","active","cellSelectionMode","displayPinnedChip"],[1,"igx-grid__td","igx-grid__td--fw",3,"ngClass","ngStyle","editMode","column","lastPinned","firstPinned","formatter","intRow","rowData","visibleColumnIndex","value","cellTemplate","cellValidationErrorTemplate","lastSearchInfo","active","cellSelectionMode","displayPinnedChip"],[1,"igx-grid__td","igx-grid__td--fw","igx-grid__td--tree-cell",3,"ngClass","ngStyle","expanded","editMode","column","lastPinned","formatter","intRow","rowData","visibleColumnIndex","value","cellTemplate","cellValidationErrorTemplate","lastSearchInfo","active","cellSelectionMode","displayPinnedChip"]],template:function(e,t){if(1&e&&bg(0,m1,1,0,"ng-container",10)(1,v1,2,3,"ng-template",null,0,sf)(3,B1,5,5,"ng-template",null,1,sf)(5,K1,3,2,"ng-template",null,2,sf)(7,j1,2,7,"ng-template",null,3,sf)(9,U1,6,92,"ng-template",null,4,sf)(11,q1,6,86,"ng-template",null,5,sf)(13,Y1,6,87,"ng-template",null,6,sf)(15,Z1,6,87,"ng-template",null,7,sf),2&e){let e=vm(2),i=vm(4);rp("ngTemplateOutlet",t.addRowUI?e:i)}},dependencies:[qv,QY,nO,Uv,OF,vJ,jv,o1,gY,pY,dY,lY,yY,_Y],encapsulation:2,changeDetection:0})}}return e})(),Q1=function(e){return e[e.NONE=0]="NONE",e[e.LEFT=1]="LEFT",e[e.TOP=2]="TOP",e[e.RIGHT=3]="RIGHT",e[e.BOTTOM=4]="BOTTOM",e[e.TOPLEFT=5]="TOPLEFT",e[e.TOPRIGHT=6]="TOPRIGHT",e[e.BOTTOMLEFT=7]="BOTTOMLEFT",e[e.BOTTOMRIGHT=8]="BOTTOMRIGHT",e}(Q1||{}),J1=(()=>{class e{get activeDrag(){return this._activeDrag}set activeDrag(e){e!==this._activeDrag&&(this.unsubscribe(),this._activeDrag=e)}get nativeElement(){return this.ref.nativeElement}constructor(e,t){this.ref=e,this.zone=t,this.dragStop=new wl,this.dragScroll=new wl,this.end$=new Ci,this.lastDirection=Q1.NONE,this.startDragSelection=e=>{if(!this.activeDrag)return;let t=e.clientX,i=e.clientY,{direction:n,delta:r}=this._measureDimensions(t,i);n!==this.lastDirection&&(this.unsubscribe(),this._sub=this._interval$.subscribe((()=>this.dragScroll.emit(r))),this.lastDirection=n)},this.stopDragSelection=()=>{this.activeDrag&&(this.dragStop.emit(!1),this.unsubscribe(),this.lastDirection=Q1.NONE)},this._interval$=En(0,Pi).pipe(Nn(this.end$),Rn((()=>this.activeDrag)))}ngOnInit(){this.zone.runOutsideAngular((()=>{this.nativeElement.addEventListener("pointerover",this.startDragSelection),this.nativeElement.addEventListener("pointerleave",this.stopDragSelection)}))}ngOnDestroy(){this.zone.runOutsideAngular((()=>{this.nativeElement.removeEventListener("pointerover",this.startDragSelection),this.nativeElement.removeEventListener("pointerleave",this.stopDragSelection)})),this.unsubscribe(),this.end$.complete()}_measureDimensions(e,t){let i,n={left:0,top:0},{left:r,top:s,width:o,height:a}=this.nativeElement.getBoundingClientRect(),l=.15,d=Math.trunc(e-r),c=Math.trunc(t-s),h=d<=o*l,u=d>=o*(1-l),g=c<=a*l,p=c>=a*(1-l);return g&&h?(i=Q1.TOPLEFT,n={left:-1,top:-1}):g&&u?(i=Q1.TOPRIGHT,n={left:1,top:-1}):p&&h?(i=Q1.BOTTOMLEFT,n={left:-1,top:1}):p&&u?(i=Q1.BOTTOMRIGHT,n={top:1,left:1}):g?(i=Q1.TOP,n.top=-1):p?(i=Q1.BOTTOM,n.top=1):h?(i=Q1.LEFT,n.left=-1):u?(i=Q1.RIGHT,n.left=1):i=Q1.NONE,{direction:i,delta:n}}unsubscribe(){this._sub&&this._sub.unsubscribe()}static{this.ɵfac=function(t){return new(t||e)(lu(zl),lu(Il))}}static{this.ɵdir=rg({type:e,selectors:[["","igxGridDragSelect",""]],inputs:{activeDrag:[2,"igxGridDragSelect","activeDrag",Hf]},outputs:{dragStop:"dragStop",dragScroll:"dragScroll"}})}}return e})(),e0=["record_template"],t0=["detail_template_container"],i0=["group_template"],n0=["summary_template"],r0=[[["igx-grid-toolbar"],["igc-grid-toolbar"]],[["igx-grid-footer"],["igc-grid-footer"]],[["igx-paginator"],["igc-paginator"]],[["igx-grid-state"],["igc-grid-state"]],[["igx-column"],["igc-column"],["igx-column-group"],["igc-column-group"],["igx-column-layout"],["igc-column-layout"],["igx-action-strip"],["igc-action-strip"]]],s0=["igx-grid-toolbar,igc-grid-toolbar","igx-grid-footer,igc-grid-footer","igx-paginator,igc-paginator","igx-grid-state,igc-grid-state","igx-column,igc-column,igx-column-group,igc-column-group,igx-column-layout,igc-column-layout,igx-action-strip,igc-action-strip"],o0=(e,t,i,n,r,s,o)=>[e,t,i,n,r,s,o],a0=(e,t,i,n,r,s)=>[e,t,i,n,r,s],l0=(e,t,i,n,r,s,o,a)=>[e,t,i,n,r,s,o,a],d0=(e,t,i,n,r)=>[e,t,i,n,r],c0=e=>({$implicit:e}),h0=()=>[],u0=(e,t,i,n,r,s,o)=>[e,t,i,n,r,s,o,!0],g0=(e,t,i,n,r,s)=>[e,t,i,n,r,s,!0],p0=(e,t)=>({"igx-grid__tr--pinned-bottom":e,"igx-grid__tr--pinned-top":t}),m0=(e,t,i,n,r,s,o,a,l,d,c)=>[e,t,i,n,r,s,o,a,l,!1,d,c],f0=e=>({"igx-grid__tr-container":!0,"igx-grid__tr-container--active":e}),v0=e=>({"igx-grid__group-expand-btn":!0,"igx-grid__group-expand-btn--push":e}),y0=(e,t)=>({rowChangesCount:e,endEdit:t});function x0(e,t){if(1&e&&Hp(0,"igx-grid-group-by-area",70,29),2&e){let e=om();op("flex-basis",e.outerWidth,"px"),rp("grid",e)("expressions",e.groupingExpressions)("sortingExpressions",e.sortingExpressions)("dropAreaTemplate",e.dropAreaTemplate)("dropAreaMessage",e.dropAreaMessage)}}function _0(e,t){1&e&&Hp(0,"span",41),2&e&&(rp("igxColumnMovingDrop",om().headerContainer),$g("droppable",!0))}function w0(e,t){if(1&e&&Hp(0,"span",71),2&e){let e=om();op("left",e.pinnedWidth,"px"),rp("igxColumnMovingDrop",e.headerContainer),$g("droppable",!0)}}function C0(e,t){1&e&&$p(0)}function S0(e,t){1&e&&$p(0)}function b0(e,t){if(1&e&&bg(0,S0,1,0,"ng-container",45),2&e){let e=t.$implicit,i=t.$index,n=om(4);rp("ngTemplateOutlet",vm(27))("ngTemplateOutletContext",n.getContext(e,i,!0))}}function D0(e,t){if(1&e&&(Lp(0,"div",73,30),Op(2,b0,1,2,"ng-container",null,Ap),Np()),2&e){let e=om(),t=om(2);op("width",t.calcWidth,"px"),rp("ngClass",Lm(3,p0,!t.isRowPinningToTop,t.isRowPinningToTop)),Hc(2),Pp(e)}}function E0(e,t){1&e&&bg(0,D0,4,6,"div",72),2&e&&Ip(t.length>0?0:-1)}function T0(e,t){if(1&e&&(bg(0,E0,1,1),Xm(1,"gridTransaction"),Xm(2,"visibleColumns"),Xm(3,"gridAddRow"),Xm(4,"gridRowPinning"),Xm(5,"gridFiltering"),Xm(6,"gridSort")),2&e){let e,t=om();Ip((e=nf(6,26,Bm(42,g0,nf(5,17,Gm(34,u0,tf(4,12,ef(3,8,Jm(2,5,ef(1,1,t.data,t.id,t.pipeTrigger),t.hasVisibleColumns),!0,t.pipeTrigger),t.id,!0,t.pipeTrigger),t.filteringExpressionsTree,t.filterStrategy,t.advancedFilteringExpressionsTree,t.id,t.pipeTrigger,t.filteringPipeTrigger)),t.sortingExpressions,t.groupingExpressions,t.sortStrategy,t.id,t.pipeTrigger)))?0:-1,e)}}function I0(e,t){}function R0(e,t){if(1&e){let e=Kp();bg(0,I0,0,0,"ng-template",74),rm("cachedViewLoaded",(function(t){return Ko(e),jo(om().cachedViewLoaded(t))}))("viewCreated",(function(t){return Ko(e),jo(om().viewCreatedHandler(t))}))("viewMoved",(function(t){return Ko(e),jo(om().viewMovedHandler(t))}))}if(2&e){let e=t.$implicit,i=t.index,n=om();rp("igxTemplateOutlet",n.getRowTemplate(e))("igxTemplateOutletContext",n.getContext(e,i))}}function A0(e,t){1&e&&$p(0)}function k0(e,t){if(1&e&&(Hp(0,"igx-grid-row",75,31),Xm(2,"igxGridRowClasses"),Xm(3,"igxGridRowStyles")),2&e){let e=t.index,i=t.$implicit,n=t.disabled,r=vm(1),s=om();rp("gridID",s.id)("index",e)("data",i)("disabled",n)("ngClass",nf(2,6,Wm(24,m0,[s.rowClasses,r,r.inEditMode,r.selected,r.dirty,r.deleted,r.dragging,e,s.hasColumnLayouts,i,s.pipeTrigger])))("ngStyle",tf(3,19,s.rowStyles,i,e,s.pipeTrigger))}}function O0(e,t){if(1&e&&(Hp(0,"igx-grid-row",76,32),Xm(3,"igxGridRowClasses"),Xm(4,"igxGridRowStyles")),2&e){let e=t.index,i=t.$implicit,n=vm(1),r=om();rp("gridID",r.id)("index",e)("data",i)("ngClass",nf(3,5,Wm(23,m0,[r.rowClasses,n,n.inEditMode,n.selected,n.dirty,n.deleted,n.dragging,e,r.hasColumnLayouts,i,r.pipeTrigger])))("ngStyle",tf(4,18,r.rowStyles,i,e,r.pipeTrigger))}}function F0(e,t){if(1&e&&Hp(0,"igx-grid-groupby-row",77,31),2&e){let e=t.index,i=t.$implicit,n=om();rp("gridID",n.id)("index",e)("groupRow",i)("hideGroupRowSelectors",n.hideRowSelectors)("rowDraggable",n.rowDraggable)}}function P0(e,t){if(1&e&&Hp(0,"igx-grid-summary-row",78,33),2&e){let e=t.index,i=t.$implicit;rp("gridID",om().id)("summaries",i.summaries)("index",e)}}function V0(e,t){1&e&&Hp(0,"div"),2&e&&wp("igx-grid__row-indentation igx-grid__row-indentation--level-",om(2).groupingExpressions.length,"")}function M0(e,t){}function L0(e,t){if(1&e){let e=Kp();Lp(0,"div",79,34),rm("pointerdown",(function(){let t=Ko(e).index,i=vm(1);return jo(om().detailsViewFocused(i,t))})),Lp(2,"div",80),bg(3,V0,1,3,"div",81)(4,M0,0,0,"ng-template",82),Np()()}if(2&e){let e=t.index,i=t.$implicit,n=om();um("id","",n.id,"_",e,""),rp("ngClass",Mm(8,f0,n.isDetailActive(e))),$g("data-rowindex",e),Hc(3),Ip(n.groupingExpressions.length>0?3:-1),Hc(),rp("ngTemplateOutlet",n.detailTemplate)("ngTemplateOutletContext",n.getDetailsContext(i,e))}}function N0(e,t){1&e&&$p(0)}function H0(e,t){1&e&&Hp(0,"igx-circular-bar",48),2&e&&rp("indeterminate",!0)}function z0(e,t){1&e&&Hp(0,"span",49),2&e&&(rp("igxColumnMovingDrop",om().headerContainer),$g("droppable",!0))}function B0(e,t){}function G0(e,t){if(1&e&&(Hp(0,"igx-grid-summary-row",83,33),Xm(2,"igxGridSummaryDataPipe")),2&e){let e=om();op("width",e.calcWidth,"px")("height",e.summaryRowHeight,"px"),rp("gridID",e.id)("summaries",Jm(2,7,e.id,e.summaryService.retriggerRootPipe))("index",e.dataView.length)}}function $0(e,t){}function W0(e,t){1&e&&$p(0)}function K0(e,t){if(1&e&&(Lp(0,"span"),bg(1,W0,1,0,"ng-container",43),Np()),2&e){let e=om(2),t=vm(76);Hc(),rp("ngTemplateOutlet",e.addRowEmptyTemplate||t)}}function j0(e,t){if(1&e&&(Lp(0,"span",84)(1,"span"),ym(2),Np(),bg(3,K0,2,1,"span"),Np()),2&e){let e=om();Hc(2),_m(e.emptyFilteredGridMessage),Hc(),Ip(e.showAddButton?3:-1)}}function U0(e,t){1&e&&$p(0)}function q0(e,t){if(1&e&&(Lp(0,"span"),bg(1,U0,1,0,"ng-container",43),Np()),2&e){let e=om(2),t=vm(76);Hc(),rp("ngTemplateOutlet",e.addRowEmptyTemplate||t)}}function Y0(e,t){if(1&e&&(Lp(0,"span",84)(1,"span"),ym(2),Np(),bg(3,q0,2,1,"span"),Np()),2&e){let e=om();Hc(2),_m(e.emptyGridMessage),Hc(),Ip(e.showAddButton?3:-1)}}function Z0(e,t){if(1&e){let e=Kp();Lp(0,"button",85),rm("click",(function(t){return Ko(e),jo(om().crudService.enterAddRowMode(null,!1,t))})),ym(1),Np()}if(2&e){let e=om();Hc(),wm(" ",e.resourceStrings.igx_grid_add_row_label," ")}}function X0(e,t){1&e&&(Lp(0,"div",86),Hp(1,"igx-circular-bar",48),Np()),2&e&&(Hc(),rp("indeterminate",!0))}function Q0(e,t){if(1&e&&Hp(0,"igx-icon",87),2&e){let e=om();rp("ngClass",Mm(1,v0,e.filteringService.isFilterRowVisible))}}function J0(e,t){if(1&e&&Hp(0,"igx-icon",88),2&e){let e=om();rp("ngClass",Mm(1,v0,e.filteringService.isFilterRowVisible))}}function e2(e,t){1&e&&$p(0)}function t2(e,t){if(1&e&&(Lp(0,"div",47,35)(2,"div",89),bg(3,e2,1,0,"ng-container",45),Np()()),2&e){let e=om();Hc(2),rp("className",e.bannerClass),Hc(),rp("ngTemplateOutlet",e.rowEditContainer)("ngTemplateOutletContext",Lm(3,y0,e.rowChangesCount,e.endEdit.bind(e)))}}function i2(e,t){if(1&e&&(ym(0),Xm(1,"igxStringReplace"),Xm(2,"igxStringReplace")),2&e){let e=om();wm(" ",ef(2,5,ef(1,1,e.resourceStrings.igx_grid_row_edit_text,"{0}",e.rowChangesCount.toString()),"{1}",e.hiddenColumnsCount.toString()),"\n")}}function n2(e,t){if(1&e){let e=Kp();Lp(0,"button",90),rm("click",(function(t){return Ko(e),jo(om().endRowEditTabStop(!1,t))})),ym(1),Np(),Lp(2,"button",90),rm("click",(function(t){return Ko(e),jo(om().endRowEditTabStop(!0,t))})),ym(3),Np()}if(2&e){let e=om();Hc(),_m(e.resourceStrings.igx_grid_row_edit_btn_cancel),Hc(2),_m(e.resourceStrings.igx_grid_row_edit_btn_done)}}function r2(e,t){1&e&&$p(0)}function s2(e,t){1&e&&$p(0)}function o2(e,t){if(1&e&&(Lp(0,"div",91)(1,"span",92),bg(2,r2,1,0,"ng-container",45),Np()(),Lp(3,"div",93)(4,"div",94),bg(5,s2,1,0,"ng-container",45),Np()()),2&e){let e=om(),t=vm(85),i=vm(87);Hc(2),rp("ngTemplateOutlet",null!=e.crudService.row&&e.crudService.row.isAddRow?e.rowAddTextTemplate:e.rowEditTextTemplate?e.rowEditTextTemplate:t)("ngTemplateOutletContext",Mm(4,c0,null!=e.crudService.row&&e.crudService.row.isAddRow?null:e.rowChangesCount)),Hc(3),rp("ngTemplateOutlet",e.rowEditActionsTemplate?e.rowEditActionsTemplate:i)("ngTemplateOutletContext",Mm(6,c0,e.endEdit.bind(e)))}}function a2(e,t){1&e&&Hp(0,"igx-icon",95)}function l2(e,t){1&e&&Hp(0,"igx-grid-column-resizer")}function d2(e,t){1&e&&(Lp(0,"div",69,36),dm(2,3),dm(3,4),Np())}var c2=0,h2=(()=>{class e extends nQ{constructor(){super(...arguments),this.dataPreLoad=new wl,this.groupingExpressionsChange=new wl,this.groupingExpansionStateChange=new wl,this.groupingDone=new wl,this.groupsExpanded=!0,this.role="grid",this.id="igx-grid-"+c2++,this._groupsRecords=[],this._groupingExpressions=[],this._groupingExpandState=[],this._hideGroupedColumns=!1,this._dropAreaMessage=null,this._showGroupArea=!0,this.childDetailTemplates=new Map,this.groupingPerformedSubject=new Ci,this.groupingPerformed$=this.groupingPerformedSubject.asObservable()}get detailTemplate(){return this._detailTemplate}set detailTemplate(e){this._detailTemplate=e}get groupsRecords(){return this._groupsRecords}get data(){return this._data}set data(e){let t=(!this._data||0===this._data.length)&&e&&e.length>0,i=this._data;this._data=e||[],this.summaryService.clearSummaryCache(),this._init||this.validation.updateAll(this._data),this.autoGenerate&&this._data.length>0&&this.shouldRecreateColumns(i,this._data)&&this.setupColumns(),this.cdr.markForCheck(),this.isPercentHeight&&this.notifyChanges(!0),t&&this._columns.some((e=>"auto"===e._width))&&this.recalculateAutoSizes(),this.checkPrimaryKeyField()}set totalItemCount(e){this.verticalScrollContainer.totalItemCount=e}get totalItemCount(){return this.verticalScrollContainer.totalItemCount}get _gridAPI(){return this.gridAPI}get groupingExpressions(){return this._groupingExpressions}set groupingExpressions(e){if(this.groupingExpressions===e)return;if(e&&e.length>10)throw Error("Maximum amount of grouped columns is 10.");let t=this.groupingExpressions,i=e;if(this._groupingExpressions=RC(e),this.groupingExpressionsChange.emit(this._groupingExpressions),this._gridAPI.grid&&(this._applyGrouping(),this.notifyChanges()),!this._init&&JSON.stringify(t,this.stringifyCallback)!==JSON.stringify(i,this.stringifyCallback)&&this._columns){let e=[],n=[];i.filter((e=>!t.some((t=>e.fieldName===t.fieldName)))).forEach((t=>{e.push(this.getColumnByName(t.fieldName))}),this),t.filter((e=>!i.some((t=>e.fieldName===t.fieldName)))).forEach((e=>{n.push(this.getColumnByName(e.fieldName))}),this),this.notifyChanges();let r={expressions:i,groupedColumns:e,ungroupedColumns:n};this.groupingPerformed$.pipe(On(1)).subscribe((()=>{this.groupingDone.emit(r)}))}}get groupingExpansionState(){return this._groupingExpandState}set groupingExpansionState(e){e!==this._groupingExpandState&&this.groupingExpansionStateChange.emit(e),this._groupingExpandState=e,this.gridAPI.grid&&this.cdr.detectChanges()}get hideGroupedColumns(){return this._hideGroupedColumns}set hideGroupedColumns(e){this.groupingDiffer=e?this.differs.find(this.groupingExpressions).create():null,this._columns&&this.groupingExpressions&&this._setGroupColsVisibility(e),this._hideGroupedColumns=e}get groupStrategy(){return this._groupStrategy}set groupStrategy(e){this._groupStrategy=e}set dropAreaMessage(e){this._dropAreaMessage=e,this.notifyChanges()}get dropAreaMessage(){return this._dropAreaMessage||this.resourceStrings.igx_grid_groupByArea_message}get groupsRowList(){let e=new jl;if(!this._groupsRowList)return e;let t=this._groupsRowList.filter((e=>null!==e.element.nativeElement.parentElement)).sort(((e,t)=>e.index-t.index));return e.reset(t),e}get groupByRowSelectorTemplate(){return this._groupByRowSelectorTemplate||this.groupByRowSelectorsTemplates?.first}set groupByRowSelectorTemplate(e){this._groupByRowSelectorTemplate=e}getDetailsContext(e,t){return{$implicit:e,index:t}}detailsViewFocused(e,t){this.navigation.setActiveNode({row:t})}get hasDetails(){return!!this.detailTemplate}getRowTemplate(e){return this.isGroupByRecord(e)?this.defaultGroupTemplate:this.isSummaryRow(e)?this.summaryTemplate:this.hasDetails&&this.isDetailRecord(e)?this.detailTemplateContainer:this.recordTemplate}isDetailRecord(e){return e&&void 0!==e.detailsData}isDetailActive(e){return!!this.navigation.activeNode&&this.navigation.activeNode.row===e}get groupRowTemplate(){return this._groupRowTemplate}set groupRowTemplate(e){this._groupRowTemplate=e,this.notifyChanges()}groupBy(e){this.checkIfNoColumnField(e)||(this.crudService.endEdit(!1),e instanceof Array?this._gridAPI.groupBy_multiple(e):this._gridAPI.groupBy(e),this.notifyChanges(!0))}clearGrouping(e){this._gridAPI.clear_groupby(e),this.calculateGridSizes(),this.notifyChanges(!0),this.groupingPerformedSubject.next()}isExpandedGroup(e){let t=this._getStateForGroupRow(e);return t?t.expanded:this.groupsExpanded}toggleGroup(e){this._toggleGroup(e),this.notifyChanges()}selectRowsInGroup(e,t){this._gridAPI.groupBy_select_all_rows_in_group(e,t),this.notifyChanges()}deselectRowsInGroup(e){this._gridAPI.groupBy_deselect_all_rows_in_group(e),this.notifyChanges()}fullyExpandGroup(e){this._fullyExpandGroup(e),this.notifyChanges()}isGroupByRecord(e){return e&&e?.records&&e.records?.length&&e.expression&&e.expression?.fieldName}toggleAllGroupRows(){this.groupingExpansionState=[],this.groupsExpanded=!this.groupsExpanded,this.notifyChanges()}get hasGroupableColumns(){return this._columns.some((e=>e.groupable&&!e.columnGroup))}get showGroupArea(){return this._showGroupArea}set showGroupArea(e){this._showGroupArea=e,this.notifyChanges(!0)}isColumnGrouped(e){return!!this.groupingExpressions.find((t=>t.fieldName===e))}getContext(e,t,i){if(this.isDetailRecord(e)){let t=this.childDetailTemplates.get(e.detailsData),i=this.primaryKey?e.detailsData[this.primaryKey]:e.detailsData;if(t){let n=t.view,r=t.owner;return{$implicit:e.detailsData,moveView:n,owner:r,index:this.dataView.indexOf(e),templateID:{type:"detailRow",id:i}}}return{$implicit:e.detailsData,templateID:{type:"detailRow",id:i},index:this.dataView.indexOf(e)}}return{$implicit:this.isGhostRecord(e)?e.recordRef:e,index:this.getDataViewIndex(t,i),templateID:{type:this.isGroupByRecord(e)?"groupRow":this.isSummaryRow(e)?"summaryRow":"dataRow",id:null},disabled:this.isGhostRecord(e)}}viewCreatedHandler(e){"detailRow"===e.context.templateID.type&&this.childDetailTemplates.set(e.context.$implicit,e)}viewMovedHandler(e){if("detailRow"===e.context.templateID.type){let t=e.context.$implicit;this.childDetailTemplates.get(t).owner=e.owner}}get iconTemplate(){return this.groupsExpanded?this.headerExpandedIndicatorTemplate||this.defaultExpandedTemplate:this.headerCollapsedIndicatorTemplate||this.defaultCollapsedTemplate}ngAfterContentInit(){super.ngAfterContentInit(),this.allowFiltering&&this.hasColumnLayouts&&(this.filterMode=tb),this.groupTemplate&&(this._groupRowTemplate=this.groupTemplate.template),this.detailTemplateDirective&&(this._detailTemplate=this.detailTemplateDirective),this.hideGroupedColumns&&this._columns&&this.groupingExpressions&&this._setGroupColsVisibility(this.hideGroupedColumns),this._setupNavigationService()}ngAfterViewInit(){super.ngAfterViewInit(),this.verticalScrollContainer.beforeViewDestroyed.pipe(Nn(this.destroy$)).subscribe((e=>{let t=e.context.$implicit;if(this.isDetailRecord(t)){let e=this.childDetailTemplates.get(t.detailsData);e&&e.owner._viewContainerRef.detach(0)}})),this.sortingExpressionsChange.pipe(Nn(this.destroy$)).subscribe((e=>{!this.groupingExpressions||!this.groupingExpressions.length||e.forEach((e=>{let t=e.fieldName,i=this.groupingExpressions.find((e=>e.fieldName===t));i&&(i.dir=e.dir)}))}))}ngOnInit(){super.ngOnInit(),this.trackChanges=(e,t)=>void 0!==t?.detailsData?t.detailsData:t,this.groupingDone.pipe(Nn(this.destroy$)).subscribe((e=>{this.crudService.endEdit(!1),this.summaryService.updateSummaryCache(e),this._headerFeaturesWidth=NaN}))}ngDoCheck(){if(this.groupingDiffer&&this._columns&&!this.hasColumnLayouts){let e=this.groupingDiffer.diff(this.groupingExpressions);e&&this._columns.length>0&&(e.forEachAddedItem((e=>{let t=this.getColumnByName(e.item.fieldName);t&&(t.hidden=!0)})),e.forEachRemovedItem((e=>{this.getColumnByName(e.item.fieldName).hidden=!1})))}super.ngDoCheck()}dataLoading(e){this.dataPreLoad.emit(e)}getSelectedData(e=!1,t=!1){if(this.groupingExpressions.length||this.hasDetails){let i=[],n=e=>{e.expression||e.summaries||this.isDetailRecord(e)?i.push(null):i.push(e)};return this.dataView.forEach(n),this.extractDataFromSelection(i,e,t)}return super.getSelectedData(e,t)}getRowByIndex(e){let t;if(!(e<0))return(this.dataView.length>=this.virtualizationState.startIndex+this.virtualizationState.chunkSize||!(e<this.virtualizationState.startIndex)&&!(e>this.virtualizationState.startIndex+this.virtualizationState.chunkSize))&&(t=this.createRow(e)),"remote"===this.pagingMode&&0!==this.page&&(t.index=e+this.perPage*this.page),t}getRowByKey(e){let t=this.filteredSortedData?this.primaryKey?this.filteredSortedData.find((t=>t[this.primaryKey]===e)):this.filteredSortedData.find((t=>t===e)):void 0,i=this.dataView.indexOf(t);if(!(i<0||i>this.dataView.length))return new nY(this,i,t)}allRows(){return this.dataView.map(((e,t)=>("remote"===this.pagingMode&&0!==this.page?t+=this.perPage*this.page:t=this.dataRowList.first.index+t,this.createRow(t))))}dataRows(){return this.allRows().filter((e=>e instanceof nY))}get selectedCells(){return this.dataRows().map((e=>e.cells.filter((e=>e.selected)))).reduce(((e,t)=>e.concat(t)),[])}getCellByColumn(e,t){let i=this.getRowByIndex(e),n=this._columns.find((e=>e.field===t));if(i&&i instanceof nY&&!i.data?.detailsData&&n)return"remote"===this.pagingMode&&0!==this.page&&(i.index=e+this.perPage*this.page),new jH(this,i.index,n)}getCellByKey(e,t){let i=this.getRowByKey(e),n=this._columns.find((e=>e.field===t));if(i&&n)return new jH(this,i.index,n)}pinRow(e,t){let i=this.getRowByKey(e);return super.pinRow(e,t,i)}unpinRow(e){let t=this.getRowByKey(e);return super.unpinRow(e,t)}createRow(e,t){let i,n=this._getDataViewIndex(e),r=t??this.dataView[n];return r&&this.isGroupByRecord(r)&&(i=new oY(this,e,r)),r&&this.isSummaryRow(r)&&(i=new aY(this,e,r.summaries)),!i&&r&&(i=new nY(this,e,r)),i}get defaultTargetBodyHeight(){let e=this.totalItemCount||this.dataLength;return this.renderedActualRowHeight*Math.min(this._defaultTargetRecordNumber,this.paginator?Math.min(e,this.perPage):e)}getGroupAreaHeight(){return this.groupArea?this.getComputedHeight(this.groupArea.nativeElement):0}onColumnsAddedOrRemoved(){this.groupablePipeTrigger++,this.groupingExpressions&&this.hideGroupedColumns&&this._setGroupColsVisibility(this.hideGroupedColumns),super.onColumnsAddedOrRemoved()}scrollTo(e,t){if(this.groupingExpressions&&this.groupingExpressions.length&&"number"!=typeof e){let t=this.groupingResult.indexOf(e),i=this.groupingMetadata[t];i&&this._fullyExpandGroup(i)}super.scrollTo(e,t,this.groupingFlatResult)}_getStateForGroupRow(e){return this._gridAPI.groupBy_get_expanded_for_group(e)}_toggleGroup(e){this._gridAPI.groupBy_toggle_group(e)}_fullyExpandGroup(e){this._gridAPI.groupBy_fully_expand_group(e)}_applyGrouping(){this._gridAPI.sort_groupBy_multiple(this._groupingExpressions)}_setupNavigationService(){this.hasColumnLayouts&&(this.navigation=new SQ(this.platform),this.navigation.grid=this)}checkIfNoColumnField(e){if(e instanceof Array){for(let t of e)if(!t.fieldName)return!0;return!1}return!e.fieldName}_setGroupColsVisibility(e){this._columns.length>0&&!this.hasColumnLayouts&&this.groupingExpressions.forEach((t=>{this.getColumnByName(t.fieldName).hidden=e}))}stringifyCallback(e,t){if("externalObject"!==e)return t}static{this.ɵfac=(()=>{let t;return function(i){return(t||(t=ol(e)))(i||e)}})()}static{this.ɵcmp=Qu({type:e,selectors:[["igx-grid"]],contentQueries:function(e,t,i){if(1&e&&(gm(i,iU,5,jh),gm(i,tU,5,tU),gm(i,iZ,4,jh)),2&e){let e;mm(e=fm())&&(t.detailTemplateDirective=e.first),mm(e=fm())&&(t.groupTemplate=e.first),mm(e=fm())&&(t.groupByRowSelectorsTemplates=e)}},viewQuery:function(e,t){if(1&e&&(pm(e0,7,jh),pm(t0,7,jh),pm(i0,7,jh),pm(n0,7,jh),pm(CQ,5,CQ)),2&e){let e;mm(e=fm())&&(t.recordTemplate=e.first),mm(e=fm())&&(t.detailTemplateContainer=e.first),mm(e=fm())&&(t.defaultGroupTemplate=e.first),mm(e=fm())&&(t.summaryTemplate=e.first),mm(e=fm())&&(t._groupsRowList=e)}},hostVars:2,hostBindings:function(e,t){2&e&&$g("role",t.role)("id",t.id)},inputs:{groupsExpanded:[2,"groupsExpanded","groupsExpanded",Hf],dropAreaTemplate:"dropAreaTemplate",detailTemplate:"detailTemplate",id:"id",data:"data",totalItemCount:"totalItemCount",groupingExpressions:"groupingExpressions",groupingExpansionState:"groupingExpansionState",hideGroupedColumns:[2,"hideGroupedColumns","hideGroupedColumns",Hf],groupStrategy:"groupStrategy",dropAreaMessage:"dropAreaMessage",groupByRowSelectorTemplate:"groupByRowSelectorTemplate",groupRowTemplate:"groupRowTemplate",showGroupArea:[2,"showGroupArea","showGroupArea",Hf]},outputs:{dataPreLoad:"dataPreLoad",groupingExpressionsChange:"groupingExpressionsChange",groupingExpansionStateChange:"groupingExpansionStateChange",groupingDone:"groupingDone"},features:[Pm([HF,IX,RX,rP,TX,{provide:BF,useClass:sQ},{provide:zF,useExisting:e},OU,mU,Zk,Xk]),dg],ngContentSelectors:s0,decls:96,vars:175,consts:[["tbody",""],["pinnedRecordsTemplate",""],["verticalScrollContainer",""],["record_template",""],["pinned_record_template",""],["group_template",""],["summary_template",""],["detail_template_container",""],["igxRowEditingOverlayOutlet",""],["loadingOverlay",""],["verticalScrollHolder",""],["addRowSnackbar",""],["igxBodyOverlayOutlet","overlay-outlet"],["igxLoadingOverlayOutlet",""],["tfoot",""],["scr",""],["scrollContainer",""],["footer",""],["emptyFilteredGrid",""],["defaultEmptyGrid",""],["defaultAddRowEmptyTemplate",""],["defaultLoadingGrid",""],["defaultExpandedTemplate",""],["defaultCollapsedTemplate",""],["defaultRowEditText",""],["defaultRowEditActions",""],["defaultRowEditTemplate",""],["dragIndicatorIconBase",""],["igxFilteringOverlayOutlet",""],["groupArea",""],["pinContainer",""],["row",""],["row","","pinnedRow",""],["summaryRow",""],["detailsContainer",""],["rowEditingOverlay",""],["sink",""],[3,"flex-basis","grid","expressions","sortingExpressions","dropAreaTemplate","dropAreaMessage"],["tabindex","0",1,"igx-grid-thead",3,"keydown.meta.c","keydown.control.c","copy","keydown","scroll","focus","grid","hasMRL","activeDescendant","width","pinnedColumnCollection","unpinnedColumnCollection"],["igxGridBody","","role","rowgroup",1,"igx-grid__tbody",3,"keydown.control.c","copy"],["tabindex","0",1,"igx-grid__tbody-content",3,"keydown","focus","dragStop","scroll","dragScroll","igxGridDragSelect"],["id","left",1,"igx-grid__scroll-on-drag-left",3,"igxColumnMovingDrop"],["id","left",1,"igx-grid__scroll-on-drag-pinned",3,"igxColumnMovingDrop","left"],[4,"ngTemplateOutlet"],["igxGridFor","",3,"chunkPreload","dataChanging","dataChanged","igxGridForOf","igxForScrollOrientation","igxForScrollContainer","igxForContainerSize","igxForItemSize","igxForTrackBy"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["igxOverlayOutlet","",1,"igx-grid__row-editing-outlet"],["igxToggle",""],[3,"indeterminate"],["id","right",1,"igx-grid__scroll-on-drag-right",3,"igxColumnMovingDrop"],[1,"igx-grid__tbody-scrollbar",3,"pointerdown","hidden"],[1,"igx-grid__tbody-scrollbar-start"],[1,"igx-grid__tbody-scrollbar-main"],["igxGridFor","",3,"igxGridForOf"],[1,"igx-grid__tbody-scrollbar-end"],[1,"igx-grid__addrow-snackbar"],[3,"outlet","actionText","displayTime"],["igxOverlayOutlet",""],["igxOverlayOutlet","",1,"igx-grid__loading-outlet"],["role","rowgroup",1,"igx-grid__tfoot"],["tabindex","0",3,"focus","keydown"],["role","row",1,"igx-grid__summaries",3,"width","height","gridID","summaries","index"],[1,"igx-grid__tfoot-thumb",3,"hidden"],[1,"igx-grid__scroll",3,"pointerdown","hidden"],[1,"igx-grid__scroll-start"],[1,"igx-grid__scroll-main"],[1,"igx-grid__scroll-end",3,"hidden"],[1,"igx-grid__footer"],["igxOverlayOutlet","",1,"igx-grid__outlet"],[2,"display","none"],[3,"grid","expressions","sortingExpressions","dropAreaTemplate","dropAreaMessage"],["id","left",1,"igx-grid__scroll-on-drag-pinned",3,"igxColumnMovingDrop"],[1,"igx-grid__tr--pinned",3,"ngClass","width"],[1,"igx-grid__tr--pinned",3,"ngClass"],[3,"cachedViewLoaded","viewCreated","viewMoved","igxTemplateOutlet","igxTemplateOutletContext"],[3,"gridID","index","data","disabled","ngClass","ngStyle"],[3,"gridID","index","data","ngClass","ngStyle"],[3,"gridID","index","groupRow","hideGroupRowSelectors","rowDraggable"],["role","row",1,"igx-grid__summaries--body",3,"gridID","summaries","index"],["detail","true",3,"pointerdown","id","ngClass"],[1,"igx-grid__hierarchical-indent"],[3,"class"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","row",1,"igx-grid__summaries",3,"gridID","summaries","index"],["role","cell",1,"igx-grid__tbody-message"],["type","button","igxButton","contained","igxRipple","",3,"click"],[1,"igx-grid__loading"],["family","default","name","unfold_less","role","button",3,"ngClass"],["family","default","name","unfold_more","role","button",3,"ngClass"],[3,"className"],["igxButton","","igxRowEditTabStop","","type","button",3,"click"],[1,"igx-banner__message"],[1,"igx-banner__text"],[1,"igx-banner__actions"],[1,"igx-banner__row"],["family","default","name","drag_indicator"]],template:function(e,t){if(1&e){let e=Kp();lm(r0),dm(0),bg(1,x0,2,7,"igx-grid-group-by-area",37),Lp(2,"igx-grid-header-row",38),rm("keydown.meta.c",(function(i){return Ko(e),jo(t.copyHandler(i))}))("keydown.control.c",(function(i){return Ko(e),jo(t.copyHandler(i))}))("copy",(function(i){return Ko(e),jo(t.copyHandler(i))}))("keydown",(function(i){return Ko(e),jo(t.navigation.headerNavigation(i))}))("scroll",(function(i){return Ko(e),jo(t.preventHeaderScroll(i))}))("focus",(function(){return Ko(e),jo(t.navigation.focusFirstCell())})),Np(),Lp(3,"div",39),rm("keydown.control.c",(function(i){return Ko(e),jo(t.copyHandler(i))}))("copy",(function(i){return Ko(e),jo(t.copyHandler(i))})),Lp(4,"div",40,0),rm("keydown",(function(i){return Ko(e),jo(t.navigation.handleNavigation(i))}))("focus",(function(i){return Ko(e),jo(t.navigation.focusTbody(i))}))("dragStop",(function(i){return Ko(e),jo(t.selectionService.dragMode=i)}))("scroll",(function(i){return Ko(e),jo(t.preventContainerScroll(i))}))("dragScroll",(function(i){return Ko(e),jo(t.dragScroll(i))})),bg(6,_0,1,2,"span",41)(7,w0,1,4,"span",42)(8,C0,1,0,"ng-container",43)(9,T0,7,49,"ng-template",null,1,sf)(11,R0,1,2,"ng-template",44,2,sf),Xm(13,"gridTransaction"),Xm(14,"visibleColumns"),Xm(15,"gridFiltering"),Xm(16,"gridSort"),Xm(17,"gridGroupBy"),Xm(18,"gridPaging"),Xm(19,"gridSummary"),Xm(20,"gridDetails"),Xm(21,"gridAddRow"),Xm(22,"gridRowPinning"),rm("chunkPreload",(function(i){return Ko(e),jo(t.dataLoading(i))}))("dataChanging",(function(i){return Ko(e),jo(t.dataRebinding(i))}))("dataChanged",(function(i){return Ko(e),jo(t.dataRebound(i))})),bg(23,A0,1,0,"ng-container",43)(24,k0,4,36,"ng-template",null,3,sf)(26,O0,5,35,"ng-template",null,4,sf)(28,F0,2,5,"ng-template",null,5,sf)(30,P0,2,3,"ng-template",null,6,sf)(32,L0,5,10,"ng-template",null,7,sf)(34,N0,1,0,"ng-container",45),Hp(35,"div",46,8),Np(),Lp(37,"div",47,9),bg(39,H0,1,1,"igx-circular-bar",48),Np(),bg(40,z0,1,2,"span",49),Lp(41,"div",50),rm("pointerdown",(function(t){return Ko(e),jo(t.preventDefault())})),Hp(42,"div",51),Lp(43,"div",52),bg(44,B0,0,0,"ng-template",53,10,sf),Np(),Hp(46,"div",54),Np(),Lp(47,"div",55)(48,"igx-snackbar",56,11),ym(50),Np()(),Hp(51,"div",57,12)(53,"div",58,13),Np(),Lp(55,"div",59,14)(57,"div",60),rm("focus",(function(){return Ko(e),jo(t.navigation.focusFirstCell(!1))}))("keydown",(function(i){return Ko(e),jo(t.navigation.summaryNav(i))})),bg(58,G0,3,10,"igx-grid-summary-row",61),Hp(59,"div",62),Np()(),Lp(60,"div",63,15),rm("pointerdown",(function(t){return Ko(e),jo(t.preventDefault())})),Hp(62,"div",64),Lp(63,"div",65),bg(64,$0,0,0,"ng-template",53,16,sf),Np(),Hp(66,"div",66),Np(),Lp(67,"div",67,17),dm(69,1),dm(70,2),Np(),bg(71,j0,4,2,"ng-template",null,18,sf)(73,Y0,4,2,"ng-template",null,19,sf)(75,Z0,2,1,"ng-template",null,20,sf)(77,X0,2,1,"ng-template",null,21,sf)(79,Q0,1,3,"ng-template",null,22,sf)(81,J0,1,3,"ng-template",null,23,sf)(83,t2,4,6,"div",47)(84,i2,3,9,"ng-template",null,24,sf)(86,n2,4,2,"ng-template",null,25,sf)(88,o2,6,8,"ng-template",null,26,sf)(90,a2,1,0,"ng-template",null,27,sf)(92,l2,1,0,"igx-grid-column-resizer"),Hp(93,"div",68,28),bg(95,d2,4,0,"div",69)}if(2&e){let e=vm(10),i=vm(52);Hc(),Ip(t.showGroupArea&&(t.groupingExpressions.length>0||t.hasGroupableColumns)?1:-1),Hc(),rp("grid",t)("hasMRL",t.hasColumnLayouts)("activeDescendant",t.activeDescendant)("width",t.calcWidth)("pinnedColumnCollection",t.pinnedColumns)("unpinnedColumnCollection",t.unpinnedColumns),Hc(2),op("height",t.totalHeight,"px")("width",t.totalCalcWidth,"px")("width",t.platform.isBrowser?void 0:"100%"),rp("igxGridDragSelect",t.selectionService.dragMode),$g("role",t.dataView.length?null:"row")("aria-activedescendant",t.activeDescendant),Hc(2),Ip(t.moving&&t.columnInDrag&&t.pinnedColumns.length<=0?6:-1),Hc(),Ip(t.moving&&t.columnInDrag&&t.pinnedColumns.length>0?7:-1),Hc(),rp("ngTemplateOutlet",t.hasPinnedRecords&&t.isRowPinningToTop?e:null),Hc(3),rp("igxGridForOf",tf(22,128,ef(21,124,tf(20,119,nf(19,110,$m(163,l0,nf(18,104,zm(157,d0,nf(17,95,$m(148,l0,nf(16,88,Bm(141,a0,nf(15,80,Gm(133,o0,Jm(14,77,ef(13,73,t.renderData,t.id,t.pipeTrigger),t.hasVisibleColumns),t.filteringExpressionsTree,t.filterStrategy,t.advancedFilteringExpressionsTree,t.id,t.pipeTrigger,t.filteringPipeTrigger)),t.sortingExpressions,t.groupingExpressions,t.sortStrategy,t.id,t.pipeTrigger)),t.groupingExpressions,t.groupingExpansionState,t.groupStrategy,t.groupsExpanded,t.id,t.groupsRecords,t.pipeTrigger)),!!t.paginator,t.page,t.perPage,t.pipeTrigger)),t.hasSummarizedColumns,t.summaryCalculationMode,t.summaryPosition,t.id,t.showSummaryOnCollapse,t.pipeTrigger,t.summaryPipeTrigger)),t.hasDetails,t.expansionStates,t.pipeTrigger),!1,t.pipeTrigger),t.id,!1,t.pipeTrigger))("igxForScrollOrientation","vertical")("igxForScrollContainer",t.verticalScroll)("igxForContainerSize",t.calcHeight)("igxForItemSize",t.hasColumnLayouts?t.rowHeight*t.multiRowLayoutRowSize+1:t.renderedRowHeight)("igxForTrackBy",t.trackChanges),Hc(12),rp("ngTemplateOutlet",t.hasPinnedRecords&&!t.isRowPinningToTop?e:null),Hc(11),rp("ngTemplateOutlet",t.template)("ngTemplateOutletContext",Mm(172,c0,t)),Hc(5),Ip(t.shouldOverlayLoading?39:-1),Hc(),Ip(t.moving&&t.columnInDrag?40:-1),Hc(),op("width",t.scrollSize,"px"),rp("hidden",!t.hasVerticalScroll()),Hc(),op("height",t.isRowPinningToTop?t.pinnedRowHeight:0,"px"),Hc(),op("height",t.calcHeight,"px"),Hc(),rp("igxGridForOf",Vm(174,h0)),Hc(2),op("height",t.isRowPinningToTop?0:t.pinnedRowHeight,"px"),Hc(2),rp("outlet",i)("actionText",t.resourceStrings.igx_grid_snackbar_addrow_actiontext)("displayTime",t.snackbarDisplayTime),Hc(2),_m(t.resourceStrings.igx_grid_snackbar_addrow_label),Hc(5),op("height",t.summaryRowHeight,"px"),Hc(2),$g("aria-activedescendant",t.activeDescendant),Hc(),Ip(t.hasSummarizedColumns&&t.rootSummariesEnabled?58:-1),Hc(),op("height",t.summaryRowHeight,"px")("width",t.scrollSize,"px"),rp("hidden",!t.hasVerticalScroll()),Hc(),op("height",t.scrollSize,"px"),rp("hidden",t.isHorizontalScrollHidden),Hc(2),op("width",t.isPinningToStart?t.pinnedWidth:t.headerFeaturesWidth,"px")("min-width",t.isPinningToStart?t.pinnedWidth:t.headerFeaturesWidth,"px"),Hc(),op("width",t.unpinnedWidth,"px"),Hc(),rp("igxGridForOf",t.EMPTY_DATA),Hc(2),op("float","right")("width",t.pinnedWidth,"px")("min-width",t.pinnedWidth,"px"),rp("hidden",0===t.pinnedWidth||t.isPinningToStart),Hc(17),Ip(t.rowEditable?83:-1),Hc(9),Ip(t.colResizingService.showResizer?92:-1),Hc(3),Ip(t.platform.isElements?95:-1)}},dependencies:[jv,Uv,qv,DX,XY,HZ,J1,ZU,nO,wO,X1,CQ,hX,DO,SO,wW,xX,mR,hO,DA,jZ,gX,mY,fY,vY,CY,hY,uY,AQ,TQ,IQ,EQ,RQ,DQ,bQ,xY],encapsulation:2,changeDetection:0})}}return e})(),u2=(()=>{class e extends mU{getColumnHeaderRenderedWidth(){return this.rowHeaderGroup.header.nativeElement.getBoundingClientRect().width}_handlePixelResize(e,t){let i=this.rowHeaderGroup.parent.rootDimension;if(!i)return;let n=parseFloat(t.width),r=t.minWidthPx,s=t.maxWidthPx,o=n;o=n+e<r?r:s&&n+e>s?s:n+e,this.rowHeaderGroup.grid.resizeRowDimensionPixels(i,o)}_handlePercentageResize(){}static{this.ɵfac=(()=>{let t;return function(i){return(t||(t=ol(e)))(i||e)}})()}static{this.ɵprov=ir({token:e,factory:e.ɵfac})}}return e})(),g2=(e,t)=>({$implicit:e,column:t}),p2=e=>({$implicit:e});function m2(e,t){if(1&e&&(Lp(0,"span",7),ym(1),Np()),2&e){let e=om();rp("title",e.title),Hc(),_m(e.column.header||e.column.field)}}function f2(e,t){1&e&&Hp(0,"igx-icon",8)}function v2(e,t){1&e&&Hp(0,"igx-icon",9),2&e&&rp("name",om().sortDirection<2?"sort_asc":"sort_desc")}function y2(e,t){1&e&&$p(0)}function x2(e,t){1&e&&$p(0)}function _2(e,t){if(1&e){let e=Kp();Lp(0,"div",12,3),Xm(2,"sortingIndex"),rm("pointerdown",(function(t){return Ko(e),jo(om(2).onPointerDownIndicator(t))}))("click",(function(t){return Ko(e),jo(om(2).onSortingIconClick(t))})),bg(3,x2,1,0,"ng-container",5),Np()}if(2&e){let e=om(2);$g("data-sortIndex","single"===e.grid.sortingOptions.mode&&e.grid.sortingExpressions.length<=1?null:Jm(2,3,e.column.field,e.grid.sortingExpressions)),Hc(3),rp("ngTemplateOutlet",e.sortIconTemplate)("ngTemplateOutletContext",Mm(6,p2,e))}}function w2(e,t){1&e&&$p(0)}function C2(e,t){if(1&e){let e=Kp();Lp(0,"div",13),rm("pointerdown",(function(t){return Ko(e),jo(om(2).onPointerDownIndicator(t))}))("click",(function(t){return Ko(e),jo(om(2).onFilteringIconClick(t))})),bg(1,w2,1,0,"ng-container",5),Np()}if(2&e){let e=om(2);rp("ngClass",e.filterIconClassName),Hc(),rp("ngTemplateOutlet",e.esfIconTemplate)("ngTemplateOutletContext",Mm(3,p2,e))}}function S2(e,t){if(1&e&&(Lp(0,"div",6),bg(1,_2,4,8,"div",10)(2,C2,2,5,"div",11),Np()),2&e){let e=om();Hc(),Ip(e.column.sortable&&!e.disabled?1:-1),Hc(),Ip(e.grid.allowFiltering&&e.column.filterable&&"excelStyleFilter"===e.grid.filterMode?2:-1)}}var b2=(()=>{class e extends AU{constructor(e,t,i,n){super(e,t,i,n),this.colResizingService=t,this.refInstance=n,this.pivotGrid=this.grid,this.pivotGrid.dimensionsSortingExpressionsChange.pipe(Nn(this._destroy$)).subscribe((e=>this.setSortIndex()))}ngAfterViewInit(){this.setSortIndex()}onClick(e){e.preventDefault()}get selectable(){return!1}onSortingIconClick(e){e.stopPropagation();let t=this.pivotGrid.getRowDimensionByName(this.column.field),i=t.sortDirection||cS.None,n=i+1>cS.Desc?cS.None:i+1;this.pivotGrid.sortDimension(t,n)}getSortDirection(){let e=this.pivotGrid.getRowDimensionByName(this.column.field);this.sortDirection=e?.sortDirection||cS.None}setSortIndex(){if(this.column.sortable&&this.sortIconContainer){let e=this.pivotGrid.pivotUI.rowLayout===tP.Vertical?this.pivotGrid.pivotConfiguration.rows:nP.flatten(this.pivotGrid.pivotConfiguration.rows),t=e.findIndex((e=>e.memberName===this.column.field)),i=-1;if(e[t].sortDirection){let n=0;for(let i=0;i<t;i++)e[i].sortDirection&&n++;i=n+1}this.sortIconContainer.nativeElement.setAttribute("data-sortIndex",i>=0?i:"")}}static{this.ɵfac=function(t){return new(t||e)(lu(zF),lu(u2),lu(Cf),lu(zl))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-pivot-row-dimension-header"]],hostBindings:function(e,t){1&e&&rm("click",(function(e){return t.onClick(e)}))},features:[dg],decls:9,vars:6,consts:[["defaultColumn",""],["defaultESFHeaderIconTemplate",""],["defaultSortHeaderIconTemplate",""],["sortIconContainer",""],[1,"igx-grid-th__title"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"igx-grid-th__icons"],[3,"title"],["family","default","name","more_vert"],["family","default",3,"name"],[1,"sort-icon"],[3,"ngClass"],[1,"sort-icon",3,"pointerdown","click"],[3,"pointerdown","click","ngClass"]],template:function(e,t){if(1&e&&(bg(0,m2,2,2,"ng-template",null,0,sf)(2,f2,1,0,"ng-template",null,1,sf)(4,v2,1,1,"ng-template",null,2,sf),Lp(6,"span",4),bg(7,y2,1,0,"ng-container",5),Np(),bg(8,S2,3,2,"div",6)),2&e){let e=vm(1);Hc(7),rp("ngTemplateOutlet",t.column.headerTemplate?t.column.headerTemplate:e)("ngTemplateOutletContext",Lm(3,g2,t.column,t.column)),Hc(),Ip(t.column.columnGroup?-1:8)}},dependencies:[DA,qv,jv,uU],encapsulation:2,changeDetection:0})}}return e})(),D2=(()=>{class e extends YU{set pivotColumn(e){this.column=e}get pivotColumn(){return this.column}constructor(e,t,i){super(e,t,i),this.colResizingService=i}onDoubleClick(){this._dblClick=!0,this.initResizeService(),this.rowHeaderGroup.grid.autoSizeRowDimension(this.rowHeaderGroup.parent.rootDimension)}initResizeService(e=null){super.initResizeService(e),this.colResizingService.rowHeaderGroup=this.rowHeaderGroup}static{this.ɵfac=function(t){return new(t||e)(lu(Il),lu(zl),lu(u2))}}static{this.ɵdir=rg({type:e,selectors:[["","igxPivotResizeHandle",""]],inputs:{pivotColumn:[0,"igxPivotResizeHandle","pivotColumn"],rowHeaderGroup:[0,"igxPivotResizeHandleHeader","rowHeaderGroup"]},features:[dg]})}}return e})();function E2(e,t){if(1&e&&(Lp(0,"span",2),ym(1),Np()),2&e){let e=om();rp("title",e.title),Hc(),_m(e.column.header)}}function T2(e,t){1&e&&Hp(0,"igx-icon",3),2&e&&rp("name",om().column.expanded?"tree_collapse":"tree_expand")}function I2(e,t){1&e&&Hp(0,"span",4)}function R2(e,t){if(1&e&&Hp(0,"span",8),2&e){let e=om(2);op("cursor",e.colResizingService.resizeCursor),rp("igxPivotResizeHandle",e.column)("igxPivotResizeHandleHeader",e),$g("draggable",!1)}}function A2(e,t){1&e&&Hp(0,"span",7)}function k2(e,t){if(1&e){let e=Kp();bg(0,I2,1,0,"span",4),Lp(1,"igx-pivot-row-dimension-header",5),Xm(2,"igxHeaderGroupStyle"),rm("pointerdown",(function(t){return Ko(e),jo(om().pointerdown(t))}))("keydown",(function(t){return Ko(e),jo(om().grid.navigation.headerNavigation(t))})),Np(),bg(3,R2,1,5,"span",6)(4,A2,1,0,"span",7)}if(2&e){let e=om();Ip(e.grid.hasMovableColumns?0:-1),Hc(),rp("id",e.grid.id+"_"+e.column.field)("ngClass",e.column.headerClasses)("ngStyle",ef(2,11,e.column.headerStyles,e.column,e.grid.pipeTrigger))("igxColumnMovingDrag",e.column)("ghostHost",e.grid.outlet.nativeElement)("igxColumnMovingDrop",e.column)("column",e.column),$g("droppable",!0),Hc(2),Ip(!e.column.columnGroup&&e.column.resizable?3:-1),Hc(),Ip(e.grid.hasMovableColumns?4:-1)}}var O2=(()=>{class e extends Cq{constructor(e,t,i,n,r,s,o){super(e,t,i,n,r,s),this.cdRef=e,this.grid=t,this.elementRef=i,this.colResizingService=n,this.zone=o,this.userSelect="none"}set dimWidth(e){this.column.width=e+"px"}get dimWidth(){return parseFloat(this.column.width)}get parent(){return this}get headerID(){return`${this.grid.id}_-2_${this.rootDimension.memberName}_${this.visibleIndex}`}get title(){return this.rootDimension.displayName}get visibleIndex(){return this.grid.visibleRowDimensions.indexOf(this.rootDimension)}get active(){let e=this.grid.navigation,t=e.activeNode;return!(!t||this.column.columnGroup)&&e.isRowDimensionHeaderActive&&t.row===this.rowIndex&&t.column===this.visibleIndex}get sortAscendingStyle(){return this.rootDimension.sortDirection===cS.Asc}get sortDescendingStyle(){return this.rootDimension.sortDirection===cS.Desc}get sortableStyle(){return!0}get sortedStyle(){return void 0!==this.rootDimension.sortDirection&&this.rootDimension.sortDirection!==cS.None}get activeNode(){return this.grid.navigation.isRowDimensionHeaderActive=!0,this.grid.navigation.isRowHeaderActive=!1,{row:this.rowIndex,column:this.visibleIndex,level:null,mchCache:{level:0,visibleIndex:this.visibleIndex},layout:null}}activate(){this.grid.navigation.setActiveNode(this.activeNode)}pointerdown(e){this.activate()}onMouseDown(e){this.activate()}get selectable(){return!1}static{this.ɵfac=function(t){return new(t||e)(lu(Cf),lu(zF),lu(zl),lu(u2),lu(OU),lu(NC),lu(Il))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-pivot-row-header-group"]],viewQuery:function(e,t){if(1&e&&pm(b2,5),2&e){let e;mm(e=fm())&&(t.header=e.first)}},hostVars:14,hostBindings:function(e,t){2&e&&($g("id",t.headerID)("title",t.title),op("user-select",t.userSelect),ap("igx-grid-th--active",t.active)("asc",t.sortAscendingStyle)("desc",t.sortDescendingStyle)("igx-grid-th--sortable",t.sortableStyle)("igx-grid-th--sorted",t.sortedStyle))},inputs:{rowIndex:"rowIndex",dimWidth:"dimWidth",rootDimension:"rootDimension"},features:[dg],decls:5,vars:1,consts:[["defaultColumn",""],["defaultCollapseIndicator",""],[1,"igx-grid-th__group-title",3,"title"],["family","default",3,"name"],[1,"igx-grid-th__drop-indicator-left"],["role","columnheader",1,"igx-grid-th--fw",3,"pointerdown","keydown","id","ngClass","ngStyle","igxColumnMovingDrag","ghostHost","igxColumnMovingDrop","column"],[1,"igx-grid-th__resize-handle",3,"igxPivotResizeHandle","igxPivotResizeHandleHeader","cursor"],[1,"igx-grid-th__drop-indicator-right"],[1,"igx-grid-th__resize-handle",3,"igxPivotResizeHandle","igxPivotResizeHandleHeader"]],template:function(e,t){1&e&&bg(0,E2,2,2,"ng-template",null,0,sf)(2,T2,1,1,"ng-template",null,1,sf)(4,k2,5,15),2&e&&(Hc(4),Ip(t.column.columnGroup?-1:4))},dependencies:[DA,b2,jv,Uv,Qj,ZU,D2,pU],encapsulation:2,changeDetection:0})}}return e})(),F2=["esf"],P2=["filterAreaHidden"],V2=["filterIcon"],M2=["dropdownChips"],L2=["pivotFilterContainer"],N2=["pivotRowContainer"],H2=["notifyChip"],z2=["headerVirtualContainer"],B2=["rowDimensionHeaders"],G2=()=>({pivotArea:"filter"}),$2=()=>({pivotArea:"row"}),W2=()=>({pivotArea:"column"}),K2=()=>({pivotArea:"value"}),j2=e=>({$implicit:e}),U2=(e,t)=>t.key,q2=(e,t)=>t.memberName,Y2=(e,t)=>t.member;function Z2(e,t){if(1&e){let e=Kp();Lp(0,"span",47),rm("dropped",(function(t){Ko(e),om();let i=vm(3);return jo(om().onDimDrop(t,i,2))})),ym(1),Np()}if(2&e){let e=om(2);Hc(),_m(e.grid.resourceStrings.igx_grid_pivot_empty_filter_drop_area)}}function X2(e,t){if(1&e&&Hp(0,"span",48),2&e){om(2);let e=vm(3);op("height",om().getAreaHeight(e),"px")}}function Q2(e,t){if(1&e){let e=Kp();Hp(0,"span",48),Lp(1,"igx-chip",49),rm("remove",(function(t){return Ko(e),jo(om(2).filterRemoved(t))}))("dragOver",(function(t){return Ko(e),jo(om(2).onDimDragOver(t,2))}))("dragLeave",(function(t){return Ko(e),jo(om(2).onDimDragLeave(t))}))("dragDrop",(function(t){Ko(e),om();let i=vm(3);return jo(om().onDimDrop(t,i,2))}))("moveStart",(function(t){Ko(e),om();let i=vm(3);return jo(om().onDimDragStart(t,i))}))("moveEnd",(function(){return Ko(e),jo(om(2).onDimDragEnd())})),Lp(2,"igx-icon",50),rm("pointerdown",(function(t){return Ko(e),jo(om(2).onFilteringIconPointerDown(t))}))("click",(function(t){let i=Ko(e).$implicit;return jo(om(2).onFilteringIconClick(t,i))})),Np(),ym(3),Np(),bg(4,X2,1,2,"span",51)}if(2&e){let e=t.$implicit,i=t.$index,n=t.$count;om();let r=vm(3);op("height",om().getAreaHeight(r),"px"),Hc(),rp("id",e.memberName)("draggable",!0)("data",Vm(8,G2))("removable",!0),Hc(2),wm(" ",e.displayName||e.memberName," "),Hc(),Ip(i===n-1?4:-1)}}function J2(e,t){if(1&e){let e=Kp();Lp(0,"div",46)(1,"igx-icon",52,8),rm("pointerdown",(function(t){return Ko(e),jo(om(2).onFilteringIconPointerDown(t))}))("click",(function(t){return Ko(e),jo(om(2).onFiltersAreaDropdownClick(t))})),Np(),Hp(3,"igx-badge",53),Np()}if(2&e){let e=om(2);Hc(3),cm("value",e.filterDropdownDimensions.size)}}function e3(e,t){if(1&e){let e=Kp();Lp(0,"div",43,5),rm("igxDragLeave",(function(t){Ko(e);let i=vm(3);return jo(om().onAreaDragLeave(t,i))}))("dropped",(function(t){Ko(e);let i=vm(3);return jo(om().onDimDrop(t,i,2))}))("pointerdown",(function(t){return Ko(e),jo(t.preventDefault())})),Lp(2,"igx-chips-area",41,6),bg(4,Z2,2,1,"span",44),Op(5,Q2,5,9,null,null,Ap),Lp(7,"igx-chip",45,7),rm("dragDrop",(function(t){Ko(e);let i=vm(3);return jo(om().onDimDrop(t,i,2))})),ym(9),Np()(),bg(10,J2,4,1,"div",46),Np()}if(2&e){let e=om();op("min-width",e.grid.pivotRowWidths-1,"px")("max-width",e.grid.pivotRowWidths-1,"px"),Hc(4),Ip(0===e.grid.filterDimensions.length?4:-1),Hc(),Pp(e.filterAreaDimensions),Hc(2),rp("hidden",!0),Hc(2),wm(" ",e.grid.resourceStrings.igx_grid_pivot_filter_drop_chip," "),Hc(),Ip(e.isFiltersButton&&0!==e.grid.filterDimensions.length?10:-1)}}function t3(e,t){if(1&e){let e=Kp();Lp(0,"span",47),rm("dropped",(function(t){Ko(e),om();let i=vm(3);return jo(om().onDimDrop(t,i,0))})),ym(1),Np()}if(2&e){let e=om(2);Hc(),_m(e.grid.resourceStrings.igx_grid_pivot_empty_row_drop_area)}}function i3(e,t){1&e&&Hp(0,"igx-icon",57),2&e&&rp("name",om().$implicit.sortDirection<2?"sort_asc":"sort_desc")}function n3(e,t){if(1&e&&Hp(0,"span",48),2&e){om(2);let e=vm(3);op("height",om().getAreaHeight(e),"px")}}function r3(e,t){if(1&e){let e=Kp();Hp(0,"span",48),Lp(1,"igx-chip",55),rm("remove",(function(t){return Ko(e),jo(om(2).rowRemoved(t))}))("dragLeave",(function(t){return Ko(e),jo(om(2).onDimDragLeave(t))}))("dragDrop",(function(t){Ko(e),om();let i=vm(3);return jo(om().onDimDrop(t,i,0))}))("dragOver",(function(t){return Ko(e),jo(om(2).onDimDragOver(t,0))}))("moveStart",(function(t){Ko(e),om();let i=vm(3);return jo(om().onDimDragStart(t,i))}))("moveEnd",(function(){return Ko(e),jo(om(2).onDimDragEnd())}))("click",(function(t){let i=Ko(e).$implicit;return jo(om(2).onChipSort(t,i))})),Hp(2,"igx-icon",56),Lp(3,"igx-icon",50),rm("pointerdown",(function(t){return Ko(e),jo(om(2).onFilteringIconPointerDown(t))}))("click",(function(t){let i=Ko(e).$implicit;return jo(om(2).onFilteringIconClick(t,i))})),Np(),ym(4),bg(5,i3,1,1,"igx-icon",57),Np(),bg(6,n3,1,2,"span",51)}if(2&e){let e=t.$implicit,i=t.$index,n=t.$count;om();let r=vm(3);op("height",om().getAreaHeight(r),"px"),Hc(),rp("draggable",!0)("id",e.memberName)("data",Vm(9,$2))("removable",!0),Hc(3),wm(" ",e.displayName||e.memberName," "),Hc(),Ip(e.sortDirection?5:-1),Hc(),Ip(i===n-1?6:-1)}}function s3(e,t){if(1&e){let e=Kp();Lp(0,"div",54,9),rm("igxDragLeave",(function(t){Ko(e);let i=vm(3);return jo(om().onAreaDragLeave(t,i))}))("dropped",(function(t){Ko(e);let i=vm(3);return jo(om().onDimDrop(t,i,0))})),Lp(2,"igx-chips-area",41,10),bg(4,t3,2,1,"span",44),Op(5,r3,7,10,null,null,q2),Lp(7,"igx-chip",45,7),rm("dragDrop",(function(t){Ko(e);let i=vm(3);return jo(om().onDimDrop(t,i,0))})),ym(9),Np()()()}if(2&e){let e=om();op("width",e.grid.pivotRowWidths-1,"px"),Hc(4),Ip(0===e.grid.rowDimensions.length?4:-1),Hc(),Pp(e.grid.rowDimensions),Hc(2),rp("hidden",!0),Hc(2),wm(" ",e.grid.resourceStrings.igx_grid_pivot_row_drop_chip," ")}}function o3(e,t){if(1&e){let e=Kp();Lp(0,"span",47),rm("dropped",(function(t){Ko(e),om();let i=vm(3);return jo(om().onDimDrop(t,i,1))})),ym(1),Np()}if(2&e){let e=om(2);Hc(),wm(" ",e.grid.resourceStrings.igx_grid_pivot_empty_column_drop_area,"")}}function a3(e,t){1&e&&Hp(0,"igx-icon",57),2&e&&rp("name",om().$implicit.sortDirection<2?"sort_asc":"sort_desc")}function l3(e,t){if(1&e&&Hp(0,"span",48),2&e){om(2);let e=vm(3);op("height",om().getAreaHeight(e),"px")}}function d3(e,t){if(1&e){let e=Kp();Hp(0,"span",48),Lp(1,"igx-chip",59),rm("remove",(function(t){return Ko(e),jo(om(2).columnRemoved(t))}))("dragOver",(function(t){return Ko(e),jo(om(2).onDimDragOver(t,1))}))("dragLeave",(function(t){return Ko(e),jo(om(2).onDimDragLeave(t))}))("dragDrop",(function(t){Ko(e),om();let i=vm(3);return jo(om().onDimDrop(t,i,1))}))("moveStart",(function(t){Ko(e),om();let i=vm(3);return jo(om().onDimDragStart(t,i))}))("moveEnd",(function(){return Ko(e),jo(om(2).onDimDragEnd())}))("click",(function(t){let i=Ko(e).$implicit;return jo(om(2).onChipSort(t,i))})),Hp(2,"igx-icon",60),Lp(3,"igx-icon",50),rm("pointerdown",(function(t){return Ko(e),jo(om(2).onFilteringIconPointerDown(t))}))("click",(function(t){let i=Ko(e).$implicit;return jo(om(2).onFilteringIconClick(t,i))})),Np(),ym(4),bg(5,a3,1,1,"igx-icon",57),Np(),bg(6,l3,1,2,"span",51)}if(2&e){let e=t.$implicit,i=t.$index,n=t.$count;om();let r=vm(3);op("height",om().getAreaHeight(r),"px"),Hc(),rp("draggable",!0)("id",e.memberName)("data",Vm(9,W2))("removable",!0),Hc(3),wm(" ",e.displayName||e.memberName," "),Hc(),Ip(e.sortDirection?5:-1),Hc(),Ip(i===n-1?6:-1)}}function c3(e,t){if(1&e){let e=Kp();Lp(0,"div",58,11),rm("dropped",(function(t){Ko(e);let i=vm(3);return jo(om().onDimDrop(t,i,1))}))("igxDragLeave",(function(t){Ko(e);let i=vm(3);return jo(om().onAreaDragLeave(t,i))})),Lp(2,"igx-chips-area",41,12),bg(4,o3,2,1,"span",44),Op(5,d3,7,10,null,null,q2),Lp(7,"igx-chip",45,7),rm("dragDrop",(function(t){Ko(e);let i=vm(3);return jo(om().onDimDrop(t,i,1))})),ym(9),Np()()()}if(2&e){let e=om();Hc(4),Ip(0===e.grid.columnDimensions.length?4:-1),Hc(),Pp(e.grid.columnDimensions),Hc(2),rp("hidden",!0),Hc(2),wm(" ",e.grid.resourceStrings.igx_grid_pivot_column_drop_chip," ")}}function h3(e,t){if(1&e){let e=Kp();Lp(0,"span",47),rm("dropped",(function(t){Ko(e),om();let i=vm(3);return jo(om().onValueDrop(t,i))})),ym(1),Np()}if(2&e){let e=om(2);Hc(),_m(e.grid.resourceStrings.igx_grid_pivot_empty_value_drop_area)}}function u3(e,t){1&e&&$p(0)}function g3(e,t){if(1&e&&Hp(0,"span",48),2&e){om(2);let e=vm(3);op("height",om().getAreaHeight(e),"px")}}function p3(e,t){if(1&e){let e=Kp();Hp(0,"span",48),Lp(1,"igx-chip",62,16),rm("remove",(function(t){return Ko(e),jo(om(2).valueRemoved(t))}))("dragLeave",(function(t){return Ko(e),jo(om(2).onDimDragLeave(t))}))("dragOver",(function(t){return Ko(e),jo(om(2).onDimDragOver(t))}))("dragDrop",(function(t){Ko(e),om();let i=vm(3);return jo(om().onValueDrop(t,i))})),Lp(3,"div",63),rm("click",(function(t){let i=Ko(e).$implicit,n=vm(2),r=om(2),s=vm(21);return jo(r.onSummaryClick(t,i,s,n))}))("pointerdown",(function(t){return Ko(e),jo(t.stopPropagation())})),Hp(4,"igx-icon",64)(5,"igx-icon",65),Np(),bg(6,u3,1,0,"ng-container",66),Np(),bg(7,g3,1,2,"span",51)}if(2&e){let e=t.$implicit,i=t.$index,n=t.$count;om();let r=vm(3),s=om(),o=vm(21),a=vm(40);op("height",s.getAreaHeight(r),"px"),Hc(),rp("draggable",!0)("id",e.displayName||e.member)("data",Vm(10,K2))("removable",!0),Hc(2),rp("igxDropDownItemNavigation",o),Hc(3),rp("ngTemplateOutlet",s.grid.valueChipTemplate?s.grid.valueChipTemplate:a)("ngTemplateOutletContext",Mm(11,j2,e)),Hc(),Ip(i===n-1?7:-1)}}function m3(e,t){if(1&e){let e=Kp();Lp(0,"div",61,13),rm("pointerdown",(function(t){return Ko(e),jo(t.preventDefault())}))("dropped",(function(t){Ko(e);let i=vm(3);return jo(om().onValueDrop(t,i))}))("igxDragLeave",(function(t){Ko(e);let i=vm(3);return jo(om().onAreaDragLeave(t,i))})),Lp(2,"igx-chips-area",41,14),bg(4,h3,2,1,"span",44),Op(5,p3,8,13,null,null,Y2),Lp(7,"igx-chip",45,15),rm("dragDrop",(function(t){Ko(e);let i=vm(3);return jo(om().onValueDrop(t,i))})),ym(9),Np()()()}if(2&e){let e=om();Hc(4),Ip(0===e.grid.values.length?4:-1),Hc(),Pp(e.grid.values),Hc(2),rp("hidden",!0),Hc(2),wm(" ",e.grid.resourceStrings.igx_grid_pivot_value_drop_chip," ")}}function f3(e,t){if(1&e){let e=Kp();Lp(0,"span",47),rm("dropped",(function(t){Ko(e),om(2);let i=vm(3);return jo(om().onDimDrop(t,i,0))})),ym(1),Np()}if(2&e){let e=om(3);Hc(),_m(e.grid.resourceStrings.igx_grid_pivot_empty_row_drop_area)}}function v3(e,t){1&e&&Hp(0,"igx-icon",57),2&e&&rp("name",om().$implicit.sortDirection<2?"sort_asc":"sort_desc")}function y3(e,t){if(1&e&&Hp(0,"span",48),2&e){om(3);let e=vm(3);op("height",om().getAreaHeight(e),"px")}}function x3(e,t){if(1&e){let e=Kp();Hp(0,"span",48),Lp(1,"igx-chip",55),rm("remove",(function(t){return Ko(e),jo(om(3).rowRemoved(t))}))("dragLeave",(function(t){return Ko(e),jo(om(3).onDimDragLeave(t))}))("dragDrop",(function(t){Ko(e),om(2);let i=vm(3);return jo(om().onDimDrop(t,i,0))}))("dragOver",(function(t){return Ko(e),jo(om(3).onDimDragOver(t,0))}))("moveStart",(function(t){Ko(e),om(2);let i=vm(3);return jo(om().onDimDragStart(t,i))}))("moveEnd",(function(){return Ko(e),jo(om(3).onDimDragEnd())}))("click",(function(t){let i=Ko(e).$implicit;return jo(om(3).onChipSort(t,i))})),Hp(2,"igx-icon",56),Lp(3,"igx-icon",50),rm("pointerdown",(function(t){return Ko(e),jo(om(3).onFilteringIconPointerDown(t))}))("click",(function(t){let i=Ko(e).$implicit;return jo(om(3).onFilteringIconClick(t,i))})),Np(),ym(4),bg(5,v3,1,1,"igx-icon",57),Np(),bg(6,y3,1,2,"span",51)}if(2&e){let e=t.$implicit,i=t.$index,n=t.$count;om(2);let r=vm(3);op("height",om().getAreaHeight(r),"px"),Hc(),rp("draggable",!0)("id",e.memberName)("data",Vm(9,$2))("removable",!0),Hc(3),wm(" ",e.displayName||e.memberName," "),Hc(),Ip(e.sortDirection?5:-1),Hc(),Ip(i===n-1?6:-1)}}function _3(e,t){if(1&e){let e=Kp();bg(0,f3,2,1,"span",44),Op(1,x3,7,10,null,null,q2),Lp(3,"igx-chip",45,7),rm("dragDrop",(function(t){Ko(e),om();let i=vm(3);return jo(om().onDimDrop(t,i,0))})),ym(5),Np()}if(2&e){let e=om(2);Ip(0===e.grid.rowDimensions.length?0:-1),Hc(),Pp(e.grid.rowDimensions),Hc(2),rp("hidden",!0),Hc(2),wm(" ",e.grid.resourceStrings.igx_grid_pivot_row_drop_chip," ")}}function w3(e,t){if(1&e){let e=Kp();Lp(0,"div",67,17),rm("igxDragLeave",(function(t){Ko(e);let i=vm(3);return jo(om().onAreaDragLeave(t,i))}))("dropped",(function(t){Ko(e);let i=vm(3);return jo(om().onDimDrop(t,i,0))}))("pointerdown",(function(t){return Ko(e),jo(t.preventDefault())})),Lp(2,"igx-chips-area",41,10),bg(4,_3,6,3),Np()()}if(2&e){let e=om();op("width",e.grid.pivotRowWidths-1,"px"),Hc(4),Ip(e.grid.pivotUI.showConfiguration||0===e.grid.rowDimensions.length?4:-1)}}function C3(e,t){if(1&e&&(Hp(0,"igx-pivot-row-header-group",70,18),Xm(2,"igxHeaderGroupWidth"),Xm(3,"igxHeaderGroupWidth"),Xm(4,"igxHeaderGroupStyle")),2&e){let e=t,i=om().$index,n=om(2);op("min-width",ef(2,10,n.grid.rowDimensionWidthToPixels(n.grid.visibleRowDimensions[i]),n.grid.defaultHeaderGroupMinWidth,n.hasMRL))("flex-basis",ef(3,14,n.grid.rowDimensionWidthToPixels(n.grid.visibleRowDimensions[i]),n.grid.defaultHeaderGroupMinWidth,n.hasMRL)),rp("ngClass",e.headerGroupClasses)("ngStyle",ef(4,18,e.headerGroupStyles,e,n.grid.pipeTrigger))("column",e)("rootDimension",n.grid.visibleRowDimensions[i])("dimWidth",n.grid.rowDimensionWidthToPixels(n.grid.visibleRowDimensions[i]))("rowIndex",-1)}}function S3(e,t){if(1&e&&bg(0,C3,5,22,"igx-pivot-row-header-group",69),2&e){let e,i=t.$implicit;Ip((e=om(2).getRowDimensionColumn(i))?0:-1,e)}}function b3(e,t){if(1&e&&(Lp(0,"div",68),Op(1,S3,1,1,null,null,Ap),Np()),2&e){let e=om();op("width",e.grid.pivotRowWidths-1,"px"),Hc(),Pp(e.grid.visibleRowDimensions)}}function D3(e,t){if(1&e){let e=Kp();Lp(0,"igx-grid-header-group",72),Xm(1,"igxHeaderGroupWidth"),Xm(2,"igxHeaderGroupWidth"),Xm(3,"igxHeaderGroupStyle"),rm("pointerdown",(function(t){return Ko(e),jo(om(2).grid.navigation.focusOutRowHeader(t))})),Np()}if(2&e){let e=t.$implicit,i=om(2);op("min-width",ef(1,7,e.resolvedWidth,i.grid.defaultHeaderGroupMinWidth,i.hasMRL))("flex-basis",ef(2,11,e.resolvedWidth,i.grid.defaultHeaderGroupMinWidth,i.hasMRL)),rp("ngClass",e.headerGroupClasses)("ngStyle",ef(3,15,e.headerGroupStyles,e,i.grid.pipeTrigger))("column",e)}}function E3(e,t){1&e&&(Op(0,D3,4,19,"igx-grid-header-group",71,Ap),Xm(2,"igxTopLevel")),2&e&&Pp(Qm(2,0,om().pinnedColumnCollection))}function T3(e,t){if(1&e&&(Hp(0,"igx-grid-header-group",75),Xm(1,"igxHeaderGroupWidth"),Xm(2,"igxHeaderGroupWidth"),Xm(3,"igxHeaderGroupStyle")),2&e){let e=t.$implicit,i=om().$index,n=om();op("height",n.totalDepth>1?n.calcHeight(e,i):void 0,"px")("min-width",ef(1,13,e.resolvedWidth,n.grid.defaultHeaderGroupMinWidth,n.hasMRL))("flex-basis",ef(2,17,e.resolvedWidth,n.grid.defaultHeaderGroupMinWidth,n.hasMRL)),ap("igx-grid__tr-pivot--columnDimensionLeaf",n.isDuplicateOfExistingParent(e,i))("igx-grid__tr-pivot--columnMultiRowSpan",n.isMultiRow(e,i)),rp("ngClass",e.headerGroupClasses)("ngStyle",ef(3,21,e.headerGroupStyles,e,n.grid.pipeTrigger))("column",e)}}function I3(e,t){if(1&e&&(Lp(0,"div",73),bg(1,T3,4,25,"ng-template",74,19,sf),Np()),2&e){let e=t.$implicit,i=om();op("height",i.totalDepth>1?i.grid.rowHeight:void 0,"px")("width",i.grid.unpinnedWidth,"px"),Hc(),rp("igxGridForOf",e)("igxGridForOfUniqueSizeCache",!0)("igxForScrollContainer",i.grid.parentVirtDir)("igxForContainerSize",i.grid.unpinnedWidth)("igxForTrackBy",i.grid.trackColumnChanges)("igxForSizePropName","calcPixelWidth")("igxForScrollOrientation","horizontal")}}function R3(e,t){if(1&e){let e=Kp();Lp(0,"igx-grid-header-group",72),Xm(1,"igxHeaderGroupWidth"),Xm(2,"igxHeaderGroupWidth"),Xm(3,"igxHeaderGroupStyle"),rm("pointerdown",(function(t){return Ko(e),jo(om(2).grid.navigation.focusOutRowHeader(t))})),Np()}if(2&e){let e=t.$implicit,i=om(2);op("min-width",ef(1,9,e.resolvedWidth,i.grid.defaultHeaderGroupMinWidth,i.hasMRL))("flex-basis",ef(2,13,e.resolvedWidth,i.grid.defaultHeaderGroupMinWidth,i.hasMRL))("left",e.rightPinnedOffset),rp("ngClass",e.headerGroupClasses)("ngStyle",ef(3,17,e.headerGroupStyles,e,i.grid.pipeTrigger))("column",e)}}function A3(e,t){1&e&&(Op(0,R3,4,21,"igx-grid-header-group",76,Ap),Xm(2,"igxTopLevel")),2&e&&Pp(Qm(2,0,om().pinnedColumnCollection))}function k3(e,t){if(1&e&&(Lp(0,"igx-drop-down-item",35),ym(1),Np()),2&e){let e=t.$implicit;rp("selected",om().isSelected(e))("value",e),Hc(),wm(" ",e.label," ")}}function O3(e,t){if(1&e){let e=Kp();Lp(0,"igx-chip",77),rm("remove",(function(t){return Ko(e),jo(om().filterRemoved(t))}))("chipClick",(function(t){return Ko(e),jo(om().onFiltersSelectionChanged(t))})),ym(1),Np()}if(2&e){let e=t.$implicit,i=om();rp("id",e.memberName)("removable",!0)("selectable",!0)("selected",e===i.filterDropdownDimensions.values().next().value),Hc(),wm(" ",e.displayName||e.memberName," ")}}function F3(e,t){if(1&e){let e=Kp();Lp(0,"igx-chip",78),rm("remove",(function(t){return Ko(e),jo(om().filterRemoved(t))})),Hp(1,"igx-icon",79),ym(2),Np()}if(2&e){let e=t.$implicit;rp("id",e.memberName)("draggable",!0)("removable",!0),Hc(2),wm(" ",e.displayName||e.memberName," ")}}function P3(e,t){if(1&e&&ym(0),2&e){let e=t.$implicit;Cm(" ",e.aggregate.key,"(",e.displayName||e.member,")\n")}}var V3=(()=>{class e extends XY{get headerForOf(){return this.headerContainers?.last}constructor(e,t,i,n){super(t,i),this.grid=e,this.renderer=n,this.aggregateList=[],this.filterDropdownDimensions=new Set,this.filterAreaDimensions=new Set,this._dropPos=WH.AfterDropTarget,this._subMenuPositionSettings={verticalStartPoint:bI.Bottom,closeAnimation:void 0},this._subMenuOverlaySettings={closeOnOutsideClick:!0,modal:!1,positionStrategy:new FI(this._subMenuPositionSettings),scrollStrategy:new BI},this.columnDimensionsByLevel=[[]]}get isFiltersButton(){let e=0;if(this.filterDropdownDimensions.clear(),this.filterAreaDimensions.clear(),this.filterArea?.chipsList&&0!==this.filterArea.chipsList.length){let t=getComputedStyle(this.pivotFilterContainer.nativeElement),i=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight);return e+=i+(this.filtersButton&&this.filterArea?.chipsList.length>1?this.filtersButton.el.nativeElement.getBoundingClientRect().width:0),this.filterArea.chipsList.forEach((t=>{let i=this.grid.filterDimensions.find((e=>e.memberName===t.id));if(i){let n=t.nativeElement.getBoundingClientRect().width+8;e+n<this.grid.pivotRowWidths?this.filterAreaDimensions.add(i):this.filterDropdownDimensions.add(i),e+=n}})),this.filterDropdownDimensions.size>0}return!1}get totalDepth(){let e=this.grid.columnDimensions;if(0===e.length)return 1;let t=e.map((e=>this.grid.data?.length>0?nP.getDimensionDepth(e)+1:0)).reduce(((e,t)=>e+t));return this.grid.hasMultipleValues&&(t+=1),t}get maxContainerHeight(){return this.totalDepth*this.grid.renderedRowHeight}calcHeight(e,t){return!e.columnGroup&&e.level<this.totalDepth&&e.level===t?(this.totalDepth-e.level)*this.grid.rowHeight:this.grid.rowHeight}isDuplicateOfExistingParent(e,t){return-1!==(t>0?this.columnDimensionsByLevel[t-1]:[]).indexOf(e)}isMultiRow(e,t){return!e.columnGroup&&t!==this.totalDepth-1}populateColumnDimensionsByLevel(){let e=[];for(let t=0;t<this.totalDepth;t++)e[t]=[];let t=this.unpinnedColumnCollection;this.populateDimensionRecursively(t.filter((e=>0===e.level)),0,e),this.columnDimensionsByLevel=e}populateDimensionRecursively(e,t=0,i){e.forEach((e=>{if(i[t])if(i[t].push(e),e.columnGroup&&e.children.length>0){let n=e.children.toArray().filter((e=>!e.hidden));this.populateDimensionRecursively(n,t+1,i)}else if(t<this.totalDepth-1)for(let n=t+1;n<=this.totalDepth-1;n++)i[n].push(e)}))}ngOnChanges(e){e.unpinnedColumnCollection&&this.populateColumnDimensionsByLevel()}onDimDragStart(e,t){this.cdr.detectChanges();for(let e of this.notificationChips){let i=e.nativeElement.parentElement;-1===t.chipsList.toArray().indexOf(e)&&i.children.length>0&&"empty"!==i.children.item(0).id&&(e.nativeElement.hidden=!1,i.parentElement.scrollTo({left:e.nativeElement.offsetLeft}))}}onDimDragEnd(){for(let e of this.notificationChips)e.nativeElement.hidden=!0}getAreaHeight(e){let t=e.chipsList;return t&&t.length>0?t.first.nativeElement.offsetHeight:0}rowRemoved(e){let t=this.grid.pivotConfiguration.rows.find((t=>t.memberName===e.owner.id));this.grid.toggleDimension(t)}columnRemoved(e){let t=this.grid.pivotConfiguration.columns.find((t=>t.memberName===e.owner.id));this.grid.toggleDimension(t)}valueRemoved(e){let t=this.grid.pivotConfiguration.values.find((t=>t.member===e.owner.id||t.displayName===e.owner.id));this.grid.toggleValue(t)}filterRemoved(e){let t=this.grid.pivotConfiguration.filters.find((t=>t.memberName===e.owner.id));this.grid.toggleDimension(t),this.filterDropdownDimensions.size>0?this.onFiltersAreaDropdownClick({target:this.filtersButton.el.nativeElement},void 0,!1):this.grid.filteringService.hideESF()}onFiltersSelectionChanged(e){this.dropdownChips.chipsList.forEach((t=>{t.id!==e.owner.id&&(t.selected=!1)})),this.onFiltersAreaDropdownClick({target:this.filtersButton.el.nativeElement},this.grid.filterDimensions.find((t=>t.memberName===e.owner.id)),!1)}onFilteringIconPointerDown(e){e.stopPropagation(),e.preventDefault()}onFilteringIconClick(e,t){e.stopPropagation(),e.preventDefault();let i=t,n=this.grid.dimensionDataColumns.find((e=>e.field===i.memberName||e.field===i.member));this.grid.filteringService.toggleFilterDropdown(e.target,n)}onSummaryClick(e,t,i,n){this._subMenuOverlaySettings.target=e.currentTarget,this.updateDropDown(t,i,n)}onFiltersAreaDropdownClick(e,t,i=!0){let n=t||this.filterDropdownDimensions.values().next().value,r=this.grid.dimensionDataColumns.find((e=>e.field===n.memberName||e.field===n.member));i&&(this.dropdownChips.chipsList.forEach((e=>{e.selected=!1})),this.dropdownChips.chipsList.first.selected=!0),this.grid.filteringService.toggleFiltersESF(this.esf,e.target,r,i)}onAggregationChange(e){if(!this.isSelected(e.newSelection.value)){this.value.aggregate=e.newSelection.value;let t=1===this.grid.values.length;nP.updateColumnTypeByAggregator(this.grid.columns,this.value,t),this.grid.pipeTrigger++}}isSelected(e){return this.value.aggregate.key===e.key}onChipSort(e,t){if(void 0===t.sortable||t.sortable){let e=t.sortDirection||cS.None,i=e+1>cS.Desc?cS.None:e+1;this.grid.sortDimension(t,i)}}onDimDragOver(e,t){if(!e.dragChip||!e.dragChip.data?.pivotArea||(void 0!==t?this.grid.pivotConfiguration.values.find((t=>t.member===e.dragChip.id||t.displayName===e.dragChip.id)):!this.grid.pivotConfiguration.values.find((t=>t.member===e.dragChip.id||t.displayName===e.dragChip.id))))return;let i=e.owner.nativeElement.getBoundingClientRect().width/2;this._dropPos=e.originalEvent.offsetX>i?WH.AfterDropTarget:WH.BeforeDropTarget,this._dropPos===WH.AfterDropTarget?(e.owner.nativeElement.previousElementSibling.style.visibility="hidden",e.owner.nativeElement.nextElementSibling.style.visibility=""):(e.owner.nativeElement.nextElementSibling.style.visibility="hidden",e.owner.nativeElement.previousElementSibling.style.visibility="")}onDimDragLeave(e){e.owner.nativeElement.previousElementSibling.style.visibility="hidden",e.owner.nativeElement.nextElementSibling.style.visibility="hidden",this._dropPos=WH.AfterDropTarget}onAreaDragLeave(e,t){t.chipsList.toArray().filter((e=>-1===this.notificationChips.toArray().indexOf(e))).forEach((e=>{e.nativeElement.previousElementSibling&&(e.nativeElement.previousElementSibling.style.visibility="hidden"),e.nativeElement.nextElementSibling&&(e.nativeElement.nextElementSibling.style.visibility="hidden")}))}onValueDrop(e,t){if(!(e.dragChip&&e.dragChip.data?.pivotArea||e.dragData?.chip&&e.dragData.chip.data.pivotArea))return;let i=this.grid.pivotConfiguration.values,n=e.dragChip?.id||e.dragData?.chip.id,r=t.chipsList.toArray(),s=-1!==r.indexOf(e.owner)?r.indexOf(e.owner):r.length;s=this._dropPos===WH.AfterDropTarget?s+1:s;let o=i.find((e=>e.member===n||e.displayName===n));if(o){let t=r.indexOf(e.dragChip||e.dragData.chip);this.grid.moveValue(o,t>=s?s:s-1)}}onDimDrop(e,t,i){if(!(e.dragChip&&e.dragChip.data?.pivotArea||e.dragData?.chip&&e.dragData.chip.data.pivotArea))return;let n=e.dragChip?.id||e.dragData?.chip.id,r=this.grid.getDimensionsByType(i),s=void 0===t.chipsList.toArray().find((e=>e.id===n)),o=void 0!==e.owner.id,a=-1!==r.findIndex((t=>t.memberName===e.owner.id))?r.findIndex((t=>t.memberName===e.owner.id)):r.length,l=this._dropPos===WH.AfterDropTarget?a+1:a;if(s){let e=this.grid.allDimensions.find((e=>e&&e.memberName===n));if(!e)return;this.grid.moveDimension(e,i,l)}else if(o){let e=r.find((e=>e.memberName===n)),t=r.findIndex((e=>e.memberName===n));this.grid.moveDimension(e,i,t>a?l:l-1)}this.grid.pipeTrigger++,this.grid.dimensionsChange.emit({dimensions:r,dimensionCollectionType:i}),this.onDimDragEnd(),this.onAreaDragLeave(e,t)}updateDropDown(e,t,i){this.value=e,t.width=i.nativeElement.clientWidth+"px",this.aggregateList=nP.getAggregateList(e,this.grid),this.cdr.detectChanges(),t.open(this._subMenuOverlaySettings)}getRowDimensionColumn(e){return this.grid.dimensionDataColumns?this.grid.dimensionDataColumns.find((t=>t.field===e.memberName)):null}static{this.ɵfac=function(t){return new(t||e)(lu(zF),lu(zl),lu(Cf),lu(ru))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-pivot-header-row"]],viewQuery:function(e,t){if(1&e&&(pm(F2,5),pm(P2,5),pm(V2,5),pm(M2,5),pm(L2,5),pm(N2,5),pm(H2,5),pm(z2,5,nO),pm(B2,5)),2&e){let e;mm(e=fm())&&(t.esf=e.first),mm(e=fm())&&(t.filterArea=e.first),mm(e=fm())&&(t.filtersButton=e.first),mm(e=fm())&&(t.dropdownChips=e.first),mm(e=fm())&&(t.pivotFilterContainer=e.first),mm(e=fm())&&(t.pivotRowContainer=e.first),mm(e=fm())&&(t.notificationChips=e),mm(e=fm())&&(t.headerContainers=e),mm(e=fm())&&(t.rowDimensionHeaders=e)}},features:[dg,po],decls:41,vars:27,consts:[["dropdown",""],["esf",""],["dropdownChips",""],["filterAreaHidden",""],["valueChipDefaultTemplate",""],["pivotFilterContainer",""],["filterArea",""],["notifyChip",""],["filterIcon",""],["pivotRowContainer",""],["rowArea",""],["pivotColumnContainer",""],["colArea",""],["pivotValueContainer",""],["valueArea",""],["notifyValueChip",""],["currChip",""],["pivotContainer",""],["rowDimensionHeaders",""],["headerVirtualContainer",""],["role","row",1,"igx-grid-thead__wrapper","igx-grid-thead__wrapper--pivot"],["role","row",1,"igx-grid__tr"],[1,"igx-grid__tr-pivot--filter-container"],["igxDrop","",1,"igx-grid__tr-pivot","igx-grid__tr-pivot--filter",3,"min-width","max-width"],[1,"igx-grid__tr-pivot--drop-row-area"],["igxDrop","",1,"igx-grid__tr-pivot","igx-grid__tr-pivot--small-row-area",3,"width"],[1,"igx-grid__tr-pivot-group"],["igxDrop","",1,"igx-grid__tr-pivot"],["role","rowgroup",1,"igx-grid-thead__wrapper"],["igxDrop","",1,"igx-grid__tr-pivot","igx-grid__tr-pivot--row-area",3,"width"],["role","row",1,"igx-grid__tr","igx-grid__tr-header-row",3,"width"],[1,"igx-grid-thead--virtualizationWrapper",3,"click"],[1,"igx-grid-thead__group","igx-grid-thead--virtualizationContainer",3,"height","width"],[1,"igx-grid-thead__thumb",3,"hidden"],[3,"selectionChanging"],[3,"selected","value"],[3,"hidden"],[3,"maxHeight","minHeight"],["igxExcelStyleColumnOperations",""],[3,"id","removable","selectable","selected"],[2,"visibility","hidden","position","absolute","top","-10000px"],["droppable","true"],[3,"id","draggable","removable"],["igxDrop","",1,"igx-grid__tr-pivot","igx-grid__tr-pivot--filter",3,"igxDragLeave","dropped","pointerdown"],["id","empty","igxDrop","",1,"igx-grid__pivot-empty-chip-area"],["igxDrop","",3,"dragDrop","hidden"],[1,"igx-grid__pivot-filter-toggle"],["id","empty","igxDrop","",1,"igx-grid__pivot-empty-chip-area",3,"dropped"],[1,"igx-grid__tr-pivot--chip_drop_indicator"],[3,"remove","dragOver","dragLeave","dragDrop","moveStart","moveEnd","id","draggable","data","removable"],["family","default","name","filter_list","igxPrefix","",3,"pointerdown","click"],[1,"igx-grid__tr-pivot--chip_drop_indicator",3,"height"],["family","default","name","filter_list",3,"pointerdown","click"],[3,"value"],["igxDrop","",1,"igx-grid__tr-pivot","igx-grid__tr-pivot--small-row-area",3,"igxDragLeave","dropped"],[3,"remove","dragLeave","dragDrop","dragOver","moveStart","moveEnd","click","draggable","id","data","removable"],["igxPrefix","","family","default","name","table_rows"],["family","default","igxSuffix","",3,"name"],["igxDrop","",1,"igx-grid__tr-pivot",3,"dropped","igxDragLeave"],[3,"remove","dragOver","dragLeave","dragDrop","moveStart","moveEnd","click","draggable","id","data","removable"],["family","default","name","view_column","igxPrefix",""],["igxDrop","",1,"igx-grid__tr-pivot",3,"pointerdown","dropped","igxDragLeave"],[3,"remove","dragLeave","dragOver","dragDrop","draggable","id","data","removable"],["igxPrefix","",1,"igx-grid__tr-pivot-toggle-icons",3,"click","pointerdown","igxDropDownItemNavigation"],["family","default","name","functions"],["family","default","name","arrow_drop_down"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["igxDrop","",1,"igx-grid__tr-pivot","igx-grid__tr-pivot--row-area",3,"igxDragLeave","dropped","pointerdown"],["role","row",1,"igx-grid__tr","igx-grid__tr-header-row"],[3,"ngClass","ngStyle","min-width","flex-basis","column","rootDimension","dimWidth","rowIndex"],[3,"ngClass","ngStyle","column","rootDimension","dimWidth","rowIndex"],[3,"ngClass","ngStyle","column","min-width","flex-basis"],[3,"pointerdown","ngClass","ngStyle","column"],[1,"igx-grid-thead__group","igx-grid-thead--virtualizationContainer"],["igxGridFor","",3,"igxGridForOf","igxGridForOfUniqueSizeCache","igxForScrollContainer","igxForContainerSize","igxForTrackBy","igxForSizePropName","igxForScrollOrientation"],[3,"ngClass","ngStyle","column"],[3,"ngClass","ngStyle","column","min-width","flex-basis","left"],[3,"remove","chipClick","id","removable","selectable","selected"],[3,"remove","id","draggable","removable"],["family","default","name","filter_list","igxPrefix",""]],template:function(e,t){if(1&e){let e=Kp();Lp(0,"div")(1,"div",20)(2,"div",21)(3,"div",22),bg(4,e3,11,8,"div",23),Lp(5,"div",24),bg(6,s3,10,5,"div",25),Np()(),Lp(7,"div",26),bg(8,c3,10,3,"div",27)(9,m3,10,3,"div",27),Np()()(),Lp(10,"div",28)(11,"div",21),bg(12,w3,5,3,"div",29)(13,b3,3,2,"div",30)(14,E3,3,2),Lp(15,"div",31),rm("click",(function(i){return Ko(e),jo(t.grid.navigation.focusOutRowHeader(i))})),Op(16,I3,3,11,"div",32,Rp),Np(),bg(18,A3,3,2),Np()()(),Hp(19,"div",33),Lp(20,"igx-drop-down",34,0),rm("selectionChanging",(function(i){return Ko(e),jo(t.onAggregationChange(i))})),Op(22,k3,2,3,"igx-drop-down-item",35,U2),Np(),Lp(24,"div",36)(25,"igx-grid-excel-style-filtering",37,1)(27,"div",38)(28,"igx-chips-area",null,2),Op(30,O3,2,5,"igx-chip",39,Ap),Np()(),Lp(32,"igx-excel-style-filter-operations"),Hp(33,"igx-excel-style-search"),Np()()(),Lp(34,"div",40)(35,"igx-chips-area",41,3),Op(37,F3,3,4,"igx-chip",42,Ap),Np()(),bg(39,P3,1,2,"ng-template",null,4,sf)}2&e&&(Hc(),op("width",t.width,"px"),Hc(),op("width",t.width,"px"),Hc(2),Ip(t.grid.pivotUI.showConfiguration?4:-1),Hc(2),Ip(t.grid.pivotUI.showConfiguration&&t.grid.pivotUI.showRowHeaders?6:-1),Hc(2),Ip(t.grid.pivotUI.showConfiguration?8:-1),Hc(),Ip(t.grid.pivotUI.showConfiguration?9:-1),Hc(),op("width",t.width,"px"),ap("igx-grid__tr--mrl",t.hasMRL),$g("aria-activedescendant",t.activeDescendant),Hc(),op("width",t.width,"px"),Hc(),Ip(t.grid.pivotUI.showRowHeaders&&0!==t.grid.rowDimensions.length?-1:12),Hc(),Ip(t.grid.pivotUI.showRowHeaders&&t.grid.rowDimensions.length>0?13:-1),Hc(),Ip(t.pinnedColumnCollection.length&&t.grid.isPinningToStart?14:-1),Hc(),op("max-height",t.maxContainerHeight,"px"),Hc(),Pp(t.columnDimensionsByLevel),Hc(2),Ip(t.pinnedColumnCollection.length&&!t.grid.isPinningToStart?18:-1),Hc(),op("width",t.grid.scrollSize,"px"),rp("hidden",!t.grid.hasVerticalScroll()),Hc(3),Pp(t.aggregateList),Hc(2),rp("hidden",!0),Hc(),rp("maxHeight",t.grid.excelStyleFilterMaxHeight)("minHeight",t.grid.excelStyleFilterMinHeight),Hc(5),Pp(t.filterDropdownDimensions),Hc(7),Pp(t.grid.filterDimensions))},dependencies:[Lk,IL,EL,DA,dR,ZP,cR,eR,qv,Cq,jv,Uv,nO,yF,uF,Xj,Yj,Zj,Ij,gU,pU,pY,O2],encapsulation:2,changeDetection:0})}}return e})(),M3=(()=>{class e{static{this._instance=null}static instance(){return this._instance||(this._instance=new e)}process(e,t,i){return e}}return e})(),L3=(()=>{class e{static{this._instance=null}static instance(){return this._instance||(this._instance=new e)}process(e,t,i,n,r=JF){let s,o,a=[],l=RC(t,!0);if(nP.assignLevels(l),0===l.length)return s=nP.getFieldsHierarchy(e,[{memberName:"",enabled:!0}],eP.Row,r,n),o=nP.processHierarchy(s,r,0,!0),o;for(let t of l)o?nP.processGroups(o,t,r,n):(s=nP.getFieldsHierarchy(e,[t],eP.Row,r,n),o=nP.processHierarchy(s,r,0,!0),a.push(t));return o}}return e})(),N3=(()=>{class e{static{this._instance=null}static instance(){return this._instance||(this._instance=new e)}process(e,t,i,n,r=JF){return this.processHierarchy(e,t,i,r,n)}processHierarchy(e,t,i,n,r){let s=[];return e.forEach((e=>{this.groupColumns(e,t,i,n,r),s.push(e)})),s}groupColumns(e,t,i,n,r){let s=e.children;s&&s.size>0&&s.forEach((e=>{e&&e.forEach((e=>{this.groupColumns(e,t,i,n,r)}))})),this.applyAggregates(e,t,i,n,r)}applyAggregates(e,t,i,n,r){let s=this.getLeafs(e.records,n),o=nP.getFieldsHierarchy(s,t,eP.Column,n,r);nP.applyAggregations(e,o,i,n)}getLeafs(e,t){let i=[];for(let n of e)n[t.records]?i=i.concat(this.getLeafs(n[t.records],t)):i.push(n);return i}}return e})(),H3=class extends QS{constructor(e){super(),this.fields=e}getFieldValue(e,t,i=!1,n=!1,r){let s=r.allDimensions.filter((e=>e&&e.enabled)),o=nP.flatten(s).find((e=>e.memberName===t));return o.childLevel?this._getDimensionValueHierarchy(o,e).map((e=>"["+e+"]")).join("."):nP.extractValueFromDimension(o,e)}getFilterItems(e,t){let i=e.grid,n=i.allDimensions.filter((e=>e&&e.enabled)),r=e.grid.gridAPI.filterDataByExpressions(t),s=n.find((t=>t.memberName===e.field)),o=nP.getFieldsHierarchy(r,[s],eP.Column,i.pivotKeys,i.pivotValueCloneStrategy),a=i.pivotConfiguration.columnStrategy instanceof M3||i.pivotConfiguration.rowStrategy instanceof M3?[{value:""}]:this._getFilterItems(o,i.pivotKeys);return Promise.resolve(a)}_getFilterItems(e,t){let i=[];return e.forEach((e=>{let n=e.value,r=n.split(t.columnDimensionSeparator),s=r.length>1?r.map((e=>"["+e+"]")).join("."):n,o=r[r.length-1];i.push({value:s,label:o,children:this._getFilterItems(e.children,t)})})),i}_getDimensionValueHierarchy(e,t){let i=[],n=nP.extractValueFromDimension(e,t);if(i.push(n),e.childLevel){let n=this._getDimensionValueHierarchy(e.childLevel,t);i=i.concat(n)}return i}},z3=(()=>{class e extends IX{constructor(){super(...arguments),this.isRowHeaderActive=!1,this.isRowDimensionHeaderActive=!1}get lastRowDimensionsIndex(){return this.grid.visibleRowDimensions.length-1}get lastRowDimensionMRLRowIndex(){return this.grid.verticalRowDimScrollContainers.first.igxGridForOf.length-1}focusOutRowHeader(){this.isRowHeaderActive=!1,this.isRowDimensionHeaderActive=!1}handleNavigation(t){return st(this,null,(function*(){if(this.isRowHeaderActive){let e=t.key.toLowerCase(),i=t.ctrlKey;if(!UC.has(e))return;t.preventDefault();let n,r={row:this.activeNode.row,column:this.activeNode.column,level:null,mchCache:null,layout:this.activeNode.layout};if(t.altKey)return void this.handleAlt(e,t);if(this.grid.hasHorizontalLayout){let t={row:this.activeNode.row,column:this.activeNode.column,layout:this.activeNode.layout};n=this.grid.verticalRowDimScrollContainers.first,e.includes("left")&&(t=yield this.getNextHorizontalPosition(!0,i)),e.includes("right")&&(t=yield this.getNextHorizontalPosition(!1,i)),(e.includes("up")||"home"===e)&&(t=yield this.getNextVerticalPosition(!0,i||"home"===e,"home"===e)),(e.includes("down")||"end"===e)&&(t=yield this.getNextVerticalPosition(!1,i||"end"===e,"end"===e)),r.row=t.row,r.column=t.column,r.layout=t.layout}else if((e.includes("left")||"home"===e)&&this.activeNode.column>0&&(r.column=i||"home"===e?0:this.activeNode.column-1),(e.includes("right")||"end"===e)&&this.activeNode.column<this.lastRowDimensionsIndex&&(r.column=i||"end"===e?this.lastRowDimensionsIndex:this.activeNode.column+1),n=this.grid.verticalRowDimScrollContainers.toArray()[r.column],e.includes("up")&&(i?r.row=0:this.activeNode.row>0?r.row=this.activeNode.row-1:(r.row=-1,r.column=r.layout?r.layout.colStart-1:0,r.layout=null,this.isRowDimensionHeaderActive=!0,this.isRowHeaderActive=!1,this.grid.theadRow.nativeElement.focus())),e.includes("down")&&this.activeNode.row<this.findLastDataRowIndex()&&(r.row=i?n.igxForOf.length-1:Math.min(this.activeNode.row+1,n.igxForOf.length-1)),e.includes("left")||e.includes("right")){let e=this.activeNode.row,t=this.grid.verticalRowDimScrollContainers.toArray()[this.activeNode.column].getScrollForIndex(e);r.row=this.activeNode.mchCache&&this.activeNode.mchCache.level===r.column?this.activeNode.mchCache.visibleIndex:n.getIndexAtScroll(t),r.mchCache={visibleIndex:this.activeNode.row,level:this.activeNode.column}}this.setActiveNode(r),!this.grid.hasHorizontalLayout&&n.isIndexOutsideView(r.row)&&n.scrollTo(r.row)}else rt(e.prototype,this,"handleNavigation").call(this,t)}))}handleAlt(e,t){let i,n;t.preventDefault(),this.grid.hasHorizontalLayout?(i=this.grid.rowDimensionMrlRowsCollection.find((e=>e.rowIndex===this.activeNode.row)).rowGroup[this.activeNode.layout.rowStart-1],n=this.activeNode.layout.colStart-1):(n=this.activeNode.column,i=this.grid.verticalRowDimScrollContainers.toArray()[n].igxGridForOf[this.activeNode.row]);let r,s=this.grid.visibleRowDimensions[n],o=nP.getRecordKey(i,s),a=this.grid.expansionStates.get(o)??!0;if(this.grid.hasHorizontalLayout){let e=this.grid.rowDimensionMrlRowsCollection.find((e=>e.rowIndex===this.activeNode.row));r=this.getNextVerticalColumnIndex(e,Math.min(e.rowGroup.length,this.activeNode.layout.rowStart),this.activeNode.layout.colStart)}$C.has(e)&&!a?this.grid.gridAPI.set_row_expansion_state(o,!0,t):WC.has(e)&&a&&this.grid.gridAPI.set_row_expansion_state(o,!1,t),($C.has(e)&&!a||WC.has(e)&&a)&&this.onRowToggle(!a,s,i,r),this.updateActiveNodeLayout(),this.grid.notifyChanges()}updateActiveNodeLayout(){if(this.grid.hasHorizontalLayout){let e=this.grid.rowDimensionMrlRowsCollection.find((e=>e.rowIndex===this.activeNode.row)).contentCells.toArray()[this.activeNode.column];this.activeNode.layout=e.layout}}onRowToggle(e,t,i,n){if(this.grid.hasHorizontalLayout&&i.totalRecordDimensionName!==t.memberName&&t.horizontalSummary&&this.grid.pivotUI.horizontalSummariesPosition===iP.Top){let t=Math.min(this.lastRowDimensionMRLRowIndex,this.activeNode.row),i=this.grid.rowDimensionMrlRowsCollection.find((e=>e.rowIndex===t)),r=i.rowGroup.length+1,s=Math.max(1,this.activeNode.layout.rowStart+(e?1:-1)),o=Math.min(i.rowGroup.length,s),a=this.getNextVerticalColumnIndex(i,o,this.activeNode.layout.colStart),l=!e&&1===n.rowStart||e&&n.rowEnd>=r;this.activeNode.row+=l?e?1:-1:0,this.activeNode.column=a.columnVisibleIndex,this.activeNode.layout=a}}headerNavigation(t){return st(this,null,(function*(){let i=t.key.toLowerCase(),n=t.ctrlKey;if(UC.has(i))if(this.isRowDimensionHeaderActive){t.preventDefault();let e={row:this.activeNode.row,column:this.activeNode.column,level:null,mchCache:this.activeNode.mchCache,layout:null};if(n){let e=this.activeNode.column,t=this.grid.visibleRowDimensions[e];if(-1===this.activeNode.row&&(i.includes("down")||i.includes("up"))){let e=cS.None;return i.includes("down")?e=t.sortDirection===cS.Desc?cS.None:cS.Desc:i.includes("up")&&(e=t.sortDirection===cS.Asc?cS.None:cS.Asc),void this.grid.sortDimension(t,e)}}if((i.includes("left")||"home"===i)&&this.activeNode.column>0&&(e.column=n||"home"===i?0:this.activeNode.column-1),(i.includes("right")||"end"===i)&&this.activeNode.column<this.lastRowDimensionsIndex?e.column=n||"end"===i?this.lastRowDimensionsIndex:this.activeNode.column+1:i.includes("right")&&(this.isRowDimensionHeaderActive=!1,e.column=0,e.level=this.activeNode.mchCache?.level||0,e.mchCache=this.activeNode.mchCache||{level:0,visibleIndex:0}),i.includes("down")){if(this.grid.hasHorizontalLayout){this.activeNode.row=0,this.activeNode.layout={rowStart:1,rowEnd:2,colStart:e.column+1,colEnd:e.column+2,columnVisibleIndex:e.column};let t=yield this.getNextVerticalPosition(!0,n||"home"===i,"home"===i);e.row=0,e.column=t.column,e.layout=t.layout}else{let t=this.grid.verticalRowDimScrollContainers.toArray()[e.column];e.row=n?t.igxForOf.length-1:0}this.isRowDimensionHeaderActive=!1,this.isRowHeaderActive=!0,this.grid.rowDimensionContainer.toArray()[this.grid.hasHorizontalLayout?0:e.column].nativeElement.focus()}this.setActiveNode(e)}else if(i.includes("left")&&0===this.activeNode.column&&this.grid.pivotUI.showRowHeaders){this.isRowDimensionHeaderActive=!0;let e={row:this.activeNode.row,column:this.lastRowDimensionsIndex,level:null,mchCache:this.activeNode.mchCache,layout:null};this.setActiveNode(e)}else rt(e.prototype,this,"headerNavigation").call(this,t)}))}focusTbody(e){this.activeNode&&null!==this.activeNode.row&&void 0!==this.activeNode.row?super.focusTbody(e):this.activeNode=this.lastActiveNode}getNextVerticalPosition(e,t,i){return st(this,null,(function*(){let n=this.grid.rowDimensionMrlRowsCollection.find((e=>e.rowIndex===this.activeNode.row)),r=n.rowGroup.length+1,s=Math.min(n.rowGroup.length,this.activeNode.layout.rowStart),o=this.getNextVerticalColumnIndex(n,s,this.activeNode.layout.colStart),a=e&&1===o.rowStart||!e&&o.rowEnd===r;if(a&&(e&&0===this.activeNode.row||!e&&this.activeNode.row===this.lastRowDimensionMRLRowIndex))return e&&this.grid.pivotUI.showRowHeaders?(this.isRowDimensionHeaderActive=!0,this.isRowHeaderActive=!1,this.grid.theadRow.nativeElement.focus(),{row:-1,column:this.activeNode.layout.colStart-1,layout:this.activeNode.layout}):{row:this.activeNode.row,column:this.activeNode.column,layout:this.activeNode.layout};let l=e?t?0:this.activeNode.row-1:t?this.lastRowDimensionMRLRowIndex:this.activeNode.row+1,d=a||t?this.grid.rowDimensionMrlRowsCollection.find((e=>e.rowIndex===l)):n;if(!d){let i=e?t?0:n.rowGroup[o.rowStart-1].dataIndex-1:t?this.grid.dataView.length-1:n.rowGroup[o.rowEnd-2].dataIndex+1;yield this.scrollToNextHorizontalDimRow(i),d=a||t?this.grid.rowDimensionMrlRowsCollection.find((e=>e.rowIndex===l)):n}let c=a?e?d.rowGroup.length:1:e?o.rowStart-1:o.rowEnd,h=Math.max(...d.contentCells.map((e=>e.layout.colEnd))),u=this.getNextVerticalColumnIndex(d,t?e?1:d.rowGroup.length:c,i?e?1:h-1:this.activeNode.layout.colStart),g=e?d.rowGroup[u.rowStart-1].dataIndex:d.rowGroup[u.rowEnd-2].dataIndex;return yield this.scrollToNextHorizontalDimRow(g),{row:a||t?l:this.activeNode.row,column:u.columnVisibleIndex,layout:{rowStart:u.rowStart,rowEnd:u.rowEnd,colStart:i?u.colStart:this.activeNode.layout.colStart,colEnd:u.colEnd,columnVisibleIndex:u.columnVisibleIndex}}}))}getNextHorizontalPosition(e,t){return st(this,null,(function*(){let i=this.grid.rowDimensionMrlRowsCollection.find((e=>e.rowIndex===this.activeNode.row)),n=Math.max(...i.contentCells.map((e=>e.layout.colEnd))),r=this.getNextVerticalColumnIndex(i,this.activeNode.layout.rowStart,this.activeNode.layout.colStart);if(e&&1===r.colStart||!e&&r.colEnd===n)return{row:this.activeNode.row,column:this.activeNode.column,layout:this.activeNode.layout};let s=r.colStart+(e?-1:r.colEnd-r.colStart),o=this.getNextVerticalColumnIndex(i,this.activeNode.layout.rowStart,t?e?1:n-1:s),a=i.rowGroup[o.rowStart-1].dataIndex;return yield this.scrollToNextHorizontalDimRow(a),{row:this.activeNode.row,column:o.columnVisibleIndex,layout:{rowStart:this.activeNode.layout.rowStart,rowEnd:o.rowEnd,colStart:o.colStart,colEnd:o.colEnd,columnVisibleIndex:o.columnVisibleIndex}}}))}scrollToNextHorizontalDimRow(e){return st(this,null,(function*(){let t=this.grid.verticalScrollContainer;t.isIndexOutsideView(e)&&(t.scrollTo(e),yield new Promise((e=>{this.grid.gridScroll.pipe(On(1),function(e,t){let{first:i,each:n,with:r=dn,scheduler:s=t??Oi,meta:o=null}=an(e)?{first:e}:"number"==typeof e?{each:e}:e;if(null==i&&null==n)throw new TypeError("No timeout provided.");return vi(((e,t)=>{let a,l,d=null,c=0,h=e=>{l=en(t,s,(()=>{try{a.unsubscribe(),Qi(r({meta:o,lastValue:d,seen:c})).subscribe(t)}catch(e){t.error(e)}}),e)};a=e.subscribe(yi(t,(e=>{l?.unsubscribe(),c++,t.next(d=e),n>0&&h(n)}),void 0,void 0,(()=>{l?.closed||l?.unsubscribe(),d=null}))),!c&&h(null!=i?"number"==typeof i?i:+i-s.now():n)}))}({first:1e4})).subscribe({next:t=>e(t),error:t=>e(t)})})))}))}getNextVerticalColumnIndex(e,t,i){return e.contentCells.find((e=>e.layout.rowStart<=t&&t<e.layout.rowEnd&&e.layout.colStart<=i&&i<e.layout.colEnd)).layout}static{this.ɵfac=(()=>{let t;return function(i){return(t||(t=ol(e)))(i||e)}})()}static{this.ɵprov=ir({token:e,factory:e.ɵfac})}}return e})(),B3=(()=>{class e extends OU{clearFilter(e){this.clear_filter(e)}clear_filter(e){super.clear_filter(e);let t=this.grid,i=t.allDimensions,n=nP.flatten(i).find((t=>t.memberName===e));n.filter=void 0,t.filteringPipeTrigger++,-1!==i.indexOf(n)&&t.setupColumns()}filter_internal(e,t,i,n){super.filter_internal(e,t,i,n);let r=this.grid,s=r.pivotConfiguration,o=nP.flatten(s.rows.concat(s.columns).concat(s.filters).filter((e=>null!=e))),a=o.filter((e=>e&&e.enabled)).find((t=>t.memberName===e||t.member===e)),l=a.filter||new US(qS.And),d=l.findIndex(e);d>-1&&l.filteringOperands.splice(d,1),this.prepare_filtering_expression(l,e,t,i,n,d),a.filter=l,r.filteringPipeTrigger++,r.filterStrategy=r.filterStrategy??new H3,-1!==o.indexOf(a)&&r.setupColumns()}toggleFiltersESF(e,t,i,n){let r=i.filteringExpressionsTree?"igx-excel-filter__icon--filtered":"igx-excel-filter__icon",s=t.querySelector(`.${r}`)||t,{id:o,ref:a}=this.grid.createFilterESF(e,i,Je(Qe({},this._filterMenuOverlaySettings),{target:s}),n);this.filtersESFId=o,n&&(this._overlayService.opening.pipe(Vn((e=>e.id===o)),Nn(this.destroy$)).subscribe((()=>this.lastActiveNode=this.grid.navigation.activeNode)),this._overlayService.closed.pipe(Vn((e=>e.id===o)),Nn(this.destroy$)).subscribe((()=>{this._overlayService.detach(o),a?.destroy(),this.grid.navigation.activeNode=this.lastActiveNode,this.grid.theadRow.nativeElement.focus()})),this.grid.columnPinned.pipe(Vn()).subscribe((()=>a?.destroy())),this._overlayService.show(o))}hideESF(){this._overlayService.hide(this.filtersESFId)}static{this.ɵfac=(()=>{let t;return function(i){return(t||(t=ol(e)))(i||e)}})()}static{this.ɵprov=ir({token:e,factory:e.ɵfac})}}return e})();function G3(e,t){if(1&e&&(Lp(0,"span",2),ym(1),Np()),2&e){let e=om();rp("title",e.title),Hc(),_m(e.column.header)}}function $3(e,t){1&e&&Hp(0,"igx-icon",3),2&e&&rp("name",om().column.expanded?"tree_collapse":"tree_expand")}function W3(e,t){1&e&&Hp(0,"span",4)}function K3(e,t){if(1&e&&Hp(0,"span",8),2&e){let e=om(2);op("cursor",e.colResizingService.resizeCursor),rp("igxPivotResizeHandle",e.column)("igxPivotResizeHandleHeader",e),$g("draggable",!1)}}function j3(e,t){1&e&&Hp(0,"span",7)}function U3(e,t){if(1&e){let e=Kp();bg(0,W3,1,0,"span",4),Lp(1,"igx-pivot-row-dimension-header",5),Xm(2,"igxHeaderGroupStyle"),rm("pointerdown",(function(t){return Ko(e),jo(om().pointerdown(t))}))("keydown",(function(t){return Ko(e),jo(om().grid.navigation.headerNavigation(t))})),Np(),bg(3,K3,1,5,"span",6)(4,j3,1,0,"span",7)}if(2&e){let e=om();Ip(e.grid.hasMovableColumns?0:-1),Hc(),rp("id",e.grid.id+"_"+e.column.field)("ngClass",e.column.headerClasses)("ngStyle",ef(2,11,e.column.headerStyles,e.column,e.grid.pipeTrigger))("igxColumnMovingDrag",e.column)("ghostHost",e.grid.outlet.nativeElement)("igxColumnMovingDrop",e.column)("column",e.column),$g("droppable",!0),Hc(2),Ip(!e.column.columnGroup&&e.column.resizable?3:-1),Hc(),Ip(e.grid.hasMovableColumns?4:-1)}}var q3=(()=>{class e extends Cq{constructor(e,t,i,n,r,s,o){super(e,t,i,n,r,s),this.cdRef=e,this.grid=t,this.elementRef=i,this.colResizingService=n,this.zone=o,this.userSelect="none"}get headerID(){return`${this.grid.id}_-2_${this.rowIndex}_${this.visibleIndex}`}get title(){return this.column.header}onClick(e){if("none"===this.grid.rowSelection)return;e?.stopPropagation();let t=this.parent.getRowDimensionKey(this.column);this.grid.selectionService.isRowSelected(t)?this.grid.selectionService.deselectRow(t,e):this.grid.selectionService.selectRowById(t,!0,e),this.zone.run((()=>{}))}get visibleIndex(){if(this.grid.hasHorizontalLayout)return this.colIndex;let e=this.column.field,t=this.grid.rowDimensions,i=this.findRootDimension(e);return t.indexOf(i)}get active(){let e=this.grid.navigation,t=e.activeNode;return!(!t||this.column.columnGroup)&&e.isRowHeaderActive&&t.row===this.rowIndex&&t.column===this.visibleIndex}get activeNode(){return this.grid.navigation.isRowHeaderActive=!0,this.grid.navigation.isRowDimensionHeaderActive=!1,{row:this.rowIndex,column:this.visibleIndex,level:null,mchCache:null,layout:this.layout||null}}findRootDimension(e){let t,i=this.grid.rowDimensions,n=null;return i.forEach((i=>{t=i;do{t.memberName===e&&(n=i),t=t.childLevel}while(t)})),n}activate(){this.grid.navigation.isRowHeader=!0,this.grid.navigation.setActiveNode(this.activeNode)}pointerdown(e){this.activate()}onMouseDown(e){this.activate()}get selectable(){return!1}static{this.ɵfac=function(t){return new(t||e)(lu(Cf),lu(zF),lu(zl),lu(u2),lu(OU),lu(NC),lu(Il))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-pivot-row-dimension-header-group"]],viewQuery:function(e,t){if(1&e&&pm(b2,5),2&e){let e;mm(e=fm())&&(t.header=e.first)}},hostVars:6,hostBindings:function(e,t){1&e&&rm("click",(function(e){return t.onClick(e)})),2&e&&($g("id",t.headerID)("title",t.title),op("user-select",t.userSelect),ap("igx-grid-th--active",t.active))},inputs:{rowIndex:"rowIndex",colIndex:"colIndex",layout:"layout",parent:"parent"},features:[dg],decls:5,vars:1,consts:[["defaultColumn",""],["defaultCollapseIndicator",""],[1,"igx-grid-th__group-title",3,"title"],["family","default",3,"name"],[1,"igx-grid-th__drop-indicator-left"],["role","columnheader",1,"igx-grid-th--fw",3,"pointerdown","keydown","id","ngClass","ngStyle","igxColumnMovingDrag","ghostHost","igxColumnMovingDrop","column"],[1,"igx-grid-th__resize-handle",3,"igxPivotResizeHandle","igxPivotResizeHandleHeader","cursor"],[1,"igx-grid-th__drop-indicator-right"],[1,"igx-grid-th__resize-handle",3,"igxPivotResizeHandle","igxPivotResizeHandleHeader"]],template:function(e,t){1&e&&bg(0,G3,2,2,"ng-template",null,0,sf)(2,$3,1,1,"ng-template",null,1,sf)(4,U3,5,15),2&e&&(Hc(4),Ip(t.column.columnGroup?-1:4))},dependencies:[DA,b2,jv,Uv,Qj,ZU,D2,pU],encapsulation:2,changeDetection:0})}}return e})(),Y3=["headerTemplate"],Z3=["headerDefaultTemplate"];function X3(e,t){if(1&e){let e=Kp();Lp(0,"div")(1,"igx-icon",5),rm("click",(function(t){return Ko(e),jo(om().toggleRowDimension(t))})),Np(),ym(2),Np()}if(2&e){let e=t.$implicit,i=om();wp("igx-grid__tr--header igx-grid__row-indentation--level-",i.getLevel(),""),Hc(),rp("name",i.getExpandState()?"tree_collapse":"tree_expand"),$g("draggable",!1),Hc(),wm(" ",e.header," ")}}function Q3(e,t){if(1&e&&(Lp(0,"div",6),Hp(1,"igx-icon",7),ym(2),Np()),2&e){let e=t.$implicit;wp("igx-grid__tr--header igx-grid__row-indentation--level-",om().getLevel(),""),Hc(),$g("draggable",!1),Hc(),wm(" ",e.header," ")}}var J3=(()=>{class e extends XY{get rowStart(){return this.layout?`${this.layout.rowStart}`:""}get rowsEnd(){return this.layout?`${this.layout.rowEnd}`:""}get colStart(){return this.layout?`${this.layout.colStart}`:""}get colEnd(){return this.layout?`${this.layout.colEnd}`:""}constructor(e,t,i,n,r,s){super(t,r),this.grid=e,this.injector=i,this.envInjector=n,this.viewRef=s}get rowDimensionColumn(){return this.rowDimensionData?.column}ngOnChanges(e){e.rowData&&(this.rowDimensionData=null,this.viewRef.clear(),this.extractFromDimensions(),this.viewRef.clear()),e.width&&this.rowDimensionData&&(this.rowDimensionData.column.width=this.grid.rowDimensionWidthToPixels(this.rootDimension)+"px")}toggleRowDimension(e){this.grid.toggleRow(this.getRowDimensionKey()),this.grid.navigation.onRowToggle(this.getExpandState(),this.dimension,this.rowData,this.layout),e?.stopPropagation()}getRowDimensionKey(){let e=this.rowDimensionData;return nP.getRecordKey(this.rowData,e.dimension)}getExpandState(){return this.grid.gridAPI.get_row_expansion_state(this.getRowDimensionKey())}getLevel(){return this.grid.hasHorizontalLayout?0:this.dimension.level}getHeaderWidthFromDimension(){return this.grid.hasHorizontalLayout?-1===this.width?"fit-content":this.width:this.grid.rowDimensionWidth(this.rootDimension)}extractFromDimensions(){if(this.dimension&&this.rowData){let e=this.extractFromDimension(this.dimension,this.rowData),t=[];this.rowDimensionData={column:e,dimension:this.dimension,prevDimensions:t}}}extractFromDimension(e,t){let i=e.memberName,n=t?.dimensionValues.get(i);return this._createColComponent(i,n,e)}_createColComponent(e,t,i){let n=Gf(UH,{environmentInjector:this.envInjector,elementInjector:this.injector});return n.instance.field=e,n.instance.header=t,n.instance.width=this.grid.rowDimensionWidthToPixels(this.rootDimension)+"px",n.instance.resizable=this.grid.rowDimensionResizing,n.instance._vIndex=this.grid.columns.length+this.rowIndex+this.rowIndex*this.grid.pivotConfiguration.rows.length,!t||!i.childLevel||this.rowData.totalRecordDimensionName&&this.rowData.totalRecordDimensionName===i.memberName?n.instance.headerTemplate=this.headerTemplateDefault:n.instance.headerTemplate=this.headerTemplate,n.instance}static{this.ɵfac=function(t){return new(t||e)(lu(zF),lu(zl),lu(hl),lu(vs),lu(Cf),lu(Su))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-pivot-row-dimension-content"]],viewQuery:function(e,t){if(1&e&&(pm(Y3,7,jh),pm(Z3,7,jh),pm(q3,5)),2&e){let e;mm(e=fm())&&(t.headerTemplate=e.first),mm(e=fm())&&(t.headerTemplateDefault=e.first),mm(e=fm())&&(t.headerGroups=e)}},hostVars:8,hostBindings:function(e,t){2&e&&op("grid-row-start",t.rowStart)("grid-row-end",t.rowsEnd)("grid-column-start",t.colStart)("grid-column-end",t.colEnd)},inputs:{rowIndex:"rowIndex",colIndex:"colIndex",layout:"layout",dimension:"dimension",rootDimension:"rootDimension",rowData:"rowData"},features:[dg,po],decls:11,vars:35,consts:[["headerTemplate",""],["headerDefaultTemplate",""],["role","rowgroup",1,"igx-grid-thead__wrapper"],["role","row",1,"igx-grid__tr","igx-grid__tr-header-row"],[3,"ngClass","ngStyle","column","rowIndex","colIndex","layout","parent"],["family","default",3,"click","name"],[2,"--component-size","3"],[2,"flex-shrink","0"]],template:function(e,t){1&e&&(Lp(0,"div",2)(1,"div",3),Hp(2,"igx-pivot-row-dimension-header-group",4),Xm(3,"igxHeaderGroupWidth"),Xm(4,"igxHeaderGroupWidth"),Xm(5,"igxHeaderGroupWidth"),Xm(6,"igxHeaderGroupStyle"),Np()(),bg(7,X3,3,6,"ng-template",null,0,sf)(9,Q3,3,5,"ng-template",null,1,sf)),2&e&&(op("width",t.width,"px"),ap("igx-grid__tr--mrl",t.hasMRL),Hc(),op("width",t.width,"px"),Hc(),op("min-width",ef(3,19,t.getHeaderWidthFromDimension(),t.grid.defaultHeaderGroupMinWidth,t.hasMRL))("width",ef(4,23,t.getHeaderWidthFromDimension(),t.grid.defaultHeaderGroupMinWidth,t.hasMRL))("flex-basis",ef(5,27,t.getHeaderWidthFromDimension(),t.grid.defaultHeaderGroupMinWidth,t.hasMRL)),rp("ngClass",t.rowDimensionColumn.headerGroupClasses)("ngStyle",ef(6,31,t.rowDimensionColumn.headerGroupStyles,t.rowDimensionColumn,t.grid.pipeTrigger))("column",t.rowDimensionColumn)("rowIndex",t.rowIndex)("colIndex",t.colIndex)("layout",t.layout)("parent",t))},dependencies:[q3,jv,Uv,DA,gU,pU],encapsulation:2,changeDetection:0})}}return e})(),e5=(()=>{class e extends gX{constructor(e){super(e),this.colResizingService=e}static{this.ɵfac=function(t){return new(t||e)(lu(u2))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-pivot-grid-column-resizer"]],features:[dg],decls:1,vars:7,consts:[["igxResizer","",1,"igx-grid-th__resize-line",3,"resizeEnd","restrictHResizeMax","restrictHResizeMin","restrictResizerTop"]],template:function(e,t){1&e&&(Lp(0,"div",0),rm("resizeEnd",(function(e){return t.colResizingService.resizeColumn(e,t.resizer.ratio)})),Np()),2&e&&(op("left",-99999,"px")("height",t.colResizingService.resizerHeight,"px"),rp("restrictHResizeMax",t.colResizingService.restrictResizeMax)("restrictHResizeMin",t.colResizingService.restrictResizeMin)("restrictResizerTop",t.restrictResizerTop))},dependencies:[uX],encapsulation:2,changeDetection:0})}}return e})(),t5=(()=>{class e extends hS{static{this._instance=null}static instance(){return this._instance||(this._instance=new this)}sort(e,t,i,n,r,s,o,a){let l=i===cS.Desc?-1:1;return this.arraySort(e,((e,i)=>this.compareObjects(e,i,t,l,n,this.getFieldValue,s,o)))}getFieldValue(e,t,i=!1,n=!1){return e.aggregationValues.get(t)}}return e})(),i5=(()=>{class e extends hS{static{this._instance=null}static instance(){return this._instance||(this._instance=new this)}sort(e,t,i,n,r,s,o,a){let l=t,d=a.allDimensions.filter((e=>e&&e.enabled));this.dimension=nP.flatten(d).find((e=>e.memberName===l));let c=i===cS.Desc?-1:1;return this.arraySort(e,((e,t)=>this.compareObjects(e,t,l,c,n,this.getFieldValue,s,o)))}getFieldValue(e,t,i=!1,n=!1){let r=nP.extractValueFromDimension(this.dimension,e)||e[0];if(this.dimension.dataType===bS.Date||this.dimension.dataType===bS.DateTime){let e=PC(r);r=n&&e?(new Date).setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()):e}return r}}return e})(),n5=class{static generateDimensionSortingExpressions(e){let t=[];return nP.flatten(e).forEach((e=>{e.sortDirection?t.push({dir:e.sortDirection,fieldName:e.memberName,strategy:i5.instance()}):t.push({dir:cS.None,fieldName:e.memberName,strategy:i5.instance()})})),t}},r5=(()=>{class e{constructor(e){this.template=e}static ngTemplateContextGuard(e,t){return!0}static{this.ɵfac=function(t){return new(t||e)(lu(jh))}}static{this.ɵdir=rg({type:e,selectors:[["","igxPivotValueChip",""]]})}}return e})(),s5=(()=>{class e{constructor(e){this.template=e}static ngTemplateContextGuard(e,t){return!0}static{this.ɵfac=function(t){return new(t||e)(lu(jh))}}static{this.ɵdir=rg({type:e,selectors:[["","igxPivotRowDimensionHeader",""]]})}}return e})(),o5=(()=>{class e{constructor(e){this.grid=e}transform(e,t,i,n,r,s){let o=t.pivotKeys||JF,a=t.rows?.filter((e=>e.enabled))||[],l=t.columns?.filter((e=>e.enabled))||[],d=t.values?.filter((e=>e.enabled))||[];if(0===a.length&&0===l.length&&0===d.length)return[];let c=t.rowStrategy||L3.instance(),h=RC(e,!0);return c.process(h,a,t.values,i,o)}static{this.ɵfac=function(t){return new(t||e)(lu(zF,16))}}static{this.ɵpipe=sg({name:"pivotGridRow",type:e,pure:!0})}}return e})(),a5=(()=>{class e{transform(e,t,i,n){let r=!1;return e.length>0&&(r=!this.isPivotRecord(e[0])),r?this.processCollectionToPivotRecord(t,e):e}isPivotRecord(e){return!!e.aggregationValues}processCollectionToPivotRecord(e,t){let i=e.pivotKeys||JF,n=e.rows.filter((e=>e.enabled)),r=nP.flatten(n),s=[];for(let n of t){let t={dimensionValues:new Map,aggregationValues:new Map,children:new Map,dimensions:[]},o=Object.keys(n);for(let s of o){let o=r.find((e=>e.memberName===s));if(o)t.dimensions.push(o),t.dimensionValues.set(s,n[s]);else if(-1!==s.indexOf(i.rowDimensionSeparator+i.records)){let r=s.slice(0,s.indexOf(i.rowDimensionSeparator+i.records)),o=n[s],a=this.processCollectionToPivotRecord(e,o);t.children.set(r,a)}else t.aggregationValues.set(s,n[s])}let a=nP.flatten(e.rows);t.dimensions.sort(((e,t)=>a.indexOf(e)-a.indexOf(t))),s.push(t)}return s}static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵpipe=sg({name:"pivotGridAutoTransform",type:e,pure:!0})}}return e})(),l5=(()=>{class e{constructor(e){this.grid=e}transform(e,t,i,n,r,s){let o=t.rows?.filter((e=>e.enabled))||[],a=e?RC(e,!0):[],l=[];for(let e of o)this.grid?.hasHorizontalLayout?nP.flattenGroupsHorizontally(a,e,i,n,l,this.grid.pivotUI.horizontalSummariesPosition):nP.flattenGroups(a,e,i,n);let d=a;if(this.grid?.hasHorizontalLayout){let e=nP.flatten(this.grid.rowDimensions);this.grid.visibleRowDimensions=e.filter((e=>l.some((t=>t.memberName===e.memberName))))}else this.grid&&(this.grid.visibleRowDimensions=o),d=o.length>0?d.filter((e=>e.dimensions.length===o.length)):d;return this.grid&&this.grid.setFilteredSortedData(d,!1),d}static{this.ɵfac=function(t){return new(t||e)(lu(zF,16))}}static{this.ɵpipe=sg({name:"pivotGridRowExpansion",type:e,pure:!0})}}return e})(),d5=(()=>{class e{constructor(e){this.grid=e}transform(e,t,i,n){if(0===e.length||0===t.rows.length)return e;let r,s=e?RC(e,!0):[],o=[],a=[],l=this.grid.hasHorizontalLayout?this.grid.visibleRowDimensions:t.rows?.filter((e=>e.enabled)),d=l.indexOf(i);for(let e of s){let t;this.grid.hasHorizontalLayout?(t=i,e.dimensions=l):t=e.dimensions[d];let n=nP.getRecordKey(e,t);if(a.length>0&&r!==n){let e=a.length>1?a.length*this.grid.renderedRowHeight:void 0;a[0].height=e,a[0].rowSpan=a.length,o.push(a[0]),a=[]}a.push(e),r=n}if(a.length>0){let e=a.length>1?a.length*this.grid.rowHeight+(a.length-1)+1:void 0;a[0].height=e,a[0].rowSpan=a.length,o.push(a[0])}return o}static{this.ɵfac=function(t){return new(t||e)(lu(zF,16))}}static{this.ɵpipe=sg({name:"pivotGridCellMerging",type:e,pure:!0})}}return e})(),c5=(()=>{class e{constructor(e){this.grid=e}transform(e,t,i,n){if(0===e.length||0===t.rows.length)return null;let r=e?RC(e,!0):[],s=[],o=t.rows.filter((e=>e.enabled))[0],a=[],l=r[0].dimensionValues.get(o.memberName);for(let[e,t]of r.entries()){t.dataIndex=e;let i=t.dimensionValues.get(o.memberName);0===a.length||i===l?a.push(t):(a.height=this.grid.renderedRowHeight*a.length,s.push(a),a=[t],l=i)}return s.push(a),s}static{this.ɵfac=function(t){return new(t||e)(lu(zF,16))}}static{this.ɵpipe=sg({name:"pivotGridHorizontalRowGrouping",type:e,pure:!0})}}return e})(),h5=(()=>{class e{constructor(e){this.grid=e}transform(e,t,i){if(0===e.length||0===t.rows.length)return[{colStart:1,colSpan:1,rowStart:1,rowSpan:1,records:e}];let n=e?RC(e,!0):[],r=[],s=[...n.map((e=>[]))];for(let e=0;e<this.grid.visibleRowDimensions.length;e++){let t=this.grid.visibleRowDimensions[e],i={colStart:e+1,colSpan:1,rowStart:1,rowSpan:1,value:n[0].dimensionValues.get(t.memberName),rootDimension:t,dimensions:[t],records:[n[0]]};for(let r=1;r<n.length;r++){let o=n[r],a=o.dimensionValues.get(t.memberName),l=s[r][s[r].length-1];a!==i.value||l?(s[i.rowStart-1].push(i),i={colStart:e+1,colSpan:1,rowStart:i.rowStart+i.rowSpan,rowSpan:1,value:o.dimensionValues.get(t.memberName),rootDimension:t,dimensions:[t],records:[o]}):(i.rowSpan++,i.records.push(o))}s[i.rowStart-1].push(i)}let o=s.reduce(((e,t)=>e.concat(...t)),[]);r.push(o[0]);let a=o[0];for(let e=1;e<o.length;e++){let t=o[e];t.value&&a.value!==t.value?(a=t,r.push(t)):(a.dimensions.push(t.rootDimension),a.colSpan++)}return r}static{this.ɵfac=function(t){return new(t||e)(lu(zF,16))}}static{this.ɵpipe=sg({name:"pivotGridHorizontalRowCellMerging",type:e,pure:!0})}}return e})(),u5=(()=>{class e{transform(e,t,i,n,r,s){let o=t.pivotKeys||JF,a=t.columns?.filter((e=>e.enabled))||[],l=t.values?.filter((e=>e.enabled))||[],d=t.columnStrategy||N3.instance(),c=RC(e,!0);return d.process(c,a,l,i,o)}static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵpipe=sg({name:"pivotGridColumn",type:e,pure:!0})}}return e})(),g5=(()=>{class e{constructor(e){this.gridAPI=e}transform(e,t,i,n,r,s){let o={expressionsTree:nP.buildExpressionTree(t),strategy:i||new H3,advancedExpressionsTree:n};return US.empty(o.expressionsTree)&&US.empty(o.advancedExpressionsTree)?e:YS.filter(RC(e,!0),o,this.gridAPI.grid)}static{this.ɵfac=function(t){return new(t||e)(lu(rQ,16))}}static{this.ɵpipe=sg({name:"pivotGridFilter",type:e,pure:!0})}}return e})(),p5=(()=>{class e{transform(e,t,i,n){let r;if(t.length){for(let e of t)e.strategy=t5.instance();r=nP.sort(RC(e,!0),t,i)}else r=e;return r}static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵpipe=sg({name:"pivotGridColumnSort",type:e,pure:!0})}}return e})(),m5=(()=>{class e{constructor(e){this.gridAPI=e}transform(e,t,i,n){let r,s=(t.rows||[]).filter((e=>e&&e.enabled)),o=n5.generateDimensionSortingExpressions(s);return r=o.length?DS.sort(RC(e,!0),o,i,this.gridAPI.grid):e,r}static{this.ɵfac=function(t){return new(t||e)(lu(rQ,16))}}static{this.ɵpipe=sg({name:"pivotGridSort",type:e,pure:!0})}}return e})(),f5=(()=>{class e{transform(e,t,i){if(!e)return e;let n=e.slice(0);if(t&&t.length>0){let i=e=>{let n=e.member||e.memberName;return!!n&&(n.toLocaleLowerCase().indexOf(t.toLocaleLowerCase())>=0||(e.children?.some(i)??!1))};n=e.filter(i)}return n}static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵpipe=sg({name:"filterPivotItems",type:e,pure:!0})}}return e})(),v5=(()=>{class e{transform(e,t,i,n,r,s){if(!e)return"";let o=[],a=XC(n.field);for(let t of Object.keys(e)){let s=e[t];("function"==typeof s?s(i,n,QC(i,a),r):s)&&o.push(t)}return o.join(" ")}static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵpipe=sg({name:"igxPivotCellStyleClasses",type:e,pure:!0})}}return e})(),y5=(e,t,i,n,r,s,o)=>[e,t,i,n,r,s,o],x5=(e,t,i,n,r,s)=>[e,t,i,n,r,s],_5=(e,t,i,n,r)=>[e,t,i,n,r];function w5(e,t){if(1&e){let e=Kp();Lp(0,"igx-grid-cell",4,2),Xm(2,"transactionState"),Xm(3,"igxPivotCellStyleClasses"),Xm(4,"igxCellStyles"),Xm(5,"dataMapper"),rm("pointerdown",(function(t){return Ko(e),jo(om().grid.navigation.focusOutRowHeader(t))})),Np()}if(2&e){let e=t.$implicit,i=om();op("min-width",e.resolvedWidth)("max-width",e.resolvedWidth)("flex-basis",e.resolvedWidth),ap("igx-grid__td--edited",nf(2,28,Gm(56,y5,i.key,e.field,i.grid.rowEditable,i.grid.transactions,i.grid.pipeTrigger,i.grid.gridAPI.crudService.cell,i.grid.gridAPI.crudService.row)))("igx-grid__td--number","number"===e.dataType||"percent"===e.dataType||"currency"===e.dataType)("igx-grid__td--bool","boolean"===e.dataType),rp("ngClass",nf(3,36,Bm(64,x5,i.getCellClass(e),i.data[e.field],i.data,i.getColumnData(e),i.viewIndex,i.grid.pipeTrigger)))("ngStyle",nf(4,43,Bm(71,x5,e.cellStyles,i.pivotAggregationData[e.field],i.pivotAggregationData,e.field,i.viewIndex,i.grid.pipeTrigger)))("editMode",e.editable&&i.grid.crudService.targetInEdit(i.index,e.index))("column",e)("formatter",e.formatter)("intRow",i)("active",i.isCellActive(e.visibleIndex))("rowData",i.data)("columnData",i.getColumnData(e))("width",e.getCellWidth())("visibleColumnIndex",e.visibleIndex)("value",nf(5,50,zm(78,_5,i.pivotAggregationData[e.field],e.field,i.grid.pipeTrigger,i.pivotAggregationData[e.field],e.hasNestedPath)))("cellTemplate",e.bodyTemplate)("lastSearchInfo",i.grid.lastSearchInfo)("cellSelectionMode",i.grid.cellSelection)("displayPinnedChip",i.shouldDisplayPinnedChip(e.visibleIndex))}}function C5(e,t){if(1&e&&(Lp(0,"div",5),Hp(1,"igx-checkbox",6),Np()),2&e){let e=om();Hc(),rp("tabindex",-1)("readonly",!0)("checked",e.selected)("disableRipple",!0)("disabled",e.deleted)("disableTransitions",e.grid.disableTransitions)("aria-label",e.rowCheckboxAriaLabel)}}var S5=(()=>{class e extends aP{get selected(){let e=!1;for(let t of this.data.dimensions){let i=nP.getRecordKey(this.data,t);this.selectionService.isPivotRowSelected(i)&&(e=!0)}return e}constructor(e,t,i,n,r){super(e,t,i,n),this.grid=e,this.viewRef=r,this.disabled=!1}get viewIndex(){return this.index}get addRowUI(){return!1}get inEditMode(){return!1}set pinned(e){}get pinned(){return!1}delete(){}beginAddRow(){}update(e){}pin(){return!1}unpin(){return!1}get data(){return this._data}set data(e){this._data=e}get pivotAggregationData(){let e=this.data.aggregationValues,t={};return e.forEach(((e,i)=>{t[i]=e})),t}getCellClass(e){let t=this.grid.values;if(1===t.length)return t[0].styles;let i=e.field.split(this.grid.pivotKeys.columnDimensionSeparator),n=i[i.length-1];return t.find((e=>e.member===n))?.styles}isCellActive(e){let t=this.grid.navigation,i=t.activeNode;return!(!i||0===Object.keys(i).length)&&!t.isRowHeaderActive&&!t.isRowDimensionHeaderActive&&super.isCellActive(e)}getColumnData(e){let t,i=e.field.split(this.grid.pivotKeys.columnDimensionSeparator),n=new Map,r=nP.flatten(this.grid.columnDimensions);for(let e of r)n.set(e.memberName,i.shift());return t=this.grid.hasMultipleValues&&i.length?this.grid.values.find((e=>e.member===i[0])):this.grid.values?this.grid.values[0]:void 0,{field:e.field,dimensions:this.grid.columnDimensions,dimensionValues:n,value:t}}static{this.ɵfac=function(t){return new(t||e)(lu(zF),lu(rP),lu(zl),lu(Cf),lu(Su))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-pivot-row"]],hostVars:1,hostBindings:function(e,t){2&e&&$g("aria-selected",t.selected)},inputs:{selected:"selected",data:"data"},features:[Pm([{provide:aP,useExisting:Jn((()=>e))}]),dg],decls:5,vars:8,consts:[["igxDirRef",""],["rowSelectorBaseTemplate",""],["cell",""],["igxGridFor","",3,"igxGridForOf","igxForScrollContainer","igxForSizePropName","igxForScrollOrientation","igxForContainerSize","igxForTrackBy"],[1,"igx-grid__td","igx-grid__td--fw",3,"pointerdown","ngClass","ngStyle","editMode","column","formatter","intRow","active","rowData","columnData","width","visibleColumnIndex","value","cellTemplate","lastSearchInfo","cellSelectionMode","displayPinnedChip"],[1,"igx-grid__cbx-padding"],[3,"tabindex","readonly","checked","disableRipple","disabled","disableTransitions","aria-label"]],template:function(e,t){1&e&&(bg(0,w5,6,84,"ng-template",3,0,sf),Xm(2,"igxNotGrouped"),bg(3,C5,2,7,"ng-template",null,1,sf)),2&e&&rp("igxGridForOf",Qm(2,6,t.unpinnedColumns))("igxForScrollContainer",t.grid.parentVirtDir)("igxForSizePropName","calcPixelWidth")("igxForScrollOrientation","horizontal")("igxForContainerSize",t.grid.unpinnedWidth)("igxForTrackBy",t.grid.trackColumnChanges)},dependencies:[nO,vJ,jv,Uv,OF,gY,dY,yY,_Y,v5],encapsulation:2,changeDetection:0})}}return e})(),b5=class{set resourceStrings(e){this._resourceStrings=Object.assign({},this._resourceStrings,e)}get resourceStrings(){return this._resourceStrings}get baseDimension(){return this._baseDimension}set baseDimension(e){this._baseDimension=e,this.initialize(this.baseDimension,this.options)}get options(){return this._options}set options(e){this._options=e,this.baseDimension&&this.initialize(this.baseDimension,this.options)}constructor(e=null,t={}){this.enabled=!0,this.defaultOptions={total:!0,years:!0,months:!0,fullDate:!0},this.memberName="AllPeriods",this._resourceStrings=TA($G),this._options={},this._monthIntl=new Intl.DateTimeFormat("default",{month:"long"}),this.memberFunction=e=>this.resourceStrings.igx_grid_pivot_date_dimension_total,this._baseDimension=e,this._options=t,this.baseDimension&&this.options&&this.initialize(this.baseDimension,this.options)}initialize(e,t){let i=Qe(Qe({},this.defaultOptions),t);this.dataType=bS.Date,e.dataType=bS.Date,this.enabled=e.enabled,this.displayName=e.displayName||this.resourceStrings.igx_grid_pivot_date_dimension_total;let n=i.fullDate?e:null,r={memberName:"Months",memberFunction:t=>{let i=nP.extractValueFromDimension(e,t);return i?this._monthIntl.format(new Date(i)):t.Months},enabled:!0,childLevel:n},s=i.months?r:n,o={memberName:"Quarters",memberFunction:t=>{let i=nP.extractValueFromDimension(e,t);return i?"Q"+Math.ceil((new Date(i).getMonth()+1)/3):t.Quarters},enabled:!0,childLevel:s},a=i.quarters?o:s,l={memberName:"Years",memberFunction:t=>{let i=nP.extractValueFromDimension(e,t);return i?new Date(i).getFullYear().toString():t.Years},enabled:!0,childLevel:a},d=i.years?l:a;this.childLevel=d,i.total||(this.memberName=d.memberName,this.memberFunction=d.memberFunction,this.childLevel=d.childLevel,this.displayName=d.displayName)}},D5=(e,t,i,n,r)=>({rowStart:e,rowEnd:t,colStart:i,colEnd:n,columnVisibleIndex:r});function E5(e,t){return this.getGroupKey(t)}function T5(e,t){if(1&e&&Hp(0,"igx-pivot-row-dimension-content",0),2&e){let e=t.$implicit,i=t.$index,n=om();rp("grid",n.grid)("dimension",e.rootDimension)("rootDimension",e.rootDimension)("rowIndex",n.rowIndex)("colIndex",i)("rowData",e.records[0])("width",n.rowDimensionWidthCombined(e.dimensions))("layout",zm(8,D5,e.rowStart,e.rowStart+e.rowSpan,e.colStart,e.colStart+e.colSpan,i))}}var I5=(()=>{class e extends XY{get rowsTemplate(){return this.getRowMRLTemplate(!0,this.rowGroup)}get colsTemplate(){return this.getRowMRLTemplate(!1,this.rowGroup)}constructor(e,t,i,n,r,s){super(t,r),this.grid=e,this.injector=i,this.envInjector=n,this.viewRef=s,this.pivotDim=!0,this.mrlBlock=!0}getRowMRLTemplate(e,t){if(e)return`repeat(${t.length},1fr)`;if(this.grid.visibleRowDimensions&&this.grid.dimensionDataColumns){let e=[];return this.grid.visibleRowDimensions.forEach((t=>{e.push(this.grid.rowDimensionWidth(t))})),e.join(" ")}}rowDimensionWidthCombined(e){let t=0;for(let i of e||[]){let e=this.grid.rowDimensionWidth(i);if("fit-content"===e)return-1;t+=parseFloat(e)}return t}getGroupKey(e){let t=e.records[0];return nP.getRecordKey(t,e.rootDimension)}static{this.ɵfac=function(t){return new(t||e)(lu(zF),lu(zl),lu(hl),lu(vs),lu(Cf),lu(Su))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-pivot-row-dimension-mrl-row"]],viewQuery:function(e,t){if(1&e&&pm(J3,5),2&e){let e;mm(e=fm())&&(t.contentCells=e)}},hostVars:8,hostBindings:function(e,t){2&e&&(op("grid-template-rows",t.rowsTemplate)("grid-template-columns",t.colsTemplate),ap("igx-grid__tbody-pivot-dimension",t.pivotDim)("igx-grid__mrl-block",t.mrlBlock))},inputs:{rowIndex:"rowIndex",rowGroup:"rowGroup",groupedData:"groupedData"},features:[dg],decls:3,vars:4,consts:[["role","row",1,"igx-grid-thead",3,"grid","dimension","rootDimension","rowIndex","colIndex","rowData","width","layout"]],template:function(e,t){1&e&&(Op(0,T5,1,14,"igx-pivot-row-dimension-content",0,E5,!0),Xm(2,"pivotGridHorizontalRowCellMerging")),2&e&&Pp(ef(2,0,t.rowGroup,t.grid.pivotConfiguration,t.grid.pipeTrigger))},dependencies:[J3,h5],encapsulation:2,changeDetection:0})}}return e})(),R5=["record_template"],A5=["headerTemplate"],k5=["emptyPivotGridTemplate"],O5=["rowDimensionContainer"],F5=["verticalRowDimScrollContainer"],P5=[[["igx-grid-toolbar"],["igc-grid-toolbar"]],[["igx-grid-footer"],["igc-grid-footer"]],[["igx-grid-state"],["igc-grid-state"]]],V5=["igx-grid-toolbar,igc-grid-toolbar","igx-grid-footer,igc-grid-footer","igx-grid-state,igc-grid-state"],M5=(e,t,i,n,r,s)=>[e,t,i,n,r,s],L5=(e,t,i,n,r)=>[e,t,i,n,r],N5=e=>({$implicit:e}),H5=()=>[],z5=(e,t,i,n,r,s,o,a,l,d,c)=>[e,t,i,n,r,s,o,a,l,!1,d,c],B5=(e,t)=>({$implicit:e,widthPx:t}),G5=(e,t)=>t.memberName;function $5(e,t){1&e&&$p(0)}function W5(e,t){1&e&&Hp(0,"span",30),2&e&&(rp("igxColumnMovingDrop",om().headerContainer),$g("droppable",!0))}function K5(e,t){if(1&e&&Hp(0,"span",57),2&e){let e=om();op("left",e.pinnedWidth,"px"),rp("igxColumnMovingDrop",e.headerContainer),$g("droppable",!0)}}function j5(e,t){}function U5(e,t){if(1&e){let e=Kp();bg(0,j5,0,0,"ng-template",58),rm("cachedViewLoaded",(function(t){return Ko(e),jo(om().cachedViewLoaded(t))}))}if(2&e){let e=t.$implicit,i=t.index,n=om();rp("igxTemplateOutlet",n.recordTemplate)("igxTemplateOutletContext",n.getContext(e,i))}}function q5(e,t){if(1&e&&(Hp(0,"igx-pivot-row",59,22),Xm(2,"igxGridRowClasses"),Xm(3,"igxGridRowStyles")),2&e){let e=t.index,i=t.$implicit,n=vm(1),r=om();rp("gridID",r.id)("index",e)("data",i)("ngClass",nf(2,5,Wm(23,z5,[r.rowClasses,n,n.inEditMode,n.selected,n.dirty,n.deleted,n.dragging,e,r.hasColumnLayouts,i,r.pipeTrigger])))("ngStyle",tf(3,18,r.rowStyles,i,e,r.pipeTrigger))}}function Y5(e,t){1&e&&$p(0)}function Z5(e,t){1&e&&Hp(0,"igx-circular-bar",34),2&e&&rp("indeterminate",!0)}function X5(e,t){1&e&&Hp(0,"span",35),2&e&&(rp("igxColumnMovingDrop",om().headerContainer),$g("droppable",!0))}function Q5(e,t){}function J5(e,t){}function e4(e,t){if(1&e&&(Lp(0,"span",60)(1,"span"),ym(2),Np()()),2&e){let e=om();Hc(2),_m(e.emptyFilteredGridMessage)}}function t4(e,t){if(1&e&&(Lp(0,"span",60)(1,"span"),ym(2),Np()()),2&e){let e=om();Hc(2),_m(e.emptyGridMessage)}}function i4(e,t){1&e&&(Lp(0,"div",61),Hp(1,"igx-circular-bar",34),Np()),2&e&&(Hc(),rp("indeterminate",!0))}function n4(e,t){1&e&&Hp(0,"igx-pivot-grid-column-resizer",50),2&e&&rp("restrictResizerTop",om().calculateResizerTop())}function r4(e,t){if(1&e){let e=Kp();Lp(0,"div",62)(1,"igx-icon",63),rm("click",(function(){let t=Ko(e).$implicit;return jo(om().toggleColumn(t))})),Np(),ym(2),Np()}if(2&e){let e=t.$implicit,i=om();Hc(),rp("name",i.getColumnGroupExpandState(e)?"tree_expand":"tree_collapse"),$g("draggable",!1),Hc(),wm(" ",e.header," ")}}function s4(e,t){if(1&e&&Hp(0,"igx-pivot-row-dimension-content",67),2&e){let e=t.$implicit,i=t.index,n=om(),r=n.$implicit,s=n.$index,o=om(2);op("height",o.renderedRowHeight*(e.rowSpan||1),"px"),rp("grid",o)("dimension",e.dimensions[s])("rootDimension",r)("rowIndex",i)("rowData",e)("width",o.rowDimensionWidthToPixels(r))}}function o4(e,t){1&e&&$p(0)}function a4(e,t){if(1&e){let e=Kp();Lp(0,"div",65,23),rm("focus",(function(t){return Ko(e),jo(om(2).navigation.focusTbody(t))}))("keydown",(function(t){return Ko(e),jo(om(2).navigation.handleNavigation(t))})),bg(2,s4,1,8,"ng-template",66,24,sf),Xm(4,"pivotGridCellMerging"),bg(5,o4,1,0,"ng-container",28),Np()}if(2&e){let e=t.$implicit,i=om(2),n=vm(70);op("height",i.totalHeight,"px"),Hc(2),rp("igxGridForOf",tf(4,10,i.dataView,i.pivotConfiguration,e,i.pipeTrigger))("igxForScrollOrientation","vertical")("igxForScrollContainer",i.verticalScroll)("igxForContainerSize",i.calcHeight)("igxForItemSize",i.renderedRowHeight)("igxForSizePropName","height"),Hc(3),rp("ngTemplateOutlet",n)("ngTemplateOutletContext",Lm(15,B5,i,i.rowDimensionWidthToPixels(e)))}}function l4(e,t){1&e&&Op(0,a4,6,18,"div",64,G5),2&e&&Pp(om().rowDimensions)}function d4(e,t){if(1&e&&Hp(0,"igx-pivot-row-dimension-mrl-row",70),2&e){let e=t.$implicit,i=t.index,n=om();op("height",om(2).renderedRowHeight*e.length,"px"),rp("rowIndex",i)("rowGroup",e)("groupedData",n)}}function c4(e,t){if(1&e&&bg(0,d4,1,5,"ng-template",69,24,sf),2&e){let e=om(2);rp("igxGridForOf",t)("igxForScrollOrientation","vertical")("igxForScrollContainer",e.verticalScroll)("igxForContainerSize",e.calcHeight)("igxForItemSize",e.renderedRowHeight)("igxForSizePropName","height")}}function h4(e,t){1&e&&$p(0)}function u4(e,t){if(1&e){let e=Kp();Lp(0,"div",68,23),rm("focus",(function(t){return Ko(e),jo(om().navigation.focusTbody(t))}))("keydown",(function(t){return Ko(e),jo(om().navigation.handleNavigation(t))})),bg(2,c4,2,6,null,69),Xm(3,"pivotGridHorizontalRowGrouping"),bg(4,h4,1,0,"ng-container",28),Np()}if(2&e){let e,t=om(),i=vm(70);op("height",t.totalHeight,"px"),Hc(2),Ip((e=tf(3,5,t.dataView,t.pivotConfiguration,t.pipeTrigger,t.regroupTrigger))?2:-1,e),Hc(2),rp("ngTemplateOutlet",i)("ngTemplateOutletContext",Lm(10,B5,t,t.pivotRowWidths))}}function g4(e,t){if(1&e&&Hp(0,"igx-pivot-row-dimension-content",67),2&e){let e=om(2);rp("grid",e)("dimension",e.emptyRowDimension)("rootDimension",e.emptyRowDimension)("rowIndex",0)("rowData",e.dataView[0])("width",e.rowDimensionWidthToPixels(e.emptyRowDimension))}}function p4(e,t){1&e&&$p(0)}function m4(e,t){if(1&e){let e=Kp();Lp(0,"div",65,23),rm("focus",(function(t){return Ko(e),jo(om().navigation.focusTbody(t))}))("keydown",(function(t){return Ko(e),jo(om().navigation.handleNavigation(t))})),bg(2,g4,1,6,"igx-pivot-row-dimension-content",67)(3,p4,1,0,"ng-container",28),Np()}if(2&e){let e=om(),t=vm(70);Hc(2),Ip((e.columnDimensions.length>0||e.values.length>0)&&e.data.length>0?2:-1),Hc(),rp("ngTemplateOutlet",t)("ngTemplateOutletContext",Lm(3,B5,e,e.rowDimensionWidthToPixels(e.emptyRowDimension)))}}function f4(e,t){if(1&e&&(Lp(0,"span",60)(1,"span"),ym(2),Np()()),2&e){let e=om();Hc(2),_m(e.resourceStrings.igx_grid_pivot_empty_message)}}function v4(e,t){if(1&e&&(Lp(0,"div",72)(1,"div",73),Hp(2,"div",74),Np()()),2&e){let e=om().widthPx;op("height",om().emptyBottomSize,"px")("width",e,"px")}}function y4(e,t){1&e&&bg(0,v4,3,4,"div",71),2&e&&Ip(om().emptyBottomSize>0?0:-1)}function x4(e,t){1&e&&(Lp(0,"div",56,25),dm(2,2),Np())}var _4=0,w4=(()=>{class e extends nQ{get dimensionsSortingExpressions(){let e=this.rowDimensions.concat(this.columnDimensions);return n5.generateDimensionSortingExpressions(e)}set pivotConfiguration(e){this._pivotConfiguration=e,this.emitInitEvents(this._pivotConfiguration),this.filteringExpressionsTree=nP.buildExpressionTree(e),this._init||this.setupColumns(),this.notifyChanges(!0)}get pivotConfiguration(){return this._pivotConfiguration||{rows:null,columns:null,values:null,filters:null}}set pivotUI(e){this._pivotUI=Object.assign(this._pivotUI,e||{}),this.pipeTrigger++,this.notifyChanges(!0)}get pivotUI(){return this._pivotUI}get superCompactMode(){return this._superCompactMode}set superCompactMode(e){this._superCompactMode=e}get gridSize(){return this.superCompactMode?fb:super.gridSize}get pivotValueCloneStrategy(){return this._pivotValueCloneStrategy}set pivotValueCloneStrategy(e){e&&(this._pivotValueCloneStrategy=e)}get minColumnWidth(){return this.superCompactMode?104:200}get pivotKeys(){return this.pivotConfiguration.pivotKeys||JF}get type(){return"pivot"}get rootSummariesEnabled(){return!1}get emptyRowDimension(){return this._emptyRowDimension}get defaultExpandState(){return this._defaultExpandState}set defaultExpandState(e){this._defaultExpandState=e}get pagingMode(){}set pagingMode(e){}get hideRowSelectors(){}set hideRowSelectors(e){}get actionStrip(){}get shouldGenerate(){return!1}set shouldGenerate(e){}get rowDraggable(){}set rowDraggable(e){}get allowAdvancedFiltering(){return!1}set allowAdvancedFiltering(e){}get filterMode(){return eb}set filterMode(e){}get allowFiltering(){return!1}set allowFiltering(e){}get page(){return 0}set page(e){}get perPage(){}set perPage(e){}get pinnedColumns(){return[]}get unpinnedColumns(){return super.unpinnedColumns}get unpinnedDataView(){return super.unpinnedDataView}get unpinnedWidth(){return super.unpinnedWidth}get pinnedWidth(){return super.pinnedWidth}set summaryRowHeight(e){}get summaryRowHeight(){return 0}get transactions(){return this._transactions}get dragIndicatorIconTemplate(){}set dragIndicatorIconTemplate(e){}get rowEditable(){}set rowEditable(e){}get pinning(){return{}}set pinning(e){}get summaryPosition(){}set summaryPosition(e){}get summaryCalculationMode(){}set summaryCalculationMode(e){}get showSummaryOnCollapse(){}set showSummaryOnCollapse(e){}get hiddenColumnsCount(){return null}get pinnedColumnsCount(){return null}get batchEditing(){}set batchEditing(e){}get selectedRows(){if(0===this.selectionService.getSelectedRows().length)return[];let e=[];return this.dataView.forEach((t=>{let i=[];for(let n of this.rowDimensions){let r=n,s=!1;do{let i=nP.getRecordKey(t,r);if(this.selectionService.isPivotRowSelected(i)&&!e.find((e=>e===t))){e.push(t),s=!0;break}r=r.childLevel}while(r);if(i.push(n),s)break}})),e}constructor(e,t,i,n,r,s,o,a,l,d,c,h,u,g,p,m,f,v,y,x,_){super(e,t,i,n,r,s,o,a,l,d,c,h,u,g,p,m,f,v,y,x,_),this.navigation=g,this.dimensionsChange=new wl,this.pivotConfigurationChange=new wl,this.dimensionInit=new wl,this.valueInit=new wl,this.dimensionsSortingExpressionsChange=new wl,this.valuesChange=new wl,this.autoGenerateConfig=!1,this.role="grid",this.autoGenerateExclude=[],this.snackbarDisplayTime=6e3,this.cellEdit=new wl,this.cellEditDone=new wl,this.cellEditEnter=new wl,this.cellEditExit=new wl,this.columnMovingStart=new wl,this.columnMoving=new wl,this.columnMovingEnd=new wl,this.columnPin=new wl,this.columnPinned=new wl,this.rowAdd=new wl,this.rowAdded=new wl,this.rowDeleted=new wl,this.rowDelete=new wl,this.rowDragStart=new wl,this.rowDragEnd=new wl,this.rowEditEnter=new wl,this.rowEdit=new wl,this.rowEditDone=new wl,this.rowEditExit=new wl,this.rowPinning=new wl,this.rowPinned=new wl,this.columnGroupStates=new Map,this.dragRowID=null,this.rowDimensionResizing=!0,this._emptyRowDimension={memberName:"",enabled:!0,level:0},this._pivotValueCloneStrategy=new CS,this._defaultExpandState=!1,this._filterStrategy=new H3,this.regroupTrigger=0,this._pivotConfiguration={rows:null,columns:null,values:null,filters:null},this.p_id="igx-pivot-grid-"+_4++,this._superCompactMode=!1,this._pivotUI={showConfiguration:!0,showRowHeaders:!1,rowLayout:tP.Vertical,horizontalSummariesPosition:iP.Bottom},this._sortableColumns=!0,this._visibleRowDimensions=[],this._shouldUpdateSizes=!1,this.autoGenerate=!0,this.moving=!1,this.toolbarExporting=new wl}ngOnInit(){this.autoGenerate=!0,super.ngOnInit()}ngAfterContentInit(){this.updateColumns([]),Promise.resolve().then((()=>{this.autoGenerateConfig&&this.generateConfig(),this.setupColumns()})),this.valueChipTemplateDirective&&(this.valueChipTemplate=this.valueChipTemplateDirective.template),this.rowDimensionHeaderDirective&&(this.rowDimensionHeaderTemplate=this.rowDimensionHeaderDirective.template)}ngAfterViewInit(){Promise.resolve().then((()=>{super.ngAfterViewInit()}))}ngOnChanges(e){e.superCompactMode&&!e.superCompactMode.isFirstChange()&&(this._shouldUpdateSizes=!0,qC(this.verticalScrollContainer.displayContainer).pipe(On(1),Nn(this.destroy$)).subscribe((()=>this.resizeNotify.next())))}notifyDimensionChange(e=!1){e&&this.setupColumns(),this.pipeTrigger++,this.cdr.detectChanges()}get allDimensions(){let e=this._pivotConfiguration;return e?(e.rows||[]).concat(e.columns||[]).concat(e.filters||[]).filter((e=>null!=e)):[]}get allVisibleDimensions(){let e=this._pivotConfiguration;if(!e)return[];let t=this.visibleRowDimensions.filter((t=>!e.rows.find((e=>e.memberName===t.memberName))));return(e.rows||[]).concat(...t).concat(e.columns||[]).concat(e.filters||[]).filter((e=>null!=e))}get shouldResize(){return!(!this.dataRowList.first?.cells||0===this.dataRowList.first.cells.length||!super.shouldResize&&!this._shouldUpdateSizes||(this._shouldUpdateSizes=!1,0))}get emptyBottomSize(){return this.totalHeight-this.verticalScroll.scrollComponent.size}createFilterESF(e,t,i,n){if(i.outlet=this.outlet,e){if(e.initialize(t,this.overlayService),n){let t=this.overlayService.attach(e.element,i);return e.overlayComponentId=t,{id:t,ref:void 0}}return{id:e.overlayComponentId,ref:void 0}}}featureColumnsWidth(){return this.pivotRowWidths||0}get id(){return this.p_id}set id(e){this.p_id=e}set data(e){this._data=e||[],this._init||(this.autoGenerateConfig&&this.generateConfig(),this.setupColumns(),this.reflow()),this.cdr.markForCheck(),(null===this.height||-1!==this.height.indexOf("%"))&&this.notifyChanges(!0)}get data(){return this._data}getContext(e,t){return{$implicit:e,templateID:{type:"dataRow",id:null},index:this.getDataViewIndex(t,!1)}}get pivotRowWidths(){return this.visibleRowDimensions.length?this.visibleRowDimensions.reduce(((e,t)=>e+this.rowDimensionWidthToPixels(t)),0):this.rowDimensionWidthToPixels(this.emptyRowDimension)}rowDimensionWidth(e){return e.width&&-1!==e.width.indexOf("auto")?e.autoWidth?e.autoWidth+"px":"fit-content":this.rowDimensionWidthToPixels(e)+"px"}rowDimensionWidthToPixels(e){if(!e?.width)return 200;let t=e.width&&-1!==e.width.indexOf("%"),i=e.width&&-1!==e.width.indexOf("auto");return t?Math.round(parseFloat(e.width)/100*this.calcWidth):i?e.autoWidth:parseInt(e.width,10)}reverseDimensionWidthToPercent(e){return 100*e/this.calcWidth}get pivotContentCalcWidth(){if(!this.platform.isBrowser)return;if(!this.visibleRowDimensions.length)return Math.max(0,this.calcWidth-this.pivotRowWidths);let e=this.visibleRowDimensions.length>0?this.visibleRowDimensions.map((e=>this.rowDimensionWidthToPixels(e))).reduce(((e,t)=>e+t)):0;return this.calcWidth-e}get pivotPinnedWidth(){return this._init?0:this.isPinningToStart?this.pinnedWidth:this.headerFeaturesWidth}get pivotUnpinnedWidth(){return this.unpinnedWidth||0}get rowDimensions(){return this.pivotConfiguration.rows?.filter((e=>e.enabled))||[]}set visibleRowDimensions(e){this._visibleRowDimensions=e}get visibleRowDimensions(){return this._visibleRowDimensions||this.rowDimensions}get columnDimensions(){return this.pivotConfiguration.columns?.filter((e=>e.enabled))||[]}get filterDimensions(){return this.pivotConfiguration.filters?.filter((e=>e.enabled))||[]}get values(){return this.pivotConfiguration.values?.filter((e=>e.enabled))||[]}toggleColumn(e){let t=!this.columnGroupStates.get(e.field);this.columnGroupStates.set(e.field,t),this.toggleRowGroup(e,t),this.reflow()}isRecordPinnedByIndex(e){return null}toggleColumnVisibility(e){}expandAll(){}collapseAll(){}expandRow(e){}collapseRow(e){}get pinnedRows(){}get totalRecords(){}set totalRecords(e){}moveColumn(e,t,i=WH.AfterDropTarget){}addRow(e){}deleteRow(e){}updateCell(e,t,i){}updateRow(e,t){}enableSummaries(...e){}disableSummaries(...e){}pinColumn(e,t){}unpinColumn(e,t){}pinRow(e,t,i){}unpinRow(e,t){}get pinnedRowHeight(){}get hasEditableColumns(){}get hasSummarizedColumns(){}get hasMovableColumns(){}get pinnedDataView(){return[]}openAdvancedFilteringDialog(e){}closeAdvancedFilteringDialog(e){}endEdit(e=!0,t){}beginAddRowById(e,t){}beginAddRowByIndex(e){}clearSearch(){}refreshSearch(e,t=!0){return 0}findNext(e,t,i){return 0}findPrev(e,t,i){return 0}getNextCell(e,t,i=null){return super.getNextCell(e,t,i)}getPreviousCell(e,t,i=null){return super.getPreviousCell(e,t,i)}getPinnedWidth(e=!1){return super.getPinnedWidth(e)}get totalHeight(){return this.calcHeight}getColumnGroupExpandState(e){return this.columnGroupStates.get(e.field)??!1}toggleRowGroup(e,t){if(e)if(this.hasMultipleValues){let i=e.parent?e.parent.children.toArray():this._autoGeneratedCols.filter((e=>0===e.level)),n=i.filter((t=>t.header===e.header&&t!==e))[0];i.indexOf(e)<i.indexOf(n)?(this.resolveToggle(e,t),n.headerTemplate=this.headerTemplate):(e.headerTemplate=void 0,this.resolveToggle(n,t))}else{let i=e.parent?e.parent.children:this._autoGeneratedCols.filter((e=>0===e.level)),n=i.filter((t=>t.header===e.header&&!t.columnGroup))[0],r=i.filter((t=>t.header===e.header&&t.columnGroup))[0];this.resolveToggle(r,t),n.headerTemplate=t?this.headerTemplate:void 0}}setupColumns(){super.setupColumns()}dataRebinding(e){this.hasHorizontalLayout&&(this.dimensionDataColumns=this.generateDimensionColumns()),super.dataRebinding(e)}autoSizeRowDimension(e){if(this.getDimensionType(e)===eP.Row){let t=nP.flatten([e]).map((e=>e.memberName)),i=this.getContentCollection(e).filter((e=>-1!==t.indexOf(e.dimension.memberName))).map((e=>e.headerGroups.toArray())).flat().map((e=>e.header&&e.header.refInstance));if(this.pivotUI.showRowHeaders){let t=this.theadRow.rowDimensionHeaders.find((t=>t.column.field===e.memberName));i.push(t)}let n=this.getLargesContentWidth(i);"auto"===e.width?e.autoWidth=parseFloat(n):e.width=n,this.pipeTrigger++,this.cdr.detectChanges()}}insertDimensionAt(e,t,i){let n=this.getDimensionsByType(t);void 0!==i?n.splice(i,0,e):n.push(e),t===eP.Column&&this.setupColumns(),this.pipeTrigger++,this.dimensionsChange.emit({dimensions:n,dimensionCollectionType:t}),t===eP.Filter&&(this.dimensionDataColumns=this.generateDimensionColumns(),this.reflow()),this.pivotConfigurationChange.emit({pivotConfiguration:this.pivotConfiguration})}moveDimension(e,t,i){let n=this.getDimensionType(e);null!==n&&(this._removeDimensionInternal(e),this.insertDimensionAt(e,t,i),n===eP.Column&&this.setupColumns())}removeDimension(e){let t=this.getDimensionType(e);this._removeDimensionInternal(e),t===eP.Column&&this.setupColumns(),t===eP.Filter&&this.reflow(),this.pipeTrigger++,this.cdr.detectChanges()}toggleDimension(e){let t=this.getDimensionType(e);if(null===t)return;let i=this.getDimensionsByType(t);e.enabled=!e.enabled,t===eP.Column&&this.setupColumns(),!e.enabled&&e.filter&&this.filteringService.clearFilter(e.memberName),this.pipeTrigger++,this.dimensionsChange.emit({dimensions:i,dimensionCollectionType:t}),this.cdr.detectChanges(),t===eP.Filter&&this.reflow(),this.pivotConfigurationChange.emit({pivotConfiguration:this.pivotConfiguration})}insertValueAt(e,t){this.pivotConfiguration.values||(this.pivotConfiguration.values=[]);let i=this.pivotConfiguration.values;void 0!==t?i.splice(t,0,e):i.push(e),this.setupColumns(),this.pipeTrigger++,this.cdr.detectChanges(),this.valuesChange.emit({values:i}),this.pivotConfigurationChange.emit({pivotConfiguration:this.pivotConfiguration})}moveValue(e,t){-1!==this.pivotConfiguration.values.indexOf(e)&&(this.removeValue(e),this.insertValueAt(e,t))}removeValue(e){let t=this.pivotConfiguration.values,i=t.indexOf(e);-1!==i&&(t.splice(i,1),this.setupColumns(),this.pipeTrigger++,this.valuesChange.emit({values:t}),this.pivotConfigurationChange.emit({pivotConfiguration:this.pivotConfiguration}))}toggleValue(e){-1!==this.pivotConfiguration.values.indexOf(e)&&(e.enabled=!e.enabled,this.setupColumns(),this.pipeTrigger++,this.valuesChange.emit({values:this.pivotConfiguration.values}),this.reflow(),this.pivotConfigurationChange.emit({pivotConfiguration:this.pivotConfiguration}))}sortDimension(e,t){let i=this.getDimensionType(e);e.sortDirection=t;let n=e;if(this.pivotUI.rowLayout===tP.Vertical)for(;n.childLevel;)n.childLevel.sortDirection=e.sortDirection,n=n.childLevel;this.pipeTrigger++,this.dimensionsSortingExpressionsChange.emit(this.dimensionsSortingExpressions),i===eP.Column&&this.setupColumns(),this.cdr.detectChanges(),this.pivotConfigurationChange.emit({pivotConfiguration:this.pivotConfiguration})}filterDimension(e,t,i){this.filteringService.filter(e.memberName,t,i),this.getDimensionType(e)===eP.Column&&this.setupColumns(),this.cdr.detectChanges()}getRowDimensionByName(e){let t=this.pivotUI.rowLayout===tP.Vertical?this.pivotConfiguration.rows:nP.flatten(this.pivotConfiguration.rows),i=t.findIndex((t=>t.memberName===e));return t[i]}getDimensionsByType(e){switch(e){case eP.Row:return this.pivotConfiguration.rows||(this.pivotConfiguration.rows=[]),this.pivotConfiguration.rows;case eP.Column:return this.pivotConfiguration.columns||(this.pivotConfiguration.columns=[]),this.pivotConfiguration.columns;case eP.Filter:return this.pivotConfiguration.filters||(this.pivotConfiguration.filters=[]),this.pivotConfiguration.filters;default:return null}}resizeRowDimensionPixels(e,t){e.width&&"string"==typeof e.width&&-1!==e.width.indexOf("%")?e.width=this.reverseDimensionWidthToPercent(t).toFixed(2)+"%":e.width=t+"px",this.pipeTrigger++,this.cdr.detectChanges()}_removeDimensionInternal(e){let t=this.getDimensionType(e);if(null===t)return;let i=this.getDimensionsByType(t),n=i.indexOf(e);i.splice(n,1),this.pipeTrigger++,this.cdr.detectChanges()}getDimensionType(e){return-1!==nP.flatten(this.pivotConfiguration.rows).indexOf(e)?eP.Row:-1!==nP.flatten(this.pivotConfiguration.columns).indexOf(e)?eP.Column:this.pivotConfiguration.filters&&-1!==nP.flatten(this.pivotConfiguration.filters).indexOf(e)?eP.Filter:null}getPivotRowHeaderContentWidth(e){let t=this.getHeaderCellWidth(e.header.refInstance.nativeElement);return t.width+t.padding}getLargesContentWidth(e){let t=new Map;if(e.length>0){let i=[];e.forEach((e=>{e instanceof O2?i.push(this.getPivotRowHeaderContentWidth(e)):i.push(this.getHeaderCellWidth(e.nativeElement).width)}));let n=i.indexOf(Math.max(...i)),r=this.document.defaultView.getComputedStyle(e[n].nativeElement),s=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth);t.set(Math.max(...i),s)}let i=Math.max(...Array.from(t.keys())),n=Math.ceil(i+t.get(i));return Number.isNaN(n)?null:n+"px"}get hasHorizontalLayout(){return this.pivotUI.rowLayout===tP.Horizontal}get hasMultipleValues(){return this.values.length>1}get excelStyleFilterMaxHeight(){return 10*this.renderedRowHeight+"px"}get excelStyleFilterMinHeight(){return 5*this.renderedRowHeight+"px"}get activeDescendant(){let e=this.navigation.activeNode;return this.navigation.isRowHeaderActive||this.navigation.isRowDimensionHeaderActive?e&&Object.keys(e).length?`${this.id}_${e.row}_${e.column}`:this.id:super.activeDescendant}resolveToggle(e,t){if(!e)return;e.hidden=t,this.columnGroupStates.set(e.field,t);let i=this.hasMultipleValues?e.children.filter((e=>e.columnGroup&&e.children.filter((e=>!e.columnGroup)).length===this.values.length)):e.children.filter((e=>!e.columnGroup)),n=this.hasMultipleValues?e.children.filter((e=>e.columnGroup&&0===e.children.filter((e=>!e.columnGroup)).length)):e.children.filter((e=>e.columnGroup));i.forEach((e=>{this.columnGroupStates.get(e.field)||t?e.headerTemplate=this.headerTemplate:e.headerTemplate=void 0})),!e.hidden&&n.length>0&&n.forEach((e=>{let i=this.columnGroupStates.get(e.field)||t;this.resolveToggle(e,i)}))}buildDataView(e){this._dataView=e}getDataBasedBodyHeight(){return(this.dataView?.length||0)<this._defaultTargetRecordNumber?0:this.defaultTargetBodyHeight}horizontalScrollHandler(e){let t=e.target.scrollLeft;this.theadRow.headerContainers.forEach((e=>{e.onHScroll(t)})),super.horizontalScrollHandler(e)}verticalScrollHandler(e){this.verticalRowDimScrollContainers.forEach((t=>{t.onScroll(e)})),super.verticalScrollHandler(e)}autogenerateColumns(){let e=[],t=this.gridAPI.filterDataByExpressions(this.filteringExpressionsTree);this.dimensionDataColumns=this.generateDimensionColumns();let i,n=nP.flatten(this.columnDimensions).filter((e=>e.sortDirection)),r=n.length>0?n5.generateDimensionSortingExpressions(n):[],s=t;if(r.length>0&&(s=DS.sort(RC(t),r,this.sortStrategy,this)),this.pivotConfiguration.columnStrategy&&this.pivotConfiguration.columnStrategy instanceof M3){let e=this.generateDataFields(s);if(0===e.length)return;let t=nP.flatten(this.pivotConfiguration.rows).map((e=>e.memberName)),n=Object.values(this.pivotKeys),r=e.filter((e=>-1===t.indexOf(e)&&-1===n.indexOf(e)&&-1===e.indexOf(this.pivotKeys.rowDimensionSeparator+this.pivotKeys.level)&&-1===e.indexOf(this.pivotKeys.rowDimensionSeparator+this.pivotKeys.records)));i=this.generateFromData(r)}else i=nP.getFieldsHierarchy(s,this.columnDimensions,eP.Column,this.pivotKeys,this.pivotValueCloneStrategy);e=this.generateColumnHierarchy(i,s),this._autoGeneratedCols=e,this.columnGroupStates.forEach(((t,i)=>{if(t){let n=e.find((e=>e.field===i&&e.headerTemplate===this.headerTemplate)),r=e.find((e=>e.field===i&&e.headerTemplate!==this.headerTemplate));this.toggleRowGroup(n,t),r&&(r.headerTemplate=this.headerTemplate)}})),this.updateColumns(e),this.pipeTrigger++,this.reflow()}generateDimensionColumns(){let e=[];return this.allVisibleDimensions.forEach((t=>{let i=Gf(UH,{environmentInjector:this.envInjector,elementInjector:this.injector});i.instance.field=t.memberName,i.instance.header=t.displayName||t.memberName,i.instance.headerTemplate=this.rowDimensionHeaderTemplate,i.instance.resizable=this.rowDimensionResizing,i.instance.sortable=void 0===t.sortable||t.sortable,i.instance.width=this.rowDimensionWidth(t),i.changeDetectorRef.detectChanges(),e.push(i.instance)})),e}calculateGridSizes(e=!0){super.calculateGridSizes(e),this.hasDimensionsToAutosize&&(this.cdr.detectChanges(),this.zone.onStable.pipe(Vn()).subscribe((()=>{requestAnimationFrame((()=>{this.autoSizeDimensionsInView()}))})))}getContentCollection(e){let t;return t=this.hasHorizontalLayout?this.rowDimensionMrlRowsCollection.map((e=>e.contentCells.toArray())).flat().filter((t=>t.rootDimension===e)):this.rowDimensionContentCollection.toArray(),t}autoSizeDimensionsInView(){if(this.hasDimensionsToAutosize){for(let e of this.visibleRowDimensions)if("auto"===e.width){let t=[],i=nP.flatten([e]).map((e=>e.memberName));if(this.getContentCollection(e).filter((e=>-1!==i.indexOf(e.dimension.memberName))).map((e=>e.headerGroups.toArray())).flat().map((e=>e.header&&e.header.refInstance)).forEach((e=>t.push(e?.nativeElement?.offsetWidth||0))),this.pivotUI.showRowHeaders){let i=this.theadRow.rowDimensionHeaders.find((t=>t.column.field===e.memberName));t.push(parseFloat(this.getLargesContentWidth([i])))}if(0===Math.max(...t))continue;let n=Math.ceil(Math.max(...t));e.autoWidth=n}this.isColumnWidthSum&&(this.calcWidth=this.getColumnWidthSum())}}get hasDimensionsToAutosize(){return this.rowDimensions.some((e=>"auto"===e.width&&!e.autoWidth))}generateFromData(e){let t=this.pivotKeys.columnDimensionSeparator,i=e.map((e=>e.split(t))).sort((e=>e.length)),n=new Map,r=nP.flatten(this.columnDimensions);return i.forEach((e=>{let i=n,s=[],o=0;for(let n of e){s.push(n);let e=s.join(t),a=i.get(e);if(!a){let t=r[o];i.set(e,{value:e,expandable:!!t.childLevel,children:new Map,dimension:t}),a=i.get(e)}i=a.children,o++}})),n}generateColumnHierarchy(e,t,i=null){let n=[];return 0===e.size?(this.values.forEach((e=>{let r=Gf(UH,{environmentInjector:this.envInjector,elementInjector:this.injector}),s=e.dataType||this.resolveDataTypes(t.length?t[0][e.member]:null);"count"===e.aggregate?.key?.toLowerCase()&&(s===bS.Currency||s==bS.Percent)&&(s=bS.Number),r.instance.header=e.displayName,r.instance.field=e.member,r.instance.parent=i,r.instance.sortable=!0,r.instance.dataType=s,r.instance.formatter=e.formatter,n.push(r.instance)})),n):(e.forEach((e=>{let r=!0;if(0===t.length&&(r=!1),!r||null!=e.children&&0!==e.children.length&&0!==e.children.size){if(r){let r=this.createColumnForDimension(e,t,i,!0);e.expandable&&(r.headerTemplate=this.headerTemplate);let s=this.generateColumnHierarchy(e.children,t,r),o=s.filter((e=>e.level===r.level+1));if(n.push(r),this.hasMultipleValues){let a=this.getMeasureChildren(t,r,!0,e.dimension.width),l=o;if(r.children.reset(l),n=n.concat(s),e.dimension.childLevel){let r=this.createColumnForDimension(e,t,i,!0);n.push(r),a=this.getMeasureChildren(t,r,!1,e.dimension?.width),r.children.reset(a),n=n.concat(a)}}else if(r.children.reset(o),n=n.concat(s),e.dimension.childLevel){let r=this.createColumnForDimension(e,t,i,!1);n.push(r)}}}else{let r=this.createColumnForDimension(e,t,i,this.hasMultipleValues);if(!this.hasMultipleValues&&this.values.length>0&&nP.updateColumnTypeByAggregator([r],this.values[0],!0),n.push(r),this.hasMultipleValues){let i=this.getMeasureChildren(t,r,!1,e.dimension.width);i.forEach(((e,t)=>{let i=this.values[t];nP.updateColumnTypeByAggregator([e],i,1===this.values.length)})),r.children.reset(i),n=n.concat(i)}}})),n)}generateConfig(){if(!this.data)return;let e=this.data,t=this.generateDataFields(e),i=[],n=[],r=[],s=!0;t.forEach((t=>{let o=this.resolveDataTypes(e[0][t]);switch(o){case"number":{let e={member:t,displayName:t,dataType:o,aggregate:{key:"sum",label:"Sum",aggregatorName:"SUM"},enabled:!0};r.push(e);break}case"date":{let e=new b5({memberName:t,enabled:s,dataType:o});n.push(e),s=!1;break}default:{let e={memberName:t,enabled:!1,dataType:o};i.push(e);break}}}));let o={columns:i,rows:n,values:r};this.pivotConfiguration=o}createColumnForDimension(e,t,i,n){let r=e.value,s=Gf(n?XH:UH,{environmentInjector:this.envInjector,elementInjector:this.injector});s.instance.header=null!=i?r.split(i.header+this.pivotKeys.columnDimensionSeparator)[1]:r,s.instance.field=r,s.instance.parent=i,e.dimension.width&&(s.instance.width=e.dimension.width);let o=this.values[0];return s.instance.dataType=o?.dataType||this.resolveDataTypes(t[0][o?.member]),s.instance.formatter=o?.formatter,s.instance.sortable=!0,s.changeDetectorRef.detectChanges(),s.instance}resolveColumnDimensionWidth(e){return e.width?e.width:this.minColumnWidth+"px"}getMeasureChildren(e,t,i,n){let r=[],s=this.values.length,o=parseInt(n,10)/s,a=n&&-1!==n.indexOf("%"),l=n&&-1!==n.indexOf("auto");return this.values.forEach((s=>{let d=Gf(UH,{environmentInjector:this.envInjector,elementInjector:this.injector});d.instance.header=s.displayName||s.member,d.instance.field=t.field+this.pivotKeys.columnDimensionSeparator+s.member,d.instance.parent=t,n&&(d.instance.width=l?"auto":a?o+"%":o+"px"),d.instance.hidden=i,d.instance.sortable=this._sortableColumns,d.instance.dataType=s.dataType||this.resolveDataTypes(e[0][s.member]),d.instance.formatter=s.formatter,d.changeDetectorRef.detectChanges(),r.push(d.instance)})),r}get template(){return 0===this.rowDimensions.concat(this.columnDimensions).length&&0===this.values.length?this.emptyPivotGridTemplate||this.defaultEmptyPivotGridTemplate:super.template}emitInitEvents(e){nP.flatten(this.allDimensions).forEach((e=>{this.dimensionInit.emit(e)})),e?.values?.forEach((e=>{this.valueInit.emit(e)}))}rowDimensionByName(e){return this.visibleRowDimensions.find((t=>t.memberName===e))}calculateResizerTop(){return this.pivotUI.showRowHeaders?(this.theadRow.pivotFilterContainer?.nativeElement.offsetHeight||0)+(this.theadRow.pivotRowContainer?.nativeElement.offsetHeight||0):this.theadRow.nativeElement.offsetHeight}updateDefaultRowHeight(){super.updateDefaultRowHeight(),this.hasHorizontalLayout&&this.regroupTrigger++}createRow(e,t){let i,n=this._getDataViewIndex(e),r=t??this.dataView[n];return!i&&r&&(i=new class{constructor(e,t,i){this.grid=e,this.index=t,this._data=i&&i.addRow&&i.recordRef?i.recordRef:i}get data(){return this._data??this.grid.dataView[this.index]}get viewIndex(){return this.index+this.grid.page*this.grid.perPage}get key(){let e=this.grid.visibleRowDimensions[this.grid.visibleRowDimensions.length-1];return nP.getRecordKey(this.data,e)||null}get selected(){return this.grid.selectionService.isRowSelected(this.key)}set selected(e){e?this.grid.selectionService.selectRowsWithNoEvent([this.key]):this.grid.selectionService.deselectRowsWithNoEvent([this.key]),this.grid.cdr.markForCheck()}}(this,e,r)),i}static{this.ɵfac=function(t){return new(t||e)(lu(TX),lu(rP),lu(u2),lu(rQ),lu(jI),lu(zl),lu(Il),lu(Kf),lu(Cf),lu(Pf),lu(Su),lu(hl),lu(vs),lu(z3),lu(OU),lu(Mx),lu(zI),lu(RX),lu(uf),lu(NC),lu(EX,8))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-pivot-grid"]],contentQueries:function(e,t,i){if(1&e&&(gm(i,r5,5,r5),gm(i,s5,5,s5)),2&e){let e;mm(e=fm())&&(t.valueChipTemplateDirective=e.first),mm(e=fm())&&(t.rowDimensionHeaderDirective=e.first)}},viewQuery:function(e,t){if(1&e&&(pm(V3,7),pm(R5,7,jh),pm(A5,7,jh),pm(e5,5),pm(k5,7,jh),pm(O5,5,zl),pm(Xj,5,Xj),pm(J3,5),pm(F5,5,nO),pm(I5,5)),2&e){let e;mm(e=fm())&&(t.theadRow=e.first),mm(e=fm())&&(t.recordTemplate=e.first),mm(e=fm())&&(t.headerTemplate=e.first),mm(e=fm())&&(t.resizeLine=e.first),mm(e=fm())&&(t.defaultEmptyPivotGridTemplate=e.first),mm(e=fm())&&(t.rowDimensionContainer=e),mm(e=fm())&&(t.excelStyleFilteringComponents=e),mm(e=fm())&&(t.rowDimensionContentCollection=e),mm(e=fm())&&(t.verticalRowDimScrollContainers=e),mm(e=fm())&&(t.rowDimensionMrlRowsCollection=e)}},hostVars:4,hostBindings:function(e,t){2&e&&($g("role",t.role)("id",t.id),ap("igx-grid__pivot--super-compact",t.superCompactMode))},inputs:{valueChipTemplate:"valueChipTemplate",rowDimensionHeaderTemplate:"rowDimensionHeaderTemplate",pivotConfiguration:"pivotConfiguration",autoGenerateConfig:[2,"autoGenerateConfig","autoGenerateConfig",Hf],pivotUI:"pivotUI",superCompactMode:"superCompactMode",pivotValueCloneStrategy:"pivotValueCloneStrategy",addRowEmptyTemplate:"addRowEmptyTemplate",autoGenerateExclude:"autoGenerateExclude",snackbarDisplayTime:"snackbarDisplayTime",defaultExpandState:[2,"defaultExpandState","defaultExpandState",Hf],pagingMode:"pagingMode",hideRowSelectors:[2,"hideRowSelectors","hideRowSelectors",Hf],rowDraggable:[2,"rowDraggable","rowDraggable",Hf],allowAdvancedFiltering:[2,"allowAdvancedFiltering","allowAdvancedFiltering",Hf],filterMode:"filterMode",allowFiltering:[2,"allowFiltering","allowFiltering",Hf],page:"page",perPage:"perPage",summaryRowHeight:"summaryRowHeight",rowEditable:[2,"rowEditable","rowEditable",Hf],pinning:"pinning",summaryPosition:"summaryPosition",summaryCalculationMode:"summaryCalculationMode",showSummaryOnCollapse:[2,"showSummaryOnCollapse","showSummaryOnCollapse",Hf],batchEditing:[2,"batchEditing","batchEditing",Hf],id:"id",data:"data",totalRecords:"totalRecords",emptyPivotGridTemplate:"emptyPivotGridTemplate"},outputs:{dimensionsChange:"dimensionsChange",pivotConfigurationChange:"pivotConfigurationChange",dimensionInit:"dimensionInit",valueInit:"valueInit",dimensionsSortingExpressionsChange:"dimensionsSortingExpressionsChange",valuesChange:"valuesChange",cellEdit:"cellEdit",cellEditDone:"cellEditDone",cellEditEnter:"cellEditEnter",cellEditExit:"cellEditExit",columnMovingStart:"columnMovingStart",columnMoving:"columnMoving",columnMovingEnd:"columnMovingEnd",columnPin:"columnPin",columnPinned:"columnPinned",rowAdd:"rowAdd",rowAdded:"rowAdded",rowDeleted:"rowDeleted",rowDelete:"rowDelete",rowDragStart:"rowDragStart",rowDragEnd:"rowDragEnd",rowEditEnter:"rowEditEnter",rowEdit:"rowEdit",rowEditDone:"rowEditDone",rowEditExit:"rowEditExit",rowPinning:"rowPinning",rowPinned:"rowPinned"},features:[Pm([HF,TX,RX,rP,mU,rQ,{provide:BF,useClass:rQ},{provide:zF,useExisting:e},{provide:OU,useClass:B3},z3,u2,Zk,Xk]),dg,po],ngContentSelectors:V5,decls:77,vars:135,consts:[["tbody",""],["verticalScrollContainer",""],["record_template",""],["loadingOverlay",""],["verticalScrollHolder",""],["addRowSnackbar",""],["igxBodyOverlayOutlet","overlay-outlet"],["scr",""],["scrollContainer",""],["tfoot",""],["footer",""],["emptyFilteredGrid",""],["defaultEmptyGrid",""],["defaultLoadingGrid",""],["igxLoadingOverlayOutlet",""],["igxFilteringOverlayOutlet",""],["headerTemplate",""],["defaultRowDimensionsTemplate",""],["horizontalRowDimensionsTemplate",""],["emptyRowDimensionsTemplate",""],["emptyPivotGridTemplate",""],["emptyRowDimensionFill",""],["row",""],["rowDimensionContainer",""],["verticalRowDimScrollContainer",""],["sink",""],["tabindex","0",1,"igx-grid-thead","igx-grid-thead--pivot",3,"keydown.meta.c","keydown.control.c","copy","keydown","scroll","grid","hasMRL","activeDescendant","width","pinnedColumnCollection","unpinnedColumnCollection"],["igxGridBody","","role","rowgroup",1,"igx-grid__tbody",3,"keydown.control.c","copy"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["tabindex","0",1,"igx-grid__tbody-content",3,"keydown","focus","dragStop","scroll","dragScroll","igxGridDragSelect"],["id","left",1,"igx-grid__scroll-on-drag-left",3,"igxColumnMovingDrop"],["id","left",1,"igx-grid__scroll-on-drag-pinned",3,"igxColumnMovingDrop","left"],["igxGridFor","",3,"dataChanging","dataChanged","igxGridForOf","igxForScrollOrientation","igxForScrollContainer","igxForContainerSize","igxForItemSize","igxGridForOfVariableSizes"],["igxToggle",""],[3,"indeterminate"],["id","right",1,"igx-grid__scroll-on-drag-right",3,"igxColumnMovingDrop"],[1,"igx-grid__tbody-scrollbar",3,"pointerdown","hidden"],[1,"igx-grid__tbody-scrollbar-start"],[1,"igx-grid__tbody-scrollbar-main"],["igxGridFor","",3,"igxGridForOf"],[1,"igx-grid__tbody-scrollbar-end"],[1,"igx-grid__addrow-snackbar"],[3,"outlet","actionText","displayTime"],["igxOverlayOutlet",""],[1,"igx-grid__scroll",3,"pointerdown","hidden"],[1,"igx-grid__scroll-start"],[1,"igx-grid__scroll-main"],[1,"igx-grid__scroll-end",3,"hidden"],["role","rowgroup",1,"igx-grid__tfoot"],[1,"igx-grid__footer"],[3,"restrictResizerTop"],["igxOverlayOutlet","",1,"igx-grid__loading-outlet"],["igxOverlayOutlet","",1,"igx-grid__outlet"],[3,"hidden"],[3,"maxHeight","minHeight"],["igxExcelStyleColumnOperations","",3,"hidden"],[2,"display","none"],["id","left",1,"igx-grid__scroll-on-drag-pinned",3,"igxColumnMovingDrop"],[3,"cachedViewLoaded","igxTemplateOutlet","igxTemplateOutletContext"],[3,"gridID","index","data","ngClass","ngStyle"],["role","cell",1,"igx-grid__tbody-message"],[1,"igx-grid__loading"],[1,"igx-grid__tr--header"],["family","default",3,"click","name"],["tabindex","0","role","rowgroup",1,"igx-grid__tbody-pivot-dimension",3,"height"],["tabindex","0","role","rowgroup",1,"igx-grid__tbody-pivot-dimension",3,"focus","keydown"],["igxGridFor","",3,"igxGridForOf","igxForScrollOrientation","igxForScrollContainer","igxForContainerSize","igxForItemSize","igxForSizePropName"],["role","row",1,"igx-grid-thead",3,"grid","dimension","rootDimension","rowIndex","rowData","width"],["tabindex","0",1,"igx-grid__tbody-pivot-mrl-dimension",3,"focus","keydown"],["role","rowgroup","igxGridFor","",3,"igxGridForOf","igxForScrollOrientation","igxForScrollContainer","igxForContainerSize","igxForItemSize","igxForSizePropName"],[3,"rowIndex","rowGroup","groupedData"],[1,"igx-pivot-grid-row-filler__wrapper",3,"height","width"],[1,"igx-pivot-grid-row-filler__wrapper"],[1,"igx-grid-thead__wrapper"],[1,"igx-grid-th"]],template:function(e,t){if(1&e){let e=Kp();lm(P5),dm(0),Lp(1,"igx-pivot-header-row",26),rm("keydown.meta.c",(function(i){return Ko(e),jo(t.copyHandler(i))}))("keydown.control.c",(function(i){return Ko(e),jo(t.copyHandler(i))}))("copy",(function(i){return Ko(e),jo(t.copyHandler(i))}))("keydown",(function(i){return Ko(e),jo(t.navigation.headerNavigation(i))}))("scroll",(function(i){return Ko(e),jo(t.preventHeaderScroll(i))})),Np(),Lp(2,"div",27),rm("keydown.control.c",(function(i){return Ko(e),jo(t.copyHandler(i))}))("copy",(function(i){return Ko(e),jo(t.copyHandler(i))})),bg(3,$5,1,0,"ng-container",28),Lp(4,"div",29,0),rm("keydown",(function(i){return Ko(e),jo(t.navigation.handleNavigation(i))}))("focus",(function(i){return Ko(e),jo(t.navigation.focusTbody(i))}))("dragStop",(function(i){return Ko(e),jo(t.selectionService.dragMode=i)}))("scroll",(function(i){return Ko(e),jo(t.preventContainerScroll(i))}))("dragScroll",(function(i){return Ko(e),jo(t.dragScroll(i))})),bg(6,W5,1,2,"span",30)(7,K5,1,4,"span",31)(8,U5,1,2,"ng-template",32,1,sf),Xm(10,"pivotGridFilter"),Xm(11,"pivotGridSort"),Xm(12,"pivotGridRow"),Xm(13,"pivotGridColumn"),Xm(14,"pivotGridAutoTransform"),Xm(15,"pivotGridColumnSort"),Xm(16,"pivotGridRowExpansion"),rm("dataChanging",(function(i){return Ko(e),jo(t.dataRebinding(i))}))("dataChanged",(function(i){return Ko(e),jo(t.dataRebound(i))})),bg(17,q5,4,35,"ng-template",null,2,sf)(19,Y5,1,0,"ng-container",28),Np(),Lp(20,"div",33,3),bg(22,Z5,1,1,"igx-circular-bar",34),Np(),bg(23,X5,1,2,"span",35),Lp(24,"div",36),rm("pointerdown",(function(t){return Ko(e),jo(t.preventDefault())})),Hp(25,"div",37),Lp(26,"div",38),bg(27,Q5,0,0,"ng-template",39,4,sf),Np(),Hp(29,"div",40),Np(),Lp(30,"div",41)(31,"igx-snackbar",42,5),ym(33),Np()(),Hp(34,"div",43,6),Np(),Lp(36,"div",44,7),rm("pointerdown",(function(t){return Ko(e),jo(t.preventDefault())})),Hp(38,"div",45),Lp(39,"div",46),bg(40,J5,0,0,"ng-template",39,8,sf),Np(),Hp(42,"div",47),Np(),Hp(43,"div",48,9),Lp(45,"div",49,10),dm(47,1),Np(),bg(48,e4,3,1,"ng-template",null,11,sf)(50,t4,3,1,"ng-template",null,12,sf)(52,i4,2,1,"ng-template",null,13,sf)(54,n4,1,1,"igx-pivot-grid-column-resizer",50),Hp(55,"div",51,14)(57,"div",52,15),bg(59,r4,3,3,"ng-template",null,16,sf)(61,l4,2,0,"ng-template",null,17,sf)(63,u4,5,13,"ng-template",null,18,sf)(65,m4,4,6,"ng-template",null,19,sf)(67,f4,3,1,"ng-template",null,20,sf)(69,y4,1,1,"ng-template",null,21,sf),Lp(71,"div",53)(72,"igx-grid-excel-style-filtering",54),Hp(73,"div",55),Lp(74,"igx-excel-style-filter-operations"),Hp(75,"igx-excel-style-search"),Np()()(),bg(76,x4,3,0,"div",56)}if(2&e){let e=vm(35),i=vm(62),n=vm(64),r=vm(66);Hc(),rp("grid",t)("hasMRL",t.hasColumnLayouts)("activeDescendant",t.activeDescendant)("width",t.calcWidth)("pinnedColumnCollection",t.pinnedColumns)("unpinnedColumnCollection",t.unpinnedColumns),Hc(2),rp("ngTemplateOutlet",t.rowDimensions.length?t.hasHorizontalLayout?n:i:r)("ngTemplateOutletContext",t),Hc(),op("height",t.totalHeight,"px")("width",t.pivotContentCalcWidth||null,"px")("width",t.platform.isBrowser?void 0:"100%"),rp("igxGridDragSelect",t.selectionService.dragMode),$g("role",t.dataView.length?null:"row")("aria-activedescendant",t.activeDescendant),Hc(2),Ip(t.hasMovableColumns&&t.columnInDrag&&t.pinnedColumns.length<=0?6:-1),Hc(),Ip(t.hasMovableColumns&&t.columnInDrag&&t.pinnedColumns.length>0?7:-1),Hc(),rp("igxGridForOf",nf(16,99,zm(126,L5,tf(15,94,ef(14,90,nf(13,83,Bm(119,M5,nf(12,76,Bm(112,M5,tf(11,71,nf(10,64,Bm(105,M5,t.renderData,t.pivotConfiguration,t.filterStrategy,t.advancedFilteringExpressionsTree,t.filteringPipeTrigger,t.pipeTrigger)),t.pivotConfiguration,t.sortStrategy,t.pipeTrigger),t.pivotConfiguration,t.pivotValueCloneStrategy,t.expansionStates,t.pipeTrigger,t.sortingExpressions)),t.pivotConfiguration,t.pivotValueCloneStrategy,t.expansionStates,t.pipeTrigger,t.sortingExpressions)),t.pivotConfiguration,t.pipeTrigger),t.sortingExpressions,t.sortStrategy,t.pipeTrigger),t.pivotConfiguration,t.expansionStates,t.defaultExpandState,t.pipeTrigger)))("igxForScrollOrientation","vertical")("igxForScrollContainer",t.verticalScroll)("igxForContainerSize",t.calcHeight)("igxForItemSize",t.hasColumnLayouts?t.rowHeight*t.multiRowLayoutRowSize+1:t.renderedRowHeight)("igxGridForOfVariableSizes",!1),Hc(11),rp("ngTemplateOutlet",t.template)("ngTemplateOutletContext",Mm(132,N5,t)),Hc(3),Ip(t.shouldOverlayLoading?22:-1),Hc(),Ip(t.hasMovableColumns&&t.columnInDrag?23:-1),Hc(),op("width",t.scrollSize,"px"),rp("hidden",!t.hasVerticalScroll()),Hc(),op("height",t.isRowPinningToTop?t.pinnedRowHeight:0,"px"),Hc(),op("height",t.calcHeight,"px"),Hc(),rp("igxGridForOf",Vm(134,H5)),Hc(2),op("height",t.isRowPinningToTop?0:t.pinnedRowHeight,"px"),Hc(2),rp("outlet",e)("actionText",t.resourceStrings.igx_grid_snackbar_addrow_actiontext)("displayTime",t.snackbarDisplayTime),Hc(2),_m(t.resourceStrings.igx_grid_snackbar_addrow_label),Hc(3),op("height",t.scrollSize,"px"),rp("hidden",t.isHorizontalScrollHidden),Hc(2),op("width",t.pivotPinnedWidth,"px")("min-width",t.pivotPinnedWidth,"px"),Hc(),op("width",t.pivotUnpinnedWidth,"px"),Hc(),rp("igxGridForOf",t.EMPTY_DATA),Hc(2),op("width",t.pivotPinnedWidth,"px")("min-width",t.pivotPinnedWidth,"px"),rp("hidden",0===t.pivotPinnedWidth||t.isPinningToStart),Hc(12),Ip(t.colResizingService.showResizer?54:-1),Hc(17),rp("hidden",!0),Hc(),rp("maxHeight",t.excelStyleFilterMaxHeight)("minHeight",t.excelStyleFilterMinHeight),Hc(),rp("hidden",!0),Hc(3),Ip(t.platform.isElements?76:-1)}},dependencies:[jv,Uv,qv,V3,HZ,J1,ZU,nO,wO,S5,SO,wW,xX,DO,e5,DA,J3,Xj,Yj,Zj,Ij,hY,uY,o5,l5,a5,u5,g5,m5,p5,d5,c5,I5],encapsulation:2,changeDetection:0})}}return Hi([PH()],e.prototype,"hideRowSelectors",null),Hi([PH()],e.prototype,"rowEditable",null),e})(),C4=(()=>{class e{get options(){return this._options}set options(e){Object.assign(this._options,e),this.grid instanceof h2?delete this._options.rowIslands:delete this._options.groupBy}constructor(e,t,i,n){this.grid=e,this.viewRef=t,this.envInjector=i,this.injector=n,this.featureKeys=[],this._options={columns:!0,filtering:!0,advancedFiltering:!0,sorting:!0,groupBy:!0,paging:!0,cellSelection:!0,rowSelection:!0,columnSelection:!0,rowPinning:!0,expansion:!0,moving:!0,rowIslands:!0,pivotConfiguration:!0},this.FEATURES={sorting:{getFeatureState:e=>{let t=e.currGrid.sortingExpressions;return t.forEach((e=>{delete e.strategy,delete e.owner})),{sorting:t}},restoreFeatureState:(e,t)=>{e.currGrid.sortingExpressions=t}},filtering:{getFeatureState:e=>{let t=e.currGrid.filteringExpressionsTree;if(t){delete t.owner;for(let e of t.filteringOperands)delete e.owner}return{filtering:t}},restoreFeatureState:(e,t)=>{let i=e.createExpressionsTreeFromObject(t);e.currGrid.filteringExpressionsTree=i}},advancedFiltering:{getFeatureState:e=>{let t,i=e.currGrid.advancedFilteringExpressionsTree;if(i){delete i.owner;for(let e of i.filteringOperands)delete e.owner;t=i}else t={};return{advancedFiltering:t}},restoreFeatureState:(e,t)=>{let i=e.createExpressionsTreeFromObject(t);e.currGrid.advancedFilteringExpressionsTree=i}},columns:{getFeatureState:e=>({columns:e.currGrid.columns.map((e=>({pinned:e.pinned,sortable:e.sortable,filterable:e.filterable,editable:e.editable,sortingIgnoreCase:e.sortingIgnoreCase,filteringIgnoreCase:e.filteringIgnoreCase,headerClasses:e.headerClasses,headerGroupClasses:e.headerGroupClasses,maxWidth:e.maxWidth,groupable:e.groupable,hidden:e.hidden,dataType:e.dataType,hasSummary:e.hasSummary,field:e.field,width:e.width,header:e.header,resizable:e.resizable,searchable:e.searchable,selectable:e.selectable,key:e.columnGroup?this.getColumnGroupKey(e):e.field,parentKey:e.parent?this.getColumnGroupKey(e.parent):void 0,columnGroup:e.columnGroup,columnLayout:e.columnLayout||void 0,rowStart:e.parent?.columnLayout?e.rowStart:void 0,rowEnd:e.parent?.columnLayout?e.rowEnd:void 0,colStart:e.parent?.columnLayout?e.colStart:void 0,colEnd:e.parent?.columnLayout?e.colEnd:void 0,disableHiding:e.disableHiding,disablePinning:e.disablePinning,collapsible:e.columnGroup?e.collapsible:void 0,expanded:e.columnGroup?e.expanded:void 0,visibleWhenCollapsed:e.parent?.columnGroup?e.visibleWhenCollapsed:void 0})))}),restoreFeatureState:(e,t)=>{let i=[];t.forEach((t=>{let n=t.columnGroup,r=t.columnLayout;if(delete t.columnGroup,delete t.columnLayout,n){let n=e.currGrid.columns.find((e=>e.columnGroup&&(t.key?this.getColumnGroupKey(e)===t.key:e.header===t.header)));if(n)n.children.reset([]);else{let e=Gf(r?tz:XH,{environmentInjector:this.envInjector,elementInjector:this.injector});n=e.instance,e.changeDetectorRef.detectChanges()}if(Object.assign(n,t),n.grid=e.currGrid,t.parent||t.parentKey){let e=i.find((e=>e.columnGroup&&(e.key?e.key===t.parentKey:e.header===n.parent)));e.children.reset([...e.children.toArray(),n]),n.parent=e}n.cdr.detectChanges(),i.push(n)}else{let n=e.currGrid.columns.find((e=>!e.columnGroup&&e.field===t.field));if(!n){let e=Gf(UH,{environmentInjector:this.envInjector,elementInjector:this.injector});n=e.instance,e.changeDetectorRef.detectChanges()}if(Object.assign(n,t),n.grid=e.currGrid,t.parent||t.parentKey){let e=i.find((e=>e.columnGroup&&(e.key?e.key===t.parentKey:e.header===n.parent)));e&&(n.parent=e,e.children.reset([...e.children.toArray(),n]))}n.cdr.detectChanges(),i.push(n)}})),e.currGrid.updateColumns(i),i.forEach((t=>{e.currGrid.columnInit.emit(t)}))}},groupBy:{getFeatureState:e=>{let t=e.currGrid,i=t.groupingExpressions;return i.forEach((e=>{delete e.strategy})),{groupBy:{expressions:i,expansion:t.groupingExpansionState,defaultExpanded:t.groupsExpanded}}},restoreFeatureState:(e,t)=>{let i=e.currGrid;i.groupingExpressions=t.expressions,t.expansion.forEach((e=>{e.hierarchy.forEach((e=>{let t=i.columns.find((t=>t.field===e.fieldName)).dataType;(t.includes(bS.Date)||t.includes(bS.Time))&&(e.value=e.value?new Date(Date.parse(e.value)):e.value)}))})),i.groupsExpanded!==t.defaultExpanded&&i.toggleAllGroupRows(),i.groupingExpansionState=t.expansion}},paging:{getFeatureState:e=>({paging:e.currGrid.pagingState}),restoreFeatureState:(e,t)=>{e.currGrid.paginator&&(e.currGrid.perPage!==t.recordsPerPage&&(e.currGrid.perPage=t.recordsPerPage,e.currGrid.cdr.detectChanges()),e.currGrid.page=t.index)}},moving:{getFeatureState:e=>({moving:e.currGrid.moving}),restoreFeatureState:(e,t)=>{e.currGrid.moving=t}},rowSelection:{getFeatureState:e=>({rowSelection:e.currGrid.selectionService.getSelectedRows()}),restoreFeatureState:(e,t)=>{e.currGrid.selectRows(t,!0)}},cellSelection:{getFeatureState:e=>({cellSelection:e.currGrid.getSelectedRanges().map((e=>({rowStart:e.rowStart,rowEnd:e.rowEnd,columnStart:e.columnStart,columnEnd:e.columnEnd})))}),restoreFeatureState:(e,t)=>{t.forEach((t=>{let i={rowStart:t.rowStart,rowEnd:t.rowEnd,columnStart:t.columnStart,columnEnd:t.columnEnd};e.currGrid.selectRange(i)}))}},columnSelection:{getFeatureState:e=>({columnSelection:e.currGrid.selectedColumns().map((e=>e.field))}),restoreFeatureState:(e,t)=>{e.currGrid.deselectAllColumns(),e.currGrid.selectColumns(t)}},rowPinning:{getFeatureState:e=>({rowPinning:e.currGrid.pinnedRows?.map((e=>e.key))}),restoreFeatureState:(e,t)=>{e.currGrid.pinnedRows.forEach((e=>e.unpin())),t.forEach((t=>e.currGrid.pinRow(t)))}},pinningConfig:{getFeatureState:e=>({pinningConfig:e.currGrid.pinning}),restoreFeatureState:(e,t)=>{e.currGrid.pinning=t}},expansion:{getFeatureState:e=>({expansion:Array.from(e.currGrid.expansionStates)}),restoreFeatureState:(e,t)=>{let i=new Map(t);e.currGrid.expansionStates=i}},rowIslands:{getFeatureState(e){let t=[],i=e.currGrid.allLayoutList;return i&&i.forEach((i=>{i.rowIslandAPI.getChildGrids().forEach((n=>{let r=this.getParentRowID(n);if(e.currGrid=n,e.currGrid){let n=e.buildState(e.featureKeys);t.push({id:`${i.id}`,parentRowID:r,state:n})}}))})),e.currGrid=e.grid,{rowIslands:t}},restoreFeatureState(e,t){let i=e.currGrid.allLayoutList;i&&i.forEach((i=>{i.rowIslandAPI.getChildGrids().forEach((n=>{let r=this.getParentRowID(n);e.currGrid=n;let s=t.find((e=>e.id===i.id&&e.parentRowID===r));s&&e.currGrid&&e.restoreGridState(s.state,e.featureKeys)}))})),e.currGrid=e.grid},getParentRowID:e=>{let t;for(;e.parent;)t=e,e=e.parent;return e.gridAPI.getParentRowId(t)}},pivotConfiguration:{getFeatureState(e){let t=e.currGrid.pivotConfiguration;if(!(t&&e.currGrid instanceof w4))return{pivotConfiguration:void 0};let i=FC(t);return i.rows=RC(t.rows,!0),i.columns=RC(t.columns,!0),i.filters=RC(t.filters,!0),[...i.rows||[],...i.columns||[],...i.filters||[]].filter((t=>e.isDateDimension(t)))?.forEach((e=>{e.resourceStrings={}})),{pivotConfiguration:i}},restoreFeatureState(e,t){let i=t;!i||!(e.currGrid instanceof w4)||(e.restoreValues(i,e.currGrid),e.restoreDimensions(i),e.currGrid.pivotConfiguration=i)}}}}getStateInternal(e=!0,t){let i;return this.currGrid=this.grid,this.state=i=this.buildState(t),e&&(i=JSON.stringify(i,this.stringifyCallback)),i}setStateInternal(e,t){this.state=e,this.currGrid=this.grid,this.restoreGridState(e,t),this.grid.cdr.detectChanges()}buildState(e){this.applyFeatures(e);let t={};return this.featureKeys.forEach((e=>{if(this.options[e]){if(!(this.grid instanceof h2)&&"groupBy"===e)return;let i=this.getFeature(e)?.getFeatureState(this);t=Object.assign(t,i)}})),t}restoreGridState(e,t){this.applyFeatures(t),this.restoreFeatures(e)}restoreFeatures(e){this.featureKeys.forEach((t=>{if(this.options[t]){let i=e[t];("moving"===t||i)&&this.getFeature(t).restoreFeatureState(this,i)}}))}applyFeatures(e){if(this.featureKeys=[],e)Array.isArray(e)?this.featureKeys=[...e]:this.featureKeys.push(e);else for(let e of Object.keys(this.options))this.featureKeys.push(e)}restoreDimensions(e){let t=[e.rows,e.columns,e.filters];for(let e of t)for(let t=0;t<e?.length;t++){let i=e[t];this.isDateDimension(i)&&this.restoreDateDimension(i),i.filter&&(i.filter=this.createExpressionsTreeFromObject(i.filter))}}restoreDateDimension(e){let t=new b5(e._baseDimension,e._options);e.resourceStrings=t.resourceStrings,e.memberFunction=t.memberFunction;let i=e,n=t;for(;i.childLevel;)i=i.childLevel,n=n.childLevel,i.memberFunction=n.memberFunction}isDateDimension(e){return e._baseDimension}restoreValues(e,t){let i=e.values;for(let e of i){let i=e.aggregateList,n=nP.getAggregatorsForValue(e,t);if(e.aggregate.aggregator=n.find((t=>t.key===e.aggregate.key&&t.label===e.aggregate.label))?.aggregator,i)for(let e of i)e.aggregator=n.find((t=>t.key===e.key&&t.label===e.label))?.aggregator}}createExpressionsTreeFromObject(e){return e&&e.filteringOperands?this.currGrid instanceof w4?KS(e,this.currGrid.allDimensions.map((e=>({dataType:e.dataType,field:e.memberName})))):KS(e,this.currGrid.columns):null}stringifyCallback(e,t){return"searchVal"===e&&t instanceof Set?Array.from(t):t}getColumnGroupKey(e){return e.childColumns.map((e=>e.columnGroup?e.level+"_"+this.getColumnGroupKey(e):e.field)).sort().join("_")}getFeature(e){return this.FEATURES[e]}static{this.ɵfac=function(t){return new(t||e)(lu(zF,9),lu(Su),lu(vs),lu(hl))}}static{this.ɵdir=rg({type:e,inputs:{options:"options"}})}}return e})(),S4=["*"],b4=(()=>{class e{static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵdir=rg({type:e,selectors:[["","excelText",""],["excel-text"]]})}}return e})(),D4=(()=>{class e{static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵdir=rg({type:e,selectors:[["","csvText",""],["csv-text"]]})}}return e})(),E4=(()=>{class e{constructor(){this.cssClass="igx-grid-toolbar__title"}static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-grid-toolbar-title"]],hostVars:2,hostBindings:function(e,t){2&e&&ap("igx-grid-toolbar__title",t.cssClass)},ngContentSelectors:S4,decls:1,vars:0,template:function(e,t){1&e&&(lm(),dm(0))},encapsulation:2})}}return e})(),T4=(()=>{class e{constructor(){this.cssClass="igx-grid-toolbar__actions"}static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-grid-toolbar-actions"]],hostVars:2,hostBindings:function(e,t){2&e&&ap("igx-grid-toolbar__actions",t.cssClass)},ngContentSelectors:S4,decls:1,vars:0,template:function(e,t){1&e&&(lm(),dm(0))},encapsulation:2})}}return e})(),I4=(()=>{class e{constructor(e){this.template=e}static ngTemplateContextGuard(e,t){return!0}static{this.ɵfac=function(t){return new(t||e)(lu(jh))}}static{this.ɵdir=rg({type:e,selectors:[["","igxGridToolbar",""]]})}}return e})(),R4=["*"];function A4(e,t){if(1&e&&(Lp(0,"span"),ym(1),Np()),2&e){let e=om();Hc(),_m(null==e.grid?null:e.grid.resourceStrings.igx_grid_toolbar_advanced_filtering_button_label)}}function k4(e,t){if(1&e&&(Lp(0,"span",3),ym(1),Np()),2&e){let e=om();Hc(),wm(" (",e.numberOfColumns,") ")}}var O4=(()=>{class e{get grid(){return this.toolbar.grid}constructor(e){this.toolbar=e}ngOnInit(){this.numberOfColumns=this.grid?.advancedFilteringExpressionsTree?this.extractUniqueFieldNamesFromFilterTree(this.grid?.advancedFilteringExpressionsTree).length:0,this.grid?.advancedFilteringExpressionsTreeChange.subscribe((e=>{this.numberOfColumns=this.extractUniqueFieldNamesFromFilterTree(e).length}))}extractUniqueFieldNamesFromFilterTree(e){let t=[];return e?(e.filteringOperands.forEach((e=>{$S(e)?t.push(...this.extractUniqueFieldNamesFromFilterTree(e)):t.push(e.fieldName)})),[...new Set(t)]):t}static{this.ɵfac=function(t){return new(t||e)(lu(BZ))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-grid-toolbar-advanced-filtering"]],inputs:{overlaySettings:"overlaySettings"},ngContentSelectors:R4,decls:7,vars:3,consts:[["ref",""],["igxButton","outlined","type","button","name","btnAdvancedFiltering","igxRipple","",1,"igx-grid-toolbar__adv-filter",3,"click","title"],["family","default","name","filter_list"],[1,"igx-adv-filter--column-number"]],template:function(e,t){if(1&e){let e=Kp();lm(),Lp(0,"button",1),rm("click",(function(){return Ko(e),jo(t.grid.openAdvancedFilteringDialog(t.overlaySettings))})),Hp(1,"igx-icon",2),Lp(2,"span",null,0),dm(4),Np(),bg(5,A4,2,1,"span")(6,k4,2,1,"span",3),Np()}if(2&e){let e=vm(3);rp("title",null==t.grid?null:t.grid.resourceStrings.igx_grid_toolbar_advanced_filtering_button_tooltip),Hc(5),Ip(e.textContent.trim()?-1:5),Hc(),Ip(null!=t.grid&&t.grid.advancedFilteringExpressionsTree?6:-1)}},dependencies:[mR,hO,DA],encapsulation:2})}}return e})(),F4=[[["","igxGridToolbarTitle",""],["igx-grid-toolbar-title"],["igc-grid-toolbar-title"]],"*",[["","igxGridToolbarActions",""],["igx-grid-toolbar-actions"],["igc-grid-toolbar-actions"]]],P4=["[igxGridToolbarTitle],igx-grid-toolbar-title,igc-grid-toolbar-title","*","[igxGridToolbarActions],igx-grid-toolbar-actions,igc-grid-toolbar-actions"];function V4(e,t){1&e&&dm(0,2)}function M4(e,t){1&e&&Hp(0,"igx-grid-toolbar-advanced-filtering")}function L4(e,t){if(1&e&&(Lp(0,"igx-grid-toolbar-actions"),bg(1,M4,1,0,"igx-grid-toolbar-advanced-filtering"),Np()),2&e){let e=om();Hc(),Ip(null!=e.grid&&e.grid.allowAdvancedFiltering?1:-1)}}function N4(e,t){1&e&&$p(0)}function H4(e,t){1&e&&(Lp(0,"div",3),Hp(1,"igx-linear-bar",4),Np()),2&e&&(Hc(),rp("indeterminate",!0))}var z4=(()=>{class e{get grid(){return this._grid?this._grid:this.api.grid}set grid(e){this._grid=e}get nativeElement(){return this.element.nativeElement}constructor(e,t,i){this.api=e,this.iconService=t,this.element=i,this.showProgress=!1,this.defaultStyle=!0,this.iconService.addSvgIconFromText(xP,_P,"imx-icons"),this.iconService.addSvgIconFromText(wP,CP,"imx-icons")}ngOnDestroy(){this.sub?.unsubscribe()}static{this.ɵfac=function(t){return new(t||e)(lu(BF),lu(_A),lu(zl))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-grid-toolbar"]],contentQueries:function(e,t,i){if(1&e&&gm(i,T4,5),2&e){let e;mm(e=fm())&&(t.hasActions=e.first)}},hostVars:2,hostBindings:function(e,t){2&e&&ap("igx-grid-toolbar",t.defaultStyle)},inputs:{showProgress:[2,"showProgress","showProgress",Hf],grid:"grid"},features:[Pm([{provide:BZ,useExisting:e}])],ngContentSelectors:P4,decls:8,vars:3,consts:[["actions",""],[1,"igx-grid-toolbar__custom-content"],[4,"ngTemplateOutlet"],[1,"igx-grid-toolbar__progress-bar"],[3,"indeterminate"]],template:function(e,t){if(1&e&&(lm(F4),dm(0),Lp(1,"div",1),dm(2,1),Np(),bg(3,V4,1,0,"ng-template",null,0,sf)(5,L4,2,1,"igx-grid-toolbar-actions")(6,N4,1,0,"ng-container",2)(7,H4,2,1,"div",3)),2&e){let e=vm(4);Hc(5),Ip(t.hasActions?-1:5),Hc(),rp("ngTemplateOutlet",e),Hc(),Ip(t.showProgress?7:-1)}},dependencies:[T4,O4,qv,_W],encapsulation:2})}}return e})(),B4=(()=>{class e{set overlaySettings(e){this._overlaySettings=e}get overlaySettings(){return this._overlaySettings}get grid(){return this.toolbar.grid}constructor(e){this.toolbar=e,this.opening=new wl,this.opened=new wl,this.closing=new wl,this.closed=new wl,this.columnToggle=new wl,this.$destroy=new Ci,this._overlaySettings={positionStrategy:new kI({horizontalDirection:SI.Left,horizontalStartPoint:SI.Right,verticalDirection:bI.Bottom,verticalStartPoint:bI.Bottom}),scrollStrategy:new BI,modal:!1,closeOnEscape:!0,closeOnOutsideClick:!0}}ngOnDestroy(){this.$destroy.next(),this.$destroy.complete()}toggle(e,t,i){if(i){this._setupListeners(t,i);let e=()=>i.columnsAreaMaxHeight="100%"!==i.columnsAreaMaxHeight?i.columnsAreaMaxHeight:this.columnListHeight??`${Math.max(.5*this.grid.calcHeight,200)}px`;t.opening.pipe(Vn()).subscribe(e)}t.toggle(Je(Qe({},this.overlaySettings),{target:e,outlet:this.grid.outlet,excludeFromOutsideClick:[e]}))}focusSearch(e){e.querySelector("input")?.focus()}_setupListeners(e,t){t&&(!this.$sub||this.$sub.closed)&&(this.$sub=t.columnToggled.pipe(Nn(this.$destroy)).subscribe((e=>this.columnToggle.emit(e)))),e.collapsed?(e.opening.pipe(Vn(),Nn(this.$destroy)).subscribe((e=>this.opening.emit(e))),e.opened.pipe(Vn(),Nn(this.$destroy)).subscribe((e=>this.opened.emit(e)))):(e.closing.pipe(Vn(),Nn(this.$destroy)).subscribe((e=>this.closing.emit(e))),e.closed.pipe(Vn(),Nn(this.$destroy)).subscribe((e=>this.closed.emit(e))))}static{this.ɵfac=function(t){return new(t||e)(lu(BZ))}}static{this.ɵdir=rg({type:e,inputs:{columnListHeight:"columnListHeight",title:"title",prompt:"prompt",overlaySettings:"overlaySettings"},outputs:{opening:"opening",opened:"opened",closing:"closing",closed:"closed",columnToggle:"columnToggle"}})}}return e})(),G4=(()=>{class e extends B4{constructor(){super(...arguments),this.hideFilter=!1,this.filterCriteria="",this.columnDisplayOrder=ub,this.columnsAreaMaxHeight="100%",this.indentetion=30}checkAll(){this.columnActionsUI.checkAllColumns()}uncheckAll(){this.columnActionsUI.uncheckAllColumns()}static{this.ɵfac=(()=>{let t;return function(i){return(t||(t=ol(e)))(i||e)}})()}static{this.ɵdir=rg({type:e,inputs:{hideFilter:[2,"hideFilter","hideFilter",Hf],filterCriteria:"filterCriteria",columnDisplayOrder:"columnDisplayOrder",columnsAreaMaxHeight:"columnsAreaMaxHeight",uncheckAllText:"uncheckAllText",checkAllText:"checkAllText",indentetion:"indentetion",buttonText:"buttonText"},features:[dg]})}}return e})(),$4=["*",[["","excelText",""],["excel-text"]],[["","csvText",""],["csv-text"]]],W4=["*","[excelText],excel-text","[csvText],csv-text"];function K4(e,t){if(1&e&&(Lp(0,"span"),ym(1),Np()),2&e){let e=om();Hc(),wm(" ",null==e.grid?null:e.grid.resourceStrings.igx_grid_toolbar_exporter_button_label," ")}}function j4(e,t){if(1&e&&(Lp(0,"excel-text"),ym(1),Np()),2&e){let e=om(2);Hc(),wm(" ",null==e.grid?null:e.grid.resourceStrings.igx_grid_toolbar_exporter_excel_entry_text," ")}}function U4(e,t){if(1&e){let e=Kp();Lp(0,"li",14,3),rm("click",(function(){Ko(e);let t=om(),i=vm(10);return jo(t.exportClicked("excel",i))})),Lp(2,"span",null,4),dm(4,1),Np(),bg(5,j4,2,1,"excel-text"),Np()}if(2&e){let e=vm(3);Hc(5),Ip(e.childNodes.length?-1:5)}}function q4(e,t){if(1&e&&(Lp(0,"csv-text"),ym(1),Np()),2&e){let e=om(2);Hc(),wm(" ",null==e.grid?null:e.grid.resourceStrings.igx_grid_toolbar_exporter_csv_entry_text," ")}}function Y4(e,t){if(1&e){let e=Kp();Lp(0,"li",15,5),rm("click",(function(){Ko(e);let t=om(),i=vm(10);return jo(t.exportClicked("csv",i))})),Lp(2,"span",null,6),dm(4,2),Np(),bg(5,q4,2,1,"csv-text"),Np()}if(2&e){let e=vm(3);Hc(5),Ip(e.childNodes.length?-1:5)}}var Z4=(()=>{class e extends B4{constructor(e,t,i){super(e),this.excelExporter=t,this.csvExporter=i,this.exportCSV=!0,this.exportExcel=!0,this.filename="ExportedData",this.exportStarted=new wl,this.exportEnded=new wl,this.isExporting=!1}exportClicked(e,t){t?.close(),this.export(e)}export(e){let t,i;switch(e){case"csv":t=new kb(this.filename,Ob.CSV),i=this.csvExporter;break;case"excel":t=new zD(this.filename),i=this.excelExporter}let n={exporter:i,options:t,grid:this.grid,cancel:!1};this.exportStarted.emit(n),this.grid.toolbarExporting.emit(n),!n.cancel&&(this.isExporting=!0,this.toolbar.showProgress=!0,i.exportEnded.pipe(Vn()).subscribe((()=>{this.exportEnded.emit(),this.isExporting=!1,this.toolbar.showProgress=!1})),i.export(this.grid,t))}static{this.ɵfac=function(t){return new(t||e)(lu(BZ),lu(HD),lu(Fb))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-grid-toolbar-exporter"]],inputs:{exportCSV:[2,"exportCSV","exportCSV",Hf],exportExcel:[2,"exportExcel","exportExcel",Hf],filename:"filename"},outputs:{exportStarted:"exportStarted",exportEnded:"exportEnded"},features:[dg],ngContentSelectors:W4,decls:13,vars:5,consts:[["btn",""],["ref",""],["toggleRef","toggle"],["btnExportExcel",""],["excel",""],["btnExportCsv",""],["csv",""],["igxButton","outlined","type","button","igxRipple","",3,"click","title","disabled"],["family","default","name","file_download"],["family","default","name","arrow_drop_down"],["id","btnExport",1,"igx-grid-toolbar__dropdown"],["igxToggle","",1,"igx-grid-toolbar__dd-list"],["id","btnExportExcel","igxRipple","",1,"igx-grid-toolbar__dd-list-items"],["id","btnExportCsv","igxRipple","",1,"igx-grid-toolbar__dd-list-items"],["id","btnExportExcel","igxRipple","",1,"igx-grid-toolbar__dd-list-items",3,"click"],["id","btnExportCsv","igxRipple","",1,"igx-grid-toolbar__dd-list-items",3,"click"]],template:function(e,t){if(1&e){let e=Kp();lm($4),Lp(0,"button",7,0),rm("click",(function(){Ko(e);let i=vm(1),n=vm(10);return jo(t.toggle(i,n))})),Hp(2,"igx-icon",8),Lp(3,"span",null,1),dm(5),Np(),bg(6,K4,2,1,"span"),Hp(7,"igx-icon",9),Np(),Lp(8,"div",10)(9,"ul",11,2),bg(11,U4,6,1,"li",12)(12,Y4,6,1,"li",13),Np()()}if(2&e){let e=vm(4);rp("title",null==t.grid?null:t.grid.resourceStrings.igx_grid_toolbar_exporter_button_tooltip)("disabled",t.isExporting),Hc(6),Ip(e.textContent.trim()?-1:6),Hc(5),Ip(t.exportExcel?11:-1),Hc(),Ip(t.exportCSV?12:-1)}},dependencies:[mR,hO,DA,SO,b4,D4],encapsulation:2})}}return e})();function X4(e,t){if(1&e){let e=Kp();Lp(0,"button",2,0),rm("click",(function(){Ko(e);let t=vm(1),i=vm(8),n=vm(9);return jo(om().toggle(t,n,i))})),Hp(2,"igx-icon",3),Lp(3,"span"),ym(4),Np(),Lp(5,"span"),ym(6),Np()(),Lp(7,"igx-column-actions",4,1),rm("opened",(function(){Ko(e);let t=vm(9);return jo(om().focusSearch(t.element))})),Np()}if(2&e){let e=om();rp("title",null==e.grid?null:e.grid.resourceStrings.igx_grid_toolbar_hiding_button_tooltip),Hc(2),rp("name",e.grid.hiddenColumnsCount?"hide":"show"),Hc(2),_m(e.grid.hiddenColumnsCount),Hc(2),_m(e.buttonText),Hc(),rp("grid",e.grid)("title",e.title||(null==e.grid?null:e.grid.resourceStrings.igx_grid_toolbar_hiding_title))("filterColumnsPrompt",e.prompt||(null==e.grid?null:e.grid.resourceStrings.igx_grid_toolbar_actions_filter_prompt))("hideFilter",e.hideFilter)("filterCriteria",e.filterCriteria)("columnDisplayOrder",e.columnDisplayOrder)("columnsAreaMaxHeight",e.columnsAreaMaxHeight)("uncheckAllText",e.uncheckAllText)("checkAllText",e.checkAllText)("indentation",e.indentetion)}}var Q4=(()=>{class e extends G4{set content(e){this.columnActionsUI=e}static{this.ɵfac=(()=>{let t;return function(i){return(t||(t=ol(e)))(i||e)}})()}static{this.ɵcmp=Qu({type:e,selectors:[["igx-grid-toolbar-hiding"]],viewQuery:function(e,t){if(1&e&&pm(OH,5,TH),2&e){let e;mm(e=fm())&&(t.content=e.first)}},features:[dg],decls:2,vars:3,consts:[["btn",""],["actions","","ref","toggle"],["igxButton","outlined","type","button","name","btnColumnHiding",3,"click","title"],["family","default",3,"name"],["igxColumnHiding","","igxToggle","",3,"opened","grid","title","filterColumnsPrompt","hideFilter","filterCriteria","columnDisplayOrder","columnsAreaMaxHeight","uncheckAllText","checkAllText","indentation"]],template:function(e,t){1&e&&(bg(0,X4,10,14),Xm(1,"async")),2&e&&Ip(Qm(1,1,t.grid.rendered$)?0:-1)},dependencies:[mR,DA,TH,OH,SO,Qv],encapsulation:2})}}return e})();function J4(e,t){if(1&e){let e=Kp();Lp(0,"button",2,0),rm("click",(function(){Ko(e);let t=vm(1),i=vm(8),n=vm(9);return jo(om().toggle(t,n,i))})),Hp(2,"igx-icon",3),Lp(3,"span"),ym(4),Np(),Lp(5,"span"),ym(6),Np()(),Lp(7,"igx-column-actions",4,1),rm("opened",(function(){Ko(e);let t=vm(9);return jo(om().focusSearch(t.element))})),Np()}if(2&e){let e=om();rp("title",null==e.grid?null:e.grid.resourceStrings.igx_grid_toolbar_pinning_button_tooltip),Hc(2),rp("name",e.grid.pinnedColumnsCount?"pin":"unpin"),Hc(2),_m(e.grid.pinnedColumnsCount),Hc(2),_m(e.buttonText),Hc(),rp("grid",e.grid)("title",e.title||(null==e.grid?null:e.grid.resourceStrings.igx_grid_toolbar_pinning_title))("filterColumnsPrompt",e.prompt||(null==e.grid?null:e.grid.resourceStrings.igx_grid_toolbar_actions_filter_prompt))("hideFilter",e.hideFilter)("filterCriteria",e.filterCriteria)("columnDisplayOrder",e.columnDisplayOrder)("columnsAreaMaxHeight",e.columnsAreaMaxHeight)("uncheckAllText",e.uncheckAllText)("checkAllText",e.checkAllText)("indentation",e.indentetion)}}var e6=(()=>{class e extends G4{set content(e){this.columnActionsUI=e}static{this.ɵfac=(()=>{let t;return function(i){return(t||(t=ol(e)))(i||e)}})()}static{this.ɵcmp=Qu({type:e,selectors:[["igx-grid-toolbar-pinning"]],viewQuery:function(e,t){if(1&e&&pm(FH,5,TH),2&e){let e;mm(e=fm())&&(t.content=e.first)}},features:[dg],decls:2,vars:3,consts:[["btn",""],["actions","","ref","toggle"],["igxButton","outlined","type","button","name","btnColumnPinning",3,"click","title"],["family","default",3,"name"],["igxColumnPinning","","igxToggle","",3,"opened","grid","title","filterColumnsPrompt","hideFilter","filterCriteria","columnDisplayOrder","columnsAreaMaxHeight","uncheckAllText","checkAllText","indentation"]],template:function(e,t){1&e&&(bg(0,J4,10,14),Xm(1,"async")),2&e&&Ip(Qm(1,1,t.grid.rendered$)?0:-1)},dependencies:[mR,DA,TH,FH,SO,Qv],encapsulation:2})}}return e})(),t6=(()=>{class e{constructor(e){this.template=e}static{this.ɵfac=function(t){return new(t||e)(lu(jh))}}static{this.ɵdir=rg({type:e,selectors:[["","igxPaginator",""]]})}}return e})(),i6={igx_paginator_label:"Items per page",igx_paginator_pager_text:"of",igx_paginator_first_page_button_text:"Go to first page",igx_paginator_previous_page_button_text:"Previous page",igx_paginator_last_page_button_text:"Go to last page",igx_paginator_next_page_button_text:"Next page"},n6=[[["","igxPaginatorContent",""],["igx-paginator-content"]]],r6=["[igxPaginatorContent],igx-paginator-content"];function s6(e,t){1&e&&Hp(0,"igx-page-size")}function o6(e,t){1&e&&Hp(0,"igx-page-nav")}function a6(e,t){if(1&e&&(Lp(0,"igx-select-item",3),ym(1),Np()),2&e){let e=t.$implicit;rp("value",e),Hc(),wm(" ",e," ")}}var l6=(()=>{class e{constructor(){this.cssClass="igx-paginator-content"}static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵdir=rg({type:e,selectors:[["","igxPaginatorContent",""],["igx-paginator-content"]],hostVars:2,hostBindings:function(e,t){2&e&&ap("igx-paginator-content",t.cssClass)}})}}return e})(),d6=(()=>{class e{get page(){return this._page}set page(e){if(this._page===e||e<0||e>this.totalPages)return;let t={current:this._page,next:e,cancel:!1},i={previous:this._page,current:e};this.paging.emit(t),!t.cancel&&(this._page=e,this.pageChange.emit(this._page),this.pagingDone.emit(i))}get perPage(){return this._perPage}set perPage(e){e<0||this.perPage===e||(this._perPage=Number(e),this.perPageChange.emit(this._perPage),this._selectOptions=this.sortUniqueOptions(this.defaultSelectValues,this._perPage),this.totalPages=Math.ceil(this.totalRecords/this._perPage),0!==this.totalPages&&this.page>=this.totalPages&&(this.page=this.totalPages-1))}get totalRecords(){return this._totalRecords}set totalRecords(e){this._totalRecords=e,this.totalPages=Math.ceil(this.totalRecords/this.perPage),this.page>this.totalPages&&(this.page=0),this.cdr.detectChanges()}get selectOptions(){return this._selectOptions}set selectOptions(e){this._selectOptions=this.sortUniqueOptions(e,this._perPage),this.defaultSelectValues=[...e]}get overlaySettings(){return this._overlaySettings}set overlaySettings(e){this._overlaySettings=Object.assign({},this._overlaySettings,e)}set resourceStrings(e){this._resourceStrings=Object.assign({},this._resourceStrings,e)}get resourceStrings(){return this._resourceStrings}constructor(e,t){this.elementRef=e,this.cdr=t,this.perPageChange=new wl,this.pageChange=new wl,this.paging=new wl,this.pagingDone=new wl,this._page=0,this._selectOptions=[5,10,15,25,50,100,500],this._perPage=15,this._resourceStrings=TA(i6),this._overlaySettings={},this.defaultSelectValues=[5,10,15,25,50,100,500],this.cssClass="igx-paginator"}get isLastPage(){return this.page+1>=this.totalPages}get isFirstPage(){return 0===this.page}get isFirstPageDisabled(){return this.isFirstPage}get isLastPageDisabled(){return this.isLastPage}get nativeElement(){return this.elementRef.nativeElement}nextPage(){this.isLastPage||(this.page+=1)}previousPage(){this.isFirstPage||(this.page-=1)}paginate(e){e<0||e>this.totalPages-1||(this.page=e)}sortUniqueOptions(e,t){return Array.from(new Set([...e,t])).sort(((e,t)=>e-t))}static{this.ɵfac=function(t){return new(t||e)(lu(zl),lu(Cf))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-paginator"]],contentQueries:function(e,t,i){if(1&e&&gm(i,l6,5),2&e){let e;mm(e=fm())&&(t.customContent=e.first)}},hostVars:2,hostBindings:function(e,t){2&e&&ap("igx-paginator",t.cssClass)},inputs:{page:"page",perPage:"perPage",totalRecords:"totalRecords",selectOptions:"selectOptions",overlaySettings:"overlaySettings",resourceStrings:"resourceStrings"},outputs:{perPageChange:"perPageChange",pageChange:"pageChange",paging:"paging",pagingDone:"pagingDone"},features:[Pm([{provide:_X,useExisting:e}])],ngContentSelectors:r6,decls:3,vars:2,template:function(e,t){1&e&&(lm(n6),dm(0),bg(1,s6,1,0,"igx-page-size")(2,o6,1,0,"igx-page-nav")),2&e&&(Hc(),Ip(t.customContent?-1:1),Hc(),Ip(t.customContent?-1:2))},dependencies:()=>[c6,h6],encapsulation:2})}}return e})(),c6=(()=>{class e{constructor(e){this.paginator=e,this.cssClass="igx-page-size"}static{this.ɵfac=function(t){return new(t||e)(lu(d6,1))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-page-size"]],hostVars:2,hostBindings:function(e,t){2&e&&ap("igx-page-size",t.cssClass)},decls:6,vars:3,consts:[[1,"igx-page-size__label"],[1,"igx-page-size__select"],["type","border",3,"ngModelChange","overlaySettings","ngModel"],[3,"value"]],template:function(e,t){1&e&&(Lp(0,"label",0),ym(1),Np(),Lp(2,"div",1)(3,"igx-select",2),Em("ngModelChange",(function(e){return Dm(t.paginator.perPage,e)||(t.paginator.perPage=e),e})),Op(4,a6,2,2,"igx-select-item",3,Ap),Np()()),2&e&&(Hc(),_m(t.paginator.resourceStrings.igx_paginator_label),Hc(2),rp("overlaySettings",t.paginator.overlaySettings),bm("ngModel",t.paginator.perPage),Hc(),Pp(t.paginator.selectOptions))},dependencies:[Sz,Px,jy,Dx,sz],encapsulation:2})}}return e})(),h6=(()=>{class e{constructor(e){this.paginator=e,this.cssClass="igx-page-nav",this.role="navigation"}static{this.ɵfac=function(t){return new(t||e)(lu(d6,1))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-page-nav"]],hostVars:3,hostBindings:function(e,t){2&e&&($g("role",t.role),ap("igx-page-nav",t.cssClass))},inputs:{role:"role"},decls:15,vars:19,consts:[["igxIconButton","flat","igxRipple","","type","button",3,"click","title","disabled","igxRippleCentered"],["family","default","name","first_page"],["family","default","name","prev"],["aria-current","page",1,"igx-page-nav__text"],["igxRipple","","igxIconButton","flat","type","button",3,"click","title","disabled","igxRippleCentered"],["family","default","name","next"],["family","default","name","last_page"]],template:function(e,t){1&e&&(Lp(0,"button",0),rm("click",(function(){return t.paginator.paginate(0)})),Hp(1,"igx-icon",1),Np(),Lp(2,"button",0),rm("click",(function(){return t.paginator.previousPage()})),Hp(3,"igx-icon",2),Np(),Lp(4,"div",3)(5,"span"),ym(6),Np(),Lp(7,"span"),ym(8),Np(),Lp(9,"span"),ym(10),Np()(),Lp(11,"button",4),rm("click",(function(){return t.paginator.nextPage()})),Hp(12,"igx-icon",5),Np(),Lp(13,"button",0),rm("click",(function(){return t.paginator.paginate(t.paginator.totalPages-1)})),Hp(14,"igx-icon",6),Np()),2&e&&(rp("title",t.paginator.resourceStrings.igx_paginator_first_page_button_text)("disabled",t.paginator.isFirstPage)("igxRippleCentered",!0),$g("aria-disabled",t.paginator.isFirstPage),Hc(2),rp("title",t.paginator.resourceStrings.igx_paginator_previous_page_button_text)("disabled",t.paginator.isFirstPage)("igxRippleCentered",!0),$g("aria-disabled",t.paginator.isFirstPage),Hc(4),_m(t.paginator.page+1),Hc(2),wm(" ",t.paginator.resourceStrings.igx_paginator_pager_text," "),Hc(2),_m(t.paginator.totalPages||1),Hc(),rp("title",t.paginator.resourceStrings.igx_paginator_next_page_button_text)("disabled",t.paginator.isLastPage)("igxRippleCentered",!0),$g("aria-disabled",t.paginator.isLastPage),Hc(2),rp("title",t.paginator.resourceStrings.igx_paginator_last_page_button_text)("disabled",t.paginator.isLastPage)("igxRippleCentered",!0),$g("aria-disabled",t.paginator.isLastPage))},dependencies:[hO,DA,rO],encapsulation:2})}}return e})(),u6=(e,t)=>({gridID:e,selectorChannels:t}),g6=(e,t)=>t.memberName,p6=(e,t)=>t.memberName||t.member;function m6(e,t){if(1&e){let e=Kp();Lp(0,"igx-list-item",7)(1,"igx-checkbox",11),rm("click",(function(){let t=Ko(e).$implicit;return jo(om().toggleItem(t))})),Np(),Lp(2,"span"),ym(3),Np()()}if(2&e){let e=t.$implicit;rp("id",e.memberName),Hc(),rp("aria-labelledby",e.memberName)("disableRipple",!0)("checked",e.enabled),Hc(2),_m(e.displayName||e.memberName)}}function f6(e,t){if(1&e){let e=Kp();Lp(0,"igx-list-item",7)(1,"igx-checkbox",11),rm("click",(function(){let t=Ko(e).$implicit;return jo(om().toggleItem(t))})),Np(),Lp(2,"span"),ym(3),Np()()}if(2&e){let e=t.$implicit;rp("id",e.member),Hc(),rp("aria-labelledby",e.member)("disableRipple",!0)("checked",e.enabled),Hc(2),_m(e.displayName||e.member)}}function v6(e,t){if(1&e&&(Lp(0,"span"),ym(1),Np()),2&e){let e=om().$implicit;Hc(),_m(e.aggregate.key)}}function y6(e,t){1&e&&(Lp(0,"span"),ym(1,"("),Np())}function x6(e,t){1&e&&(Lp(0,"span"),ym(1,")"),Np())}function _6(e,t){1&e&&Hp(0,"igx-icon",25),2&e&&rp("name",om().$implicit.sortDirection<2?"sort_asc":"sort_desc")}function w6(e,t){if(1&e){let e=Kp();Lp(0,"igx-icon",30),rm("pointerdown",(function(t){return Ko(e),jo(om(4).onFilteringIconPointerDown(t))}))("click",(function(t){Ko(e);let i=om().$implicit;return jo(om(3).onFilteringIconClick(t,i))})),Np()}}function C6(e,t){if(1&e){let e=Kp();Lp(0,"igx-icon",31),rm("click",(function(t){Ko(e);let i=om().$implicit,n=om(3),r=vm(16);return jo(n.onSummaryClick(t,i,r))})),Np()}2&e&&(om(4),rp("igxDropDownItemNavigation",vm(16)))}function S6(e,t){1&e&&Hp(0,"igx-icon",29)}function b6(e,t){if(1&e){let e=Kp();Lp(0,"igx-list-item",21),rm("ghostCreate",(function(t){let i=Ko(e).$implicit,n=om(2).$implicit;return jo(om().ghostCreated(t,i[n.itemKey]))}))("over",(function(t){return Ko(e),jo(om(3).onItemDragOver(t))}))("leave",(function(t){return Ko(e),jo(om(3).onItemDragLeave(t))}))("dragMove",(function(t){return Ko(e),jo(om(3).onItemDragMove(t))}))("dragEnd",(function(t){return Ko(e),jo(om(3).onItemDragEnd(t))}))("dropped",(function(t){Ko(e);let i=om(2).$implicit;return jo(om().onItemDropped(t,i.type))})),Lp(1,"div",22)(2,"div",23),rm("click",(function(t){let i=Ko(e).$implicit,n=om(2).$implicit;return jo(om().onItemSort(t,i,n.type))})),Lp(3,"div",24),bg(4,v6,2,1,"span")(5,y6,2,0,"span"),Lp(6,"span"),ym(7),Np(),bg(8,x6,2,0,"span"),Np(),bg(9,_6,1,1,"igx-icon",25),Np(),Lp(10,"div",26),bg(11,w6,1,0,"igx-icon",27)(12,C6,1,1,"igx-icon",28)(13,S6,1,0,"igx-icon",29),Np()()()}if(2&e){let e=t.$implicit,i=om(2).$implicit,n=om(),r=vm(20);rp("igxDrag",Lm(13,u6,n.grid.id,i.dragChannels))("ghostTemplate",r)("id",e[i.itemKey]),Hc(2),ap("igx-pivot-data-selector__action-sort",i.sortable),Hc(2),Ip(null===i.type?4:-1),Hc(),Ip(null===i.type?5:-1),Hc(2),_m(e[i.displayKey]||e[i.itemKey]),Hc(),Ip(null===i.type?8:-1),Hc(),Ip(i.sortable&&e.sortDirection?9:-1),Hc(2),Ip(null!==i.type?11:-1),Hc(),Ip(null===i.type?12:-1),Hc(),Ip(i.dragChannels.length>0?13:-1)}}function D6(e,t){if(1&e&&(Lp(0,"igx-list"),Op(1,b6,14,16,"igx-list-item",20,p6),Np()),2&e){let e=om().$implicit,t=om();Hc(),Pp(t.grid[e.dataKey])}}function E6(e,t){if(1&e&&(Lp(0,"div",19),ym(1),Np()),2&e){let e=om(2);Hc(),wm(" ",null==e.grid?null:e.grid.resourceStrings.igx_grid_pivot_selector_panel_empty," ")}}function T6(e,t){if(1&e){let e=Kp();Lp(0,"igx-expansion-panel",12),rm("collapsedChange",(function(t){let i=Ko(e).$implicit;return jo(om().onCollapseChange(t,i.type))})),Lp(1,"igx-expansion-panel-header",13),rm("enter",(function(t){let i=Ko(e).$implicit;return jo(om().onPanelEntry(t,i.name))}))("dropped",(function(t){let i=Ko(e).$implicit;return jo(om().onItemDropped(t,i.type))})),Lp(2,"igx-expansion-panel-title",14)(3,"h6",15),ym(4),Np(),Lp(5,"div",16),Hp(6,"igx-icon",17),Lp(7,"igx-chip"),ym(8),Np()()()(),Lp(9,"igx-expansion-panel-body",18),rm("enter",(function(t){let i=Ko(e).$implicit;return jo(om().onPanelEntry(t,i.name))}))("dropped",(function(t){let i=Ko(e).$implicit;return jo(om().onItemDropped(t,i.type))})),bg(10,D6,3,0,"igx-list")(11,E6,2,1,"div",19),Np()()}if(2&e){let e=t.$implicit,i=om();rp("animationSettings",i.animationSettings)("collapsed",i.getPanelCollapsed(e.type)),Hc(),rp("disabled",!1),Hc(3),wm(" ",null==i.grid?null:i.grid.resourceStrings[e.i18n]," "),Hc(2),rp("name",e.icon),Hc(2),_m(i.grid?i.grid[e.dataKey].length:0),Hc(2),Ip(i.grid&&i.grid[e.dataKey].length>0?10:-1),Hc(),Ip(i.grid&&0===i.grid[e.dataKey].length?11:-1)}}function I6(e,t){if(1&e&&(Lp(0,"igx-drop-down-item",10),ym(1),Np()),2&e){let e=t.$implicit;rp("selected",om().isSelected(e))("value",e),Hc(),wm(" ",e.label," ")}}function R6(e,t){if(1&e&&(Lp(0,"div",32)(1,"div",33),Hp(2,"igx-icon",34),Lp(3,"span"),ym(4),Np()(),Hp(5,"igx-icon",35),Np()),2&e){let e=om();op("width",e.ghostWidth,"px"),ap("igx-pivot-data-selector__item-ghost--no-drop",!e.dropAllowed),Hc(4),_m(e.ghostText)}}var A6=(()=>{class e{get size(){return this.grid?.gridSize}get dims(){return this._grid?.allDimensions||[]}get values(){return this._grid?.pivotConfiguration.values||[]}constructor(e,t){this.renderer=e,this.cdr=t,this.columnsExpanded=!0,this.columnsExpandedChange=new wl,this.rowsExpanded=!0,this.rowsExpandedChange=new wl,this.filtersExpanded=!0,this.filtersExpandedChange=new wl,this.valuesExpanded=!0,this.valuesExpandedChange=new wl,this._dropDelta=0,this.cssClass="igx-pivot-data-selector",this._subMenuPositionSettings={verticalStartPoint:bI.Bottom,closeAnimation:void 0},this._subMenuOverlaySettings={closeOnOutsideClick:!0,modal:!1,positionStrategy:new FI(this._subMenuPositionSettings),scrollStrategy:new BI},this.animationSettings={closeAnimation:qD(sE,{params:{duration:"0ms"}}),openAnimation:qD(rE,{params:{duration:"0ms"}})},this.aggregateList=[],this._panels=[{name:"Filters",i18n:"igx_grid_pivot_selector_filters",type:eP.Filter,dataKey:"filterDimensions",icon:"filter_list",itemKey:"memberName",displayKey:"displayName",sortable:!1,dragChannels:["Filters","Columns","Rows"]},{name:"Columns",i18n:"igx_grid_pivot_selector_columns",type:eP.Column,dataKey:"columnDimensions",icon:"view_column",itemKey:"memberName",displayKey:"displayName",sortable:!0,dragChannels:["Filters","Columns","Rows"]},{name:"Rows",i18n:"igx_grid_pivot_selector_rows",type:eP.Row,dataKey:"rowDimensions",icon:"table_rows",itemKey:"memberName",displayKey:"displayName",sortable:!0,dragChannels:["Filters","Columns","Rows"]},{name:"Values",i18n:"igx_grid_pivot_selector_values",type:null,dataKey:"values",icon:"functions",itemKey:"member",displayKey:"displayName",sortable:!1,dragChannels:["Values"]}]}set grid(e){this._grid=e}get grid(){return this._grid}onItemSort(e,t,i){if(!this._panels.find((e=>e.type===i)).sortable)return;let n=t.sortDirection||cS.None,r=n+1>cS.Desc?cS.None:n+1;this.grid.sortDimension(t,r)}onFilteringIconPointerDown(e){e.stopPropagation(),e.preventDefault()}onFilteringIconClick(e,t){e.stopPropagation(),e.preventDefault();let i,n=t;for(;n&&(i=this.grid.dimensionDataColumns.find((e=>e.field===n.memberName)),!i);)n=n.childLevel;this.grid.filteringService.toggleFilterDropdown(e.target,i)}getDimensionState(e){switch(e){case eP.Row:return this.grid.rowDimensions;case eP.Column:return this.grid.columnDimensions;case eP.Filter:return this.grid.filterDimensions;default:return null}}moveValueItem(e){let t=this.grid.pivotConfiguration.values,i=-1!==t.findIndex((t=>t.member===e))?t?.findIndex((t=>t.member===e)):t.length,n=i+this._dropDelta<0?0:i+this._dropDelta,r=t.find((t=>t.member===e||t.displayName===e));r&&(this.grid.moveValue(r,n),this.grid.valuesChange.emit({values:this.grid.pivotConfiguration.values}))}onItemDropped(e,t){if(!this.dropAllowed)return;let i=this.grid.getDimensionsByType(t),n=this.getDimensionState(t),r=e.drag.element.nativeElement.id,s=e.owner.element.nativeElement.id,o=i?.find((e=>e.memberName===r)),a=-1!==i?.findIndex((e=>e?.memberName===r))?i?.findIndex((e=>e.memberName===r)):i?.length,l=this.grid.allDimensions.filter((e=>e&&e.memberName===r)),d=-1!==n?.findIndex((e=>e.memberName===r)),c=""!==s?i?.findIndex((e=>e.memberName===s)):i?.length;if(i||this.moveValueItem(r),d&&(c=a+this._dropDelta<0?0:a+this._dropDelta),o)this.grid.moveDimension(o,t,c);else{let e=l.find((e=>e.memberName===r));this.grid.moveDimension(e,t,c)}this.grid.dimensionsChange.emit({dimensions:i,dimensionCollectionType:t})}updateDropDown(e,t){this.value=e,t.width="200px",this.aggregateList=nP.getAggregateList(e,this.grid),this.cdr.detectChanges(),t.open(this._subMenuOverlaySettings)}onSummaryClick(e,t,i){this._subMenuOverlaySettings.target=e.currentTarget,i.collapsed?this.updateDropDown(t,i):(i.close(),i.closed.pipe(Vn()).subscribe((()=>{this.updateDropDown(t,i)})))}onAggregationChange(e){if(!this.isSelected(e.newSelection.value)){this.value.aggregate=e.newSelection.value;let t=1===this.grid.values.length;nP.updateColumnTypeByAggregator(this.grid.columns,this.value,t),this.grid.pipeTrigger++,this.grid.cdr.markForCheck()}}isSelected(e){return this.value.aggregate.key===e.key}ghostCreated(e,t){let{width:i}=e.owner.element.nativeElement.getBoundingClientRect();this.ghostWidth=i,this.ghostText=t,this.renderer.setStyle(e.owner.element.nativeElement,"position","absolute"),this.renderer.setStyle(e.owner.element.nativeElement,"visibility","hidden")}toggleItem(e){e&&this.grid.toggleValue(e),e&&this.grid.toggleDimension(e)}onPanelEntry(e,t){this.dropAllowed=e.dragData.gridID===this.grid.id&&e.dragData.selectorChannels?.some((e=>e===t))}onItemDragMove(e){let t=e.owner.element.nativeElement.getBoundingClientRect();this._dropDelta=Math.round((e.nextPageY-e.startY)/t.height)}onItemDragEnd(e){this.renderer.setStyle(e.owner.element.nativeElement,"position","static"),this.renderer.setStyle(e.owner.element.nativeElement,"visibility","visible")}onItemDragOver(e){this.dropAllowed&&this.renderer.addClass(e.owner.element.nativeElement,"igx-drag--push")}onItemDragLeave(e){this.dropAllowed&&this.renderer.removeClass(e.owner.element.nativeElement,"igx-drag--push")}getPanelCollapsed(e){switch(e){case eP.Column:return!this.columnsExpanded;case eP.Filter:return!this.filtersExpanded;case eP.Row:return!this.rowsExpanded;default:return!this.valuesExpanded}}onCollapseChange(e,t){switch(t){case eP.Column:this.columnsExpanded=!e,this.columnsExpandedChange.emit(this.columnsExpanded);break;case eP.Filter:this.filtersExpanded=!e,this.filtersExpandedChange.emit(this.filtersExpanded);break;case eP.Row:this.rowsExpanded=!e,this.rowsExpandedChange.emit(this.rowsExpanded);break;default:this.valuesExpanded=!e,this.valuesExpandedChange.emit(this.valuesExpanded)}}static{this.ɵfac=function(t){return new(t||e)(lu(ru),lu(Cf))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-pivot-data-selector"]],hostVars:4,hostBindings:function(e,t){2&e&&(op("--ig-size",t.size),ap("igx-pivot-data-selector",t.cssClass))},inputs:{columnsExpanded:[2,"columnsExpanded","columnsExpanded",Hf],rowsExpanded:[2,"rowsExpanded","rowsExpanded",Hf],filtersExpanded:[2,"filtersExpanded","filtersExpanded",Hf],valuesExpanded:[2,"valuesExpanded","valuesExpanded",Hf],grid:"grid"},outputs:{columnsExpandedChange:"columnsExpandedChange",rowsExpandedChange:"rowsExpandedChange",filtersExpandedChange:"filtersExpandedChange",valuesExpandedChange:"valuesExpandedChange"},decls:21,vars:8,consts:[["input",""],["dropdown",""],["itemGhost",""],[1,"igx-pivot-data-selector__filter"],["type","box"],["family","default","name","search","igxPrefix",""],["igxInput","","tabindex","0","placeholder","Search","autocomplete","off"],[3,"id"],[3,"animationSettings","collapsed"],[3,"selectionChanging"],[3,"selected","value"],[3,"click","aria-labelledby","disableRipple","checked"],[3,"collapsedChange","animationSettings","collapsed"],["iconPosition","left","igxDrop","",3,"enter","dropped","disabled"],[1,"igx-pivot-data-selector__header"],[1,"igx-pivot-data-selector__header-title"],[1,"igx-pivot-data-selector__header-extra"],["family","default",3,"name"],["igxDrop","",3,"enter","dropped"],[1,"igx-pivot-data-selector__empty"],["igxDrop","",3,"igxDrag","ghostTemplate","id"],["igxDrop","",3,"ghostCreate","over","leave","dragMove","dragEnd","dropped","igxDrag","ghostTemplate","id"],[1,"igx-pivot-data-selector__item"],[1,"igx-pivot-data-selector__item-start",3,"click"],[1,"igx-pivot-data-selector__item-text"],["family","default",1,"igx-pivot-data-selector__action-sort",3,"name"],[1,"igx-pivot-data-selector__item-end"],["family","default","name","filter_list",1,"igx-pivot-data-selector__action-filter"],["family","default","name","functions",1,"igx-pivot-data-selector__action-summary",3,"igxDropDownItemNavigation"],["family","default","name","drag_indicator","igxDragHandle","",1,"igx-pivot-data-selector__action-move"],["family","default","name","filter_list",1,"igx-pivot-data-selector__action-filter",3,"pointerdown","click"],["family","default","name","functions",1,"igx-pivot-data-selector__action-summary",3,"click","igxDropDownItemNavigation"],[1,"igx-pivot-data-selector__item-ghost"],[1,"igx-pivot-data-selector__item-ghost-text"],["family","default","name","import_export"],["family","default","name","drag_indicator"]],template:function(e,t){if(1&e){let e=Kp();Lp(0,"div",3)(1,"igx-input-group",4),Hp(2,"igx-icon",5)(3,"input",6,0),Np(),Lp(5,"igx-list"),Op(6,m6,4,5,"igx-list-item",7,g6),Xm(8,"filterPivotItems"),Op(9,f6,4,5,"igx-list-item",7,Ap),Xm(11,"filterPivotItems"),Np()(),Lp(12,"igx-accordion"),Op(13,T6,12,8,"igx-expansion-panel",8,Ap),Np(),Lp(15,"igx-drop-down",9,1),rm("selectionChanging",(function(i){return Ko(e),jo(t.onAggregationChange(i))})),Op(17,I6,2,3,"igx-drop-down-item",10,Ap),Np(),bg(19,R6,6,5,"ng-template",null,2,sf)}if(2&e){let e=vm(4);Hc(6),Pp(ef(8,0,t.dims,e.value,null==t.grid?null:t.grid.pipeTrigger)),Hc(3),Pp(ef(11,4,t.values,e.value,null==t.grid?null:t.grid.pipeTrigger)),Hc(4),Pp(t._panels),Hc(4),Pp(t.aggregateList)}},dependencies:[Ek,DA,dR,oR,KK,VK,OF,tF,XO,WO,Lk,VO,EL,PO,Mk,eR,Pk,yF,uF,f5],encapsulation:2})}}return e})(),k6=(()=>{class e extends rQ{get_all_data(e){let t=this.grid,i=t&&t.flatData?t.flatData:[];return i=e?t.dataWithAddedInTransactionRows:i,i}get_summary_data(){let e=this.grid,t=e.processedRootRecords?.filter((e=>void 0===e.isFilteredOutParent||!1===e.isFilteredOutParent)).map((e=>e.data));return t&&e.transactions.enabled&&e.transactions.getTransactionLog().filter((e=>e.type===lS.DELETE)).map((e=>e.id)).forEach((i=>{let n=(e.primaryKey?t.map((t=>t[e.primaryKey])):t).indexOf(i);-1!==n&&t.splice(n,1)})),t}allow_expansion_state_change(e,t){let i=this.grid,n=i.records.get(e);return!(n.expanded===t||(!n.children||!n.children.length)&&(!i.loadChildrenOnDemand||i.hasChildrenKey&&!n.data[i.hasChildrenKey]))}expand_path_to_record(e){let t=this.grid,i=t.expansionStates;for(;e.parent;)e=e.parent,this.get_row_expansion_state(e)||i.set(e.key,!0);t.expansionStates=i,t.rowEditable&&t.gridAPI.crudService.endEdit(!1)}get_row_expansion_state(e){let t=this.grid,i=t.expansionStates.get(e.key);return void 0!==i?i:e.children&&e.children.length&&e.level<t.expansionDepth}should_apply_number_style(e){return e.dataType===bS.Number&&0!==e.visibleIndex}deleteRowById(e){let t=this.grid,i=t.primaryKey&&t.foreignKey&&t.cascadeOnDelete&&t.transactions.enabled;i&&t.transactions.startPending();let n=super.deleteRowById(e);return i&&t.transactions.endPending(!0),n}deleteRowFromData(e,t){let i=this.grid,n=i.records.get(e);if(i.primaryKey&&i.foreignKey){if(t=i.primaryKey?i.data.map((e=>e[i.primaryKey])).indexOf(e):i.data.indexOf(e),super.deleteRowFromData(e,t),i.cascadeOnDelete&&n&&n.children)for(let e of n.children)super.deleteRowById(e.key)}else{let r=n.parent?n.parent.data[i.childDataKey]:i.data;t=i.primaryKey?r.map((e=>e[i.primaryKey])).indexOf(e):r.indexOf(e);let s=[];if(this.get_selected_children(n,s),s.length>0&&i.deselectRows(s),i.transactions.enabled){let n=i.generateRowPath(e);i.transactions.add({id:e,type:lS.DELETE,newValue:null,path:n},r[t])}else r.splice(t,1);this.grid.validation.clear(e)}}get_selected_children(e,t){let i=this.grid;if(e.children&&0!==e.children.length)for(let n of e.children)i.selectionService.isRowSelected(n.key)&&t.push(n.key),this.get_selected_children(n,t)}row_deleted_transaction(e){return this.row_deleted_parent(e)||super.row_deleted_transaction(e)}get_rec_by_id(e){return this.grid.records.get(e)}get_rec_index_by_id(e,t){return t=t||this.grid.data,this.grid.primaryKey?t.findIndex((t=>t.data[this.grid.primaryKey]===e)):-1}addRowToData(e,t){if(null!=t){let i=this.grid.transactions.getState(t);if(i&&i.type===lS.DELETE)throw Error("Cannot add child row to deleted parent row");let n=this.grid.records.get(t);if(!n)throw Error("Invalid parent row ID!");if(this.grid.summaryService.clearSummaryCache({rowID:n.key}),this.grid.primaryKey&&this.grid.foreignKey)e[this.grid.foreignKey]=t,super.addRowToData(e);else{let i=n.data,r=this.grid.childDataKey;if(this.grid.transactions.enabled){let i=this.grid.primaryKey?e[this.grid.primaryKey]:e,n=[];n.push(...this.grid.generateRowPath(t)),n.push(t),this.grid.transactions.add({id:i,path:n,newValue:e,type:lS.ADD},null)}else i[r]||(i[r]=[]),i[r].push(e)}}else super.addRowToData(e)}filterDataByExpressions(e){let t=this.filterTreeDataByExpressions(e),i=[];return this.getFlatDataFromFilteredRecords(t,i),i}sortDataByExpressions(e,t){return DS.sort(RC(e),t,this.grid.sortStrategy??new wS,this.grid).map((e=>e.data))}filterTreeDataByExpressions(e){let t=this.grid.rootRecords;if(e.filteringOperands.length){let i={expressionsTree:e,strategy:this.grid.filterStrategy??new JS};t=YS.filter(RC(t),i,this.grid)}return t}update_row_in_array(e,t,i){let n=this.grid;if(n.primaryKey&&n.foreignKey)super.update_row_in_array(e,t,i);else{let r=n.records.get(t),s=r.parent?r.parent.data[n.childDataKey]:n.data;i=n.primaryKey?s.map((e=>e[n.primaryKey])).indexOf(t):s.indexOf(t),s[i]=e}}updateData(e,t,i,n,r){if(e.transactions.enabled){let i=e.generateRowPath(t),s={id:t,type:lS.UPDATE,newValue:r,path:i};e.transactions.add(s,n)}else OC(i,r)}row_deleted_parent(e){let t=this.grid;if(!t)return!1;if(t.cascadeOnDelete&&t.foreignKey||t.childDataKey){let i=t.records.get(e);for(;i;){let e=t.transactions.getState(i.key);if(e&&e.type===lS.DELETE)return!0;i=i.parent}}return!1}getFlatDataFromFilteredRecords(e,t){if(e&&0!==e.length)for(let i of e)i.isFilteredOutParent||t.push(i),this.getFlatDataFromFilteredRecords(i.children,t)}static{this.ɵfac=(()=>{let t;return function(i){return(t||(t=ol(e)))(i||e)}})()}static{this.ɵprov=ir({token:e,factory:e.ɵfac})}}return e})(),O6=(()=>{class e{constructor(e){this.template=e}static{this.ɵfac=function(t){return new(t||e)(lu(jh))}}static{this.ɵdir=rg({type:e,selectors:[["","igxRowLoadingIndicator",""]]})}}return e})(),F6=(()=>{class e extends rP{selectRowsWithNoEvent(e,t){this.grid&&this.grid.rowSelection===cb?this.cascadeSelectRowsWithNoEvent(e,t):super.selectRowsWithNoEvent(e,t)}deselectRowsWithNoEvent(e){this.grid.rowSelection!==cb?super.deselectRowsWithNoEvent(e):this.cascadeDeselectRowsWithNoEvent(e)}emitRowSelectionEvent(e,t,i,n){this.grid.rowSelection!==cb?super.emitRowSelectionEvent(e,t,i,n):this.emitCascadeRowSelectionEvent(e,t,i,n)}updateCascadeSelectionOnFilterAndCRUD(e,t,i=null){if(null===i){if(!e.size)return;i=new Set(this.getRowIDs(this.allData)),this.rowsToBeSelected=new Set(this.rowSelection),this.rowsToBeIndeterminate=new Set(this.indeterminateRows),t&&this.rowSelection.delete(t)}if(!e.size)return this.rowSelection=new Set(this.rowsToBeSelected),this.indeterminateRows=new Set(this.rowsToBeIndeterminate),this.clearHeaderCBState(),void this.selectedRowsChange.next(this.getSelectedRows());let n=new Set;e.forEach((e=>{this.handleRowSelectionState(e,i),e&&e.parent&&n.add(e.parent)})),this.updateCascadeSelectionOnFilterAndCRUD(n,null,i)}cascadeSelectRowsWithNoEvent(e,t){if(t)this.indeterminateRows.clear(),this.rowSelection.clear(),this.calculateRowsNewSelectionState({added:e,removed:[]});else{let t=this.getSelectedRows(),i={oldSelection:t,newSelection:[...t,...e]};this.handleAddedAndRemovedArgs(i),this.calculateRowsNewSelectionState(i)}this.rowSelection=new Set(this.rowsToBeSelected),this.indeterminateRows=new Set(this.rowsToBeIndeterminate),this.clearHeaderCBState(),this.selectedRowsChange.next(this.getSelectedRows())}cascadeDeselectRowsWithNoEvent(e){let t={added:[],removed:e};this.calculateRowsNewSelectionState(t),this.rowSelection=new Set(this.rowsToBeSelected),this.indeterminateRows=new Set(this.rowsToBeIndeterminate),this.clearHeaderCBState(),this.selectedRowsChange.next(this.getSelectedRows())}get selectionService(){return this.grid.selectionService}emitCascadeRowSelectionEvent(e,t,i,n){let r=this.getSelectedRows();if(this.areEqualCollections(r,e))return;let s={owner:this.grid,oldSelection:this.getSelectedRowsData(),newSelection:e,added:t,removed:i,event:n,cancel:!1};if(this.calculateRowsNewSelectionState(s,!!this.grid.primaryKey),s.newSelection=Array.from(this.grid.gridAPI.get_all_data().filter((e=>this.rowsToBeSelected.has(this.grid.primaryKey?e[this.grid.primaryKey]:e)))),this.handleAddedAndRemovedArgs(s),this.grid.rowSelectionChanging.emit(s),s.cancel)return;let o=s.newSelection.map((e=>this.grid.primaryKey?e[this.grid.primaryKey]:e));this.areEqualCollections(Array.from(this.rowsToBeSelected),o)?(this.rowSelection=new Set(this.rowsToBeSelected),this.indeterminateRows=new Set(this.rowsToBeIndeterminate),this.clearHeaderCBState(),this.selectedRowsChange.next(this.getSelectedRows())):this.cascadeSelectRowsWithNoEvent(o,!0)}handleAddedAndRemovedArgs(e){let t=new Set(e.newSelection),i=new Set(e.oldSelection);e.removed=e.oldSelection.filter((e=>!t.has(e))),e.added=e.newSelection.filter((e=>!i.has(e)))}collectRowsChildrenAndDirectParents(e,t,i,n){let r=new Set;return Array.from(e).forEach((e=>{let s=n?e[this.grid.primaryKey]:e;this.selectDeselectRow(s,i);let o=this.grid.gridAPI.get_rec_by_id(s);this.get_all_children(o).forEach((e=>{t.has(e.key)&&this.selectDeselectRow(e.key,i)})),o&&o.parent&&r.add(o.parent)})),r}calculateRowsNewSelectionState(e,t=!1){this.rowsToBeSelected=new Set(e.oldSelection?t?e.oldSelection.map((e=>e[this.grid.primaryKey])):e.oldSelection:this.getSelectedRows()),this.rowsToBeIndeterminate=new Set(this.getIndeterminateRows());let i=new Set(this.getRowIDs(this.allData)),n=new Set(e.removed),r=new Set(e.added);if(n&&n.size){let e=new Set;e=this.collectRowsChildrenAndDirectParents(n,i,!1,t),Array.from(e).forEach((e=>{this.handleParentSelectionState(e,i)}))}if(r&&r.size){let e=new Set;e=this.collectRowsChildrenAndDirectParents(r,i,!0,t),Array.from(e).forEach((e=>{this.handleParentSelectionState(e,i)}))}}handleParentSelectionState(e,t){e&&(this.handleRowSelectionState(e,t),e.parent&&this.handleParentSelectionState(e.parent,t))}handleRowSelectionState(e,t){let i=[];e&&e.children&&(i=e.children.filter((e=>t.has(e.key)))),i.length?i.every((e=>this.rowsToBeSelected.has(e.key)))?this.selectDeselectRow(e.key,!0):i.some((e=>this.rowsToBeSelected.has(e.key)||this.rowsToBeIndeterminate.has(e.key)))?(this.rowsToBeIndeterminate.add(e.key),this.rowsToBeSelected.delete(e.key)):this.selectDeselectRow(e.key,!1):this.isRowSelected(e.key)?this.selectDeselectRow(e.key,!0):this.selectDeselectRow(e.key,!1)}get_all_children(e){let t=[];if(e&&e.children&&e.children.length)for(let i of e.children)t.push(...this.get_all_children(i)),t.push(i);return t}selectDeselectRow(e,t){t?(this.rowsToBeSelected.add(e),this.rowsToBeIndeterminate.delete(e)):(this.rowsToBeSelected.delete(e),this.rowsToBeIndeterminate.delete(e))}static{this.ɵfac=(()=>{let t;return function(i){return(t||(t=ol(e)))(i||e)}})()}static{this.ɵprov=ir({token:e,factory:e.ɵfac})}}return e})(),P6=(e,t)=>t.fieldName;function V6(e,t){if(1&e){let e=Kp();Lp(0,"igx-chip",4),Xm(1,"igxGroupByMeta"),Xm(2,"igxGroupByMeta"),Xm(3,"igxGroupByMeta"),Xm(4,"igxGroupByMeta"),rm("keyDown",(function(t){return Ko(e),jo(om().handleKeyDown(t.owner.id,t.originalEvent))}))("remove",(function(t){return Ko(e),jo(om().clearGrouping(t.owner.id))}))("chipClick",(function(){let t=Ko(e).$implicit;return jo(om().handleClick(t.fieldName))})),Lp(5,"span"),ym(6),Xm(7,"igxGroupByMeta"),Np(),Hp(8,"igx-icon",5),Np(),Lp(9,"span",6),Hp(10,"igx-icon",7),Np()}if(2&e){let e=t.$implicit,i=t.$index,n=t.$count,r=om();rp("id",e.fieldName)("title",ef(1,8,e.fieldName,r.grid,r.grid.groupablePipeTrigger).title)("removable",ef(2,12,e.fieldName,r.grid,r.grid.groupablePipeTrigger).groupable)("draggable",ef(3,16,e.fieldName,r.grid,r.grid.groupablePipeTrigger).groupable)("disabled",!ef(4,20,e.fieldName,r.grid,r.grid.groupablePipeTrigger).groupable),Hc(6),_m(ef(7,24,e.fieldName,r.grid,r.grid.groupablePipeTrigger).title),Hc(2),rp("name",1===e.dir?"sort_asc":"sort_desc"),Hc(2),rp("hidden",i===n-1&&!r.dropAreaVisible)}}function M6(e,t){1&e&&$p(0)}function L6(e,t){if(1&e&&(Hp(0,"igx-icon",8),Lp(1,"span",9),ym(2),Np()),2&e){let e=om();Hc(2),_m(e.dropAreaMessage)}}var N6=(()=>{class e extends Jj{get hideGroupedColumns(){return this._hideGroupedColumns}set hideGroupedColumns(e){this.grid?.columns&&this.expressions&&this.setColumnsVisibility(e),this._hideGroupedColumns=e}constructor(e,t,i){super(t,i),this.differs=e,this._hideGroupedColumns=!1,this.destroy$=new Ci}ngAfterContentInit(){this.grid.columns&&this.expressions&&(this.groupingDiffer=this.differs.find(this.expressions).create(),this.updateColumnsVisibility()),this.grid.sortingExpressionsChange.pipe(Nn(this.destroy$)).subscribe((e=>{if(!this.expressions||!this.expressions.length)return;let t=!1;e.forEach((e=>{let i=e.fieldName,n=this.expressions.find((e=>e.fieldName===i));n&&n.dir!==e.dir&&(n.dir=e.dir,t=!0)})),t&&(this.expressions=[...this.expressions])}))}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}handleReorder(e){let{chipsArray:t,originalEvent:i}=e,n=this.getReorderedExpressions(t);this.chipExpressions=n,i instanceof KeyboardEvent&&(this.expressions=n)}handleMoveEnd(){this.expressions=this.chipExpressions}groupBy(e){this.expressions.push(e),this.expressions=[...this.expressions]}clearGrouping(e){this.expressions=this.expressions.filter((t=>t.fieldName!==e)),this.grid.sortingExpressions=this.grid.sortingExpressions.filter((t=>t.fieldName!==e)),this.grid.notifyChanges(!0)}expressionsChanged(){this.updateColumnsVisibility()}updateColumnsVisibility(){if(this.groupingDiffer&&this.grid.columns&&!this.grid.hasColumnLayouts){let e=this.groupingDiffer.diff(this.expressions);e&&this.grid.columns.length>0&&(e.forEachAddedItem((e=>{this.grid.getColumnByName(e.item.fieldName).hidden=this.hideGroupedColumns})),e.forEachRemovedItem((e=>{this.grid.getColumnByName(e.item.fieldName).hidden=!1})))}}setColumnsVisibility(e){this.grid.columns.length>0&&!this.grid.hasColumnLayouts&&this.expressions.forEach((t=>{this.grid.getColumnByName(t.fieldName).hidden=e}))}static{this.ɵfac=function(t){return new(t||e)(lu(Pf),lu(zl),lu(NC))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-tree-grid-group-by-area"]],inputs:{hideGroupedColumns:[2,"hideGroupedColumns","hideGroupedColumns",Hf]},features:[Pm([{provide:Jj,useExisting:e}]),dg],decls:7,vars:3,consts:[["default",""],[3,"reorder","moveEnd"],["igxGroupAreaDrop","",1,"igx-drop-area",3,"igxDrop","hidden"],[4,"ngTemplateOutlet"],[3,"keyDown","remove","chipClick","id","title","removable","draggable","disabled"],["family","default","igxSuffix","",3,"name"],[1,"igx-grid-grouparea__connector"],["family","default","name","arrow_forward",3,"hidden"],["family","default","name","group_work",1,"igx-drop-area__icon"],[1,"igx-drop-area__text"]],template:function(e,t){if(1&e){let e=Kp();Lp(0,"igx-chips-area",1),rm("reorder",(function(i){return Ko(e),jo(t.handleReorder(i))}))("moveEnd",(function(){return Ko(e),jo(t.handleMoveEnd())})),Op(1,V6,11,28,null,null,P6),Lp(3,"div",2),rm("igxDrop",(function(i){return Ko(e),jo(t.onDragDrop(i))})),bg(4,M6,1,0,"ng-container",3),Np()(),bg(5,L6,3,1,"ng-template",null,0,sf)}if(2&e){let e=vm(6);Hc(),Pp(t.chipExpressions),Hc(2),rp("hidden",!t.dropAreaVisible),$g("gridId",t.grid.id),Hc(),rp("ngTemplateOutlet",t.dropAreaTemplate||e)}},dependencies:[IL,EL,DA,cR,hU,Lk,qv,eU],encapsulation:2})}}return e})(),H6=(()=>{class e{constructor(e){this.grid=e}transform(e,t,i,n,r,s,o){return e&&t&&i!==rb?this.addSummaryRows(this.grid,e,n,r):e}addSummaryRows(e,t,i,n){let r=[],s=e.summaryService.calcMaxSummaryHeight();for(let o of t){if(r.push(o),!o.expanded&&o.children&&o.children.length>0&&n){let t=o.children.filter((e=>!e.isFilteredOutParent)).map((e=>e.data));t=this.removeDeletedRecord(e,o.key,t);let i={summaries:e.summaryService.calculateSummaries(o.key,t),max:s,cellIndentation:o.level+1};r.push(i)}let t=o.children&&o.children.length>0&&o.expanded;if(i!==nb||t){if(i===ib&&t){let t=o.children.filter((e=>!e.isFilteredOutParent)).map((e=>e.data));t=this.removeDeletedRecord(e,o.key,t);let i={summaries:e.summaryService.calculateSummaries(o.key,t),max:s,cellIndentation:o.level+1};r.push(i)}}else{let t=o,i=o.parent;for(;i;){let n=i.children;if(n[n.length-1]!==t)break;{let o=n.filter((e=>!e.isFilteredOutParent)).map((e=>e.data));o=this.removeDeletedRecord(e,i.key,o);let a={summaries:e.summaryService.calculateSummaries(i.key,o),max:s,cellIndentation:i.level+1};r.push(a),t=i,i=t.parent}}}}return r}removeDeletedRecord(e,t,i){if(!e.transactions.enabled||!e.cascadeOnDelete)return i;let n=e.transactions.getTransactionLog().filter((e=>"delete"===e.type)).map((e=>e.id)),r=e.records.get(t);if(!r&&0===n.lenght)return[];for(r=r.children?r:r.parent;r;){if(t=r.key,-1!==n.indexOf(t))return[];r=r.parent}return n.forEach((t=>{let n=(e.primaryKey?i.map((t=>t[e.primaryKey])):i).indexOf(t);-1!==n&&i.splice(n,1)})),i}static{this.ɵfac=function(t){return new(t||e)(lu(zF,16))}}static{this.ɵpipe=sg({name:"treeGridSummary",type:e,pure:!0})}}return e})(),z6=(()=>{class e{constructor(e){this.grid=e}transform(e,t,i,n,r,s,o){let a={expressionsTree:t,advancedExpressionsTree:n,strategy:new JS};if(i&&(a.strategy=i),US.empty(a.expressionsTree)&&US.empty(a.advancedExpressionsTree))return this.grid.setFilteredData(null,o),e;let l=this.filter(e,a,this.grid),d=[];return this.expandAllRecursive(this.grid,l,this.grid.expansionStates,d),this.grid.setFilteredData(d,o),l}expandAllRecursive(e,t,i,n){for(let r of t)n.push(r.data),r.children&&r.children.length>0&&(i.set(r.key,!0),this.expandAllRecursive(e,r.children,i,n))}filter(e,t,i){return t.strategy.filter(e,t.expressionsTree,t.advancedExpressionsTree,i)}static{this.ɵfac=function(t){return new(t||e)(lu(zF,16))}}static{this.ɵpipe=sg({name:"treeGridFiltering",type:e,pure:!0})}}return e})(),B6=(()=>{class e{constructor(e){this.grid=e}transform(e,t,i,n,r){let s=[],o=new Map,a=[];return e&&e.length?(n?s=this.hierarchizeRecursive(e,t,n,void 0,a,0,o):t&&(s=this.hierarchizeFlatData(e,t,i,o,a)),this.grid.flatData=this.grid.transactions.enabled?a.filter((e=>{let i=this.grid.transactions.getState(this.getRowID(t,e));return!i||i.type!==lS.ADD})):a,this.grid.records=o,this.grid.rootRecords=s,s):(this.grid.flatData=e,this.grid.records=o,this.grid.rootRecords=e,e)}getRowID(e,t){return e?t[e]:t}hierarchizeFlatData(e,t,i,n,r){let s=[],o=[];return e.forEach((e=>{let r={key:this.getRowID(t,e),data:e,children:[]},s=n.get(e[i]);s?(r.parent=s,s.children.push(r)):o.push(r),n.set(e[t],r)})),o.forEach((e=>{let t=n.get(e.data[i]);t?(e.parent=t,t.children.push(e)):s.push(e)})),this.setIndentationLevels(s,0,r),s}setIndentationLevels(e,t,i){for(let n of e)n.level=t,n.expanded=this.grid.gridAPI.get_row_expansion_state(n),i.push(n.data),n.children&&n.children.length>0&&this.setIndentationLevels(n.children,t+1,i)}hierarchizeRecursive(e,t,i,n,r,s,o){let a=[];for(let l of e){let e={key:this.getRowID(t,l),data:l,parent:n,level:s};e.expanded=this.grid.gridAPI.get_row_expansion_state(e),r.push(l),o.set(e.key,e),e.children=l[i]?this.hierarchizeRecursive(l[i],t,i,e,r,s+1,o):void 0,a.push(e)}return a}static{this.ɵfac=function(t){return new(t||e)(lu(zF,16))}}static{this.ɵpipe=sg({name:"treeGridHierarchizing",type:e,pure:!0})}}return e})(),G6=(()=>{class e{constructor(e){this.grid=e}transform(e,t,i,n){let r=[];return this.grid.processedRootRecords=e,this.grid.processedRecords=new Map,this.getFlatDataRecursive(e,r,t,i,!0),this.grid.processedExpandedFlatData=r.map((e=>e.data)),r}getFlatDataRecursive(e,t,i,n,r){if(e&&e.length)for(let s of e)r&&t.push(s),s.expanded=this.grid.gridAPI.get_row_expansion_state(s),this.updateNonProcessedRecordExpansion(this.grid,s),this.grid.processedRecords.set(s.key,s),this.getFlatDataRecursive(s.children,t,i,n,r&&s.expanded)}updateNonProcessedRecordExpansion(e,t){e.records.get(t.key).expanded=t.expanded}static{this.ɵfac=function(t){return new(t||e)(lu(zF,16))}}static{this.ɵpipe=sg({name:"treeGridFlattening",type:e,pure:!0})}}return e})(),$6=(()=>{class e{constructor(e){this.grid=e}transform(e,t,i,n,r,s){let o,a=i?i.concat(t):t;o=a.length?DS.treeGridSort(e,a,n,null,this.grid):e;let l=[];return this.flattenTreeGridRecords(o,l),this.grid.setFilteredSortedData(l,s),o}flattenTreeGridRecords(e,t){if(e&&e.length)for(let i of e)t.push(i.data),this.flattenTreeGridRecords(i.children,t)}static{this.ɵfac=function(t){return new(t||e)(lu(zF,16))}}static{this.ɵpipe=sg({name:"treeGridSorting",type:e,pure:!0})}}return e})(),W6=(()=>{class e{constructor(e){this.grid=e}transform(e,t,i=0,n=15,r){if(!t||"local"!==this.grid.pagingMode)return e;let s=this.grid._totalRecords>=0?this.grid._totalRecords:e.length,o=Math.ceil(s/n),a={index:o>0&&i>=o?o-1:i,recordsPerPage:n},l=DS.page(RC(e),a,s);return this.grid.pagingState=a,this.grid.page=a.index,l}static{this.ɵfac=function(t){return new(t||e)(lu(zF,16))}}static{this.ɵpipe=sg({name:"treeGridPaging",type:e,pure:!0})}}return e})(),K6=(()=>{class e{constructor(e){this.grid=e}transform(e,t){if(this.grid.transactions.enabled){let t=this.grid.transactions.getAggregatedChanges(!0);if(t.length>0){if(!this.grid.primaryKey)return e;let i=this.grid.childDataKey;if(i){let n=AC(e,i);return DS.mergeHierarchicalTransactions(n,t,i,this.grid.primaryKey,this.grid.dataCloneStrategy)}{let i=RC(e);return DS.mergeTransactions(i,t,this.grid.primaryKey,this.grid.dataCloneStrategy)}}}return e}static{this.ɵfac=function(t){return new(t||e)(lu(zF,16))}}static{this.ɵpipe=sg({name:"treeGridTransaction",type:e,pure:!0})}}return e})(),j6=(()=>{class e{constructor(e){this.grid=e}transform(e,t){let i=this.grid.primaryKey,n=this.grid.flatData;return n?n.map((e=>({rowID:this.grid.primaryKey?e[i]:e,data:e,level:0,children:[]}))):[]}static{this.ɵfac=function(t){return new(t||e)(lu(zF,16))}}static{this.ɵpipe=sg({name:"treeGridNormalizeRecord",type:e,pure:!0})}}return e})(),U6=(()=>{class e{constructor(e){this.grid=e}transform(e,t=!1,i){if(!(this.grid.rowEditable&&this.grid.crudService.row&&this.grid.crudService.row.isAddRow&&this.grid.gridAPI.crudService.addRowParent&&t===this.grid.gridAPI.crudService.addRowParent.isPinned))return e;let n=e.slice(0),r=this.grid.crudService.row.recordRef;if(this.grid.crudService.addRowParent.isPinned){let e=n.findIndex((e=>e.rowID===this.grid.crudService.addRowParent.rowID));n.splice(e+1,0,r)}else n.splice(this.grid.crudService.row.index,0,r);return this.grid.records.set(r.key,r),n}static{this.ɵfac=function(t){return new(t||e)(lu(zF,16))}}static{this.ɵpipe=sg({name:"treeGridAddRow",type:e,pure:!0})}}return e})(),q6=(e,t,i,n,r)=>[e,t,i,n,r],Y6=(e,t)=>({"igx-icon--success":e,"igx-icon--error":t}),Z6=e=>({"padding-inline-start":e}),X6=e=>({visibility:e}),Q6=e=>({$implicit:e});function J6(e,t){if(1&e&&(Lp(0,"igx-chip",14),ym(1),Np()),2&e){let e=om(2);op("--ig-size",1),rp("disabled",!0),Hc(),_m(e.grid.resourceStrings.igx_grid_pinned_row_indicator)}}function e8(e,t){1&e&&bg(0,J6,2,4,"igx-chip",13),2&e&&Ip(om().displayPinnedChip?0:-1)}function t8(e,t){if(1&e&&(Lp(0,"div",15),Xm(1,"columnFormatter"),Xm(2,"number"),Xm(3,"date"),Xm(4,"currency"),Xm(5,"percent"),ym(6),Xm(7,"columnFormatter"),Xm(8,"number"),Xm(9,"date"),Xm(10,"currency"),Xm(11,"percent"),Np()),2&e){let e=om(2);rp("cssClass",e.highlightClass)("activeCssClass",e.activeHighlightClass)("groupName",e.gridID)("value",e.formatter?ef(1,9,e.value,e.formatter,e.rowData):"number"===e.column.dataType?ef(2,13,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):"date"===e.column.dataType||"time"===e.column.dataType||"dateTime"===e.column.dataType?tf(3,17,e.value,e.column.pipeArgs.format,e.column.pipeArgs.timezone,e.grid.locale):"currency"===e.column.dataType?nf(4,22,zm(55,q6,e.value,e.currencyCode,e.column.pipeArgs.display,e.column.pipeArgs.digitsInfo,e.grid.locale)):"percent"===e.column.dataType?ef(5,28,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):e.value)("row",e.rowData)("column",e.column.field)("containerClass","igx-grid__td-text")("metadata",e.searchMetadata),Hc(6),_m(e.formatter?ef(7,32,e.value,e.formatter,e.rowData):"number"===e.column.dataType?ef(8,36,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):"date"===e.column.dataType||"time"===e.column.dataType||"dateTime"===e.column.dataType?tf(9,40,e.value,e.column.pipeArgs.format,e.column.pipeArgs.timezone,e.grid.locale):"currency"===e.column.dataType?nf(10,45,zm(61,q6,e.value,e.currencyCode,e.column.pipeArgs.display,e.column.pipeArgs.digitsInfo,e.grid.locale)):"percent"===e.column.dataType?ef(11,51,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):e.value)}}function i8(e,t){if(1&e&&Hp(0,"igx-icon",16),2&e){let e=om(2);rp("name",e.value?"confirm":"close")("ngClass",Lm(2,Y6,e.value,!e.value))}}function n8(e,t){if(1&e&&(Hp(0,"img",17),Xm(1,"igxCellImageAlt")),2&e){let e=om(2);rp("src",e.value,uc)("alt",Qm(1,2,e.value))}}function r8(e,t){if(1&e&&bg(0,t8,12,67,"div",15)(1,i8,1,5,"igx-icon",16)(2,n8,2,4,"img",17),2&e){let e=om();Ip("boolean"!==e.column.dataType&&"image"!==e.column.dataType||"boolean"===e.column.dataType&&e.formatter?0:-1),Hc(),Ip("boolean"!==e.column.dataType||e.formatter?-1:1),Hc(),Ip("image"===e.column.dataType?2:-1)}}function s8(e,t){if(1&e&&(Lp(0,"div",15),Xm(1,"columnFormatter"),Xm(2,"number"),Xm(3,"date"),Xm(4,"currency"),Xm(5,"percent"),ym(6),Np()),2&e){let e=om(2);rp("cssClass",e.highlightClass)("activeCssClass",e.activeHighlightClass)("groupName",e.gridID)("value",e.formatter?ef(1,9,e.value,e.formatter,e.rowData):"number"===e.column.dataType?ef(2,13,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):"date"===e.column.dataType||"time"===e.column.dataType||"dateTime"===e.column.dataType?tf(3,17,e.value,e.column.pipeArgs.format,e.column.pipeArgs.timezone,e.grid.locale):"currency"===e.column.dataType?nf(4,22,zm(32,q6,e.value,e.currencyCode,e.column.pipeArgs.display,e.column.pipeArgs.digitsInfo,e.grid.locale)):"percent"===e.column.dataType?ef(5,28,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):e.value)("row",e.rowData)("column",e.column.field)("containerClass","igx-grid__td-text")("metadata",e.searchMetadata),Hc(6),_m(e.isEmptyAddRowCell?e.column.header||e.column.field:e.value)}}function o8(e,t){if(1&e&&bg(0,s8,7,38,"div",15),2&e){let e=om();Ip("boolean"!==e.column.dataType||"boolean"===e.column.dataType&&e.formatter?0:-1)}}function a8(e,t){if(1&e){let e=Kp();Bp(0,18),Lp(1,"igx-input-group")(2,"input",20),rm("compositionstart",(function(){return Ko(e),jo(om(2).grid.crudService.isInCompositionMode=!0)}))("compositionend",(function(){return Ko(e),jo(om(2).grid.crudService.isInCompositionMode=!1)})),Np()(),Gp()}if(2&e){let e=om(2);rp("formGroup",e.formGroup),Hc(),op("--ig-size",1),Hc(),rp("igxFocus",!0)("igxTextSelection",!0)("formControl",e.formControl),$g("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid)}}function l8(e,t){if(1&e&&(Lp(0,"igx-input-group",18),Hp(1,"input",21),Np()),2&e){let e=om(2);op("--ig-size",1),rp("formGroup",e.formGroup),Hc(),rp("igxFocus",!0)("step",e.step)("igxTextSelection",!0)("formControl",e.formControl),$g("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid)}}function d8(e,t){if(1&e&&(Bp(0,18),Hp(1,"igx-checkbox",22),Gp()),2&e){let e=om(2);rp("formGroup",e.formGroup),Hc(),rp("checked",e.editValue)("igxFocus",!0)("disableRipple",!0)("formControl",e.formControl)}}function c8(e,t){if(1&e){let e=Kp();Bp(0,18),Lp(1,"igx-date-picker",23),Em("valueChange",(function(t){Ko(e);let i=om(2);return Dm(i.editValue,t)||(i.editValue=t),jo(t)})),Np(),Gp()}if(2&e){let e=om(2);rp("formGroup",e.formGroup),Hc(),op("width",100,"%"),rp("outlet",e.grid.outlet)("locale",e.grid.locale)("weekStart",e.column.pipeArgs.weekStart),bm("value",e.editValue),rp("igxFocus",!0)("formControl",e.formControl)("inputFormat",null==e.column.editorOptions?null:e.column.editorOptions.dateTimeFormat)("displayFormat",e.column.pipeArgs.format)}}function h8(e,t){if(1&e){let e=Kp();Bp(0,18),Lp(1,"igx-time-picker",24),Em("valueChange",(function(t){Ko(e);let i=om(2);return Dm(i.editValue,t)||(i.editValue=t),jo(t)})),Np(),Gp()}if(2&e){let e=om(2);rp("formGroup",e.formGroup),Hc(),op("width",100,"%"),rp("outlet",e.grid.outlet)("locale",e.grid.locale),bm("value",e.editValue),rp("igxFocus",!0)("formControl",e.formControl)("inputFormat",null==e.column.editorOptions?null:e.column.editorOptions.dateTimeFormat)("displayFormat",e.column.pipeArgs.format)}}function u8(e,t){if(1&e&&(Lp(0,"igx-input-group",18),Hp(1,"input",25),Np()),2&e){let e=om(2);rp("formGroup",e.formGroup),Hc(),rp("formControl",e.formControl)("locale",e.grid.locale)("igxDateTimeEditor",null==e.column.editorOptions?null:e.column.editorOptions.dateTimeFormat)("defaultFormatType",e.column.dataType)("displayFormat",e.column.pipeArgs.format)("igxFocus",!0),$g("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid)}}function g8(e,t){if(1&e&&(Lp(0,"igx-prefix"),ym(1),Np()),2&e){let e=om(3);Hc(),_m(e.currencyCodeSymbol)}}function p8(e,t){if(1&e&&(Lp(0,"igx-suffix"),ym(1),Np()),2&e){let e=om(3);Hc(),_m(e.currencyCodeSymbol)}}function m8(e,t){if(1&e&&(Lp(0,"igx-input-group",18),bg(1,g8,2,1,"igx-prefix"),Hp(2,"input",21),bg(3,p8,2,1,"igx-suffix"),Np()),2&e){let e=om(2);op("--ig-size",1),rp("formGroup",e.formGroup),Hc(),Ip(e.grid.currencyPositionLeft?1:-1),Hc(),rp("igxFocus",!0)("step",e.step)("igxTextSelection",!0)("formControl",e.formControl),$g("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid),Hc(),Ip(e.grid.currencyPositionLeft?-1:3)}}function f8(e,t){if(1&e&&(Lp(0,"igx-input-group",18),Hp(1,"input",21),Lp(2,"igx-suffix"),ym(3),Xm(4,"percent"),Np()()),2&e){let e=om(2);op("--ig-size",1),rp("formGroup",e.formGroup),Hc(),rp("igxFocus",!0)("step",e.step)("igxTextSelection",!0)("formControl",e.formControl),$g("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid),Hc(2),wm(" ",ef(4,10,e.editValue,e.column.pipeArgs.digitsInfo,e.grid.locale)," ")}}function v8(e,t){if(1&e&&bg(0,a8,3,8,"ng-container",18)(1,l8,2,9,"igx-input-group",19)(2,d8,2,5,"ng-container",18)(3,c8,2,11,"ng-container",18)(4,h8,2,10,"ng-container",18)(5,u8,2,9,"igx-input-group",18)(6,m8,4,11,"igx-input-group",19)(7,f8,5,14,"igx-input-group",19),2&e){let e=om();Ip("string"===e.column.dataType||"image"===e.column.dataType?0:-1),Hc(),Ip("number"===e.column.dataType?1:-1),Hc(),Ip("boolean"===e.column.dataType?2:-1),Hc(),Ip("date"===e.column.dataType?3:-1),Hc(),Ip("time"===e.column.dataType?4:-1),Hc(),Ip("dateTime"===e.column.dataType?5:-1),Hc(),Ip("currency"===e.column.dataType?6:-1),Hc(),Ip("percent"===e.column.dataType?7:-1)}}function y8(e,t){if(1&e&&Hp(0,"div",29,8),2&e){let e=om(2);wp("igx-grid__tree-cell--padding-level-",e.level,""),rp("ngStyle",Mm(4,Z6,"calc(var(--igx-tree-indent-size) *"+e.level+")"))}}function x8(e,t){1&e&&$p(0)}function _8(e,t){1&e&&$p(0)}function w8(e,t){if(1&e){let e=Kp();Lp(0,"div",30,9),rm("click",(function(t){return Ko(e),jo(om(2).toggle(t))}))("focus",(function(){return Ko(e),jo(om(2).onIndicatorFocus())})),bg(2,x8,1,0,"ng-container",12)(3,_8,1,0,"ng-container",12),Np()}if(2&e){let e=om(2);rp("ngStyle",Mm(5,X6,e.showIndicator?"visible":"hidden")),Hc(2),rp("ngTemplateOutlet",e.iconTemplate)("ngTemplateOutletContext",Mm(7,Q6,e)),Hc(),rp("ngTemplateOutlet",e.pinnedIndicatorTemplate)("ngTemplateOutletContext",e.context)}}function C8(e,t){1&e&&$p(0)}function S8(e,t){if(1&e){let e=Kp();Lp(0,"div",31),rm("dblclick",(function(t){return Ko(e),jo(om(2).onLoadingDblClick(t))})),bg(1,C8,1,0,"ng-container",32),Np()}if(2&e){om();let e=vm(4),t=om();Hc(),rp("ngTemplateOutlet",t.grid.rowLoadingIndicatorTemplate?t.grid.rowLoadingIndicatorTemplate:e)}}function b8(e,t){1&e&&Hp(0,"igx-circular-bar",33),2&e&&rp("indeterminate",!0)}function D8(e,t){if(1&e&&bg(0,y8,2,6,"div",26)(1,w8,4,9,"div",27)(2,S8,2,1,"div",28)(3,b8,1,1,"ng-template",null,7,sf),2&e){let e=om();Ip(e.level>0?0:-1),Hc(),Ip(e.isLoading?-1:1),Hc(),Ip(e.isLoading?2:-1)}}function E8(e,t){1&e&&$p(0)}function T8(e,t){1&e&&$p(0)}function I8(e,t){if(1&e){let e=Kp();Lp(0,"igx-icon",34,10),rm("mouseover",(function(){return Ko(e),jo(om().errorShowing=!0)}))("mouseout",(function(){return Ko(e),jo(om().errorShowing=!1)})),Np(),Lp(2,"div",35,11)(5,"div"),bg(6,T8,1,0,"ng-container",12),Np()()}if(2&e){let e=vm(4),t=om(),i=vm(16);rp("igxTooltipTarget",e)("igxToggleOutlet",t.grid.outlet),Hc(2),rp("id",t.ariaErrorMessage),Hc(3),op("width","max-content"),Hc(),rp("ngTemplateOutlet",t.cellValidationErrorTemplate||i)("ngTemplateOutletContext",t.context)}}function R8(e,t){1&e&&Hp(0,"igx-icon",36)}function A8(e,t){1&e&&Hp(0,"igx-icon",37)}function k8(e,t){if(1&e&&(Lp(0,"div"),ym(1),Np()),2&e){let e=om(2);Hc(),wm(" ",e.grid.resourceStrings.igx_grid_required_validation_error," ")}}function O8(e,t){if(1&e&&(Lp(0,"div"),ym(1),Xm(2,"igxStringReplace"),Np()),2&e){let e=om(2);Hc(),wm(" ",ef(2,1,e.grid.resourceStrings.igx_grid_min_length_validation_error,"{0}",e.formGroup.get(e.column.field).errors.minlength.requiredLength)," ")}}function F8(e,t){if(1&e&&(Lp(0,"div"),ym(1),Xm(2,"igxStringReplace"),Np()),2&e){let e=om(2);Hc(),wm(" ",ef(2,1,e.grid.resourceStrings.igx_grid_max_length_validation_error,"{0}",e.formGroup.get(e.column.field).errors.maxlength.requiredLength)," ")}}function P8(e,t){if(1&e&&(Lp(0,"div"),ym(1),Xm(2,"igxStringReplace"),Np()),2&e){let e=om(2);Hc(),wm(" ",ef(2,1,e.grid.resourceStrings.igx_grid_min_validation_error,"{0}",e.formGroup.get(e.column.field).errors.min.min)," ")}}function V8(e,t){if(1&e&&(Lp(0,"div"),ym(1),Xm(2,"igxStringReplace"),Np()),2&e){let e=om(2);Hc(),wm(" ",ef(2,1,e.grid.resourceStrings.igx_grid_max_validation_error,"{0}",e.formGroup.get(e.column.field).errors.max.max)," ")}}function M8(e,t){if(1&e&&(Lp(0,"div"),ym(1),Np()),2&e){let e=om(2);Hc(),wm(" ",e.grid.resourceStrings.igx_grid_email_validation_error," ")}}function L8(e,t){if(1&e&&(Lp(0,"div"),ym(1),Np()),2&e){let e=om(2);Hc(),wm(" ",e.grid.resourceStrings.igx_grid_pattern_validation_error," ")}}function N8(e,t){if(1&e&&bg(0,k8,2,1,"div")(1,O8,3,5,"div")(2,F8,3,5,"div")(3,P8,3,5,"div")(4,V8,3,5,"div")(5,M8,2,1,"div")(6,L8,2,1,"div"),2&e){let e,t,i,n,r,s,o,a=om();Ip(null!=a.formGroup&&null!=(e=a.formGroup.get(null==a.column?null:a.column.field).errors)&&e.required?0:-1),Hc(),Ip(null!=a.formGroup&&null!=(t=a.formGroup.get(null==a.column?null:a.column.field).errors)&&t.minlength?1:-1),Hc(),Ip(null!=a.formGroup&&null!=(i=a.formGroup.get(null==a.column?null:a.column.field).errors)&&i.maxlength?2:-1),Hc(),Ip(null!=a.formGroup&&null!=(n=a.formGroup.get(null==a.column?null:a.column.field).errors)&&n.min?3:-1),Hc(),Ip(null!=a.formGroup&&null!=(r=a.formGroup.get(null==a.column?null:a.column.field).errors)&&r.max?4:-1),Hc(),Ip(null!=a.formGroup&&null!=(s=a.formGroup.get(null==a.column?null:a.column.field).errors)&&s.email?5:-1),Hc(),Ip(null!=a.formGroup&&null!=(o=a.formGroup.get(null==a.column?null:a.column.field).errors)&&o.pattern?6:-1)}}var H8=(()=>{class e extends o1{constructor(){super(...arguments),this.level=0,this.showIndicator=!1}get row(){return new rY(this.grid,this.intRow.index,this.intRow.data)}toggle(e){e.stopPropagation(),this.grid.gridAPI.set_row_expansion_state(this.intRow.key,!this.intRow.expanded,e)}onLoadingDblClick(e){e.stopPropagation()}static{this.ɵfac=(()=>{let t;return function(i){return(t||(t=ol(e)))(i||e)}})()}static{this.ɵcmp=Qu({type:e,selectors:[["igx-tree-grid-cell"]],inputs:{level:"level",showIndicator:"showIndicator",isLoading:"isLoading",row:"row"},features:[Pm([oL]),dg],decls:17,vars:4,consts:[["defaultPinnedIndicator",""],["defaultCell",""],["addRowCell",""],["inlineEditor",""],["defaultExpandedTemplate",""],["defaultCollapsedTemplate",""],["defaultError",""],["defaultLoadingIndicatorTemplate",""],["indentationDiv",""],["indicator",""],["errorIcon",""],["error","","tooltipRef","tooltip"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"igx-grid__td--pinned-chip",3,"disabled","--ig-size"],[1,"igx-grid__td--pinned-chip",3,"disabled"],["igxTextHighlight","",1,"igx-grid__td-text",3,"cssClass","activeCssClass","groupName","value","row","column","containerClass","metadata"],["family","default",3,"name","ngClass"],[3,"src","alt"],[3,"formGroup"],[3,"--ig-size","formGroup"],["igxInput","",3,"compositionstart","compositionend","igxFocus","igxTextSelection","formControl"],["igxInput","","type","number",3,"igxFocus","step","igxTextSelection","formControl"],[3,"checked","igxFocus","disableRipple","formControl"],["mode","dropdown",3,"valueChange","outlet","locale","weekStart","value","igxFocus","formControl","inputFormat","displayFormat"],["mode","dropdown",3,"valueChange","outlet","locale","value","igxFocus","formControl","inputFormat","displayFormat"],["type","text","igxInput","",3,"formControl","locale","igxDateTimeEditor","defaultFormatType","displayFormat","igxFocus"],[3,"class","ngStyle"],[1,"igx-grid__tree-grouping-indicator",3,"ngStyle"],[1,"igx-grid__tree-loading-indicator"],[3,"ngStyle"],[1,"igx-grid__tree-grouping-indicator",3,"click","focus","ngStyle"],[1,"igx-grid__tree-loading-indicator",3,"dblclick"],[4,"ngTemplateOutlet"],[3,"indeterminate"],["family","default","name","error",3,"mouseover","mouseout","igxTooltipTarget","igxToggleOutlet"],["igxTooltip","",3,"id"],["family","default","name","tree_collapse"],["family","default","name","tree_expand"]],template:function(e,t){1&e&&bg(0,e8,1,1,"ng-template",null,0,sf)(2,r8,3,3,"ng-template",null,1,sf)(4,o8,1,1,"ng-template",null,2,sf)(6,v8,8,8,"ng-template",null,3,sf)(8,D8,5,3)(9,E8,1,0,"ng-container",12)(10,I8,7,7)(11,R8,1,0,"ng-template",null,4,sf)(13,A8,1,0,"ng-template",null,5,sf)(15,N8,7,7,"ng-template",null,6,sf),2&e&&(Hc(8),Ip(t.editMode?-1:8),Hc(),rp("ngTemplateOutlet",t.template)("ngTemplateOutletContext",t.context),Hc(),Ip(t.isInvalid?10:-1))},dependencies:[jv,Uv,qv,ry,sy,oy,ny,EL,xO,DA,Vx,yy,Tx,jy,Uy,Ax,Ox,Ek,oR,Hk,OF,cH,oB,AO,dR,cR,wW,RO,TO,cY,xY,wY,_O],encapsulation:2,changeDetection:0})}}return e})(),z8=["treeCell"],B8=(e,t,i,n)=>({index:e,rowID:t,key:i,selected:n}),G8=e=>({$implicit:e}),$8=(e,t,i,n,r,s,o)=>[e,t,i,n,r,s,o],W8=(e,t,i,n,r,s)=>[e,t,i,n,r,s],K8=(e,t,i,n,r)=>[e,t,i,n,r];function j8(e,t){return this.trackPinnedColumn(t)}function U8(e,t){1&e&&$p(0)}function q8(e,t){1&e&&$p(0)}function Y8(e,t){if(1&e){let e=Kp();Lp(0,"div",9),rm("animationend",(function(){return Ko(e),jo(om().animationEndHandler())})),bg(1,q8,1,0,"ng-container",8),Np()}if(2&e){let e=om(),t=vm(4);ap("igx-grid__tr--add-animate",e.triggerAddAnimationClass),Hc(),rp("ngTemplateOutlet",t)}}function Z8(e,t){1&e&&$p(0)}function X8(e,t){if(1&e){let e=Kp();Lp(0,"div",13),rm("click",(function(t){return Ko(e),jo(t.stopPropagation())})),bg(1,Z8,1,0,"ng-container",8),Np()}if(2&e){let e=om(2);lp(e.resolveDragIndicatorClasses),rp("igxRowDrag",e)("ghostTemplate",e.grid.getDragGhostCustomTemplate()),Hc(),rp("ngTemplateOutlet",e.grid.dragIndicatorIconTemplate?e.grid.dragIndicatorIconTemplate:e.grid.dragIndicatorIconBase)}}function Q8(e,t){}function J8(e,t){1&e&&bg(0,Q8,0,0,"ng-template")}function e7(e,t){if(1&e){let e=Kp();Lp(0,"div",14),rm("click",(function(t){return Ko(e),jo(om(2).onRowSelectorClick(t))}))("pointerdown",(function(t){return Ko(e),jo(t.preventDefault())})),bg(1,J8,1,0,null,15),Np()}if(2&e){let e=om(2),t=vm(6);Hc(),rp("ngTemplateOutlet",e.grid.rowSelectorTemplate?e.grid.rowSelectorTemplate:t)("ngTemplateOutletContext",Mm(7,G8,Hm(2,B8,e.viewIndex,e.key,e.key,e.selected)))}}function t7(e,t){1&e&&$p(0)}function i7(e,t){if(1&e&&bg(0,t7,1,0,"ng-container",15),2&e){let e=om(2);rp("ngTemplateOutlet",vm(8))("ngTemplateOutletContext",e)}}function n7(e,t){if(1&e&&(Hp(0,"igx-grid-cell",16,7),Xm(2,"transactionState"),Xm(3,"igxCellStyleClasses"),Xm(4,"igxCellStyles"),Xm(5,"dataMapper")),2&e){let e=om().$implicit,t=om(2);op("min-width",e.resolvedWidth)("max-width",e.resolvedWidth)("flex-basis",e.resolvedWidth),ap("igx-grid__td--edited",nf(2,28,Gm(56,$8,t.key,e.field,t.grid.rowEditable,t.grid.transactions,t.grid.pipeTrigger,t.grid.gridAPI.crudService.cell,t.grid.gridAPI.crudService.row)))("igx-grid__td--number","number"===e.dataType||"percent"===e.dataType||"currency"===e.dataType)("igx-grid__td--bool","boolean"===e.dataType),rp("ngClass",nf(3,36,Bm(64,W8,e.cellClasses,t.data[e.field],t.data,e.field,t.viewIndex,t.grid.pipeTrigger)))("ngStyle",nf(4,43,Bm(71,W8,e.cellStyles,t.data[e.field],t.data,e.field,t.viewIndex,t.grid.pipeTrigger)))("editMode",e.editable&&t.grid.crudService.targetInEdit(t.index,e.index))("column",e)("formatter",e.formatter)("intRow",t)("rowData",t.data)("width",e.getCellWidth())("visibleColumnIndex",e.visibleIndex)("value",nf(5,50,zm(78,K8,t.data,e.field,t.grid.pipeTrigger,t.data[e.field],e.hasNestedPath)))("cellTemplate",e.bodyTemplate)("cellValidationErrorTemplate",e.errorTemplate)("lastSearchInfo",t.grid.lastSearchInfo)("active",t.isCellActive(e.visibleIndex))("cellSelectionMode",t.grid.cellSelection)("displayPinnedChip",t.shouldDisplayPinnedChip(e.visibleIndex))}}function r7(e,t){if(1&e&&(Hp(0,"igx-tree-grid-cell",17,7),Xm(2,"transactionState"),Xm(3,"igxCellStyleClasses"),Xm(4,"igxCellStyles"),Xm(5,"dataMapper")),2&e){let e=om().$implicit,t=om(2);op("min-width",e.resolvedWidth)("max-width",e.resolvedWidth)("flex-basis",e.resolvedWidth),ap("igx-grid__td--edited",nf(2,30,Gm(58,$8,t.key,e.field,t.grid.rowEditable,t.grid.transactions,t.grid.pipeTrigger,t.grid.gridAPI.crudService.cell,t.grid.gridAPI.crudService.row)))("igx-grid__td--number",("number"===e.dataType||"percent"===e.dataType||"currency"===e.dataType)&&0!==e.visibleIndex),rp("ngClass",nf(3,38,Bm(66,W8,e.cellClasses,t.data[e.field],t.data,e.field,t.viewIndex,t.grid.pipeTrigger)))("ngStyle",nf(4,45,Bm(73,W8,e.cellStyles,t.data[e.field],t.data,e.field,t.viewIndex,t.grid.pipeTrigger)))("level",t.treeRow.level)("expanded",t.expanded)("showIndicator",t.showIndicator)("editMode",e.editable&&t.grid.crudService.targetInEdit(t.index,e.index))("column",e)("formatter",e.formatter)("intRow",t)("rowData",t.data)("width",e.getCellWidth())("visibleColumnIndex",e.visibleIndex)("value",nf(5,52,zm(80,K8,t.data,e.field,t.grid.pipeTrigger,t.data[e.field],e.hasNestedPath)))("isLoading",t.isLoading)("cellTemplate",e.bodyTemplate)("cellValidationErrorTemplate",e.errorTemplate)("lastSearchInfo",t.grid.lastSearchInfo)("active",t.isCellActive(e.visibleIndex))("cellSelectionMode",t.grid.cellSelection)("displayPinnedChip",t.shouldDisplayPinnedChip(e.visibleIndex))}}function s7(e,t){1&e&&$p(0)}function o7(e,t){if(1&e&&bg(0,n7,6,84,"ng-template",null,5,sf)(2,r7,6,86,"ng-template",null,6,sf)(4,s7,1,0,"ng-container",8),2&e){let e=t.$implicit,i=vm(1),n=vm(3);Hc(4),rp("ngTemplateOutlet",0===e.visibleIndex?n:i)}}function a7(e,t){1&e&&$p(0)}function l7(e,t){if(1&e&&bg(0,a7,1,0,"ng-container",15),2&e){let e=om(2);rp("ngTemplateOutlet",vm(8))("ngTemplateOutletContext",e)}}function d7(e,t){if(1&e&&(bg(0,X8,2,5,"div",10)(1,e7,2,9,"div",11)(2,i7,1,2,"ng-container")(3,o7,5,1,"ng-template",12,4,sf),Xm(5,"igxNotGrouped"),bg(6,l7,1,2,"ng-container")),2&e){let e=om();Ip(e.rowDraggable?0:-1),Hc(),Ip(e.showRowSelectors?1:-1),Hc(),Ip(e.pinnedColumns.length>0&&e.grid.isPinningToStart?2:-1),Hc(),rp("igxGridForOf",Qm(5,10,e.unpinnedColumns))("igxForScrollContainer",e.grid.parentVirtDir)("igxForScrollOrientation","horizontal")("igxForContainerSize",e.grid.unpinnedWidth)("igxForSizePropName","calcPixelWidth")("igxForTrackBy",e.grid.trackColumnChanges),Hc(3),Ip(e.pinnedColumns.length>0&&!e.grid.isPinningToStart?6:-1)}}function c7(e,t){if(1&e&&(Lp(0,"div",18),Hp(1,"igx-checkbox",19),Np()),2&e){let e=om();Hc(),rp("tabindex",-1)("readonly",!0)("checked",e.selected)("indeterminate",e.indeterminate)("disabled",e.deleted)("disableRipple",!0)("disableTransitions",e.grid.disableTransitions)("aria-label",e.rowCheckboxAriaLabel)}}function h7(e,t){if(1&e&&(Hp(0,"igx-grid-cell",20,7),Xm(2,"transactionState"),Xm(3,"igxCellStyleClasses"),Xm(4,"igxCellStyles"),Xm(5,"dataMapper")),2&e){let e=om().$implicit,t=om(2);op("min-width",e.resolvedWidth)("max-width",e.resolvedWidth)("flex-basis",e.resolvedWidth)("left",e.rightPinnedOffset),ap("igx-grid__td--edited",nf(2,30,Gm(58,$8,t.key,e.field,t.grid.rowEditable,t.grid.transactions,t.grid.pipeTrigger,t.grid.gridAPI.crudService.cell,t.grid.gridAPI.crudService.row)))("igx-grid__td--number","number"===e.dataType||"percent"===e.dataType||"currency"===e.dataType),rp("ngClass",nf(3,38,Bm(66,W8,e.cellClasses,t.data[e.field],t.data,e.field,t.viewIndex,t.grid.pipeTrigger)))("ngStyle",nf(4,45,Bm(73,W8,e.cellStyles,t.data[e.field],t.data,e.field,t.viewIndex,t.grid.pipeTrigger)))("editMode",e.editable&&t.grid.crudService.targetInEdit(t.index,e.index))("column",e)("formatter",e.formatter)("intRow",t)("firstPinned",e.isFirstPinned)("lastPinned",e.isLastPinned)("rowData",t.data)("width",e.getCellWidth())("visibleColumnIndex",e.visibleIndex)("value",nf(5,52,zm(80,K8,t.data,e.field,t.grid.pipeTrigger,t.data[e.field],e.hasNestedPath)))("cellTemplate",e.bodyTemplate)("cellValidationErrorTemplate",e.errorTemplate)("lastSearchInfo",t.grid.lastSearchInfo)("active",t.isCellActive(e.visibleIndex))("cellSelectionMode",t.grid.cellSelection)("displayPinnedChip",t.shouldDisplayPinnedChip(e.visibleIndex))}}function u7(e,t){if(1&e&&(Hp(0,"igx-tree-grid-cell",21,7),Xm(2,"transactionState"),Xm(3,"igxCellStyleClasses"),Xm(4,"igxCellStyles"),Xm(5,"dataMapper")),2&e){let e=om().$implicit,t=om(2);op("min-width",e.resolvedWidth)("max-width",e.resolvedWidth)("flex-basis",e.resolvedWidth)("left",e.rightPinnedOffset),ap("igx-grid__td--edited",nf(2,33,Gm(61,$8,t.key,e.field,t.grid.rowEditable,t.grid.transactions,t.grid.pipeTrigger,t.grid.gridAPI.crudService.cell,t.grid.gridAPI.crudService.row)))("igx-grid__td--number",("number"===e.dataType||"percent"===e.dataType||"currency"===e.dataType)&&0!==e.visibleIndex),rp("ngClass",nf(3,41,Bm(69,W8,e.cellClasses,t.data[e.field],t.data,e.field,t.viewIndex,t.grid.pipeTrigger)))("ngStyle",nf(4,48,Bm(76,W8,e.cellStyles,t.data[e.field],t.data,e.field,t.viewIndex,t.grid.pipeTrigger)))("level",t.treeRow.level)("expanded",t.expanded)("showIndicator",t.showIndicator)("editMode",e.editable&&t.grid.crudService.targetInEdit(t.index,e.index))("column",e)("formatter",e.formatter)("intRow",t)("lastPinned",e.isLastPinned)("rowData",t.data)("width",e.getCellWidth())("visibleColumnIndex",e.visibleIndex)("value",nf(5,55,zm(83,K8,t.data,e.field,t.grid.pipeTrigger,t.data[e.field],e.hasNestedPath)))("isLoading",t.isLoading)("cellTemplate",e.bodyTemplate)("cellValidationErrorTemplate",e.errorTemplate)("lastSearchInfo",t.grid.lastSearchInfo)("active",t.isCellActive(e.visibleIndex))("cellSelectionMode",t.grid.cellSelection)("displayPinnedChip",t.shouldDisplayPinnedChip(e.visibleIndex))}}function g7(e,t){1&e&&$p(0)}function p7(e,t){if(1&e&&bg(0,h7,6,86,"ng-template",null,5,sf)(2,u7,6,89,"ng-template",null,6,sf)(4,g7,1,0,"ng-container",8),2&e){let e=t.$implicit,i=vm(1),n=vm(3);Hc(4),rp("ngTemplateOutlet",0===e.visibleIndex?n:i)}}function m7(e,t){1&e&&(Op(0,p7,5,1,null,null,j8,!0),Xm(2,"igxNotGrouped")),2&e&&Pp(Qm(2,0,om().pinnedColumns))}var f7=(()=>{class e extends aP{get treeRow(){return this._treeRow}set treeRow(e){this._treeRow!==e&&(this._treeRow=e,this.data=this._treeRow.data)}set pinned(e){e?this.grid.pinRow(this.key):this.grid.unpinRow(this.key)}get pinned(){return this.grid.isRecordPinned(this._treeRow)}get isRoot(){let e=this.treeRow;return this.pinned&&!this.disabled&&(e=this.grid.unpinnedRecords.find((e=>e.data===this.data))),0===e?.level}get hasChildren(){return!0}get expanded(){return this._treeRow.expanded}set expanded(e){this.grid.gridAPI.set_row_expansion_state(this._treeRow.key,e)}get viewIndex(){return this.index+this.grid.page*this.grid.perPage}get showIndicator(){return this.grid.loadChildrenOnDemand?this.grid.expansionStates.has(this.key)?this.treeRow.children&&this.treeRow.children.length:!this.grid.hasChildrenKey||this.data[this.grid.hasChildrenKey]:this.treeRow.children&&this.treeRow.children.length}get indeterminate(){return this.selectionService.isRowInIndeterminateState(this.key)}ngDoCheck(){this.isLoading=!!this.grid.loadChildrenOnDemand&&this.grid.loadingRows.has(this.key),super.ngDoCheck()}beginAddChild(){this.grid.crudService.enterAddRowMode(this,!0)}static{this.ɵfac=(()=>{let t;return function(i){return(t||(t=ol(e)))(i||e)}})()}static{this.ɵcmp=Qu({type:e,selectors:[["igx-tree-grid-row"]],viewQuery:function(e,t){if(1&e&&pm(z8,5),2&e){let e;mm(e=fm())&&(t._cells=e)}},hostVars:1,hostBindings:function(e,t){2&e&&$g("aria-expanded",t.expanded)},inputs:{treeRow:"treeRow"},features:[Pm([{provide:aP,useExisting:Jn((()=>e))}]),dg],decls:9,vars:1,consts:[["addTemp",""],["defaultTemp",""],["rowSelectorBaseTemplate",""],["pinnedCellsTemplate",""],["igxDirRef",""],["cellTemplate",""],["treeCellTemplate",""],["treeCell",""],[4,"ngTemplateOutlet"],[1,"igx-grid__tr--inner",3,"animationend"],[3,"class","igxRowDrag","ghostTemplate"],[1,"igx-grid__cbx-selection","igx-grid__tr-action"],["igxGridFor","",3,"igxGridForOf","igxForScrollContainer","igxForScrollOrientation","igxForContainerSize","igxForSizePropName","igxForTrackBy"],[3,"click","igxRowDrag","ghostTemplate"],[1,"igx-grid__cbx-selection","igx-grid__tr-action",3,"click","pointerdown"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"igx-grid__td","igx-grid__td--fw",3,"ngClass","ngStyle","editMode","column","formatter","intRow","rowData","width","visibleColumnIndex","value","cellTemplate","cellValidationErrorTemplate","lastSearchInfo","active","cellSelectionMode","displayPinnedChip"],[1,"igx-grid__td","igx-grid__td--fw","igx-grid__td--tree-cell",3,"ngClass","ngStyle","level","expanded","showIndicator","editMode","column","formatter","intRow","rowData","width","visibleColumnIndex","value","isLoading","cellTemplate","cellValidationErrorTemplate","lastSearchInfo","active","cellSelectionMode","displayPinnedChip"],[1,"igx-grid__cbx-padding"],[3,"tabindex","readonly","checked","indeterminate","disabled","disableRipple","disableTransitions","aria-label"],[1,"igx-grid__td","igx-grid__td--fw","igx-grid__td--pinned",3,"ngClass","ngStyle","editMode","column","formatter","intRow","firstPinned","lastPinned","rowData","width","visibleColumnIndex","value","cellTemplate","cellValidationErrorTemplate","lastSearchInfo","active","cellSelectionMode","displayPinnedChip"],[1,"igx-grid__td","igx-grid__td--fw","igx-grid__td--tree-cell","igx-grid__td--pinned",3,"ngClass","ngStyle","level","expanded","showIndicator","editMode","column","formatter","intRow","lastPinned","rowData","width","visibleColumnIndex","value","isLoading","cellTemplate","cellValidationErrorTemplate","lastSearchInfo","active","cellSelectionMode","displayPinnedChip"]],template:function(e,t){if(1&e&&bg(0,U8,1,0,"ng-container",8)(1,Y8,2,3,"ng-template",null,0,sf)(3,d7,7,12,"ng-template",null,1,sf)(5,c7,2,8,"ng-template",null,2,sf)(7,m7,3,2,"ng-template",null,3,sf),2&e){let e=vm(2),i=vm(4);rp("ngTemplateOutlet",t.addRowUI?e:i)}},dependencies:[qv,QY,nO,vJ,jv,Uv,H8,OF,gY,dY,lY,yY,_Y],encapsulation:2,changeDetection:0})}}return e})(),v7=["record_template"],y7=["summary_template"],x7=[[["igx-grid-toolbar"],["igc-grid-toolbar"]],[["igx-tree-grid-group-by-area"],["igc-tree-grid-group-by-area"]],[["igx-grid-footer"],["igc-grid-footer"]],[["igx-paginator"],["igc-paginator"]],[["igx-grid-state"],["igc-grid-state"]],[["igx-column"],["igc-column"],["igx-column-group"],["igc-column-group"],["igx-action-strip"],["igc-action-strip"]]],_7=["igx-grid-toolbar,igc-grid-toolbar","igx-tree-grid-group-by-area,igc-tree-grid-group-by-area","igx-grid-footer,igc-grid-footer","igx-paginator,igc-paginator","igx-grid-state,igc-grid-state","igx-column,igc-column,igx-column-group,igc-column-group,igx-action-strip,igc-action-strip"],w7=(e,t,i,n,r)=>[e,t,i,n,r],C7=(e,t,i,n,r,s)=>[e,t,i,n,r,s],S7=(e,t,i,n,r,s,o)=>[e,t,i,n,r,s,o],b7=e=>({$implicit:e}),D7=()=>[],E7=(e,t,i,n,r,s)=>[e,t,i,n,r,s,!0],T7=(e,t,i,n,r)=>[e,t,i,n,r,!0],I7=(e,t)=>({"igx-grid__tr--pinned-bottom":e,"igx-grid__tr--pinned-top":t}),R7=(e,t,i,n,r,s,o,a,l,d,c,h)=>[e,t,i,n,r,s,o,a,l,d,c,h],A7=(e,t)=>({rowChangesCount:e,endEdit:t});function k7(e,t){return this.trackPinnedRowData(t)}function O7(e,t){1&e&&Hp(0,"span",34),2&e&&(rp("igxColumnMovingDrop",om().headerContainer),$g("droppable",!0))}function F7(e,t){if(1&e&&Hp(0,"span",63),2&e){let e=om();op("left",e.pinnedWidth,"px"),rp("igxColumnMovingDrop",e.headerContainer),$g("droppable",!0)}}function P7(e,t){1&e&&$p(0)}function V7(e,t){if(1&e&&bg(0,P7,1,0,"ng-container",38),2&e){let e=t.$implicit,i=t.$index,n=om(4);rp("ngTemplateOutlet",vm(27))("ngTemplateOutletContext",n.getContext(e,i,!0))}}function M7(e,t){if(1&e&&(Lp(0,"div",65,25),Op(2,V7,1,2,"ng-container",null,k7,!0),Np()),2&e){let e=om(),t=om(2);op("width",t.calcWidth,"px"),rp("ngClass",Lm(3,I7,!t.isRowPinningToTop,t.isRowPinningToTop)),Hc(2),Pp(e)}}function L7(e,t){1&e&&bg(0,M7,4,6,"div",64),2&e&&Ip(t.length>0?0:-1)}function N7(e,t){if(1&e&&(bg(0,L7,1,1),Xm(1,"treeGridTransaction"),Xm(2,"visibleColumns"),Xm(3,"treeGridNormalizeRecord"),Xm(4,"treeGridAddRow"),Xm(5,"gridRowPinning"),Xm(6,"treeGridFiltering"),Xm(7,"treeGridSorting")),2&e){let e,t=om();Ip((e=nf(7,27,zm(41,T7,nf(6,19,Bm(34,E7,tf(5,14,ef(4,10,Jm(3,7,Jm(2,4,Jm(1,1,t.data,t.pipeTrigger),t.hasVisibleColumns),t.pipeTrigger),!0,t.pipeTrigger),t.id,!0,t.pipeTrigger),t.filteringExpressionsTree,t.filterStrategy,t.advancedFilteringExpressionsTree,t.pipeTrigger,t.filteringPipeTrigger)),t.sortingExpressions,null==t.treeGroupArea?null:t.treeGroupArea.expressions,t.sortStrategy,t.pipeTrigger)))?0:-1,e)}}function H7(e,t){1&e&&$p(0)}function z7(e,t){}function B7(e,t){if(1&e){let e=Kp();bg(0,z7,0,0,"ng-template",66),rm("cachedViewLoaded",(function(t){return Ko(e),jo(om().cachedViewLoaded(t))}))}if(2&e){let e=t.$implicit,i=t.index,n=om(),r=vm(25),s=vm(29);rp("igxTemplateOutlet",n.isSummaryRow(e)?s:r)("igxTemplateOutletContext",n.getContext(e,i,!1))}}function G7(e,t){1&e&&$p(0)}function $7(e,t){if(1&e&&(Hp(0,"igx-tree-grid-row",67,26),Xm(2,"igxGridRowClasses"),Xm(3,"igxGridRowStyles")),2&e){let e=t.index,i=t.disabled,n=t.$implicit,r=vm(1),s=om();rp("gridID",s.id)("index",e)("treeRow",n)("disabled",i)("ngClass",nf(2,6,Wm(24,R7,[s.rowClasses,r,r.inEditMode,r.selected,r.dirty,r.deleted,r.dragging,e,s.hasColumnLayouts,r.treeRow.isFilteredOutParent,n,s.pipeTrigger])))("ngStyle",tf(3,19,s.rowStyles,n,e,s.pipeTrigger))}}function W7(e,t){if(1&e&&(Hp(0,"igx-tree-grid-row",68,27),Xm(3,"igxGridRowClasses"),Xm(4,"igxGridRowStyles")),2&e){let e=t.index,i=t.$implicit,n=vm(1),r=om();rp("gridID",r.id)("index",e)("treeRow",i)("ngClass",nf(3,5,Wm(23,R7,[r.rowClasses,n,n.inEditMode,n.selected,n.dirty,n.deleted,n.dragging,e,r.hasColumnLayouts,n.treeRow.isFilteredOutParent,i,r.pipeTrigger])))("ngStyle",tf(4,18,r.rowStyles,i,e,r.pipeTrigger))}}function K7(e,t){if(1&e&&Hp(0,"igx-grid-summary-row",69,28),2&e){let e=t.index,i=t.$implicit;rp("gridID",om().id)("summaries",i.summaries)("firstCellIndentation",i.cellIndentation)("index",e)}}function j7(e,t){1&e&&$p(0)}function U7(e,t){1&e&&Hp(0,"igx-circular-bar",41),2&e&&rp("indeterminate",!0)}function q7(e,t){1&e&&Hp(0,"span",42),2&e&&(rp("igxColumnMovingDrop",om().headerContainer),$g("droppable",!0))}function Y7(e,t){}function Z7(e,t){if(1&e&&(Hp(0,"igx-grid-summary-row",70,28),Xm(2,"igxGridSummaryDataPipe")),2&e){let e=om();op("width",e.calcWidth,"px")("height",e.summaryRowHeight,"px"),rp("gridID",e.id)("summaries",Jm(2,7,e.id,e.summaryService.retriggerRootPipe))("index",e.dataView.length)}}function X7(e,t){}function Q7(e,t){1&e&&$p(0)}function J7(e,t){if(1&e&&(Lp(0,"span"),bg(1,Q7,1,0,"ng-container",36),Np()),2&e){let e=om(2),t=vm(70);Hc(),rp("ngTemplateOutlet",e.addRowEmptyTemplate||t)}}function e9(e,t){if(1&e&&(Lp(0,"span",71)(1,"span"),ym(2),Np(),bg(3,J7,2,1,"span"),Np()),2&e){let e=om();Hc(2),_m(e.emptyFilteredGridMessage),Hc(),Ip(e.showAddButton?3:-1)}}function t9(e,t){1&e&&$p(0)}function i9(e,t){if(1&e&&(Lp(0,"span"),bg(1,t9,1,0,"ng-container",36),Np()),2&e){let e=om(2),t=vm(70);Hc(),rp("ngTemplateOutlet",e.addRowEmptyTemplate||t)}}function n9(e,t){if(1&e&&(Lp(0,"span",71)(1,"span"),ym(2),Np(),bg(3,i9,2,1,"span"),Np()),2&e){let e=om();Hc(2),_m(e.emptyGridMessage),Hc(),Ip(e.showAddButton?3:-1)}}function r9(e,t){if(1&e){let e=Kp();Lp(0,"button",72),rm("click",(function(t){return Ko(e),jo(om().crudService.enterAddRowMode(null,!1,t))})),ym(1),Np()}if(2&e){let e=om();Hc(),wm(" ",e.resourceStrings.igx_grid_add_row_label," ")}}function s9(e,t){1&e&&(Lp(0,"div",73),Hp(1,"igx-circular-bar",41),Np()),2&e&&(Hc(),rp("indeterminate",!0))}function o9(e,t){1&e&&$p(0)}function a9(e,t){if(1&e&&(Lp(0,"div",40,29)(2,"div",74),bg(3,o9,1,0,"ng-container",38),Np()()),2&e){let e=om();Hc(2),rp("className",e.bannerClass),Hc(),rp("ngTemplateOutlet",e.rowEditContainer)("ngTemplateOutletContext",Lm(3,A7,e.rowChangesCount,e.crudService.endEdit.bind(e)))}}function l9(e,t){if(1&e&&(ym(0),Xm(1,"igxStringReplace"),Xm(2,"igxStringReplace")),2&e){let e=om();wm(" ",ef(2,5,ef(1,1,e.resourceStrings.igx_grid_row_edit_text,"{0}",e.rowChangesCount.toString()),"{1}",e.hiddenColumnsCount.toString()),"\n")}}function d9(e,t){if(1&e){let e=Kp();Lp(0,"button",75),rm("click",(function(t){return Ko(e),jo(om().endRowEditTabStop(!1,t))})),ym(1),Np(),Lp(2,"button",75),rm("click",(function(t){return Ko(e),jo(om().endRowEditTabStop(!0,t))})),ym(3),Np()}if(2&e){let e=om();Hc(),_m(e.resourceStrings.igx_grid_row_edit_btn_cancel),Hc(2),_m(e.resourceStrings.igx_grid_row_edit_btn_done)}}function c9(e,t){1&e&&$p(0)}function h9(e,t){1&e&&$p(0)}function u9(e,t){if(1&e&&(Lp(0,"div",76)(1,"span",77),bg(2,c9,1,0,"ng-container",38),Np()(),Lp(3,"div",78)(4,"div",79),bg(5,h9,1,0,"ng-container",38),Np()()),2&e){let e=om(),t=vm(75),i=vm(77);Hc(2),rp("ngTemplateOutlet",null!=e.crudService.row&&e.crudService.row.isAddRow?e.rowAddTextTemplate:e.rowEditTextTemplate?e.rowEditTextTemplate:t)("ngTemplateOutletContext",Mm(4,b7,null!=e.crudService.row&&e.crudService.row.isAddRow?null:e.rowChangesCount)),Hc(3),rp("ngTemplateOutlet",e.rowEditActionsTemplate?e.rowEditActionsTemplate:i)("ngTemplateOutletContext",Mm(6,b7,e.endEdit.bind(e)))}}function g9(e,t){1&e&&Hp(0,"igx-icon",80)}function p9(e,t){1&e&&Hp(0,"igx-grid-column-resizer")}function m9(e,t){1&e&&(Lp(0,"div",62,30),dm(2,4),dm(3,5),Np())}var f9=0,v9=(()=>{class e extends nQ{get data(){return this._data}set data(e){let t=this._data;this._data=e||[],this.summaryService.clearSummaryCache(),this._init||this.validation.updateAll(this._data),this.autoGenerate&&this._data.length>0&&this.shouldRecreateColumns(t,this._data)&&this.setupColumns(),this.checkPrimaryKeyField(),this.cdr.markForCheck()}get type(){return"tree"}get transactions(){return this._diTransactions&&!this.batchEditing?this._diTransactions:this._transactions}get expansionDepth(){return this._expansionDepth}set expansionDepth(e){this._expansionDepth=e,this.notifyChanges()}get rowLoadingIndicatorTemplate(){return this._rowLoadingIndicatorTemplate}set rowLoadingIndicatorTemplate(e){this._rowLoadingIndicatorTemplate=e,this.notifyChanges()}constructor(e,t,i,n,r,s,o,a,l,d,c,h,u,g,p,m,f,v,y,x,_){super(e,t,i,n,r,s,o,a,l,d,c,h,u,g,p,m,f,v,y,x,_),this._diTransactions=_,this.cascadeOnDelete=!0,this.role="treegrid",this.id="igx-tree-grid-"+f9++,this.records=new Map,this.processedRecords=new Map,this.loadingRows=new Set,this._filterStrategy=new JS,this._expansionDepth=1/0}ngOnInit(){super.ngOnInit(),this.rowToggle.pipe(Nn(this.destroy$)).subscribe((e=>{this.loadChildrenOnRowExpansion(e)})),this.rowAddedNotifier.pipe(Nn(this.destroy$)).subscribe((e=>{if(this.rowSelection===cb){let t=this.gridAPI.get_rec_by_id(this.primaryKey?e.data[this.primaryKey]:e.data);t&&t.parent?this.gridAPI.grid.selectionService.updateCascadeSelectionOnFilterAndCRUD(new Set([t.parent]),t.parent.key):requestAnimationFrame((()=>{t=this.gridAPI.get_rec_by_id(this.primaryKey?e.data[this.primaryKey]:e.data),t&&t.parent&&this.gridAPI.grid.selectionService.updateCascadeSelectionOnFilterAndCRUD(new Set([t.parent]),t.parent.key),this.notifyChanges()}))}})),this.rowDeletedNotifier.pipe(Nn(this.destroy$)).subscribe((e=>{if(this.rowSelection===cb)if(e.data){let t=this.gridAPI.get_rec_by_id(this.primaryKey?e.data[this.primaryKey]:e.data);this.handleCascadeSelection(e,t)}else{let e=new Set;this.records.forEach((t=>{t&&(!t.children||0===t.children.length)&&t.parent&&e.add(t.parent)})),requestAnimationFrame((()=>{this.gridAPI.grid.selectionService.updateCascadeSelectionOnFilterAndCRUD(e),this.notifyChanges()}))}})),this.filteringDone.pipe(Nn(this.destroy$)).subscribe((()=>{if(this.rowSelection===cb){let e=new Set;this.records.forEach((t=>{t&&(!t.children||0===t.children.length)&&t.parent&&e.add(t.parent)})),this.gridAPI.grid.selectionService.updateCascadeSelectionOnFilterAndCRUD(e),this.notifyChanges()}}))}ngAfterViewInit(){if(super.ngAfterViewInit(),this.rowSelection===cb&&this.selectedRows.length){let e=this.selectedRows;this.selectionService.clearRowSelection(),this.selectRows(e,!0),this.cdr.detectChanges()}}ngAfterContentInit(){this.rowLoadingTemplate&&(this._rowLoadingIndicatorTemplate=this.rowLoadingTemplate.template),super.ngAfterContentInit()}getDefaultExpandState(e){return e.children&&e.children.length&&e.level<this.expansionDepth}expandAll(){this._expansionDepth=1/0,this.expansionStates=new Map}collapseAll(){this._expansionDepth=0,this.expansionStates=new Map}refreshGridState(e){if(super.refreshGridState(),this.primaryKey&&this.foreignKey&&e){let t=e.data[this.foreignKey];this.summaryService.clearSummaryCache({rowID:t}),this.pipeTrigger++,this.cdr.detectChanges()}}addRow(e,t){this.crudService.endEdit(!0),this.gridAPI.addRowToData(e,t),this.rowAddedNotifier.next({data:e,rowData:e,owner:this,primaryKey:e[this.primaryKey],rowKey:e[this.primaryKey]}),this.pipeTrigger++,this.notifyChanges()}beginAddRowByIndex(e,t){return null===e||e<0?this.beginAddRowById(null,t):this._addRowForIndex(e-1,t)}getContext(e,t,i){return{$implicit:this.isGhostRecord(e)?e.recordRef:e,index:this.getDataViewIndex(t,i),templateID:{type:this.isSummaryRow(e)?"summaryRow":"dataRow",id:null},disabled:!!this.isGhostRecord(e)&&void 0===e.recordRef.isFilteredOutParent}}getInitialPinnedIndex(e){let t=this.gridAPI.get_row_id(e);return this._pinnedRecordIDs.indexOf(t)}isRecordPinned(e){return-1!==this.getInitialPinnedIndex(e.data)}getSelectedData(e=!1,t=!1){let i=[];return this.unpinnedDataView.forEach((e=>{e.summaries?i.push(null):i.push(e.data)})),i=this.isRowPinningToTop?[...this.pinnedDataView,...i]:[...i,...this.pinnedDataView],this.extractDataFromSelection(i,e,t)}getEmptyRecordObjectFor(e){let t=e?.treeRow||null,i=Qe({},t),n=t?.data||{};i.data=Qe({},n),Object.keys(i.data).forEach((e=>{this.foreignKey&&e===this.foreignKey?i.data[e]=t.data[this.crudService.addRowParent?.asChild?this.primaryKey:e]:i.data[e]=void 0}));let r=this.generateRowID();return r===(this.foreignKey&&this.rootRecords&&this.rootRecords.length>0?this.rootRecords[0].data[this.foreignKey]:null)&&(r=this.generateRowID()),i.key=r,i.data[this.primaryKey]=r,{rowID:r,data:i.data,recordRef:i}}deleteRowById(e){let t={rowID:e,primaryKey:e,rowKey:e,cancel:!1,rowData:this.getRowData(e),data:this.getRowData(e),oldValue:null,owner:this};if(this.rowDelete.emit(t),t.cancel)return;let i=this.gridAPI.deleteRowById(e),n=i[this.primaryKey];if(null!=i){let e={data:i,rowData:i,owner:this,primaryKey:n,rowKey:n};this.rowDeleted.emit(e)}return i}getRowByIndex(e){if(!(e<0||e>=this.dataView.length))return this.createRow(e)}getRowByKey(e){let t=this.filteredSortedData?this.primaryKey?this.filteredSortedData.find((t=>t[this.primaryKey]===e)):this.filteredSortedData.find((t=>t===e)):void 0,i=this.dataView.findIndex((e=>e.data&&e.data===t));if(!(i<0||i>=this.filteredSortedData.length))return new rY(this,i,t)}allRows(){return this.dataView.map(((e,t)=>this.createRow(t)))}dataRows(){return this.allRows().filter((e=>e instanceof rY))}get selectedCells(){return this.dataRows().map((e=>e.cells.filter((e=>e.selected)))).reduce(((e,t)=>e.concat(t)),[])}getCellByColumn(e,t){let i=this.getRowByIndex(e),n=this.columns.find((e=>e.field===t));if(i&&i instanceof rY&&n)return new jH(this,e,n)}getCellByKey(e,t){let i=this.getRowByKey(e),n=this.columns.find((e=>e.field===t));if(i&&n)return new jH(this,i.index,n)}pinRow(e,t){let i=this.getRowByKey(e);return super.pinRow(e,t,i)}unpinRow(e){let t=this.getRowByKey(e);return super.unpinRow(e,t)}generateRowPath(e){let t=[],i=this.records.get(e);for(;i.parent;)t.push(i.parent.key),i=i.parent;return t.reverse()}isTreeRow(e){return void 0!==e.key&&e.data}getUnpinnedIndexById(e){return this.unpinnedRecords.findIndex((t=>t.data[this.primaryKey]===e))}createRow(e,t){let i,n=this._getDataViewIndex(e),r=t??this.dataView[n];if(this.isSummaryRow(r)&&(i=new aY(this,e,r.summaries)),!i&&r){let t=this.isTreeRow(r),n=t?r.data:r;i=new rY(this,e,n,t?r:void 0)}return i}generateDataFields(e){return super.generateDataFields(e).filter((e=>e!==this.childDataKey))}transactionStatusUpdate(e){let t=[];if(e.origin===dS.REDO)t=e.actions?e.actions.filter((e=>e.transaction.type===lS.DELETE)):[],this.rowSelection===cb&&this.handleCascadeSelection(e);else if(e.origin===dS.UNDO&&(t=e.actions?e.actions.filter((e=>e.transaction.type===lS.ADD)):[],this.rowSelection===cb))if("add"===e.actions[0].transaction.type){let t=this.gridAPI.get_rec_by_id(e.actions[0].transaction.id);this.handleCascadeSelection(e,t)}else this.handleCascadeSelection(e);if(t.length)for(let e of t)this.deselectChildren(e.transaction.id);super.transactionStatusUpdate(e)}findRecordIndexInView(e){return this.dataView.findIndex((t=>t.data[this.primaryKey]===e[this.primaryKey]))}getDataBasedBodyHeight(){return!this.flatData||this.flatData.length<this._defaultTargetRecordNumber?0:this.defaultTargetBodyHeight}scrollTo(e,t){let i,n=!1;if("number"!=typeof e){let t=e,r=this.gridAPI.get_row_id(t);if(i=this.processedRecords.get(r),this.gridAPI.expand_path_to_record(i),this.paginator){let e=this.processedExpandedFlatData.indexOf(t),i=Math.floor(e/this.perPage);this.page!==i&&(n=!0,this.page=i)}}n?this.verticalScrollContainer.dataChanged.pipe(Vn()).subscribe((()=>{this.scrollDirective(this.verticalScrollContainer,"number"==typeof e?e:this.unpinnedDataView.indexOf(i))})):this.scrollDirective(this.verticalScrollContainer,"number"==typeof e?e:this.unpinnedDataView.indexOf(i)),this.scrollToHorizontally(t)}writeToData(e,t){OC(this.flatData[e],t)}initColumns(e,t=null){if(this.hasColumnLayouts){let e=this.columns.filter((e=>!e.columnLayout&&!e.columnLayoutChild));this.updateColumns(e)}super.initColumns(e,t)}getGroupAreaHeight(){return this.treeGroupArea?this.getComputedHeight(this.treeGroupArea.nativeElement):0}trackPinnedRowData(e){return e}deselectChildren(e){let t=[],i=this.records.get(e);this.selectionService.deselectRowsWithNoEvent([e]),this.gridAPI.get_selected_children(i,t),t.length>0&&t.forEach((e=>this.deselectChildren(e)))}addChildRows(e,t){if(this.primaryKey&&this.foreignKey){for(let i of e)i[this.foreignKey]=t;this.data.push(...e)}else if(this.childDataKey){let i=this.records.get(t),n=i.data;if(this.transactions.enabled&&this.transactions.getAggregatedChanges(!0).length){let e=[];for(;i;)e.push(i.key),i=i.parent;let t,r=this.data;for(let i=e.length-1;i>=0;i--){let n=e[i];if(t=r.find((e=>e[this.primaryKey]===n)),!t)break;r=t[this.childDataKey]}t&&(n=t)}n[this.childDataKey]=e}this.selectionService.clearHeaderCBState(),this.pipeTrigger++,this.rowSelection===cb&&(this.cdr.detectChanges(),this.selectionService.isRowSelected(t)&&(this.selectionService.rowSelection.delete(t),this.selectionService.selectRowsWithNoEvent([t])))}loadChildrenOnRowExpansion(e){if(this.loadChildrenOnDemand){let t=e.rowID;e.expanded&&!this._expansionStates.has(t)&&(this.loadingRows.add(t),this.loadChildrenOnDemand(t,(e=>{this.loadingRows.delete(t),this.addChildRows(e,t),this.notifyChanges()})))}}handleCascadeSelection(e,t=null){requestAnimationFrame((()=>{null===t&&(t=this.gridAPI.get_rec_by_id(e.actions[0].transaction.id)),t&&t.parent&&(this.gridAPI.grid.selectionService.updateCascadeSelectionOnFilterAndCRUD(new Set([t.parent]),t.parent.key),this.notifyChanges())}))}static{this.ɵfac=function(t){return new(t||e)(lu(TX),lu(rP),lu(mU),lu(BF),lu(UI),lu(zl),lu(Il),lu(Kf),lu(Cf),lu(Pf),lu(Su),lu(hl),lu(vs),lu(IX),lu(OU),lu(Mx),lu(zI),lu(RX),lu(uf),lu(NC),lu(EX,8))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-tree-grid"]],contentQueries:function(e,t,i){if(1&e&&(gm(i,N6,5,N6),gm(i,O6,5,O6)),2&e){let e;mm(e=fm())&&(t.treeGroupArea=e.first),mm(e=fm())&&(t.rowLoadingTemplate=e.first)}},viewQuery:function(e,t){if(1&e&&(pm(v7,7,jh),pm(y7,7,jh)),2&e){let e;mm(e=fm())&&(t.recordTemplate=e.first),mm(e=fm())&&(t.summaryTemplate=e.first)}},hostVars:2,hostBindings:function(e,t){2&e&&$g("role",t.role)("id",t.id)},inputs:{childDataKey:"childDataKey",foreignKey:"foreignKey",hasChildrenKey:"hasChildrenKey",cascadeOnDelete:[2,"cascadeOnDelete","cascadeOnDelete",Hf],loadChildrenOnDemand:"loadChildrenOnDemand",id:"id",data:"data",expansionDepth:"expansionDepth",rowLoadingIndicatorTemplate:"rowLoadingIndicatorTemplate"},features:[Pm([HF,TX,RX,IX,{provide:rP,useClass:F6},{provide:BF,useClass:k6},{provide:zF,useExisting:e},OU,mU,Zk,Xk]),dg],ngContentSelectors:_7,decls:88,vars:161,consts:[["tbody",""],["pinnedRecordsTemplate",""],["verticalScrollContainer",""],["record_template",""],["pinned_record_template",""],["summary_template",""],["igxRowEditingOverlayOutlet",""],["loadingOverlay",""],["verticalScrollHolder",""],["addRowSnackbar",""],["igxBodyOverlayOutlet","overlay-outlet"],["tfoot",""],["scr",""],["scrollContainer",""],["footer",""],["emptyFilteredGrid",""],["defaultEmptyGrid",""],["defaultAddRowEmptyTemplate",""],["defaultLoadingGrid",""],["defaultRowEditText",""],["defaultRowEditActions",""],["defaultRowEditTemplate",""],["dragIndicatorIconBase",""],["igxLoadingOverlayOutlet",""],["igxFilteringOverlayOutlet",""],["pinContainer",""],["row",""],["row","","pinnedRow",""],["summaryRow",""],["rowEditingOverlay",""],["sink",""],["tabindex","0",1,"igx-grid-thead",3,"keydown.meta.c","keydown.control.c","copy","keydown","focus","grid","hasMRL","activeDescendant","width","pinnedColumnCollection","unpinnedColumnCollection"],["igxGridBody","","role","rowgroup",1,"igx-grid__tbody",3,"keydown.control.c","copy"],["tabindex","0",1,"igx-grid__tbody-content",3,"focus","keydown","dragStop","dragScroll","scroll","igxGridDragSelect"],["id","left",1,"igx-grid__scroll-on-drag-left",3,"igxColumnMovingDrop"],["id","left",1,"igx-grid__scroll-on-drag-pinned",3,"igxColumnMovingDrop","left"],[4,"ngTemplateOutlet"],["igxGridFor","",3,"dataChanging","dataChanged","igxGridForOf","igxForScrollOrientation","igxForScrollContainer","igxForContainerSize","igxForItemSize"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["igxOverlayOutlet","",1,"igx-grid__row-editing-outlet"],["igxToggle",""],[3,"indeterminate"],["id","right",1,"igx-grid__scroll-on-drag-right",3,"igxColumnMovingDrop"],[1,"igx-grid__tbody-scrollbar",3,"pointerdown","hidden"],[1,"igx-grid__tbody-scrollbar-start"],[1,"igx-grid__tbody-scrollbar-main"],["igxGridFor","",3,"igxGridForOf"],[1,"igx-grid__tbody-scrollbar-end"],[1,"igx-grid__addrow-snackbar"],[3,"outlet","actionText","displayTime"],["igxOverlayOutlet",""],["role","rowgroup",1,"igx-grid__tfoot"],["tabindex","0",3,"focus","keydown"],["role","row",1,"igx-grid__summaries",3,"width","height","gridID","summaries","index"],[1,"igx-grid__tfoot-thumb",3,"hidden"],[1,"igx-grid__scroll",3,"pointerdown","hidden"],[1,"igx-grid__scroll-start"],[1,"igx-grid__scroll-main"],[1,"igx-grid__scroll-end",3,"hidden"],[1,"igx-grid__footer"],["igxOverlayOutlet","",1,"igx-grid__loading-outlet"],["igxOverlayOutlet","",1,"igx-grid__outlet"],[2,"display","none"],["id","left",1,"igx-grid__scroll-on-drag-pinned",3,"igxColumnMovingDrop"],[1,"igx-grid__tr--pinned",3,"ngClass","width"],[1,"igx-grid__tr--pinned",3,"ngClass"],[3,"cachedViewLoaded","igxTemplateOutlet","igxTemplateOutletContext"],[3,"gridID","index","treeRow","disabled","ngClass","ngStyle"],[3,"gridID","index","treeRow","ngClass","ngStyle"],["role","row",1,"igx-grid__summaries--body",3,"gridID","summaries","firstCellIndentation","index"],["role","row",1,"igx-grid__summaries",3,"gridID","summaries","index"],["role","cell",1,"igx-grid__tbody-message"],["type","button","igxButton","contained","igxRipple","",3,"click"],[1,"igx-grid__loading"],[3,"className"],["type","button","igxButton","","igxRowEditTabStop","",3,"click"],[1,"igx-banner__message"],[1,"igx-banner__text"],[1,"igx-banner__actions"],[1,"igx-banner__row"],["family","default","name","drag_indicator"]],template:function(e,t){if(1&e){let e=Kp();lm(x7),dm(0),dm(1,1),Lp(2,"igx-grid-header-row",31),rm("keydown.meta.c",(function(i){return Ko(e),jo(t.copyHandler(i))}))("keydown.control.c",(function(i){return Ko(e),jo(t.copyHandler(i))}))("copy",(function(i){return Ko(e),jo(t.copyHandler(i))}))("keydown",(function(i){return Ko(e),jo(t.navigation.headerNavigation(i))}))("focus",(function(){return Ko(e),jo(t.navigation.focusFirstCell())})),Np(),Lp(3,"div",32),rm("keydown.control.c",(function(i){return Ko(e),jo(t.copyHandler(i))}))("copy",(function(i){return Ko(e),jo(t.copyHandler(i))})),Lp(4,"div",33,0),rm("focus",(function(i){return Ko(e),jo(t.navigation.focusTbody(i))}))("keydown",(function(i){return Ko(e),jo(t.navigation.handleNavigation(i))}))("dragStop",(function(i){return Ko(e),jo(t.selectionService.dragMode=i)}))("dragScroll",(function(i){return Ko(e),jo(t.dragScroll(i))}))("scroll",(function(i){return Ko(e),jo(t.preventContainerScroll(i))})),bg(6,O7,1,2,"span",34)(7,F7,1,4,"span",35)(8,N7,8,47,"ng-template",null,1,sf)(10,H7,1,0,"ng-container",36)(11,B7,1,2,"ng-template",37,2,sf),Xm(13,"treeGridTransaction"),Xm(14,"visibleColumns"),Xm(15,"treeGridHierarchizing"),Xm(16,"treeGridFiltering"),Xm(17,"treeGridSorting"),Xm(18,"treeGridFlattening"),Xm(19,"treeGridPaging"),Xm(20,"treeGridSummary"),Xm(21,"treeGridAddRow"),Xm(22,"gridRowPinning"),rm("dataChanging",(function(i){return Ko(e),jo(t.dataRebinding(i))}))("dataChanged",(function(i){return Ko(e),jo(t.dataRebound(i))})),bg(23,G7,1,0,"ng-container",36)(24,$7,4,37,"ng-template",null,3,sf)(26,W7,5,36,"ng-template",null,4,sf)(28,K7,2,4,"ng-template",null,5,sf)(30,j7,1,0,"ng-container",38),Hp(31,"div",39,6),Np(),Lp(33,"div",40,7),bg(35,U7,1,1,"igx-circular-bar",41),Np(),bg(36,q7,1,2,"span",42),Lp(37,"div",43),rm("pointerdown",(function(t){return Ko(e),jo(t.preventDefault())})),Hp(38,"div",44),Lp(39,"div",45),bg(40,Y7,0,0,"ng-template",46,8,sf),Np(),Hp(42,"div",47),Np(),Lp(43,"div",48)(44,"igx-snackbar",49,9),ym(46),Np()(),Hp(47,"div",50,10),Np(),Lp(49,"div",51,11)(51,"div",52),rm("focus",(function(){return Ko(e),jo(t.navigation.focusFirstCell(!1))}))("keydown",(function(i){return Ko(e),jo(t.navigation.summaryNav(i))})),bg(52,Z7,3,10,"igx-grid-summary-row",53),Hp(53,"div",54),Np()(),Lp(54,"div",55,12),rm("pointerdown",(function(t){return Ko(e),jo(t.preventDefault())})),Hp(56,"div",56),Lp(57,"div",57),bg(58,X7,0,0,"ng-template",46,13,sf),Np(),Hp(60,"div",58),Np(),Lp(61,"div",59,14),dm(63,2),dm(64,3),Np(),bg(65,e9,4,2,"ng-template",null,15,sf)(67,n9,4,2,"ng-template",null,16,sf)(69,r9,2,1,"ng-template",null,17,sf)(71,s9,2,1,"ng-template",null,18,sf)(73,a9,4,6,"div",40)(74,l9,3,9,"ng-template",null,19,sf)(76,d9,4,2,"ng-template",null,20,sf)(78,u9,6,8,"ng-template",null,21,sf)(80,g9,1,0,"ng-template",null,22,sf)(82,p9,1,0,"igx-grid-column-resizer"),Hp(83,"div",60,23)(85,"div",61,24),bg(87,m9,4,0,"div",62)}if(2&e){let e=vm(9),i=vm(48);Hc(2),rp("grid",t)("hasMRL",t.hasColumnLayouts)("activeDescendant",t.activeDescendant)("width",t.calcWidth)("pinnedColumnCollection",t.pinnedColumns)("unpinnedColumnCollection",t.unpinnedColumns),Hc(2),op("height",t.totalHeight,"px")("width",t.totalCalcWidth,"px")("width",t.platform.isBrowser?void 0:"100%"),rp("igxGridDragSelect",t.selectionService.dragMode),$g("aria-activedescendant",t.activeDescendant)("role",t.dataView.length?null:"row"),Hc(2),Ip(t.moving&&t.columnInDrag&&t.pinnedColumns.length<=0?6:-1),Hc(),Ip(t.moving&&t.columnInDrag&&t.pinnedColumns.length>0?7:-1),Hc(3),rp("ngTemplateOutlet",t.hasPinnedRecords&&t.isRowPinningToTop?e:null),Hc(),rp("igxGridForOf",tf(22,119,ef(21,115,nf(20,107,Gm(149,S7,nf(19,101,zm(143,w7,tf(18,96,nf(17,90,zm(137,w7,nf(16,83,Bm(130,C7,nf(15,77,zm(124,w7,Jm(14,74,Jm(13,71,t.renderData,t.pipeTrigger),t.hasVisibleColumns),t.primaryKey,t.foreignKey,t.childDataKey,t.pipeTrigger)),t.filteringExpressionsTree,t.filterStrategy,t.advancedFilteringExpressionsTree,t.pipeTrigger,t.filteringPipeTrigger)),t.sortingExpressions,null==t.treeGroupArea?null:t.treeGroupArea.expressions,t.sortStrategy,t.pipeTrigger)),t.expansionDepth,t.expansionStates,t.pipeTrigger),!!t.paginator,t.page,t.perPage,t.pipeTrigger)),t.hasSummarizedColumns,t.summaryCalculationMode,t.summaryPosition,t.showSummaryOnCollapse,t.pipeTrigger,t.summaryPipeTrigger)),!1,t.pipeTrigger),t.id,!1,t.pipeTrigger))("igxForScrollOrientation","vertical")("igxForScrollContainer",t.verticalScroll)("igxForContainerSize",t.calcHeight)("igxForItemSize",t.renderedRowHeight),Hc(12),rp("ngTemplateOutlet",t.hasPinnedRecords&&!t.isRowPinningToTop?e:null),Hc(7),rp("ngTemplateOutlet",t.template)("ngTemplateOutletContext",Mm(157,b7,t)),Hc(5),Ip(t.shouldOverlayLoading?35:-1),Hc(),Ip(t.moving&&t.columnInDrag?36:-1),Hc(),op("width",t.scrollSize,"px")("height",t.calcHeight,"px"),rp("hidden",!t.hasVerticalScroll()),Hc(),op("height",t.isRowPinningToTop?t.pinnedRowHeight:0,"px"),Hc(),op("height",t.calcHeight,"px"),Hc(),rp("igxGridForOf",Vm(159,D7)),Hc(2),op("height",t.isRowPinningToTop?0:t.pinnedRowHeight,"px"),Hc(2),rp("outlet",i)("actionText",t.resourceStrings.igx_grid_snackbar_addrow_actiontext)("displayTime",t.snackbarDisplayTime),Hc(2),_m(t.resourceStrings.igx_grid_snackbar_addrow_label),Hc(3),op("height",t.summaryRowHeight,"px"),Hc(2),$g("aria-activedescendant",t.activeDescendant),Hc(),Ip(t.hasSummarizedColumns&&t.rootSummariesEnabled?52:-1),Hc(),op("height",t.summaryRowHeight,"px")("width",t.scrollSize,"px"),rp("hidden",!t.hasVerticalScroll()),Hc(),op("height",t.scrollSize,"px"),rp("hidden",t.isHorizontalScrollHidden),Hc(2),op("width",t.isPinningToStart?t.pinnedWidth:t.headerFeaturesWidth,"px")("min-width",t.isPinningToStart?t.pinnedWidth:t.headerFeaturesWidth,"px"),Hc(),op("width",t.unpinnedWidth,"px"),Hc(),rp("igxGridForOf",Vm(160,D7)),Hc(2),op("width",t.pinnedWidth,"px")("min-width",t.pinnedWidth,"px"),rp("hidden",0===t.pinnedWidth||t.isPinningToStart),Hc(13),Ip(t.rowEditable?73:-1),Hc(9),Ip(t.colResizingService.showResizer?82:-1),Hc(5),Ip(t.platform.isElements?87:-1)}},dependencies:[jv,Uv,qv,XY,HZ,J1,ZU,nO,wO,f7,hX,DO,SO,wW,xX,mR,hO,jZ,DA,gX,fY,vY,hY,uY,AQ,B6,G6,$6,z6,W6,K6,H6,j6,U6,xY],encapsulation:2,changeDetection:0})}}return e})(),y9=(()=>{class e extends rQ{constructor(){super(...arguments),this.childRowIslands=new Map,this.childGrids=new Map}registerChildRowIsland(e){this.childRowIslands.set(e.key,e),this.destroyMap.set(e.key,new Ci)}unsetChildRowIsland(e){this.childGrids.delete(e.key),this.childRowIslands.delete(e.key),this.destroyMap.delete(e.key)}getChildRowIsland(e){return this.childRowIslands.get(e)}getChildGrid(e){let t,i=e,n=i.shift(),r=this.childGrids.get(n.rowIslandKey);if(r){let e=r.get(n.rowKey);t=0===i.length?e:e.gridAPI.getChildGrid(i)}return t}getChildGrids(e){let t=[];return this.childGrids.forEach((i=>{i.forEach((i=>{if(t.push(i),e){let n=i.gridAPI.getChildGrids(e);t=t.concat(n)}}))})),t}getParentRowId(e){let t;return this.childGrids.forEach((i=>{i.forEach(((i,n)=>{i!==e||(t=n)}))})),t}registerChildGrid(e,t,i){let n=this.childGrids.get(t);n||(this.childGrids.set(t,new Map),n=this.childGrids.get(t)),n.set(e,i)}getChildGridsForRowIsland(e){let t=this.childGrids.get(e),i=[];return t&&t.forEach((e=>{i.push(e)})),i}getChildGridByID(e,t){return this.childGrids.get(e).get(t)}get_row_expansion_state(e){let t;if(void 0!==e.childGridsData){let t=e.key,i=this.grid.expansionStates.get(t);return void 0!==i?i:this.grid.getDefaultExpandState(e)}return t=!!super.get_row_expansion_state(e),t&&0!==this.grid.childLayoutList.length}allow_expansion_state_change(e,t){let i=this.get_rec_by_id(e),n=this.grid;return!(n.hasChildrenKey&&!i[n.hasChildrenKey]||!i||this.grid.expansionStates.get(e)===t)}get_rec_by_id(e){let t=this.get_all_data(!1);return t[this.get_row_index_in_data(e,t)]}static{this.ɵfac=(()=>{let t;return function(i){return(t||(t=ol(e)))(i||e)}})()}static{this.ɵprov=ir({token:e,factory:e.ɵfac})}}return e})(),x9=(()=>{class e extends IX{constructor(){super(...arguments),this._pendingNavigation=!1}dispatchEvent(e){let t=e.key.toLowerCase(),i=this.grid.crudService.cell||this.grid.crudService.row;if(this.activeNode&&(jC.has(t)||"tab"===t&&i)&&(this.getClosestElemByTag(e.target,"igx-hierarchical-grid")||this.getClosestElemByTag(e.target,"igc-hierarchical-grid"))===this.grid.nativeElement){if(this._pendingNavigation&&BC.has(t))return void e.preventDefault();super.dispatchEvent(e)}}navigateInBody(e,t,i=null){let n=this.grid.dataView[e];if(n&&this.grid.isChildGridRecord(n)){let n=this.grid.verticalScrollContainer.state,r=e>=n.startIndex&&e<=n.startIndex+n.chunkSize,s=this.activeNode.row<e,o=s?null:this.grid.childLayoutKeys.length-1;if(r)this._moveToChild(e,t,s,o,i);else{let n=this.grid.verticalScrollContainer.getScrollForIndex(e,!s);n+=s?1:-1,this.grid.verticalScrollContainer.getScroll().scrollTop=n,this._pendingNavigation=!0,this.grid.verticalScrollContainer.chunkLoad.pipe(Vn()).subscribe((()=>{this._moveToChild(e,t,s,o,i),this._pendingNavigation=!1}))}return}let r=e===this.grid.dataView.length;if(-1!==e&&!r||null===this.grid.parent){if(this.grid.parent){let n=!(!this.activeNode||"number"!=typeof this.activeNode.row)&&e>this.activeNode.row,r=t=>{this._handleScrollInChild(e,n),i(t)};return this.activeNode||(this.activeNode={row:null,column:null}),void super.navigateInBody(e,t,r)}this.activeNode||(this.activeNode={row:null,column:null}),super.navigateInBody(e,t,i)}else{let e=this.nextSiblingIndex(r);null!==e?this.grid.parent.navigation._moveToChild(this.grid.childRow.index,t,r,e,i):this._moveToParent(r,t,i)}}shouldPerformVerticalScroll(e,t=-1,i){let n=this.grid.dataView[e];if(this.grid.isChildGridRecord(n)){let t=this.grid.verticalScrollContainer.getScrollForIndex(e,!i),n=this.grid.verticalScrollContainer.getScroll().scrollTop;return i?n<t:t>n}return super.shouldPerformVerticalScroll(e,t)}focusTbody(e){this.activeNode&&null!==this.activeNode.row?super.focusTbody(e):(this.activeNode={row:0,column:0},this.grid.navigateTo(0,0,(t=>{this.grid.clearCellSelection(),t.target.activate(e)})))}nextSiblingIndex(e){let t=this.grid.childRow.layout.key,i=this.grid.parent.childLayoutKeys.indexOf(t),n=e?i+1:i-1;return n<=this.grid.parent.childLayoutKeys.length-1&&n>-1?n:null}_handleScrollInChild(e,t,i){this.shouldPerformVerticalScroll(e,-1,t)?this.grid.navigation.performVerticalScrollToCell(e,-1,(()=>{this.positionInParent(e,t,i)})):this.positionInParent(e,t,i)}positionInParent(e,t,i){let n=this.grid.gridAPI.get_row_by_index(e);if(!n)return void(i&&i());let r=this.getPositionInfo(n,t);if(r.inView)i&&i();else{this._pendingNavigation=!0;let e=t?this.getNextScrollableDown(this.grid):this.getNextScrollableUp(this.grid);e.grid.verticalScrollContainer.recalcUpdateSizes(),e.grid.verticalScrollContainer.addScrollTop(r.offset),e.grid.verticalScrollContainer.chunkLoad.pipe(Vn()).subscribe((()=>{this._pendingNavigation=!1,i&&i()}))}}navigateToChildGrid(e,t){if(0==e.length)return void(t&&t());let i=e.shift(),n=i.rowKey,r=this.grid.gridAPI.get_row_index_in_data(n);-1!==r?this.performVerticalScrollToCell(r,-1,(()=>{this.grid.cdr.detectChanges();let n=this.grid.getRowByIndex(r);n.expanded||(n.expanded=!0,this.grid.verticalScrollContainer.recalcUpdateSizes(),this.grid.cdr.detectChanges());let s=this.grid.gridAPI.getChildGrid([i]);if(!s)return void(t&&t());let o=this.getElementPosition(s.nativeElement,!1);this.grid.verticalScrollContainer.addScrollTop(o.offset),this.grid.verticalScrollContainer.chunkLoad.pipe(Vn()).subscribe((()=>{s.navigation.navigateToChildGrid(e,t)}))})):t&&t()}_moveToChild(e,t,i,n,r){let s="number"!=typeof n?this.grid.childLayoutList.first:this.grid.childLayoutList.toArray()[n],o=this.grid.dataView[e].rowID,a={rowID:o,rowKey:o,rowIslandKey:s.key},l=this.grid.gridAPI.getChildGrid([a]),d=i?0:l.dataView.length-1,c=l.dataView[d];if(!c)return void l.navigation.navigateInBody(d,t,r);if(l.isChildGridRecord(c))return this.grid.navigation.activeNode.row=null,l.navigation.activeNode={row:d,column:this.activeNode.column},void l.navigation._handleScrollInChild(d,i,(()=>{let e=i?0:l.childLayoutList.toArray().length-1;l.navigation._moveToChild(d,t,i,e,r)}));let h=l.navigation;this.clearActivation();let u=h.lastColumnIndex,g=t<=u?t:u;h.activeNode={row:d,column:g},l.tbody.nativeElement.focus({preventScroll:!0}),this._pendingNavigation=!1,l.navigation._handleScrollInChild(d,i,(()=>{l.navigateTo(d,g,r)}))}_moveToParent(e,t,i){let n=this.grid.childRow.index;if(!this.hasNextTarget(this.grid.parent,n,e))return;this.clearActivation();let r=e?n+1:n-1,s=this.grid.parent.navigation.lastColumnIndex,o=t<=s?t:s;this._pendingNavigation=!0,this.grid.parent.navigation.navigateInBody(r,o,(e=>{this._pendingNavigation=!1,i(e),e.target.grid.tbody.nativeElement.focus()}))}getPositionInfo(e,t){let i=e.nativeElement;if(e.layout){let n=this.grid.childLayoutKeys,r=t?n[0]:n[n.length-1],s={rowID:e.data.rowID,rowKey:e.data.rowID,rowIslandKey:r};i=this.grid.gridAPI.getChildGrid([s]).tfoot.nativeElement}return this.getElementPosition(i,t)}getElementPosition(e,t){let i=e.getBoundingClientRect().height/e.offsetHeight,n=this._getMinBottom(this.grid),r=e.getBoundingClientRect().bottom-n,s=this._getMaxTop(this.grid),o=e.getBoundingClientRect().bottom-e.getBoundingClientRect().height-s;return{inView:t?Math.round(r)<=0:Math.round(o)>=0,offset:(t?r:o)/i}}getClosestElemByTag(e,t){let i=e;for(;null!==i&&1===i.nodeType;){if(i.tagName.toLowerCase()===t.toLowerCase())return i;i=i.parentNode}return null}clearActivation(){this.activeNode&&Object.keys(this.activeNode).length&&(this.activeNode=Object.assign({}))}hasNextTarget(e,t,i){let n=i?t+1:t-1;if(e.dataView[n])return!0;{let t=!1;if(e.parent){let n=e.childRow.index;t=this.hasNextTarget(e.parent,n,i)}return t}}_getMaxTop(e){let t=e,i=t.tbody.nativeElement.getBoundingClientRect().top;for(;t.parent;){t=t.parent;let e=t.hasPinnedRecords&&t.isRowPinningToTop?t.pinnedRowHeight:0;i=Math.max(i,t.tbody.nativeElement.getBoundingClientRect().top+e)}return i}_getMinBottom(e){let t=e,i=t.tbody.nativeElement.getBoundingClientRect().bottom;for(;t.parent;){t=t.parent;let e=t.hasPinnedRecords&&!t.isRowPinningToTop?t.pinnedRowHeight:0;i=Math.min(i,t.tbody.nativeElement.getBoundingClientRect().bottom-e)}return i}getNextScrollableDown(e){let t=e.parent;if(!t)return{grid:e,prev:null};let i=t.verticalScrollContainer.scrollPosition,n=t.verticalScrollContainer.getScroll().scrollHeight,r=0===n||Math.round(i+t.verticalScrollContainer.igxForContainerSize)===n,s=e;for(;r&&null!==t.parent;)s=t,t=t.parent,i=t.verticalScrollContainer.scrollPosition,n=t.verticalScrollContainer.getScroll().scrollHeight,r=0===n||Math.round(i+t.verticalScrollContainer.igxForContainerSize)===n;return{grid:t,prev:s}}getNextScrollableUp(e){let t=e.parent;if(!t)return{grid:e,prev:null};let i=0===t.verticalScrollContainer.scrollPosition,n=e;for(;i&&null!==t.parent;)n=t,t=t.parent,i=0===t.verticalScrollContainer.scrollPosition;return{grid:t,prev:n}}static{this.ɵfac=(()=>{let t;return function(i){return(t||(t=ol(e)))(i||e)}})()}static{this.ɵprov=ir({token:e,factory:e.ɵfac})}}return e})(),_9=(()=>{class e extends nQ{get type(){return"hierarchical"}get maxLevelHeaderDepth(){return null===this._maxLevelHeaderDepth&&(this._maxLevelHeaderDepth=this.columns.reduce(((e,t)=>Math.max(e,t.level)),0)),this._maxLevelHeaderDepth}get outlet(){return this.rootGrid?this.rootGrid.resolveOutlet():this.resolveOutlet()}set outlet(e){this._userOutletDirective=e}get batchEditing(){return this._batchEditing}set batchEditing(e){e!==this._batchEditing&&(delete this._transactions,this.switchTransactionService(e),this.subscribeToTransactions(),this.batchEditingChange.emit(e),this._batchEditing=e)}constructor(e,t,i,n,r,s,o,a,l,d,c,h,u,g,p,m,f,v,y,x,_){super(e,t,i,n,r,s,o,a,l,d,c,h,u,g,p,m,f,v,y,x,_),this.gridAPI=n,this.navigation=g,this.showExpandAll=!1,this.dataPreLoad=new wl,this.batchEditingChange=new wl}createColumnsList(e){let t=[];e.filter((e=>0===e.level)).forEach((e=>{e.grid=this;let i=this._createColumn(e);i.changeDetectorRef.detectChanges(),t.push(i.instance)}));let i=w9(t);this.updateColumns(i),this.initPinning(),i.forEach((e=>{this.columnInit.emit(e)})),$f(UH).outputs.filter((e=>"columnChange"!==e.propName)).forEach((e=>{this.columns.forEach((t=>{t[e.propName]&&t[e.propName].pipe(Nn(t.destroy$)).subscribe((i=>{this.parentIsland.columnList.find((e=>e.field?e.field===t.field:e.header===t.header))[e.propName].emit({args:i,owner:this})}))}))}))}_createColumn(e){let t;return t=e instanceof XH?this._createColGroupComponent(e):this._createColComponent(e),t}_createColGroupComponent(e){let t=Gf(XH,{environmentInjector:this.envInjector,elementInjector:this.injector});if(t.changeDetectorRef.detectChanges(),$f(XH).inputs.forEach((i=>{let n=i.propName;t.instance[n]=e[n]})),e.children.length>0){let i=[];e.children.forEach((e=>{let n=this._createColumn(e).instance;n.parent=t.instance,i.push(n)})),t.instance.children.reset(i),t.instance.children.notifyOnChanges()}return t}_createColComponent(e){let t=Gf(UH,{environmentInjector:this.envInjector,elementInjector:this.injector});return $f(UH).inputs.forEach((i=>{let n=i.propName;e[n]instanceof KF?t.instance[n]=e[n].constructor:t.instance[n]=e[n]})),t.instance.validators=e.validators,t}getGridsForIsland(e){return this.gridAPI.getChildGridsForRowIsland(e)}getChildGrid(e){if(e)return this.gridAPI.getChildGrid(e)}static{this.ɵfac=function(t){return new(t||e)(lu(TX),lu(rP),lu(mU),lu(BF),lu(jI),lu(zl),lu(Il),lu(Kf),lu(Cf),lu(Pf),lu(Su),lu(hl),lu(vs),lu(x9),lu(OU),lu(Mx),lu(zI),lu(RX),lu(uf),lu(NC),lu(EX,8))}}static{this.ɵdir=rg({type:e,inputs:{hasChildrenKey:"hasChildrenKey",showExpandAll:[2,"showExpandAll","showExpandAll",Hf]},outputs:{dataPreLoad:"dataPreLoad"},features:[dg]})}}return e})(),w9=e=>{let t=[];return e.forEach((e=>{t.push(e),e.children&&(t=t.concat(w9(e.children.toArray())))})),t},C9=(()=>{class e{constructor(){this.change=new Ci,this.state=new Map,this.destroyMap=new Map,this.childRowIslands=new Map,this.childGrids=new Map}register(e){this.state.set(e.id,e),this.destroyMap.set(e.id,new Ci)}unsubscribe(e){this.state.delete(e.id)}get(e){return this.state.get(e)}unset(e){this.state.delete(e),this.destroyMap.delete(e)}reset(e,t){let i=this.destroyMap.get(e),n=this.get(e);this.unset(e),n&&this.state.set(t,n),i&&this.destroyMap.set(t,i)}registerChildRowIsland(e){this.childRowIslands.set(e.key,e),this.destroyMap.set(e.key,new Ci)}unsetChildRowIsland(e){this.childRowIslands.delete(e.key),this.destroyMap.delete(e.key)}getChildRowIsland(e){return this.childRowIslands.get(e)}registerChildGrid(e,t){this.childGrids.set(e,t)}getChildGrids(e){let t=[];return this.childGrids.forEach((e=>{t.push(e)})),e&&this.childRowIslands.forEach((i=>{t=t.concat(i.rowIslandAPI.getChildGrids(e))})),t}getChildGridByID(e){return this.childGrids.get(e)}static{this.ɵfac=function(t){return new(t||e)}}static{this.ɵprov=ir({token:e,factory:e.ɵfac})}}return e})(),S9=[[["igx-column"],["igc-column"],["igx-column-group"],["igc-column-group"],["igx-action-strip"],["igc-action-strip"]],[["igx-row-island"],["igc-row-island"]]],b9=["igx-column,igc-column,igx-column-group,igc-column-group,igx-action-strip,igc-action-strip","igx-row-island,igc-row-island"];function D9(e,t){1&e&&(Lp(0,"div",1,0),dm(2),dm(3,1),Np())}var E9=(()=>{class e extends _9{get childDataKey(){return this.key}set childDataKey(e){this.key=e}get toolbarTemplate(){return this._toolbarTemplate||this.toolbarDirectiveTemplate}set toolbarTemplate(e){this._toolbarTemplate=e}get paginatorTemplate(){return this._paginatorTemplate||this.paginatorDirectiveTemplate}set paginatorTemplate(e){this._paginatorTemplate=e}get hiddenColumnsCount(){return 0}get pinnedColumnsCount(){return 0}get lastSearchInfo(){return null}get filteredData(){return[]}get filteredSortedData(){return[]}get virtualizationState(){return null}get pinnedColumns(){return[]}get unpinnedColumns(){return[]}get visibleColumns(){return[]}get dataView(){return[]}set expandChildren(e){this._defaultExpandState=e,this.rowIslandAPI.getChildGrids().forEach((t=>{this.document.body.contains(t.nativeElement)?(t.expandChildren=e,t.cdr.detectChanges()):t.updateOnRender=!0}))}get expandChildren(){return this._defaultExpandState}get id(){let e=this.parentId?this.parentId.substring(this.parentId.indexOf(this.layout_id)+this.layout_id.length)+"-":"";return this.layout_id+e+this.key}get parentId(){return this.parentIsland?this.parentIsland.id:null}get level(){let e=this.parentIsland,t=0;for(;e;)t++,e=e.parentIsland;return t+1}constructor(e,t,i,n,r,s,o,a,l,d,c,h,u,g,p,m,f,v,y,x,_){super(e,t,i,n,r,s,o,a,l,d,c,h,u,g,p,m,f,v,x,_),this.rowIslandAPI=y,this.children=new jl,this.childLayoutList=new jl,this.childColumns=new jl,this.layoutChange=new wl,this.gridCreated=new wl,this.gridInitialized=new wl,this.initialChanges=[],this.rootGrid=null,this.layout_id="igx-row-island-",this.isInit=!1,this._childColumns=[]}ngOnInit(){this.filteringService.grid=this,this.rootGrid=this.gridAPI.grid,this.rowIslandAPI.rowIsland=this,this.ri_columnListDiffer=this.differs.find([]).create(null)}ngAfterContentInit(){this.updateChildren(),this.children.notifyOnChanges(),this.children.changes.pipe(Nn(this.destroy$)).subscribe((()=>{this.updateChildren(),this.rowIslandAPI.getChildGrids(!1).forEach((e=>{e.onRowIslandChange(this.children)}))}));let e=this.children.map((e=>e.columnList.toArray())),t=[].concat.apply([],e),i=this.columnList.filter((e=>-1===t.indexOf(e)));this._childColumns=i,this.updateColumns(this._childColumns),this.columnList.changes.pipe(Nn(this.destroy$)).subscribe((()=>{Promise.resolve().then((()=>{this.updateColumnList()}))})),this.ri_columnListDiffer.diff(this.childColumns),this._childColumns.forEach((e=>e.columnChange.pipe(Nn(e.destroy$)).subscribe((()=>this.updateColumnList())))),this.childColumns.changes.pipe(Nn(this.destroy$)).subscribe((e=>{let t=this.ri_columnListDiffer.diff(e);t&&t.forEachAddedItem((e=>{e.item.columnChange.pipe(Nn(e.item.destroy$)).subscribe((()=>this.updateColumnList()))}))})),this.actionStrip&&(this.actionStrip.menuOverlaySettings.outlet=this.outlet)}ngAfterViewInit(){this.rowIslandAPI.register(this),this.parentIsland?this.parentIsland.rowIslandAPI.registerChildRowIsland(this):this.rootGrid.gridAPI.registerChildRowIsland(this),this._init=!1,this.gridCreated.pipe(function(...e){let t=e.length;if(0===t)throw new Error("list of properties cannot be empty.");return cn((i=>{let n=i;for(let i=0;i<t;i++){let t=n?.[e[i]];if(!(typeof t<"u"))return;n=t}return n}))}("grid"),Nn(this.destroy$)).subscribe((e=>{e.rendered$.pipe(Vn(),Rn((()=>!!this.toolbarTemplate))).subscribe((()=>e.toolbarOutlet.createEmbeddedView(this.toolbarTemplate,{$implicit:e},{injector:e.toolbarOutlet.injector}))),e.rendered$.pipe(Vn(),Rn((()=>!!this.paginatorTemplate))).subscribe((()=>{this.rootGrid.paginatorList.changes.pipe(Nn(this.destroy$)).subscribe((t=>{t.forEach((t=>{t.nativeElement.offsetParent?.id===e.id&&e.setUpPaginator()}))})),e.paginatorOutlet.createEmbeddedView(this.paginatorTemplate,{$implicit:e})}))}))}ngOnChanges(e){this.layoutChange.emit(e),this.isInit||this.initialChanges.push(e)}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete(),this._destroyed=!0,this.rowIslandAPI.unset(this.id),this.parentIsland?(this.getGridsForIsland(this.key).forEach((e=>{this.cleanGridState(e),e.gridAPI.unsetChildRowIsland(this)})),this.parentIsland.rowIslandAPI.unsetChildRowIsland(this)):(this.rootGrid.gridAPI.unsetChildRowIsland(this),this.cleanGridState(this.rootGrid))}reflow(){}calculateGridHeight(){}calculateGridWidth(){}updateColumnList(){let e=this.children.map((e=>e.columnList.toArray())),t=[].concat.apply([],e),i=this.columnList.filter((e=>-1===t.indexOf(e)&&(e.defaultWidth=void 0,!0)));this._childColumns=i,this.updateColumns(this._childColumns),this.rowIslandAPI.getChildGrids().forEach((e=>{e.createColumnsList(this._childColumns),this.document.body.contains(e.nativeElement)||(e.updateOnRender=!0)}))}updateChildren(){this.children.first===this&&this.children.reset(this.children.toArray().slice(1)),this.children.forEach((e=>{e.parentIsland=this}))}cleanGridState(e){e.childGridTemplates.forEach((e=>{e.owner.cleanView(e.context.templateID)})),e.childGridTemplates.clear(),e.onRowIslandChange()}static{this.ɵfac=function(t){return new(t||e)(lu(TX),lu(rP),lu(mU),lu(BF),lu(jI),lu(zl),lu(Il),lu(Kf),lu(Cf),lu(Pf),lu(Su),lu(hl),lu(vs),lu(x9),lu(OU),lu(Mx),lu(zI),lu(RX),lu(C9),lu(uf),lu(NC))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-row-island"]],contentQueries:function(t,i,n){if(1&t&&(gm(n,I4,5,jh),gm(n,t6,5,jh),gm(n,e,4,e),gm(n,e,4,e),gm(n,UH,4,UH),gm(n,dP,4,dP)),2&t){let e;mm(e=fm())&&(i.toolbarDirectiveTemplate=e.first),mm(e=fm())&&(i.paginatorDirectiveTemplate=e.first),mm(e=fm())&&(i.children=e),mm(e=fm())&&(i.childLayoutList=e),mm(e=fm())&&(i.childColumns=e),mm(e=fm())&&(i.actionStripComponents=e)}},inputs:{key:"key",childDataKey:"childDataKey",toolbarTemplate:"toolbarTemplate",paginatorTemplate:"paginatorTemplate",expandChildren:[2,"expandChildren","expandChildren",Hf]},outputs:{layoutChange:"layoutChange",gridCreated:"gridCreated",gridInitialized:"gridInitialized"},features:[Pm([C9,OU,rP]),dg,po],ngContentSelectors:b9,decls:1,vars:1,consts:[["sink",""],[2,"display","none"]],template:function(e,t){1&e&&(lm(S9),bg(0,D9,4,0,"div",1)),2&e&&Ip(t.platform.isElements?0:-1)},encapsulation:2,changeDetection:0})}}return e})(),T9=(()=>{class e{constructor(e){this.grid=e}transform(e,t=new Map,i,n,r,s){return 0===r.length||this.grid.verticalScrollContainer.isRemote?e:this.addHierarchy(this.grid,RC(e),t,n,r)}addHierarchy(e,t,i,n,r){let s=[];return t.forEach((t=>{s.push(t);let i={};r.forEach((e=>{t[e]||(t[e]=[]);let n=e?.includes(".")?QC(t,XC(e)):t[e];i[e]=n})),e.gridAPI.get_row_expansion_state(t)&&s.push({rowID:n?t[n]:t,childGridsData:i,parentRowData:t})})),s}static{this.ɵfac=function(t){return new(t||e)(lu(zF,16))}}static{this.ɵpipe=sg({name:"gridHierarchical",type:e,pure:!0})}}return e})(),I9=(()=>{class e{constructor(e){this.grid=e}transform(e,t,i=0,n=15,r,s){if(!t||"local"!==this.grid.pagingMode)return e;let o={index:i,recordsPerPage:n},a=this.grid._totalRecords>=0?this.grid._totalRecords:e.length,l=DS.page(RC(e),o,a);return this.grid.pagingState=o,l}static{this.ɵfac=function(t){return new(t||e)(lu(zF,16))}}static{this.ɵpipe=sg({name:"gridHierarchicalPaging",type:e,pure:!0})}}return e})(),R9=(e,t,i,n,r)=>[e,t,i,n,r],A9=(e,t)=>({"igx-icon--success":e,"igx-icon--error":t});function k9(e,t){if(1&e&&(Lp(0,"igx-chip",9),ym(1),Np()),2&e){let e=om(2);op("--ig-size",1),rp("disabled",!0),Hc(),_m(e.grid.resourceStrings.igx_grid_pinned_row_indicator)}}function O9(e,t){1&e&&bg(0,k9,2,4,"igx-chip",8),2&e&&Ip(om().displayPinnedChip?0:-1)}function F9(e,t){if(1&e&&(Lp(0,"div",10),Xm(1,"columnFormatter"),Xm(2,"number"),Xm(3,"date"),Xm(4,"currency"),Xm(5,"percent"),ym(6),Xm(7,"columnFormatter"),Xm(8,"number"),Xm(9,"date"),Xm(10,"currency"),Xm(11,"percent"),Np()),2&e){let e=om(2);rp("cssClass",e.highlightClass)("activeCssClass",e.activeHighlightClass)("groupName",e.gridID)("value",e.formatter?tf(1,9,e.value,e.formatter,e.rowData,e.columnData):"number"===e.column.dataType?ef(2,14,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):"date"===e.column.dataType||"time"===e.column.dataType||"dateTime"===e.column.dataType?tf(3,18,e.value,e.column.pipeArgs.format,e.column.pipeArgs.timezone,e.grid.locale):"currency"===e.column.dataType?nf(4,23,zm(57,R9,e.value,e.currencyCode,e.column.pipeArgs.display,e.column.pipeArgs.digitsInfo,e.grid.locale)):"percent"===e.column.dataType?ef(5,29,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):e.value)("row",e.rowData)("column",e.column.field)("containerClass","igx-grid__td-text")("metadata",e.searchMetadata),Hc(6),_m(e.formatter?tf(7,33,e.value,e.formatter,e.rowData,e.columnData):"number"===e.column.dataType?ef(8,38,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):"date"===e.column.dataType||"time"===e.column.dataType||"dateTime"===e.column.dataType?tf(9,42,e.value,e.column.pipeArgs.format,e.column.pipeArgs.timezone,e.grid.locale):"currency"===e.column.dataType?nf(10,47,zm(63,R9,e.value,e.currencyCode,e.column.pipeArgs.display,e.column.pipeArgs.digitsInfo,e.grid.locale)):"percent"===e.column.dataType?ef(11,53,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):e.value)}}function P9(e,t){if(1&e&&Hp(0,"igx-icon",11),2&e){let e=om(2);rp("name",e.value?"confirm":"close")("ngClass",Lm(2,A9,e.value,!e.value))}}function V9(e,t){if(1&e&&(Hp(0,"img",12),Xm(1,"igxCellImageAlt")),2&e){let e=om(2);rp("src",e.value,uc)("alt",Qm(1,2,e.value))}}function M9(e,t){if(1&e&&bg(0,F9,12,69,"div",10)(1,P9,1,5,"igx-icon",11)(2,V9,2,4,"img",12),2&e){let e=om();Ip("boolean"!==e.column.dataType&&"image"!==e.column.dataType||"boolean"===e.column.dataType&&e.formatter?0:-1),Hc(),Ip("boolean"!==e.column.dataType||e.formatter?-1:1),Hc(),Ip("image"===e.column.dataType?2:-1)}}function L9(e,t){if(1&e&&(Lp(0,"div",10),Xm(1,"columnFormatter"),Xm(2,"number"),Xm(3,"date"),Xm(4,"currency"),Xm(5,"percent"),ym(6),Np()),2&e){let e=om(2);rp("cssClass",e.highlightClass)("activeCssClass",e.activeHighlightClass)("groupName",e.gridID)("value",e.formatter?ef(1,9,e.value,e.formatter,e.rowData):"number"===e.column.dataType?ef(2,13,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):"date"===e.column.dataType||"time"===e.column.dataType||"dateTime"===e.column.dataType?tf(3,17,e.value,e.column.pipeArgs.format,e.column.pipeArgs.timezone,e.grid.locale):"currency"===e.column.dataType?nf(4,22,zm(32,R9,e.value,e.currencyCode,e.column.pipeArgs.display,e.column.pipeArgs.digitsInfo,e.grid.locale)):"percent"===e.column.dataType?ef(5,28,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):e.value)("row",e.rowData)("column",e.column.field)("containerClass","igx-grid__td-text")("metadata",e.searchMetadata),Hc(6),_m(e.isEmptyAddRowCell?e.column.header||e.column.field:e.value)}}function N9(e,t){if(1&e&&bg(0,L9,7,38,"div",10),2&e){let e=om();Ip("boolean"!==e.column.dataType||"boolean"===e.column.dataType&&e.formatter?0:-1)}}function H9(e,t){if(1&e){let e=Kp();Bp(0,13),Lp(1,"igx-input-group")(2,"input",14),rm("compositionstart",(function(){return Ko(e),jo(om(2).grid.crudService.isInCompositionMode=!0)}))("compositionend",(function(){return Ko(e),jo(om(2).grid.crudService.isInCompositionMode=!1)})),Np()(),Gp()}if(2&e){let e=om(2);rp("formGroup",e.formGroup),Hc(2),rp("igxFocus",!0)("igxTextSelection",!0)("formControl",e.formControl),$g("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid)}}function z9(e,t){if(1&e&&(Lp(0,"igx-input-group",13),Hp(1,"input",15),Np()),2&e){let e=om(2);rp("formGroup",e.formGroup),Hc(),rp("igxFocus",!0)("igxTextSelection",!0)("step",e.step)("formControl",e.formControl),$g("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid)}}function B9(e,t){if(1&e&&(Bp(0,13),Hp(1,"igx-checkbox",16),Gp()),2&e){let e=om(2);rp("formGroup",e.formGroup),Hc(),rp("checked",e.editValue)("igxFocus",!0)("disableRipple",!0)("formControl",e.formControl)}}function G9(e,t){if(1&e){let e=Kp();Bp(0,13),Lp(1,"igx-date-picker",17),Em("valueChange",(function(t){Ko(e);let i=om(2);return Dm(i.editValue,t)||(i.editValue=t),jo(t)})),Np(),Gp()}if(2&e){let e=om(2);rp("formGroup",e.formGroup),Hc(),op("width",100,"%"),rp("outlet",e.grid.outlet)("locale",e.grid.locale)("weekStart",e.column.pipeArgs.weekStart),bm("value",e.editValue),rp("igxFocus",!0)("formControl",e.formControl)("inputFormat",null==e.column.editorOptions?null:e.column.editorOptions.dateTimeFormat)("displayFormat",e.column.pipeArgs.format)}}function $9(e,t){if(1&e){let e=Kp();Bp(0,13),Lp(1,"igx-time-picker",18),Em("valueChange",(function(t){Ko(e);let i=om(2);return Dm(i.editValue,t)||(i.editValue=t),jo(t)})),Np(),Gp()}if(2&e){let e=om(2);rp("formGroup",e.formGroup),Hc(),op("width",100,"%"),rp("outlet",e.grid.outlet)("locale",e.grid.locale)("inputFormat",null==e.column.editorOptions?null:e.column.editorOptions.dateTimeFormat)("displayFormat",e.column.pipeArgs.format),bm("value",e.editValue),rp("igxFocus",!0)("formControl",e.formControl)}}function W9(e,t){if(1&e&&(Lp(0,"igx-input-group",13),Hp(1,"input",19),Np()),2&e){let e=om(2);rp("formGroup",e.formGroup),Hc(),rp("formControl",e.formControl)("locale",e.grid.locale)("igxDateTimeEditor",null==e.column.editorOptions?null:e.column.editorOptions.dateTimeFormat)("defaultFormatType",e.column.dataType)("displayFormat",e.column.pipeArgs.format)("igxFocus",!0),$g("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid)}}function K9(e,t){if(1&e&&(Lp(0,"igx-prefix"),ym(1),Np()),2&e){let e=om(3);Hc(),_m(e.currencyCodeSymbol)}}function j9(e,t){if(1&e&&(Lp(0,"igx-suffix"),ym(1),Np()),2&e){let e=om(3);Hc(),_m(e.currencyCodeSymbol)}}function U9(e,t){if(1&e&&(Lp(0,"igx-input-group",13),bg(1,K9,2,1,"igx-prefix"),Hp(2,"input",15),bg(3,j9,2,1,"igx-suffix"),Np()),2&e){let e=om(2);rp("formGroup",e.formGroup),Hc(),Ip(e.grid.currencyPositionLeft?1:-1),Hc(),rp("igxFocus",!0)("igxTextSelection",!0)("step",e.step)("formControl",e.formControl),$g("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid),Hc(),Ip(e.grid.currencyPositionLeft?-1:3)}}function q9(e,t){if(1&e&&(Lp(0,"igx-input-group",13),Hp(1,"input",15),Lp(2,"igx-suffix"),ym(3),Xm(4,"percent"),Np()()),2&e){let e=om(2);rp("formGroup",e.formGroup),Hc(),rp("igxFocus",!0)("igxTextSelection",!0)("step",e.step)("formControl",e.formControl),$g("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid),Hc(2),wm(" ",ef(4,8,e.editValue,e.column.pipeArgs.digitsInfo,e.grid.locale)," ")}}function Y9(e,t){if(1&e&&bg(0,H9,3,6,"ng-container",13)(1,z9,2,7,"igx-input-group",13)(2,B9,2,5,"ng-container",13)(3,G9,2,11,"ng-container",13)(4,$9,2,10,"ng-container",13)(5,W9,2,9,"igx-input-group",13)(6,U9,4,9,"igx-input-group",13)(7,q9,5,12,"igx-input-group",13),2&e){let e=om();Ip("string"===e.column.dataType||"image"===e.column.dataType?0:-1),Hc(),Ip("number"===e.column.dataType?1:-1),Hc(),Ip("boolean"===e.column.dataType?2:-1),Hc(),Ip("date"===e.column.dataType?3:-1),Hc(),Ip("time"===e.column.dataType?4:-1),Hc(),Ip("dateTime"===e.column.dataType?5:-1),Hc(),Ip("currency"===e.column.dataType?6:-1),Hc(),Ip("percent"===e.column.dataType?7:-1)}}function Z9(e,t){1&e&&$p(0)}function X9(e,t){1&e&&$p(0)}function Q9(e,t){1&e&&$p(0)}function J9(e,t){if(1&e){let e=Kp();Lp(0,"igx-icon",20,5),rm("mouseover",(function(){return Ko(e),jo(om().errorShowing=!0)}))("mouseout",(function(){return Ko(e),jo(om().errorShowing=!1)})),Np(),Lp(2,"div",21,6)(5,"div"),bg(6,Q9,1,0,"ng-container",7),Np()()}if(2&e){let e=vm(4),t=om(),i=vm(12);rp("igxTooltipTarget",e)("igxToggleOutlet",t.grid.outlet),Hc(2),rp("id",t.ariaErrorMessage),Hc(3),op("width","max-content"),Hc(),rp("ngTemplateOutlet",t.cellValidationErrorTemplate||i)("ngTemplateOutletContext",t.context)}}function eee(e,t){if(1&e&&(Lp(0,"div"),ym(1),Np()),2&e){let e=om(2);Hc(),wm(" ",e.grid.resourceStrings.igx_grid_required_validation_error," ")}}function tee(e,t){if(1&e&&(Lp(0,"div"),ym(1),Xm(2,"igxStringReplace"),Np()),2&e){let e=om(2);Hc(),wm(" ",ef(2,1,e.grid.resourceStrings.igx_grid_min_length_validation_error,"{0}",e.formGroup.get(e.column.field).errors.minlength.requiredLength)," ")}}function iee(e,t){if(1&e&&(Lp(0,"div"),ym(1),Xm(2,"igxStringReplace"),Np()),2&e){let e=om(2);Hc(),wm(" ",ef(2,1,e.grid.resourceStrings.igx_grid_max_length_validation_error,"{0}",e.formGroup.get(e.column.field).errors.maxlength.requiredLength)," ")}}function nee(e,t){if(1&e&&(Lp(0,"div"),ym(1),Xm(2,"igxStringReplace"),Np()),2&e){let e=om(2);Hc(),wm(" ",ef(2,1,e.grid.resourceStrings.igx_grid_min_validation_error,"{0}",e.formGroup.get(e.column.field).errors.min.min)," ")}}function ree(e,t){if(1&e&&(Lp(0,"div"),ym(1),Xm(2,"igxStringReplace"),Np()),2&e){let e=om(2);Hc(),wm(" ",ef(2,1,e.grid.resourceStrings.igx_grid_max_validation_error,"{0}",e.formGroup.get(e.column.field).errors.max.max)," ")}}function see(e,t){if(1&e&&(Lp(0,"div"),ym(1),Np()),2&e){let e=om(2);Hc(),wm(" ",e.grid.resourceStrings.igx_grid_email_validation_error," ")}}function oee(e,t){if(1&e&&(Lp(0,"div"),ym(1),Np()),2&e){let e=om(2);Hc(),wm(" ",e.grid.resourceStrings.igx_grid_pattern_validation_error," ")}}function aee(e,t){if(1&e&&bg(0,eee,2,1,"div")(1,tee,3,5,"div")(2,iee,3,5,"div")(3,nee,3,5,"div")(4,ree,3,5,"div")(5,see,2,1,"div")(6,oee,2,1,"div"),2&e){let e,t,i,n,r,s,o,a=om();Ip(null!=a.formGroup&&null!=(e=a.formGroup.get(null==a.column?null:a.column.field).errors)&&e.required?0:-1),Hc(),Ip(null!=a.formGroup&&null!=(t=a.formGroup.get(null==a.column?null:a.column.field).errors)&&t.minlength?1:-1),Hc(),Ip(null!=a.formGroup&&null!=(i=a.formGroup.get(null==a.column?null:a.column.field).errors)&&i.maxlength?2:-1),Hc(),Ip(null!=a.formGroup&&null!=(n=a.formGroup.get(null==a.column?null:a.column.field).errors)&&n.min?3:-1),Hc(),Ip(null!=a.formGroup&&null!=(r=a.formGroup.get(null==a.column?null:a.column.field).errors)&&r.max?4:-1),Hc(),Ip(null!=a.formGroup&&null!=(s=a.formGroup.get(null==a.column?null:a.column.field).errors)&&s.email?5:-1),Hc(),Ip(null!=a.formGroup&&null!=(o=a.formGroup.get(null==a.column?null:a.column.field).errors)&&o.pattern?6:-1)}}var lee=(()=>{class e extends vJ{constructor(e,t,i,n,r,s,o,a){super(e,t,i,n,r,s,o,a)}ngOnInit(){super.ngOnInit(),this._rootGrid=this._getRootGrid()}activate(e){this._clearAllHighlights();let t,i=this.grid.nativeElement,n=this.grid;for(this._rootGrid.id!==i.id&&i.classList.add("igx-grid__tr--highlighted");this._rootGrid.id!==n.id;){t=n,n=n.parent;let e=n.gridAPI.getParentRowId(t);n.highlightedRowID=e}this.grid.navigation.activeNode.gridID=this.gridID,super.activate(e)}_getRootGrid(){let e=this.grid;for(;e.parent;)e=e.parent;return e}_clearAllHighlights(){[this._rootGrid,...this._rootGrid.getChildGrids(!0)].forEach((e=>{e!==this.grid&&e.navigation.activeNode&&(e.navigation.clearActivation(),e.selectionService.initKeyboardState(),e.selectionService.clear()),e.selectionService.activeElement=null,e.nativeElement.classList.remove("igx-grid__tr--highlighted"),e.highlightedRowID=null,e.cdr.markForCheck()}))}static{this.ɵfac=function(t){return new(t||e)(lu(rP),lu(zF),lu(zI),lu(Cf),lu(zl),lu(Il),lu(oL),lu(NC))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-hierarchical-grid-cell"]],features:[Pm([oL]),dg],decls:13,vars:5,consts:[["defaultPinnedIndicator",""],["defaultCell",""],["addRowCell",""],["inlineEditor",""],["defaultError",""],["errorIcon",""],["error","","tooltipRef","tooltip"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"igx-grid__td--pinned-chip",3,"disabled","--ig-size"],[1,"igx-grid__td--pinned-chip",3,"disabled"],["igxTextHighlight","",1,"igx-grid__td-text",3,"cssClass","activeCssClass","groupName","value","row","column","containerClass","metadata"],["family","default",3,"name","ngClass"],[3,"src","alt"],[3,"formGroup"],["igxInput","",3,"compositionstart","compositionend","igxFocus","igxTextSelection","formControl"],["igxInput","","type","number",3,"igxFocus","igxTextSelection","step","formControl"],[3,"checked","igxFocus","disableRipple","formControl"],["mode","dropdown",3,"valueChange","outlet","locale","weekStart","value","igxFocus","formControl","inputFormat","displayFormat"],["mode","dropdown",3,"valueChange","outlet","locale","inputFormat","displayFormat","value","igxFocus","formControl"],["type","text","igxInput","",3,"formControl","locale","igxDateTimeEditor","defaultFormatType","displayFormat","igxFocus"],["family","default","name","error",3,"mouseover","mouseout","igxTooltipTarget","igxToggleOutlet"],["igxTooltip","",3,"id"]],template:function(e,t){1&e&&bg(0,O9,1,1,"ng-template",null,0,sf)(2,M9,3,3,"ng-template",null,1,sf)(4,N9,1,1,"ng-template",null,2,sf)(6,Y9,8,8,"ng-template",null,3,sf)(8,Z9,1,0,"ng-container",7)(9,X9,1,0,"ng-container",7)(10,J9,7,7)(11,aee,7,7,"ng-template",null,4,sf),2&e&&(Hc(8),rp("ngTemplateOutlet",t.pinnedIndicatorTemplate)("ngTemplateOutletContext",t.context),Hc(),rp("ngTemplateOutlet",t.template)("ngTemplateOutletContext",t.context),Hc(),Ip(t.isInvalid?10:-1))},dependencies:[EL,xO,DA,jv,Px,yy,Tx,jy,Uy,Vx,Ax,Ox,Ek,oR,Hk,_O,OF,cH,oB,AO,dR,cR,qv,RO,TO,cY,xY,wY,ry,sy,oy,ny],encapsulation:2,changeDetection:0})}}return e})(),dee=["expander"],cee=["defaultExpandedTemplate"],hee=["defaultEmptyTemplate"],uee=["defaultCollapsedTemplate"],gee=(e,t,i,n,r,s)=>({index:e,rowID:t,key:i,selected:n,select:r,deselect:s}),pee=e=>({$implicit:e}),mee=(e,t,i,n,r,s,o)=>[e,t,i,n,r,s,o],fee=(e,t,i,n,r,s)=>[e,t,i,n,r,s],vee=(e,t,i,n,r)=>[e,t,i,n,r];function yee(e,t){return this.trackPinnedColumn(t)}function xee(e,t){1&e&&$p(0)}function _ee(e,t){1&e&&Hp(0,"igx-icon",10),2&e&&rp("active",!om().added)}function wee(e,t){1&e&&Hp(0,"igx-icon",11),2&e&&rp("active",!om().added)}function Cee(e,t){1&e&&Hp(0,"igx-icon")}function See(e,t){1&e&&$p(0)}function bee(e,t){if(1&e){let e=Kp();Lp(0,"div",12),rm("animationend",(function(){return Ko(e),jo(om().animationEndHandler())})),bg(1,See,1,0,"ng-container",9),Np()}if(2&e){let e=om(),t=vm(10);ap("igx-grid__tr--add-animate",e.triggerAddAnimationClass),Hc(),rp("ngTemplateOutlet",t)}}function Dee(e,t){1&e&&$p(0)}function Eee(e,t){if(1&e){let e=Kp();Lp(0,"div",17),rm("click",(function(t){return Ko(e),jo(t.stopPropagation())}))("pointerdown",(function(t){return Ko(e),jo(t.preventDefault())})),bg(1,Dee,1,0,"ng-container",9),Np()}if(2&e){let e=om(2);lp(e.resolveDragIndicatorClasses),rp("igxRowDrag",e)("ghostTemplate",e.grid.getDragGhostCustomTemplate()),Hc(),rp("ngTemplateOutlet",e.grid.dragIndicatorIconTemplate?e.grid.dragIndicatorIconTemplate:e.grid.dragIndicatorIconBase)}}function Tee(e,t){}function Iee(e,t){1&e&&bg(0,Tee,0,0,"ng-template")}function Ree(e,t){if(1&e){let e=Kp();Lp(0,"div",18),rm("click",(function(t){return Ko(e),jo(om(2).onRowSelectorClick(t))}))("pointerdown",(function(t){return Ko(e),jo(t.preventDefault())})),bg(1,Iee,1,0,null,19),Np()}if(2&e){om();let e=vm(9),t=om();Hc(),rp("ngTemplateOutlet",t.grid.rowSelectorTemplate?t.grid.rowSelectorTemplate:e)("ngTemplateOutletContext",Mm(9,pee,Bm(2,gee,t.viewIndex,t.key,t.key,t.selected,t.select,t.deselect)))}}function Aee(e,t){1&e&&$p(0)}function kee(e,t){if(1&e){let e=Kp();Lp(0,"div",20,8),rm("click",(function(t){return Ko(e),jo(om(2).expanderClick(t))}))("mousedown",(function(t){return Ko(e),jo(t.preventDefault())})),bg(2,Aee,1,0,"ng-container",19),Np()}if(2&e){let e=om(2);rp("ngClass",e.expanderClassResolved),Hc(2),rp("ngTemplateOutlet",e.iconTemplate)("ngTemplateOutletContext",Mm(3,pee,e))}}function Oee(e,t){}function Fee(e,t){1&e&&bg(0,Oee,0,0,"ng-template")}function Pee(e,t){if(1&e&&bg(0,Fee,1,0,null,19),2&e){om();let e=vm(11),t=om();rp("ngTemplateOutlet",e)("ngTemplateOutletContext",t)}}function Vee(e,t){if(1&e&&(Hp(0,"igx-hierarchical-grid-cell",21),Xm(1,"transactionState"),Xm(2,"igxCellStyleClasses"),Xm(3,"igxCellStyles"),Xm(4,"dataMapper")),2&e){let e=t.$implicit,i=om(2);op("min-width",e.resolvedWidth)("max-width",e.resolvedWidth)("flex-basis",e.resolvedWidth),ap("igx-grid__td--edited",nf(1,28,Gm(56,mee,i.key,e.field,i.grid.rowEditable,i.grid.transactions,i.grid.pipeTrigger,i.grid.gridAPI.crudService.cell,i.grid.gridAPI.crudService.row)))("igx-grid__td--number","number"===e.dataType||"percent"===e.dataType||"currency"===e.dataType)("igx-grid__td--bool","boolean"===e.dataType),rp("ngClass",nf(2,36,Bm(64,fee,e.cellClasses,i.data[e.field],i.data,e.field,i.viewIndex,i.grid.pipeTrigger)))("ngStyle",nf(3,43,Bm(71,fee,e.cellStyles,i.data[e.field],i.data,e.field,i.viewIndex,i.grid.pipeTrigger)))("editMode",e.editable&&i.grid.crudService.targetInEdit(i.index,e.index))("column",e)("formatter",e.formatter)("intRow",i)("active",i.isCellActive(e.visibleIndex))("rowData",i.data)("width",e.getCellWidth())("visibleColumnIndex",e.visibleIndex)("value",nf(4,50,zm(78,vee,i.data,e.field,i.grid.pipeTrigger,i.data[e.field],e.hasNestedPath)))("cellTemplate",e.bodyTemplate)("cellValidationErrorTemplate",e.errorTemplate)("lastSearchInfo",i.grid.lastSearchInfo)("cellSelectionMode",i.grid.cellSelection)("displayPinnedChip",i.shouldDisplayPinnedChip(e.visibleIndex))}}function Mee(e,t){}function Lee(e,t){1&e&&bg(0,Mee,0,0,"ng-template")}function Nee(e,t){if(1&e&&bg(0,Lee,1,0,null,19),2&e){om();let e=vm(11),t=om();rp("ngTemplateOutlet",e)("ngTemplateOutletContext",t)}}function Hee(e,t){if(1&e&&(Lp(0,"div",22),Hp(1,"igx-checkbox",23),Np()),2&e){let e=om(2);Hc(),rp("tabindex",-1)("readonly",!0)("checked",e.selected)("disableRipple",!0)("disabled",e.deleted)("disableTransitions",e.grid.disableTransitions)("aria-label",e.rowCheckboxAriaLabel)}}function zee(e,t){if(1&e&&(Hp(0,"igx-hierarchical-grid-cell",25),Xm(1,"transactionState"),Xm(2,"igxCellStyleClasses"),Xm(3,"igxCellStyles"),Xm(4,"dataMapper")),2&e){let e=t.$implicit,i=om(3);op("min-width",e.resolvedWidth)("max-width",e.resolvedWidth)("flex-basis",e.resolvedWidth)("left",e.rightPinnedOffset),ap("igx-grid__td--edited",nf(1,30,Gm(58,mee,i.key,e.field,i.grid.rowEditable,i.grid.transactions,i.grid.pipeTrigger,i.grid.gridAPI.crudService.cell,i.grid.gridAPI.crudService.row)))("igx-grid__td--number","number"===e.dataType||"percent"===e.dataType||"currency"===e.dataType),rp("ngClass",nf(2,38,Bm(66,fee,e.cellClasses,i.data[e.field],i.data,e.field,i.viewIndex,i.grid.pipeTrigger)))("ngStyle",nf(3,45,Bm(73,fee,e.cellStyles,i.data[e.field],i.data,e.field,i.viewIndex,i.grid.pipeTrigger)))("editMode",e.editable&&i.grid.crudService.targetInEdit(i.index,e.index))("column",e)("formatter",e.formatter)("intRow",i)("active",i.isCellActive(e.visibleIndex))("firstPinned",e.isFirstPinned)("lastPinned",e.isLastPinned)("rowData",i.data)("width",e.getCellWidth())("visibleColumnIndex",e.visibleIndex)("value",nf(4,52,zm(80,vee,i.data,e.field,i.grid.pipeTrigger,i.data[e.field],e.hasNestedPath)))("cellTemplate",e.bodyTemplate)("cellValidationErrorTemplate",e.errorTemplate)("lastSearchInfo",i.grid.lastSearchInfo)("cellSelectionMode",i.grid.cellSelection)("displayPinnedChip",i.shouldDisplayPinnedChip(e.visibleIndex))}}function Bee(e,t){1&e&&(Op(0,zee,5,86,"igx-hierarchical-grid-cell",24,yee,!0),Xm(2,"igxNotGrouped")),2&e&&Pp(Qm(2,0,om(2).pinnedColumns))}function Gee(e,t){if(1&e&&(bg(0,Eee,2,5,"div",13)(1,Ree,2,11,"div",14)(2,kee,3,5,"div",15)(3,Pee,1,2)(4,Vee,5,84,"ng-template",16,5,sf),Xm(6,"igxNotGrouped"),bg(7,Nee,1,2)(8,Hee,2,7,"ng-template",null,6,sf)(10,Bee,3,2,"ng-template",null,7,sf)),2&e){let e=om();Ip(e.rowDraggable?0:-1),Hc(),Ip(e.showRowSelectors?1:-1),Hc(),Ip(e.hasChildren?2:-1),Hc(),Ip(e.pinnedColumns.length>0&&e.grid.isPinningToStart?3:-1),Hc(),rp("igxGridForOf",Qm(6,11,e.unpinnedColumns))("igxForScrollContainer",e.grid.parentVirtDir)("igxForSizePropName","calcPixelWidth")("igxForScrollOrientation","horizontal")("igxForContainerSize",e.grid.unpinnedWidth)("igxForTrackBy",e.grid.trackColumnChanges),Hc(3),Ip(e.pinnedColumns.length>0&&!e.grid.isPinningToStart?7:-1)}}var $ee=(()=>{class e extends aP{constructor(){super(...arguments),this.expanderClass="igx-grid__hierarchical-expander",this.rolActionClass="igx-grid__tr-action",this.select=()=>{this.grid.selectRows([this.key])},this.deselect=()=>{this.grid.deselectRows([this.key])}}get expanderClassResolved(){return{[`${this.expanderClass} ${this.rolActionClass}`]:!this.pinned||this.disabled,[`${this.expanderClass}--empty`]:this.pinned&&!this.disabled}}get viewIndex(){return this.index+this.grid.page*this.grid.perPage}get expanded(){return this.grid.gridAPI.get_row_expansion_state(this.data)}get expandedClass(){return this.expanded&&!this.pinned}get hasChildren(){return!!this.grid.childLayoutKeys.length}get highlighted(){return this.grid&&this.grid.highlightedRowID===this.key}expanderClick(e){e.stopPropagation(),this.toggle()}toggle(){this.added||(this.grid.gridAPI.set_row_expansion_state(this.key,!this.expanded),this.grid.cdr.detectChanges())}get iconTemplate(){let e=!0;return this.grid.hasChildrenKey&&(e=this.data[this.grid.hasChildrenKey]),!e||this.pinned&&!this.disabled?this.defaultEmptyTemplate:this.expanded?this.grid.rowExpandedIndicatorTemplate||this.defaultExpandedTemplate:this.grid.rowCollapsedIndicatorTemplate||this.defaultCollapsedTemplate}endEdit(e){e.gridAPI.crudService.cellInEditMode&&e.gridAPI.crudService.endEdit(),e.gridAPI.getChildGrids(!0).forEach((e=>{e.gridAPI.crudService.cellInEditMode&&e.gridAPI.crudService.endEdit()}))}static{this.ɵfac=(()=>{let t;return function(i){return(t||(t=ol(e)))(i||e)}})()}static{this.ɵcmp=Qu({type:e,selectors:[["igx-hierarchical-grid-row"]],viewQuery:function(e,t){if(1&e&&(pm(dee,5,zl),pm(cee,7,jh),pm(hee,7,jh),pm(uee,7,jh),pm(lee,5,lee)),2&e){let e;mm(e=fm())&&(t.expander=e.first),mm(e=fm())&&(t.defaultExpandedTemplate=e.first),mm(e=fm())&&(t.defaultEmptyTemplate=e.first),mm(e=fm())&&(t.defaultCollapsedTemplate=e.first),mm(e=fm())&&(t._cells=e)}},hostVars:4,hostBindings:function(e,t){2&e&&ap("igx-grid__tr--expanded",t.expandedClass)("igx-grid__tr--highlighted",t.highlighted)},features:[Pm([{provide:aP,useExisting:Jn((()=>e))}]),dg],decls:11,vars:1,consts:[["defaultExpandedTemplate",""],["defaultCollapsedTemplate",""],["defaultEmptyTemplate",""],["addTemp",""],["defaultTemp",""],["igxDirRef",""],["rowSelectorBaseTemplate",""],["pinnedCellsTemplate",""],["expander",""],[4,"ngTemplateOutlet"],["family","default","name","tree_collapse",3,"active"],["family","default","name","tree_expand",3,"active"],[1,"igx-grid__tr--inner",3,"animationend"],[3,"class","igxRowDrag","ghostTemplate"],[1,"igx-grid__cbx-selection","igx-grid__tr-action"],[3,"ngClass"],["igxGridFor","",3,"igxGridForOf","igxForScrollContainer","igxForSizePropName","igxForScrollOrientation","igxForContainerSize","igxForTrackBy"],[3,"click","pointerdown","igxRowDrag","ghostTemplate"],[1,"igx-grid__cbx-selection","igx-grid__tr-action",3,"click","pointerdown"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"click","mousedown","ngClass"],[1,"igx-grid__td","igx-grid__td--fw",3,"ngClass","ngStyle","editMode","column","formatter","intRow","active","rowData","width","visibleColumnIndex","value","cellTemplate","cellValidationErrorTemplate","lastSearchInfo","cellSelectionMode","displayPinnedChip"],[1,"igx-grid__cbx-padding"],[3,"tabindex","readonly","checked","disableRipple","disabled","disableTransitions","aria-label"],[1,"igx-grid__td","igx-grid__td--fw","igx-grid__td--pinned",3,"igx-grid__td--edited","igx-grid__td--number","ngClass","ngStyle","editMode","column","formatter","intRow","active","firstPinned","lastPinned","rowData","min-width","max-width","flex-basis","left","width","visibleColumnIndex","value","cellTemplate","cellValidationErrorTemplate","lastSearchInfo","cellSelectionMode","displayPinnedChip"],[1,"igx-grid__td","igx-grid__td--fw","igx-grid__td--pinned",3,"ngClass","ngStyle","editMode","column","formatter","intRow","active","firstPinned","lastPinned","rowData","width","visibleColumnIndex","value","cellTemplate","cellValidationErrorTemplate","lastSearchInfo","cellSelectionMode","displayPinnedChip"]],template:function(e,t){if(1&e&&bg(0,xee,1,0,"ng-container",9)(1,_ee,1,1,"ng-template",null,0,sf)(3,wee,1,1,"ng-template",null,1,sf)(5,Cee,1,0,"ng-template",null,2,sf)(7,bee,2,3,"ng-template",null,3,sf)(9,Gee,12,13,"ng-template",null,4,sf),2&e){let e=vm(8),i=vm(10);rp("ngTemplateOutlet",t.addRowUI?e:i)}},dependencies:[qv,DA,QY,jv,nO,lee,Uv,OF,gY,dY,lY,yY,_Y],encapsulation:2,changeDetection:0})}}return e})(),Wee=["container"],Kee=e=>({"igx-grid__hierarchical-indent--scroll":e}),jee=["toolbarOutlet"],Uee=["paginatorOutlet"],qee=["hierarchical_record_template"],Yee=["child_record_template"],Zee=[[["igx-grid-toolbar"],["igc-grid-toolbar"]],[["igx-grid-footer"],["igc-grid-footer"]],[["igx-paginator"],["igc-paginator"]],[["igx-grid-state"],["igc-grid-state"]],[["igx-column"],["igc-column"],["igx-column-group"],["igc-column-group"],["igx-action-strip"],["igc-action-strip"]],[["igx-row-island"],["igc-row-island"]]],Xee=["igx-grid-toolbar,igc-grid-toolbar","igx-grid-footer,igc-grid-footer","igx-paginator,igc-paginator","igx-grid-state,igc-grid-state","igx-column,igc-column,igx-column-group,igc-column-group,igx-action-strip,igc-action-strip","igx-row-island,igc-row-island"],Qee=(e,t,i,n,r,s,o)=>[e,t,i,n,r,s,o],Jee=()=>[],ete=(e,t,i,n,r,s)=>[e,t,i,n,r,s],tte=e=>({$implicit:e}),ite=(e,t,i,n,r,s,o)=>[e,t,i,n,r,s,o,!0],nte=(e,t,i,n,r,s)=>[e,t,i,n,r,s,!0],rte=(e,t)=>({"igx-grid__tr--pinned-bottom":e,"igx-grid__tr--pinned-top":t}),ste=(e,t,i,n,r,s,o,a,l,d,c)=>[e,t,i,n,r,s,o,a,l,!1,d,c],ote=e=>({"igx-grid__tr-container":!0,"igx-grid__tr--highlighted":e}),ate=(e,t)=>({rowChangesCount:e,endEdit:t});function lte(e,t){1&e&&Hp(0,"span",38),2&e&&(rp("igxColumnMovingDrop",om().headerContainer),$g("droppable",!0))}function dte(e,t){if(1&e&&Hp(0,"span",67),2&e){let e=om();op("left",e.pinnedWidth,"px"),rp("igxColumnMovingDrop",e.headerContainer),$g("droppable",!0)}}function cte(e,t){1&e&&$p(0)}function hte(e,t){if(1&e&&bg(0,cte,1,0,"ng-container",42),2&e){let e=t.$implicit,i=t.$index,n=om(4);rp("ngTemplateOutlet",vm(25))("ngTemplateOutletContext",n.getContext(e,i,!0))}}function ute(e,t){if(1&e&&(Lp(0,"div",69,29),Op(2,hte,1,2,"ng-container",null,Ap),Np()),2&e){let e=om(),t=om(2);op("width",t.calcWidth,"px"),rp("ngClass",Lm(3,rte,!t.isRowPinningToTop,t.isRowPinningToTop)),Hc(2),Pp(e)}}function gte(e,t){1&e&&bg(0,ute,4,6,"div",68),2&e&&Ip(t.length>0?0:-1)}function pte(e,t){if(1&e&&(bg(0,gte,1,1),Xm(1,"gridTransaction"),Xm(2,"visibleColumns"),Xm(3,"gridAddRow"),Xm(4,"gridRowPinning"),Xm(5,"gridFiltering"),Xm(6,"gridSort")),2&e){let e,t=om();Ip((e=nf(6,26,Bm(43,nte,nf(5,17,Gm(34,ite,tf(4,12,ef(3,8,Jm(2,5,ef(1,1,t.data,t.id,t.pipeTrigger),t.hasVisibleColumns),!0,t.pipeTrigger),t.id,!0,t.pipeTrigger),t.filteringExpressionsTree,t.filterStrategy,t.advancedFilteringExpressionsTree,t.id,t.pipeTrigger,t.filteringPipeTrigger)),t.sortingExpressions,Vm(42,Jee),t.sortStrategy,t.id,t.pipeTrigger)))?0:-1,e)}}function mte(e,t){1&e&&$p(0)}function fte(e,t){}function vte(e,t){if(1&e){let e=Kp();bg(0,fte,0,0,"ng-template",70),rm("viewCreated",(function(t){return Ko(e),jo(om().viewCreatedHandler(t))}))("viewMoved",(function(t){return Ko(e),jo(om().viewMovedHandler(t))}))("cachedViewLoaded",(function(t){return Ko(e),jo(om().cachedViewLoaded(t))}))}if(2&e){let e=t.$implicit,i=t.index,n=om(),r=vm(23),s=vm(27);rp("igxTemplateOutlet",n.isHierarchicalRecord(e)?r:n.isChildGridRecord(e)?s:r)("igxTemplateOutletContext",n.getContext(e,i,!1))}}function yte(e,t){if(1&e&&(Hp(0,"igx-hierarchical-grid-row",71,30),Xm(2,"igxGridRowClasses"),Xm(3,"igxGridRowStyles")),2&e){let e=t.index,i=t.disabled,n=t.$implicit,r=vm(1),s=om();rp("gridID",s.id)("index",e)("disabled",i)("data",n)("ngClass",nf(2,6,Wm(24,ste,[s.rowClasses,r,r.inEditMode,r.selected,r.dirty,r.deleted,r.dragging,e,s.hasColumnLayouts,n,s.pipeTrigger])))("ngStyle",tf(3,19,s.rowStyles,n,e,s.pipeTrigger))}}function xte(e,t){if(1&e&&(Hp(0,"igx-hierarchical-grid-row",72,31),Xm(3,"igxGridRowClasses"),Xm(4,"igxGridRowStyles")),2&e){let e=t.index,i=t.$implicit,n=vm(1),r=om();rp("gridID",r.id)("index",e)("data",i)("ngClass",nf(3,5,Wm(23,ste,[r.rowClasses,n,n.inEditMode,n.selected,n.dirty,n.deleted,n.dragging,e,r.hasColumnLayouts,i,r.pipeTrigger])))("ngStyle",tf(4,18,r.rowStyles,i,e,r.pipeTrigger))}}function _te(e,t){if(1&e&&Hp(0,"igx-child-grid-row",74,30),2&e){let e=t.$implicit,i=om(),n=i.index,r=i.$implicit;rp("parentGridID",om().id)("index",n)("data",r)("layout",e)}}function wte(e,t){if(1&e){let e=Kp();Lp(0,"div",73),rm("scroll",(function(){return Ko(e),jo(om().onContainerScroll())})),Op(1,_te,2,4,"igx-child-grid-row",74,Ap),Np()}if(2&e){let e=t.index,i=t.$implicit,n=om();rp("ngClass",Mm(2,ote,n.isRowHighlighted(i))),$g("data-rowindex",e),Hc(),Pp(n.childLayoutList)}}function Cte(e,t){1&e&&$p(0)}function Ste(e,t){1&e&&$p(0)}function bte(e,t){1&e&&Hp(0,"span",43),2&e&&(rp("igxColumnMovingDrop",om().headerContainer),$g("droppable",!0))}function Dte(e,t){}function Ete(e,t){1&e&&Hp(0,"igx-circular-bar",46),2&e&&rp("indeterminate",!0)}function Tte(e,t){1&e&&Hp(0,"span",43),2&e&&(rp("igxColumnMovingDrop",om().headerContainer),$g("droppable",!0))}function Ite(e,t){}function Rte(e,t){if(1&e&&(Hp(0,"igx-grid-summary-row",75,32),Xm(2,"igxGridSummaryDataPipe")),2&e){let e=om();op("width",e.calcWidth,"px")("height",e.summaryRowHeight,"px"),rp("gridID",e.id)("summaries",Jm(2,7,e.id,e.summaryService.retriggerRootPipe))("index",e.dataView.length)}}function Ate(e,t){}function kte(e,t){1&e&&$p(0)}function Ote(e,t){if(1&e&&(Lp(0,"span"),bg(1,kte,1,0,"ng-container",40),Np()),2&e){let e=om(2),t=vm(73);Hc(),rp("ngTemplateOutlet",e.addRowEmptyTemplate||t)}}function Fte(e,t){if(1&e&&(Lp(0,"span",76)(1,"span"),ym(2),Np(),bg(3,Ote,2,1,"span"),Np()),2&e){let e=om();Hc(2),_m(e.emptyFilteredGridMessage),Hc(),Ip(e.showAddButton?3:-1)}}function Pte(e,t){1&e&&$p(0)}function Vte(e,t){if(1&e&&(Lp(0,"span"),bg(1,Pte,1,0,"ng-container",40),Np()),2&e){let e=om(2),t=vm(73);Hc(),rp("ngTemplateOutlet",e.addRowEmptyTemplate||t)}}function Mte(e,t){if(1&e&&(Lp(0,"span",76)(1,"span"),ym(2),Np(),bg(3,Vte,2,1,"span"),Np()),2&e){let e=om();Hc(2),_m(e.emptyGridMessage),Hc(),Ip(e.showAddButton?3:-1)}}function Lte(e,t){if(1&e){let e=Kp();Lp(0,"button",77),rm("click",(function(t){return Ko(e),jo(om().crudService.enterAddRowMode(null,!1,t))})),ym(1),Np()}if(2&e){let e=om();Hc(),wm(" ",e.resourceStrings.igx_grid_add_row_label," ")}}function Nte(e,t){1&e&&(Lp(0,"div",78),Hp(1,"igx-circular-bar",46),Np()),2&e&&(Hc(),rp("indeterminate",!0))}function Hte(e,t){1&e&&Hp(0,"igx-icon",79)}function zte(e,t){if(1&e&&Hp(0,"igx-icon",80),2&e){let e=om();rp("active",e.hasExpandedRecords()&&e.hasExpandableChildren)}}function Bte(e,t){1&e&&$p(0)}function Gte(e,t){if(1&e&&(Lp(0,"div",45,33)(2,"div",81),bg(3,Bte,1,0,"ng-container",42),Np()()),2&e){let e=om();Hc(2),rp("className",e.bannerClass),Hc(),rp("ngTemplateOutlet",e.resolveRowEditContainer)("ngTemplateOutletContext",Lm(3,ate,e.rowChangesCount,e.crudService.endEdit.bind(e)))}}function $te(e,t){if(1&e&&(ym(0),Xm(1,"igxStringReplace"),Xm(2,"igxStringReplace")),2&e){let e=om();wm(" ",ef(2,5,ef(1,1,e.resourceStrings.igx_grid_row_edit_text,"{0}",e.rowChangesCount.toString()),"{1}",e.hiddenColumnsCount.toString()),"\n")}}function Wte(e,t){if(1&e){let e=Kp();Lp(0,"button",82),rm("click",(function(t){return Ko(e),jo(om().endRowEditTabStop(!1,t))})),ym(1),Np(),Lp(2,"button",82),rm("click",(function(t){return Ko(e),jo(om().endRowEditTabStop(!0,t))})),ym(3),Np()}if(2&e){let e=om();Hc(),_m(e.resourceStrings.igx_grid_row_edit_btn_cancel),Hc(2),_m(e.resourceStrings.igx_grid_row_edit_btn_done)}}function Kte(e,t){1&e&&$p(0)}function jte(e,t){1&e&&$p(0)}function Ute(e,t){if(1&e&&(Lp(0,"div",83)(1,"span",84),bg(2,Kte,1,0,"ng-container",42),Np()(),Lp(3,"div",85)(4,"div",86),bg(5,jte,1,0,"ng-container",42),Np()()),2&e){let e=om(),t=vm(82),i=vm(84);Hc(2),rp("ngTemplateOutlet",null!=e.crudService.row&&e.crudService.row.isAddRow?e.rowAddTextTemplate:e.resolveRowEditText||t)("ngTemplateOutletContext",Mm(4,tte,null!=e.crudService.row&&e.crudService.row.isAddRow?null:e.rowChangesCount)),Hc(3),rp("ngTemplateOutlet",e.resolveRowEditActions||i)("ngTemplateOutletContext",Mm(6,tte,e.endEdit.bind(e)))}}function qte(e,t){1&e&&Hp(0,"igx-icon",87)}function Yte(e,t){1&e&&Hp(0,"igx-grid-column-resizer")}function Zte(e,t){1&e&&(Lp(0,"div",66,34),dm(2,3),dm(3,4),dm(4,5),Np())}var Xte,Qte=0,Jte=(()=>{class e{get parentHasScroll(){return!this.parentGrid.verticalScrollContainer.dc.instance.notVirtual}get data(){return this._data||[]}set data(e){this._data=e,this.hGrid&&!this.hGrid.dataSetByUser&&this.hGrid.setDataInternal(this._data.childGridsData[this.layout.key])}get parentGrid(){return this.gridAPI.grid}get level(){return this.layout.level}get nativeElement(){return this.element.nativeElement}constructor(e,t,i){this.gridAPI=e,this.element=t,this.cdr=i,this.expanded=!1}ngOnInit(){let e=this.container.createComponent(eie,{injector:this.container.injector});this.hGrid=e.instance,this.hGrid.setDataInternal(this.data.childGridsData[this.layout.key]),this.hGrid.nativeElement.__componentRef=e,this.layout.layoutChange.subscribe((e=>{this._handleLayoutChanges(e)})),this.layout.initialChanges.forEach((e=>{this._handleLayoutChanges(e)})),this.hGrid.parent=this.parentGrid,this.hGrid.parentIsland=this.layout,this.hGrid.childRow=this,this.setupEventEmitters(),this.layout.gridCreated.emit({owner:this.layout,parentID:this.data.rowID,grid:this.hGrid,parentRowData:this.data.parentRowData})}ngAfterViewInit(){this.hGrid.childLayoutList=this.layout.children,this.hGrid.childLayoutList.toArray().forEach((e=>this.hGrid.gridAPI.registerChildRowIsland(e))),this.parentGrid.gridAPI.registerChildGrid(this.data.rowID,this.layout.key,this.hGrid),this.layout.rowIslandAPI.registerChildGrid(this.data.rowID,this.hGrid),this.layout.gridInitialized.emit({owner:this.layout,parentID:this.data.rowID,grid:this.hGrid,parentRowData:this.data.parentRowData}),this.hGrid.cdr.detectChanges()}setupEventEmitters(){let e=Nn(this.hGrid.destroy$),t=$f(h2),i=t.inputs.map((e=>e.propName));t.outputs.filter((e=>{let t=e.propName.slice(0,e.propName.indexOf("Change"));return-1===i.indexOf(t)})).filter((e=>"rendered"!==e.propName)).forEach((t=>{this.hGrid[t.propName]&&this.hGrid[t.propName].pipe(e).subscribe((e=>{e||(e={}),e.owner=this.hGrid,this.layout[t.propName].emit(e)}))}))}_handleLayoutChanges(e){for(let t in e)e.hasOwnProperty(t)&&(this.hGrid[t]=e[t].currentValue)}static{this.ɵfac=function(t){return new(t||e)(lu(BF),lu(zl),lu(Cf))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-child-grid-row"]],viewQuery:function(e,t){if(1&e&&pm(Wee,7,Su),2&e){let e;mm(e=fm())&&(t.container=e.first)}},hostVars:1,hostBindings:function(e,t){2&e&&$g("aria-level",t.level)},inputs:{layout:"layout",parentGridID:"parentGridID",data:"data",index:"index"},decls:3,vars:3,consts:[["container",""],[1,"igx-grid__hierarchical-indent",3,"ngClass"]],template:function(e,t){1&e&&(Lp(0,"div",1),$p(1,null,0),Np()),2&e&&rp("ngClass",Mm(1,Kee,t.parentHasScroll))},dependencies:[jv],encapsulation:2,changeDetection:0})}}return e})(),eie=(()=>{class e extends _9{constructor(){super(...arguments),this.role="grid",this.childLayoutKeys=[],this.dataSetByUser=!1,this.highlightedRowID=null,this.updateOnRender=!1,this.parent=null,this.h_id="igx-hierarchical-grid-"+Qte++,this.childGridTemplates=new Map}get headerHierarchyExpander(){return this.theadRow?.headerHierarchyExpander}get actionStrip(){return this.parentIsland?this.parentIsland.actionStrip:super.actionStrip}get advancedFilteringExpressionsTree(){return super.advancedFilteringExpressionsTree}set advancedFilteringExpressionsTree(e){this._hGridSchema||(this._hGridSchema=this.generateSchema()),super.advancedFilteringExpressionsTree=e}get id(){return this.h_id}set id(e){this.h_id=e}set data(e){this.setDataInternal(e),this.dataSetByUser=!0,this.checkPrimaryKeyField()}get data(){return this._data}get paginator(){let e=this.id;return!this.parentIsland&&this.paginationComponents?.first||this.rootGrid.paginatorList?.find((t=>t.nativeElement.offsetParent?.id===e))}get excelStyleFilteringComponent(){return this.parentIsland?this.parentIsland.excelStyleFilteringComponents.first:super.excelStyleFilteringComponent}set totalItemCount(e){this.verticalScrollContainer.totalItemCount=e}get totalItemCount(){return this.verticalScrollContainer.totalItemCount}set expandChildren(e){this._defaultExpandState=e,this.expansionStates=new Map}get expandChildren(){return this._defaultExpandState}set schema(e){this._hGridSchema=e}get schema(){return this._hGridSchema||(this._hGridSchema=this.generateSchema()),this._hGridSchema}get foreignKey(){return this.parent?this.parent.gridAPI.getParentRowId(this):null}get hasExpandableChildren(){return!!this.childLayoutKeys.length}get resolveRowEditContainer(){return this.parentIsland&&this.parentIsland.rowEditCustom?this.parentIsland.rowEditContainer:this.rowEditContainer}get resolveRowEditActions(){return this.parentIsland?this.parentIsland.rowEditActionsTemplate:this.rowEditActionsTemplate}get resolveRowEditText(){return this.parentIsland?this.parentIsland.rowEditTextTemplate:this.rowEditTextTemplate}hideActionStrip(){this.parent||(super.hideActionStrip(),this.allLayoutList.forEach((e=>{e.actionStrip?.hide()})))}get parentRowOutletDirective(){return this.parent?this.parent.rowOutletDirective:this.outlet}ngOnInit(){this.batchEditing=!!this.rootGrid.batchEditing,this.rootGrid!==this&&this.rootGrid.batchEditingChange.pipe(Nn(this.destroy$)).subscribe((e=>{this.batchEditing=e})),super.ngOnInit()}ngAfterViewInit(){super.ngAfterViewInit(),this.verticalScrollContainer.beforeViewDestroyed.pipe(Nn(this.destroy$)).subscribe((e=>{let t=e.context.$implicit;if(this.isChildGridRecord(t)){let e=this.childGridTemplates.get(t.rowID);e&&e.owner._viewContainerRef.detach(0)}})),this.parent&&(this.childLayoutKeys=this.parentIsland.children.map((e=>e.key))),this.headSelectorsTemplates=this.parentIsland?this.parentIsland.headSelectorsTemplates:this.headSelectorsTemplates,this.rowSelectorsTemplates=this.parentIsland?this.parentIsland.rowSelectorsTemplates:this.rowSelectorsTemplates,this.dragIndicatorIconTemplate=this.parentIsland?this.parentIsland.dragIndicatorIconTemplate:this.dragIndicatorIconTemplate,this.rowExpandedIndicatorTemplate=this.rootGrid.rowExpandedIndicatorTemplate,this.rowCollapsedIndicatorTemplate=this.rootGrid.rowCollapsedIndicatorTemplate,this.headerCollapsedIndicatorTemplate=this.rootGrid.headerCollapsedIndicatorTemplate,this.headerExpandedIndicatorTemplate=this.rootGrid.headerExpandedIndicatorTemplate,this.excelStyleHeaderIconTemplate=this.rootGrid.excelStyleHeaderIconTemplate,this.sortAscendingHeaderIconTemplate=this.rootGrid.sortAscendingHeaderIconTemplate,this.sortDescendingHeaderIconTemplate=this.rootGrid.sortDescendingHeaderIconTemplate,this.sortHeaderIconTemplate=this.rootGrid.sortHeaderIconTemplate,this.hasChildrenKey=this.parentIsland&&this.parentIsland.hasChildrenKey||this.rootGrid.hasChildrenKey,this.showExpandAll=this.parentIsland?this.parentIsland.showExpandAll:this.rootGrid.showExpandAll}ngAfterContentInit(){this.updateColumnList(!1),this.childLayoutKeys=this.parent?this.parentIsland.children.map((e=>e.key)):this.childLayoutKeys=this.childLayoutList.map((e=>e.key)),this.childLayoutList.notifyOnChanges(),this.childLayoutList.changes.pipe(Nn(this.destroy$)).subscribe((()=>this.onRowIslandChange())),super.ngAfterContentInit()}getRowByIndex(e){if(!(e<0||e>=this.dataView.length))return this.createRow(e)}getRowByKey(e){let t=this.dataView,i=this.primaryKey?t.find((t=>t[this.primaryKey]===e)):t.find((t=>t===e)),n=t.indexOf(i);if(!(n<0||n>t.length))return new sY(this,n,i)}allRows(){return this.dataView.map(((e,t)=>this.createRow(t)))}dataRows(){return this.allRows().filter((e=>e instanceof sY))}get selectedCells(){return this.dataRows().map((e=>e.cells.filter((e=>e.selected)))).reduce(((e,t)=>e.concat(t)),[])}getCellByColumn(e,t){let i=this.getRowByIndex(e),n=this.columns.find((e=>e.field===t));if(i&&i instanceof sY&&n)return new jH(this,e,n)}getCellByKey(e,t){let i=this.getRowByKey(e),n=this.columns.find((e=>e.field===t));if(i&&n)return new jH(this,i.index,n)}pinRow(e,t){let i=this.getRowByKey(e);return super.pinRow(e,t,i)}setDataInternal(e){let t=this._data;this._data=e||[],this.summaryService.clearSummaryCache(),this._init||this.validation.updateAll(this._data),this.autoGenerate&&this._data.length>0&&this.shouldRecreateColumns(t,this._data)&&(this.setupColumns(),this.reflow()),this.cdr.markForCheck(),this.parent&&(null===this.height||-1!==this.height.indexOf("%"))&&this.notifyChanges(!0)}unpinRow(e){let t=this.getRowByKey(e);return super.unpinRow(e,t)}dataLoading(e){this.dataPreLoad.emit(e)}featureColumnsWidth(){return super.featureColumnsWidth(this.headerHierarchyExpander)}onRowIslandChange(){this.parent?this.childLayoutKeys=this.parentIsland.children.filter((e=>!e._destroyed)).map((e=>e.key)):this.childLayoutKeys=this.childLayoutList.filter((e=>!e._destroyed)).map((e=>e.key)),this.cdr.destroyed||this.cdr.detectChanges()}ngOnDestroy(){this.parent||this.gridAPI.getChildGrids(!0).forEach((e=>{e.childRow.cdr.destroyed||e.childRow.cdr.destroy()})),this.parent&&this.selectionService.activeElement&&this._clearSeletionHighlights(),super.ngOnDestroy()}isRowHighlighted(e){return this.highlightedRowID===e.rowID}isHierarchicalRecord(e){return this.isGhostRecord(e)&&(e=e.recordRef),0!==this.childLayoutList.length&&e[this.childLayoutList.first.key]}isChildGridRecord(e){return void 0!==e?.childGridsData}trackChanges(e,t){return void 0!==t.childGridsData?t.rowID:t}getContext(e,t,i){if(this.isChildGridRecord(e)){let t=this.childGridTemplates.get(e.rowID);return t?{$implicit:e,moveView:t.view,owner:t.owner,index:this.dataView.indexOf(e)}:{$implicit:e,templateID:{type:"childRow",id:e.rowID},index:this.dataView.indexOf(e)}}return{$implicit:this.isGhostRecord(e)?e.recordRef:e,templateID:{type:"dataRow",id:null},index:this.getDataViewIndex(t,i),disabled:this.isGhostRecord(e)}}get rootGrid(){let e=this;for(;e.parent;)e=e.parent;return e}get iconTemplate(){return this.hasExpandedRecords()&&this.hasExpandableChildren||!this.showExpandAll?this.headerExpandedIndicatorTemplate||this.defaultExpandedTemplate:this.headerCollapsedIndicatorTemplate||this.defaultCollapsedTemplate}getDragGhostCustomTemplate(){return this.parentIsland?this.parentIsland.getDragGhostCustomTemplate():super.getDragGhostCustomTemplate()}getVisibleContentHeight(){let e=super.getVisibleContentHeight();if(this.parent){let t=this.rootGrid.getVisibleContentHeight(),i=this.nativeElement.getBoundingClientRect().top-this.rootGrid.nativeElement.getBoundingClientRect().top;e=t-i>e?e:t-i}return e}toggleAll(){this.hasExpandedRecords()&&this.hasExpandableChildren||!this.showExpandAll?this.collapseAll():this.expandAll()}hasExpandedRecords(){if(this.expandChildren)return!0;let e=!1;return this.expansionStates.forEach((t=>{t&&(e=t)})),e}getDefaultExpandState(e){return!(this.hasChildrenKey&&!e[this.hasChildrenKey])&&this.expandChildren}isExpanded(e){return this.gridAPI.get_row_expansion_state(e)}viewCreatedHandler(e){if(this.isChildGridRecord(e.context.$implicit)){let t=e.context.$implicit.rowID;this.childGridTemplates.set(t,e)}}viewMovedHandler(e){if(this.isChildGridRecord(e.context.$implicit)){let t=e.context.$implicit.rowID;this.childGridTemplates.get(t).owner=e.owner,this.childLayoutList.forEach((t=>{let i=this.gridAPI.getChildGridByID(t.key,e.context.$implicit.rowID);i&&i.updateOnRender&&(i.notifyChanges(!0),i.updateOnRender=!1)}))}}onContainerScroll(){this.hideOverlays()}createRow(e,t){let i,n=this._getDataViewIndex(e),r=t??this.dataView[n];return!i&&r&&!r.childGridsData&&(i=new sY(this,e,r)),i}getChildGrids(e){return this.gridAPI.getChildGrids(e)}generateDataFields(e){return super.generateDataFields(e).filter((e=>-1===(this.parentIsland?this.parentIsland.children:this.childLayoutList).map((e=>e.key)).indexOf(e)))}resizeNotifyHandler(){this.nativeElement?.isConnected&&!this.parent&&this.notifyChanges(!0)}initColumns(e,t=null){if(this.hasColumnLayouts){let e=this.columns.filter((e=>!e.columnLayout&&!e.columnLayoutChild));this.updateColumns(e)}super.initColumns(e,t)}setupColumns(){this.parentIsland&&this.parentIsland.childColumns.length>0&&!this.autoGenerate?this.createColumnsList(this.parentIsland.childColumns.toArray()):super.setupColumns()}getColumnList(){let e=(this.parent?this.childLayoutList:this.allLayoutList).map((e=>e.columnList.toArray())),t=[].concat.apply([],e);return t.length>0?this.columnList.filter((e=>-1===t.indexOf(e))):this.columnList.toArray()}onColumnsChanged(){Promise.resolve().then((()=>{this.updateColumnList()}))}_shouldAutoSize(e){return!(!this.isPercentHeight||!this.parent)||super._shouldAutoSize(e)}updateColumnList(e=!0){let t=(this.parent?this.childLayoutList:this.allLayoutList).map((e=>e.columnList.toArray())),i=[].concat.apply([],t),n=this.columns.length,r=this.columnList.filter((e=>-1===i.indexOf(e)));r.length>0&&(this.initColumns(r,(e=>this.columnInit.emit(e))),e&&this.columns.length!==n&&this.calculateGridSizes(!1))}_clearSeletionHighlights(){[this.rootGrid,...this.rootGrid.getChildGrids(!0)].forEach((e=>{e.selectionService.clear(),e.selectionService.activeElement=null,e.nativeElement.classList.remove("igx-grid__tr--highlighted"),e.highlightedRowID=null,e.cdr.markForCheck()}))}generateSchema(){let e,t=this.columns.filter((e=>!e.columnGroup&&e.filterable));return 0!==t.length&&(e=[{name:null,fields:t.map((e=>({field:e.field,dataType:e.dataType,editorOptions:e.editorOptions,filters:e.filters,pipeArgs:e.pipeArgs,defaultTimeFormat:e.defaultTimeFormat,defaultDateTimeFormat:e.defaultDateTimeFormat})))}],e[0].childEntities=this.childLayoutList.reduce(((e,t)=>{let i=this.data?.length>0&&this.data[0][t.key]?.length>0?this.data[0][t.key][0]:null;return e.concat(this.generateChildEntity(t,i))}),[])),e}generateChildEntity(e,t){let i,n=e.key,r=[];e.autoGenerate?t&&(r=Object.keys(t).map((e=>t[e]instanceof Array?null:{field:e,dataType:this.resolveDataTypes(t[e])})).filter((e=>null!==e))):r=HC(e.childColumns.toArray()).filter((e=>e.field)).map((e=>({field:e.field,dataType:e.dataType})));let s=e.childLayoutList.reduce(((e,i)=>{if(!t)return null;let n=t.length>0&&t[i.key]?.length>0?t[i.key][0]:null;return e.concat(this.generateChildEntity(i,n))}),[]);return s?.length>0&&(i=s),{name:n,fields:r,childEntities:i}}static{this.ɵfac=(()=>{let t;return function(i){return(t||(t=ol(e)))(i||e)}})()}static{this.ɵcmp=Qu({type:e,selectors:[["igx-hierarchical-grid"]],contentQueries:function(e,t,i){if(1&e&&(gm(i,E9,4,E9),gm(i,E9,5,E9),gm(i,_X,5),gm(i,dP,4,dP)),2&e){let e;mm(e=fm())&&(t.childLayoutList=e),mm(e=fm())&&(t.allLayoutList=e),mm(e=fm())&&(t.paginatorList=e),mm(e=fm())&&(t.actionStripComponents=e)}},viewQuery:function(e,t){if(1&e&&(pm(jee,5,Su),pm(Uee,5,Su),pm(qee,7,jh),pm(Yee,7,jh),pm(wO,5,wO),pm(Jte,5)),2&e){let e;mm(e=fm())&&(t.toolbarOutlet=e.first),mm(e=fm())&&(t.paginatorOutlet=e.first),mm(e=fm())&&(t.hierarchicalRecordTemplate=e.first),mm(e=fm())&&(t.childTemplate=e.first),mm(e=fm())&&(t.templateOutlets=e),mm(e=fm())&&(t.hierarchicalRows=e)}},hostVars:2,hostBindings:function(e,t){2&e&&$g("role",t.role)("id",t.id)},inputs:{id:"id",data:"data",totalItemCount:"totalItemCount",expandChildren:[2,"expandChildren","expandChildren",Hf],schema:"schema"},features:[Pm([HF,TX,rP,{provide:BF,useClass:y9},{provide:zF,useExisting:e},RX,OU,x9,mU,Zk,Xk,C9]),dg],ngContentSelectors:Xee,decls:95,vars:151,consts:[["toolbarOutlet",""],["tbody",""],["pinnedRecordsTemplate",""],["verticalScrollContainer",""],["hierarchical_record_template",""],["pinned_hierarchical_record_template",""],["child_record_template",""],["igxRowEditingOverlayOutlet",""],["loadingOverlay",""],["verticalScrollHolder",""],["addRowSnackbar",""],["igxBodyOverlayOutlet","overlay-outlet"],["tfoot",""],["scr",""],["scrollContainer",""],["footer",""],["paginatorOutlet",""],["emptyFilteredGrid",""],["defaultEmptyGrid",""],["defaultAddRowEmptyTemplate",""],["defaultLoadingGrid",""],["defaultCollapsedTemplate",""],["defaultExpandedTemplate",""],["defaultRowEditText",""],["defaultRowEditActions",""],["defaultRowEditTemplate",""],["dragIndicatorIconBase",""],["igxLoadingOverlayOutlet",""],["igxFilteringOverlayOutlet",""],["pinContainer",""],["row",""],["row","","pinnedRow",""],["summaryRow",""],["rowEditingOverlay",""],["sink",""],["tabindex","0",1,"igx-grid-thead",3,"keydown.meta.c","keydown.control.c","copy","keydown","focus","grid","hasMRL","activeDescendant","width","pinnedColumnCollection","unpinnedColumnCollection"],["igxGridBody","","role","rowgroup",1,"igx-grid__tbody",3,"keydown.control.c","copy"],["tabindex","0",1,"igx-grid__tbody-content",3,"focus","keydown","dragStop","dragScroll","scroll","igxGridDragSelect"],["id","left",1,"igx-grid__scroll-on-drag-left",3,"igxColumnMovingDrop"],["id","left",1,"igx-grid__scroll-on-drag-pinned",3,"igxColumnMovingDrop","left"],[4,"ngTemplateOutlet"],["igxGridFor","",3,"chunkPreload","dataChanging","dataChanged","igxGridForOf","igxForScrollOrientation","igxForScrollContainer","igxForContainerSize","igxForItemSize","igxForTrackBy"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["id","right",1,"igx-grid__scroll-on-drag-right",3,"igxColumnMovingDrop"],["igxOverlayOutlet","",1,"igx-grid__row-editing-outlet"],["igxToggle",""],[3,"indeterminate"],[1,"igx-grid__tbody-scrollbar",3,"pointerdown","hidden"],[1,"igx-grid__tbody-scrollbar-start"],[1,"igx-grid__tbody-scrollbar-main"],["igxGridFor","",3,"igxGridForOf"],[1,"igx-grid__tbody-scrollbar-end"],[1,"igx-grid__addrow-snackbar"],[3,"outlet","actionText","displayTime"],["igxOverlayOutlet",""],["role","rowgroup",1,"igx-grid__tfoot"],["tabindex","0",3,"focus","keydown"],["role","row",1,"igx-grid__summaries",3,"width","height","gridID","summaries","index"],[1,"igx-grid__tfoot-thumb",3,"hidden"],[1,"igx-grid__scroll",3,"pointerdown","hidden"],[1,"igx-grid__scroll-start"],[1,"igx-grid__scroll-main"],[1,"igx-grid__scroll-end",3,"hidden"],[1,"igx-grid__footer"],["igxOverlayOutlet","",1,"igx-grid__loading-outlet"],["igxOverlayOutlet","",1,"igx-grid__outlet"],[2,"display","none"],["id","left",1,"igx-grid__scroll-on-drag-pinned",3,"igxColumnMovingDrop"],[1,"igx-grid__tr--pinned",3,"ngClass","width"],[1,"igx-grid__tr--pinned",3,"ngClass"],[3,"viewCreated","viewMoved","cachedViewLoaded","igxTemplateOutlet","igxTemplateOutletContext"],[3,"gridID","index","disabled","data","ngClass","ngStyle"],[3,"gridID","index","data","ngClass","ngStyle"],[3,"scroll","ngClass"],[3,"parentGridID","index","data","layout"],["role","row",1,"igx-grid__summaries",3,"gridID","summaries","index"],["role","cell",1,"igx-grid__tbody-message"],["type","button","igxButton","contained","igxRipple","",3,"click"],[1,"igx-grid__loading"],["family","default","name","unfold_more","role","button"],["family","default","name","unfold_less","role","button",3,"active"],[3,"className"],["type","button","igxButton","","igxRowEditTabStop","",3,"click"],[1,"igx-banner__message"],[1,"igx-banner__text"],[1,"igx-banner__actions"],[1,"igx-banner__row"],["family","default","name","drag_indicator"]],template:function(e,t){if(1&e){let e=Kp();lm(Zee),dm(0),$p(1,null,0),Lp(3,"igx-grid-header-row",35),rm("keydown.meta.c",(function(i){return Ko(e),jo(t.copyHandler(i))}))("keydown.control.c",(function(i){return Ko(e),jo(t.copyHandler(i))}))("copy",(function(i){return Ko(e),jo(t.copyHandler(i))}))("keydown",(function(i){return Ko(e),jo(t.navigation.headerNavigation(i))}))("focus",(function(){return Ko(e),jo(t.navigation.focusFirstCell())})),Np(),Lp(4,"div",36),rm("keydown.control.c",(function(i){return Ko(e),jo(t.copyHandler(i))}))("copy",(function(i){return Ko(e),jo(t.copyHandler(i))})),Lp(5,"div",37,1),rm("focus",(function(i){return Ko(e),jo(t.navigation.focusTbody(i))}))("keydown",(function(i){return Ko(e),jo(t.navigation.handleNavigation(i))}))("dragStop",(function(i){return Ko(e),jo(t.selectionService.dragMode=i)}))("dragScroll",(function(i){return Ko(e),jo(t.dragScroll(i))}))("scroll",(function(i){return Ko(e),jo(t.preventContainerScroll(i))})),bg(7,lte,1,2,"span",38)(8,dte,1,4,"span",39)(9,pte,7,50,"ng-template",null,2,sf)(11,mte,1,0,"ng-container",40)(12,vte,1,2,"ng-template",41,3,sf),Xm(14,"gridTransaction"),Xm(15,"visibleColumns"),Xm(16,"gridFiltering"),Xm(17,"gridSort"),Xm(18,"gridHierarchicalPaging"),Xm(19,"gridHierarchical"),Xm(20,"gridAddRow"),Xm(21,"gridRowPinning"),rm("chunkPreload",(function(i){return Ko(e),jo(t.dataLoading(i))}))("dataChanging",(function(i){return Ko(e),jo(t.dataRebinding(i))}))("dataChanged",(function(i){return Ko(e),jo(t.dataRebound(i))})),bg(22,yte,4,36,"ng-template",null,4,sf)(24,xte,5,35,"ng-template",null,5,sf)(26,wte,3,4,"ng-template",null,6,sf)(28,Cte,1,0,"ng-container",40)(29,Ste,1,0,"ng-container",42)(30,bte,1,2,"span",43),Hp(31,"div",44,7),bg(33,Dte,0,0),Np(),Lp(34,"div",45,8),bg(36,Ete,1,1,"igx-circular-bar",46),Np(),bg(37,Tte,1,2,"span",43),Lp(38,"div",47),rm("pointerdown",(function(t){return Ko(e),jo(t.preventDefault())})),Hp(39,"div",48),Lp(40,"div",49),bg(41,Ite,0,0,"ng-template",50,9,sf),Np(),Hp(43,"div",51),Np(),Lp(44,"div",52)(45,"igx-snackbar",53,10),ym(47),Np()(),Hp(48,"div",54,11),Np(),Lp(50,"div",55,12)(52,"div",56),rm("focus",(function(){return Ko(e),jo(t.navigation.focusFirstCell(!1))}))("keydown",(function(i){return Ko(e),jo(t.navigation.summaryNav(i))})),bg(53,Rte,3,10,"igx-grid-summary-row",57),Hp(54,"div",58),Np()(),Lp(55,"div",59,13),rm("pointerdown",(function(t){return Ko(e),jo(t.preventDefault())})),Hp(57,"div",60),Lp(58,"div",61),bg(59,Ate,0,0,"ng-template",50,14,sf),Np(),Hp(61,"div",62),Np(),Lp(62,"div",63,15),dm(64,1),dm(65,2),$p(66,null,16),Np(),bg(68,Fte,4,2,"ng-template",null,17,sf)(70,Mte,4,2,"ng-template",null,18,sf)(72,Lte,2,1,"ng-template",null,19,sf)(74,Nte,2,1,"ng-template",null,20,sf)(76,Hte,1,0,"ng-template",null,21,sf)(78,zte,1,1,"ng-template",null,22,sf)(80,Gte,4,6,"div",45)(81,$te,3,9,"ng-template",null,23,sf)(83,Wte,4,2,"ng-template",null,24,sf)(85,Ute,6,8,"ng-template",null,25,sf)(87,qte,1,0,"ng-template",null,26,sf)(89,Yte,1,0,"igx-grid-column-resizer"),Hp(90,"div",64,27)(92,"div",65,28),bg(94,Zte,5,0,"div",66)}if(2&e){let e=vm(10),i=vm(49);Hc(3),rp("grid",t)("hasMRL",t.hasColumnLayouts)("activeDescendant",t.activeDescendant)("width",t.calcWidth)("pinnedColumnCollection",t.pinnedColumns)("unpinnedColumnCollection",t.unpinnedColumns),Hc(2),op("height",t.totalHeight,"px")("width",t.totalCalcWidth,"px")("width",t.platform.isBrowser?void 0:"100%"),rp("igxGridDragSelect",t.selectionService.dragMode),$g("aria-activedescendant",t.activeDescendant)("role",t.dataView.length?null:"row"),Hc(2),Ip(t.moving&&t.columnInDrag&&t.pinnedColumns.length<=0?7:-1),Hc(),Ip(t.moving&&t.columnInDrag&&t.pinnedColumns.length>0?8:-1),Hc(3),rp("ngTemplateOutlet",t.hasPinnedRecords&&t.isRowPinningToTop?e:null),Hc(),rp("igxGridForOf",tf(21,112,ef(20,108,nf(19,101,Bm(140,ete,nf(18,94,Bm(133,ete,nf(17,87,Bm(126,ete,nf(16,79,Gm(117,Qee,Jm(15,76,ef(14,72,t.renderData,t.id,t.pipeTrigger),t.hasVisibleColumns),t.filteringExpressionsTree,t.filterStrategy,t.advancedFilteringExpressionsTree,t.id,t.pipeTrigger,t.filteringPipeTrigger)),t.sortingExpressions,Vm(125,Jee),t.sortStrategy,t.id,t.pipeTrigger)),!!t.paginator,t.page,t.perPage,t.id,t.pipeTrigger)),t.expansionStates,t.id,t.primaryKey,t.childLayoutKeys,t.pipeTrigger)),!1,t.pipeTrigger),t.id,!1,t.pipeTrigger))("igxForScrollOrientation","vertical")("igxForScrollContainer",t.verticalScroll)("igxForContainerSize",t.calcHeight)("igxForItemSize",t.renderedRowHeight)("igxForTrackBy",t.trackChanges),Hc(16),rp("ngTemplateOutlet",t.hasPinnedRecords&&!t.isRowPinningToTop?e:null),Hc(),rp("ngTemplateOutlet",t.template)("ngTemplateOutletContext",Mm(147,tte,t)),Hc(),Ip(t.moving&&t.columnInDrag?30:-1),Hc(3),Ip(t.parent?-1:33),Hc(3),Ip(t.shouldOverlayLoading?36:-1),Hc(),Ip(t.moving&&t.columnInDrag?37:-1),Hc(),op("width",t.scrollSize,"px"),rp("hidden",!t.hasVerticalScroll()),Hc(),op("height",t.isRowPinningToTop?t.pinnedRowHeight:0,"px"),Hc(),op("height",t.calcHeight,"px"),Hc(),rp("igxGridForOf",Vm(149,Jee)),Hc(2),op("height",t.isRowPinningToTop?0:t.pinnedRowHeight,"px"),Hc(2),rp("outlet",i)("actionText",t.resourceStrings.igx_grid_snackbar_addrow_actiontext)("displayTime",t.snackbarDisplayTime),Hc(2),_m(t.resourceStrings.igx_grid_snackbar_addrow_label),Hc(3),op("height",t.summaryRowHeight,"px"),Hc(2),$g("aria-activedescendant",t.activeDescendant),Hc(),Ip(t.hasSummarizedColumns&&t.rootSummariesEnabled?53:-1),Hc(),op("height",t.summaryRowHeight,"px")("width",t.scrollSize,"px"),rp("hidden",!t.hasVerticalScroll()),Hc(),op("height",t.scrollSize,"px"),rp("hidden",t.isHorizontalScrollHidden),Hc(2),op("width",t.isPinningToStart?t.pinnedWidth:t.headerFeaturesWidth,"px")("min-width",t.isPinningToStart?t.pinnedWidth:t.headerFeaturesWidth,"px"),Hc(),op("width",t.unpinnedWidth,"px"),Hc(),rp("igxGridForOf",Vm(150,Jee)),Hc(2),op("width",t.pinnedWidth,"px")("min-width",t.pinnedWidth,"px"),rp("hidden",0===t.pinnedWidth||t.isPinningToStart),Hc(19),Ip(t.rowEditable?80:-1),Hc(9),Ip(t.colResizingService.showResizer?89:-1),Hc(5),Ip(t.platform.isElements?94:-1)}},dependencies:[jv,qv,Uv,XY,HZ,J1,ZU,nO,wO,$ee,DO,SO,wW,xX,hX,mR,hO,DA,jZ,gX,Jte,EQ,RQ,mY,fY,vY,CY,hY,uY,AQ,T9,I9,xY],encapsulation:2,changeDetection:0})}}return e})(),tie=(()=>{class e extends C4{constructor(e,t,i,n){super(e,t,i,n),this.viewRef=t,this.envInjector=i,this.injector=n,this.stateParsed=new wl}applyState(e,t=[]){0===t.length&&(t=null),super.setStateInternal(e,t)}applyStateFromString(e,t=[]){0===t.length&&(t=null);let i=JSON.parse(e);this.stateParsed.emit(i),super.setStateInternal(i,t)}getState(e=[]){return 0===e.length&&(e=null),super.getStateInternal(!1,e)}getStateAsString(e=[]){return 0===e.length&&(e=null),super.getStateInternal(!0,e)}stringifyCallback(e,t){return"searchVal"===e&&t instanceof Set?Array.from(t):"externalObject"!==e?t:void 0}static{this.ɵfac=function(t){return new(t||e)(lu(zF),lu(Su),lu(vs),lu(hl))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-grid-state"]],outputs:{stateParsed:"stateParsed"},features:[dg],decls:0,vars:0,template:function(e,t){},encapsulation:2})}}return e})(),iie=[{component:yP,selector:"igc-action-strip",parents:[h2,v9,eie,E9],contentQueries:[{property:"actionButtons",childType:lP,isQueryList:!0}],additionalProperties:[],methods:["show","hide"],boolProps:["hidden"],provideAs:dP},{component:UH,selector:"igc-column",parents:[h2,v9,eie,w4,E9,XH,tz],contentQueries:[],additionalProperties:[{name:"selected",writable:!0},{name:"index"},{name:"visibleIndex"},{name:"columnGroup"},{name:"columnLayout"},{name:"columnLayoutChild"},{name:"childColumns"},{name:"level"},{name:"filteringExpressionsTree"},{name:"parent",writable:!0},{name:"grid",writable:!0},{name:"topLevelParent"}],methods:["pin","unpin","move","autosize"],templateProps:["summaryTemplate","bodyTemplate","headerTemplate","inlineEditorTemplate","errorTemplate","filterCellTemplate"],numericProps:["rowEnd","colEnd","rowStart","colStart"],boolProps:["sortable","selectable","groupable","editable","filterable","resizable","autosizeHeader","hasSummary","hidden","disableHiding","disablePinning","filteringIgnoreCase","sortingIgnoreCase","searchable","pinned","visibleWhenCollapsed"]},{component:XH,selector:"igc-column-group",parents:[h2,v9,eie,XH,E9],contentQueries:[{property:"children",childType:UH,isQueryList:!0}],additionalProperties:[{name:"selected",writable:!0},{name:"childColumns"},{name:"columnGroup"},{name:"columnLayout"},{name:"index"},{name:"visibleIndex"},{name:"columnLayoutChild"},{name:"level"},{name:"filteringExpressionsTree"},{name:"parent",writable:!0},{name:"grid",writable:!0},{name:"topLevelParent"}],methods:["pin","unpin","move","autosize"],templateProps:["collapsibleIndicatorTemplate","summaryTemplate","headerTemplate","errorTemplate","filterCellTemplate"],numericProps:["rowEnd","colEnd","rowStart","colStart"],boolProps:["collapsible","expanded","searchable","hidden","sortable","groupable","editable","filterable","resizable","autosizeHeader","hasSummary","disableHiding","disablePinning","filteringIgnoreCase","sortingIgnoreCase","pinned","visibleWhenCollapsed"],provideAs:UH},{component:tz,selector:"igc-column-layout",parents:[h2],contentQueries:[{property:"children",childType:UH,isQueryList:!0}],additionalProperties:[{name:"columnLayout"},{name:"visibleIndex"},{name:"selected",writable:!0},{name:"childColumns"},{name:"columnGroup"},{name:"index"},{name:"columnLayoutChild"},{name:"level"},{name:"filteringExpressionsTree"},{name:"parent",writable:!0},{name:"grid",writable:!0},{name:"topLevelParent"}],methods:["pin","unpin","move","autosize"],templateProps:["collapsibleIndicatorTemplate","summaryTemplate","headerTemplate","errorTemplate","filterCellTemplate"],numericProps:["rowEnd","colEnd","rowStart","colStart"],boolProps:["hidden","collapsible","expanded","searchable","sortable","groupable","editable","filterable","resizable","autosizeHeader","hasSummary","disableHiding","disablePinning","filteringIgnoreCase","sortingIgnoreCase","pinned","visibleWhenCollapsed"],provideAs:UH},{component:h2,selector:"igc-grid",parents:[],contentQueries:[{property:"columnList",childType:UH,isQueryList:!0,descendants:!0},{property:"actionStripComponents",childType:dP,isQueryList:!0},{property:"toolbar",childType:BZ,isQueryList:!0},{property:"paginationComponents",childType:_X,isQueryList:!0}],additionalProperties:[{name:"groupsRecords"},{name:"selectedCells"},{name:"shouldGenerate",writable:!0},{name:"rowList"},{name:"dataRowList"},{name:"hiddenColumnsCount"},{name:"pinnedColumnsCount"},{name:"transactions"},{name:"lastSearchInfo"},{name:"filteredData"},{name:"filteredSortedData"},{name:"validation"},{name:"gridAPI"},{name:"cdr"},{name:"navigation",writable:!0},{name:"virtualizationState"},{name:"nativeElement"},{name:"defaultRowHeight"},{name:"defaultHeaderGroupMinWidth"},{name:"columns"},{name:"pinnedColumns"},{name:"pinnedRows"},{name:"unpinnedColumns"},{name:"visibleColumns"},{name:"dataView"}],methods:["groupBy","clearGrouping","isExpandedGroup","toggleGroup","selectRowsInGroup","deselectRowsInGroup","fullyExpandGroup","toggleAllGroupRows","getSelectedData","getRowByIndex","getRowByKey","getCellByColumn","getCellByKey","pinRow","unpinRow","isRecordPinnedByIndex","toggleColumnVisibility","expandAll","collapseAll","expandRow","collapseRow","toggleRow","getHeaderGroupWidth","getColumnByName","getColumnByVisibleIndex","recalculateAutoSizes","moveColumn","markForCheck","addRow","deleteRow","updateCell","updateRow","getRowData","sort","filter","filterGlobal","enableSummaries","disableSummaries","clearFilter","clearSort","pinColumn","unpinColumn","reflow","findNext","findPrev","refreshSearch","clearSearch","getPinnedWidth","selectRows","deselectRows","selectAllRows","deselectAllRows","clearCellSelection","selectRange","getSelectedRanges","selectedColumns","selectColumns","deselectColumns","deselectAllColumns","selectAllColumns","getSelectedColumnsData","navigateTo","getNextCell","getPreviousCell","openAdvancedFilteringDialog","closeAdvancedFilteringDialog","endEdit","beginAddRowById","beginAddRowByIndex"],templateProps:["dropAreaTemplate","detailTemplate","groupByRowSelectorTemplate","groupRowTemplate","emptyGridTemplate","addRowEmptyTemplate","loadingGridTemplate","dragGhostCustomTemplate","rowEditTextTemplate","rowAddTextTemplate","rowEditActionsTemplate","rowExpandedIndicatorTemplate","rowCollapsedIndicatorTemplate","headerExpandedIndicatorTemplate","headerCollapsedIndicatorTemplate","excelStyleHeaderIconTemplate","sortAscendingHeaderIconTemplate","sortDescendingHeaderIconTemplate","sortHeaderIconTemplate","headSelectorTemplate","rowSelectorTemplate","dragIndicatorIconTemplate"],numericProps:["totalItemCount","snackbarDisplayTime","summaryRowHeight","rowHeight","totalRecords"],boolProps:["groupsExpanded","hideGroupedColumns","showGroupArea","autoGenerate","moving","hideRowSelectors","rowDraggable","rowEditable","isLoading","allowFiltering","allowAdvancedFiltering","showSummaryOnCollapse","batchEditing","selectRowOnClick"]},{component:FP,selector:"igc-grid-editing-actions",parents:[yP],contentQueries:[],additionalProperties:[{name:"hasChildren"}],methods:["startEdit"],boolProps:["addRow","editRow","deleteRow","addChild","asMenuItems"],provideAs:lP},{component:HP,selector:"igc-grid-pinning-actions",parents:[yP],contentQueries:[],additionalProperties:[],methods:["pin","unpin","scrollToRow"],boolProps:["asMenuItems"],provideAs:lP},{component:tie,selector:"igc-grid-state",parents:[h2,v9,eie,w4],contentQueries:[],additionalProperties:[{name:"grid",writable:!0}],methods:["applyState","applyStateFromString","getState","getStateAsString"]},{component:T4,selector:"igc-grid-toolbar-actions",parents:[z4],contentQueries:[],additionalProperties:[],methods:[]},{component:O4,selector:"igc-grid-toolbar-advanced-filtering",parents:[z4,T4],contentQueries:[],additionalProperties:[],methods:[]},{component:z4,selector:"igc-grid-toolbar",parents:[h2,v9,eie,w4],contentQueries:[{property:"hasActions",childType:T4}],additionalProperties:[{name:"nativeElement"}],methods:[],boolProps:["showProgress"],provideAs:BZ},{component:Z4,selector:"igc-grid-toolbar-exporter",parents:[z4,T4],contentQueries:[],additionalProperties:[],methods:["export"],boolProps:["exportCSV","exportExcel"]},{component:Q4,selector:"igc-grid-toolbar-hiding",parents:[z4,T4],contentQueries:[],additionalProperties:[],methods:["checkAll","uncheckAll"],numericProps:["indentetion"],boolProps:["hideFilter"]},{component:e6,selector:"igc-grid-toolbar-pinning",parents:[z4,T4],contentQueries:[],additionalProperties:[],methods:["checkAll","uncheckAll"],numericProps:["indentetion"],boolProps:["hideFilter"]},{component:E4,selector:"igc-grid-toolbar-title",parents:[z4],contentQueries:[],additionalProperties:[],methods:[]},{component:eie,selector:"igc-hierarchical-grid",parents:[],contentQueries:[{property:"childLayoutList",childType:E9,isQueryList:!0},{property:"allLayoutList",childType:E9,isQueryList:!0,descendants:!0},{property:"paginatorList",childType:_X,isQueryList:!0,descendants:!0},{property:"actionStripComponents",childType:dP,isQueryList:!0},{property:"columnList",childType:UH,isQueryList:!0,descendants:!0},{property:"toolbar",childType:BZ,isQueryList:!0},{property:"paginationComponents",childType:_X,isQueryList:!0}],additionalProperties:[{name:"foreignKey"},{name:"selectedCells"},{name:"gridAPI",writable:!0},{name:"navigation",writable:!0},{name:"shouldGenerate",writable:!0},{name:"rowList"},{name:"dataRowList"},{name:"hiddenColumnsCount"},{name:"pinnedColumnsCount"},{name:"transactions"},{name:"lastSearchInfo"},{name:"filteredData"},{name:"filteredSortedData"},{name:"validation"},{name:"cdr"},{name:"virtualizationState"},{name:"nativeElement"},{name:"defaultRowHeight"},{name:"defaultHeaderGroupMinWidth"},{name:"columns"},{name:"pinnedColumns"},{name:"pinnedRows"},{name:"unpinnedColumns"},{name:"visibleColumns"},{name:"dataView"}],methods:["getRowByIndex","getRowByKey","getCellByColumn","getCellByKey","pinRow","unpinRow","getDefaultExpandState","isRecordPinnedByIndex","toggleColumnVisibility","expandAll","collapseAll","expandRow","collapseRow","toggleRow","getHeaderGroupWidth","getColumnByName","getColumnByVisibleIndex","recalculateAutoSizes","moveColumn","markForCheck","addRow","deleteRow","updateCell","updateRow","getRowData","sort","filter","filterGlobal","enableSummaries","disableSummaries","clearFilter","clearSort","pinColumn","unpinColumn","reflow","findNext","findPrev","refreshSearch","clearSearch","getPinnedWidth","selectRows","deselectRows","selectAllRows","deselectAllRows","clearCellSelection","selectRange","getSelectedRanges","getSelectedData","selectedColumns","selectColumns","deselectColumns","deselectAllColumns","selectAllColumns","getSelectedColumnsData","navigateTo","getNextCell","getPreviousCell","openAdvancedFilteringDialog","closeAdvancedFilteringDialog","endEdit","beginAddRowById","beginAddRowByIndex"],templateProps:["emptyGridTemplate","addRowEmptyTemplate","loadingGridTemplate","dragGhostCustomTemplate","rowEditTextTemplate","rowAddTextTemplate","rowEditActionsTemplate","rowExpandedIndicatorTemplate","rowCollapsedIndicatorTemplate","headerExpandedIndicatorTemplate","headerCollapsedIndicatorTemplate","excelStyleHeaderIconTemplate","sortAscendingHeaderIconTemplate","sortDescendingHeaderIconTemplate","sortHeaderIconTemplate","headSelectorTemplate","rowSelectorTemplate","dragIndicatorIconTemplate"],numericProps:["totalItemCount","snackbarDisplayTime","summaryRowHeight","rowHeight","totalRecords"],boolProps:["expandChildren","showExpandAll","autoGenerate","moving","hideRowSelectors","rowDraggable","rowEditable","isLoading","allowFiltering","allowAdvancedFiltering","showSummaryOnCollapse","selectRowOnClick"]},{component:d6,selector:"igc-paginator",parents:[h2,v9,eie,w4],contentQueries:[],additionalProperties:[{name:"totalPages",writable:!0},{name:"isLastPage"},{name:"isFirstPage"},{name:"nativeElement"}],methods:["nextPage","previousPage","paginate"],numericProps:["page","perPage","totalRecords"],provideAs:_X},{component:A6,selector:"igc-pivot-data-selector",parents:[],contentQueries:[],additionalProperties:[{name:"animationSettings",writable:!0}],methods:[],boolProps:["columnsExpanded","rowsExpanded","filtersExpanded","valuesExpanded"]},{component:w4,selector:"igc-pivot-grid",parents:[],contentQueries:[{property:"columnList",childType:UH,isQueryList:!0,descendants:!0},{property:"toolbar",childType:BZ,isQueryList:!0},{property:"paginationComponents",childType:_X,isQueryList:!0}],additionalProperties:[{name:"dimensionsSortingExpressions"},{name:"navigation",writable:!0},{name:"allDimensions"},{name:"rowList"},{name:"dataRowList"},{name:"lastSearchInfo"},{name:"filteredData"},{name:"filteredSortedData"},{name:"validation"},{name:"gridAPI"},{name:"cdr"},{name:"virtualizationState"},{name:"nativeElement"},{name:"defaultRowHeight"},{name:"defaultHeaderGroupMinWidth"},{name:"columns"},{name:"visibleColumns"},{name:"dataView"}],methods:["notifyDimensionChange","toggleColumn","getColumnGroupExpandState","toggleRowGroup","autoSizeRowDimension","insertDimensionAt","moveDimension","removeDimension","toggleDimension","insertValueAt","moveValue","removeValue","toggleValue","sortDimension","filterDimension","toggleRow","getHeaderGroupWidth","getColumnByName","getColumnByVisibleIndex","recalculateAutoSizes","markForCheck","getRowData","sort","filter","filterGlobal","clearFilter","clearSort","reflow","selectRows","deselectRows","selectAllRows","deselectAllRows","clearCellSelection","selectRange","getSelectedRanges","getSelectedData","selectedColumns","selectColumns","deselectColumns","deselectAllColumns","selectAllColumns","getSelectedColumnsData","navigateTo"],templateProps:["valueChipTemplate","rowDimensionHeaderTemplate","emptyPivotGridTemplate","emptyGridTemplate","loadingGridTemplate","dragGhostCustomTemplate","rowEditTextTemplate","rowAddTextTemplate","rowEditActionsTemplate","rowExpandedIndicatorTemplate","rowCollapsedIndicatorTemplate","headerExpandedIndicatorTemplate","headerCollapsedIndicatorTemplate","excelStyleHeaderIconTemplate","sortAscendingHeaderIconTemplate","sortDescendingHeaderIconTemplate","sortHeaderIconTemplate","headSelectorTemplate","rowSelectorTemplate"],numericProps:["rowHeight"],boolProps:["autoGenerateConfig","superCompactMode","defaultExpandState","isLoading","selectRowOnClick"]},{component:E9,selector:"igc-row-island",parents:[eie,E9],contentQueries:[{property:"children",childType:E9,isQueryList:!0},{property:"childLayoutList",childType:E9,isQueryList:!0},{property:"childColumns",childType:UH,isQueryList:!0},{property:"actionStripComponents",childType:dP,isQueryList:!0},{property:"columnList",childType:UH,isQueryList:!0,descendants:!0}],additionalProperties:[{name:"rowIslandAPI",writable:!0},{name:"gridAPI",writable:!0},{name:"navigation",writable:!0},{name:"shouldGenerate",writable:!0},{name:"rowList"},{name:"dataRowList"},{name:"transactions"},{name:"validation"},{name:"cdr"},{name:"nativeElement"},{name:"defaultRowHeight"},{name:"defaultHeaderGroupMinWidth"},{name:"columns"},{name:"pinnedRows"}],methods:["isRecordPinnedByIndex","toggleColumnVisibility","expandAll","collapseAll","expandRow","collapseRow","toggleRow","getHeaderGroupWidth","getColumnByName","getColumnByVisibleIndex","recalculateAutoSizes","moveColumn","markForCheck","addRow","deleteRow","updateCell","updateRow","getRowData","sort","filter","filterGlobal","enableSummaries","disableSummaries","clearFilter","clearSort","pinColumn","unpinColumn","pinRow","unpinRow","findNext","findPrev","refreshSearch","clearSearch","getPinnedWidth","selectRows","deselectRows","selectAllRows","deselectAllRows","clearCellSelection","selectRange","getSelectedRanges","getSelectedData","selectedColumns","selectColumns","deselectColumns","deselectAllColumns","selectAllColumns","getSelectedColumnsData","navigateTo","getNextCell","getPreviousCell","openAdvancedFilteringDialog","closeAdvancedFilteringDialog","endEdit","beginAddRowById","beginAddRowByIndex"],templateProps:["toolbarTemplate","paginatorTemplate","emptyGridTemplate","addRowEmptyTemplate","loadingGridTemplate","dragGhostCustomTemplate","rowEditTextTemplate","rowAddTextTemplate","rowEditActionsTemplate","rowExpandedIndicatorTemplate","rowCollapsedIndicatorTemplate","headerExpandedIndicatorTemplate","headerCollapsedIndicatorTemplate","excelStyleHeaderIconTemplate","sortAscendingHeaderIconTemplate","sortDescendingHeaderIconTemplate","sortHeaderIconTemplate","headSelectorTemplate","rowSelectorTemplate","dragIndicatorIconTemplate"],numericProps:["snackbarDisplayTime","summaryRowHeight","rowHeight","totalRecords"],boolProps:["expandChildren","showExpandAll","autoGenerate","moving","hideRowSelectors","rowDraggable","rowEditable","isLoading","allowFiltering","allowAdvancedFiltering","showSummaryOnCollapse","selectRowOnClick"]},{component:v9,selector:"igc-tree-grid",parents:[],contentQueries:[{property:"columnList",childType:UH,isQueryList:!0,descendants:!0},{property:"actionStripComponents",childType:dP,isQueryList:!0},{property:"toolbar",childType:BZ,isQueryList:!0},{property:"paginationComponents",childType:_X,isQueryList:!0}],additionalProperties:[{name:"rootRecords",writable:!0},{name:"records",writable:!0},{name:"processedRootRecords",writable:!0},{name:"processedRecords",writable:!0},{name:"selectedCells"},{name:"shouldGenerate",writable:!0},{name:"rowList"},{name:"dataRowList"},{name:"hiddenColumnsCount"},{name:"pinnedColumnsCount"},{name:"lastSearchInfo"},{name:"filteredData"},{name:"filteredSortedData"},{name:"validation"},{name:"gridAPI"},{name:"cdr"},{name:"navigation",writable:!0},{name:"virtualizationState"},{name:"nativeElement"},{name:"defaultRowHeight"},{name:"defaultHeaderGroupMinWidth"},{name:"columns"},{name:"pinnedColumns"},{name:"pinnedRows"},{name:"unpinnedColumns"},{name:"visibleColumns"},{name:"dataView"}],methods:["getDefaultExpandState","expandAll","collapseAll","addRow","beginAddRowByIndex","getSelectedData","getRowByIndex","getRowByKey","getCellByColumn","getCellByKey","pinRow","unpinRow","isRecordPinnedByIndex","toggleColumnVisibility","expandRow","collapseRow","toggleRow","getHeaderGroupWidth","getColumnByName","getColumnByVisibleIndex","recalculateAutoSizes","moveColumn","markForCheck","deleteRow","updateCell","updateRow","getRowData","sort","filter","filterGlobal","enableSummaries","disableSummaries","clearFilter","clearSort","pinColumn","unpinColumn","reflow","findNext","findPrev","refreshSearch","clearSearch","getPinnedWidth","selectRows","deselectRows","selectAllRows","deselectAllRows","clearCellSelection","selectRange","getSelectedRanges","selectedColumns","selectColumns","deselectColumns","deselectAllColumns","selectAllColumns","getSelectedColumnsData","navigateTo","getNextCell","getPreviousCell","openAdvancedFilteringDialog","closeAdvancedFilteringDialog","endEdit","beginAddRowById"],templateProps:["rowLoadingIndicatorTemplate","emptyGridTemplate","addRowEmptyTemplate","loadingGridTemplate","dragGhostCustomTemplate","rowEditTextTemplate","rowAddTextTemplate","rowEditActionsTemplate","rowExpandedIndicatorTemplate","rowCollapsedIndicatorTemplate","headerExpandedIndicatorTemplate","headerCollapsedIndicatorTemplate","excelStyleHeaderIconTemplate","sortAscendingHeaderIconTemplate","sortDescendingHeaderIconTemplate","sortHeaderIconTemplate","headSelectorTemplate","rowSelectorTemplate","dragIndicatorIconTemplate"],numericProps:["expansionDepth","snackbarDisplayTime","summaryRowHeight","rowHeight","totalRecords"],boolProps:["cascadeOnDelete","autoGenerate","moving","hideRowSelectors","rowDraggable","rowEditable","isLoading","allowFiltering","allowAdvancedFiltering","showSummaryOnCollapse","batchEditing","selectRowOnClick"]}],nie={schedule(e,t){let i=setTimeout(e,t);return()=>clearTimeout(i)}};function rie(e,t,i){let n=i;return function(e){return!!e&&e.nodeType===Node.ELEMENT_NODE}(e)&&t.some(((t,i)=>!("*"===t||!function(e,t){if(!Xte){let e=Element.prototype;Xte=e.matches||e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector}return e.nodeType===Node.ELEMENT_NODE&&Xte.call(e,t)}(e,t)||(n=i,0)))),n}var sie=class{componentFactory;inputMap=new Map;constructor(e,t){this.componentFactory=t.get(iu).resolveComponentFactory(e);for(let e of this.componentFactory.inputs)this.inputMap.set(e.propName,e.templateName)}create(e){return new oie(this.componentFactory,e,this.inputMap)}},oie=class{componentFactory;injector;inputMap;eventEmitters=new Ei(1);events=this.eventEmitters.pipe(Ln((e=>Tn(...e))));componentRef=null;scheduledDestroyFn=null;initialInputValues=new Map;ngZone;elementZone;appRef;cdScheduler;constructor(e,t,i){this.componentFactory=e,this.injector=t,this.inputMap=i,this.ngZone=this.injector.get(Il),this.appRef=this.injector.get(zg),this.cdScheduler=t.get(fl),this.elementZone=typeof Zone>"u"?null:this.ngZone.run((()=>Zone.current))}connect(e){this.runInZone((()=>{if(null!==this.scheduledDestroyFn)return this.scheduledDestroyFn(),void(this.scheduledDestroyFn=null);null===this.componentRef&&this.initializeComponent(e)}))}disconnect(){this.runInZone((()=>{null===this.componentRef||null!==this.scheduledDestroyFn||(this.scheduledDestroyFn=nie.schedule((()=>{null!==this.componentRef&&(this.componentRef.destroy(),this.componentRef=null)}),10))}))}getInputValue(e){return this.runInZone((()=>null===this.componentRef?this.initialInputValues.get(e):this.componentRef.instance[e]))}setInputValue(e,t){null!==this.componentRef?this.runInZone((()=>{this.componentRef.setInput(this.inputMap.get(e)??e,t),function(e){return Oo(e._lView)||!!(64&e._lView[Is])}(this.componentRef.hostView)&&(function(e){ko(e._cdRefInjectingView||e._lView)}(this.componentRef.changeDetectorRef),this.cdScheduler.notify(6))})):this.initialInputValues.set(e,t)}initializeComponent(e){let t=hl.create({providers:[],parent:this.injector}),i=function(e,t){let i=e.childNodes,n=t.map((()=>[])),r=-1;t.some(((e,t)=>"*"===e&&(r=t,!0)));for(let e=0,s=i.length;e<s;++e){let s=i[e],o=rie(s,t,r);-1!==o&&n[o].push(s)}return n}(e,this.componentFactory.ngContentSelectors);this.componentRef=this.componentFactory.create(t,i,e),this.initializeInputs(),this.initializeOutputs(this.componentRef),this.appRef.attachView(this.componentRef.hostView),this.componentRef.hostView.detectChanges()}initializeInputs(){for(let[e,t]of this.initialInputValues)this.setInputValue(e,t);this.initialInputValues.clear()}initializeOutputs(e){let t=this.componentFactory.outputs.map((({propName:t,templateName:i})=>{let n=e.instance[t];return new mi((e=>{let t=n.subscribe((t=>e.next({name:i,value:t})));return()=>t.unsubscribe()}))}));this.eventEmitters.next(t)}runInZone(e){return this.elementZone&&Zone.current!==this.elementZone?this.ngZone.run(e):e()}},aie=class extends HTMLElement{ngElementEventsSubscription=null};var lie,die=class{constructor(e,t){this.componentFactory=t.get(iu).resolveComponentFactory(e)}create(e){return new cie(this.componentFactory,e)}},cie=class{constructor(e,t){this.componentFactory=e,this.injector=t,this.eventEmitters=new Ei(1),this.events=this.eventEmitters.pipe(Ln((e=>Tn(...e)))),this.componentRef=null,this.viewChangeDetectorRef=null,this.inputChanges=null,this.hasInputChanges=!1,this.implementsOnChanges=!1,this.scheduledChangeDetectionFn=null,this.scheduledDestroyFn=null,this.initialInputValues=new Map,this.unchangedInputs=new Set(this.componentFactory.inputs.map((({propName:e})=>e))),this.ngZone=this.injector.get(Il),this.elementZone=typeof Zone>"u"?null:this.ngZone.run((()=>Zone.current))}connect(e){this.runInZone((()=>{if(null!==this.scheduledDestroyFn)return this.scheduledDestroyFn(),void(this.scheduledDestroyFn=null);null===this.componentRef&&this.initializeComponent(e)}))}disconnect(){this.runInZone((()=>{null===this.componentRef||null!==this.scheduledDestroyFn||(this.scheduledDestroyFn=hie.schedule((()=>{null!==this.componentRef&&(this.componentRef.destroy(),this.componentRef=null,this.viewChangeDetectorRef=null)}),10))}))}getInputValue(e){return this.runInZone((()=>null===this.componentRef?this.initialInputValues.get(e):this.componentRef.instance[e]))}setInputValue(e,t,i){this.runInZone((()=>{i&&(t=i.call(this.componentRef?.instance,t)),null!==this.componentRef&&this.componentRef.instance?function(e,t){return e===t||e!=e&&t!=t}(t,this.getInputValue(e))&&(void 0!==t||!this.unchangedInputs.has(e))||(this.recordInputChange(e,t),this.unchangedInputs.delete(e),this.hasInputChanges=!0,this.componentRef.instance[e]=t,this.scheduleDetectChanges()):this.initialInputValues.set(e,t)}))}initializeComponent(e){let t=hl.create({providers:[],parent:this.injector}),i=gie(e,this.componentFactory.ngContentSelectors);this.componentRef=this.componentFactory.create(t,i,e),this.viewChangeDetectorRef=this.componentRef.injector.get(Cf),this.implementsOnChanges=uie(this.componentRef.instance.ngOnChanges),this.initializeInputs(),this.initializeOutputs(this.componentRef),this.detectChanges(),this.injector.get(zg).attachView(this.componentRef.hostView)}initializeInputs(){this.componentFactory.inputs.forEach((({propName:e,transform:t})=>{this.initialInputValues.has(e)&&this.setInputValue(e,this.initialInputValues.get(e),t)})),this.initialInputValues.clear()}initializeOutputs(e){let t=this.componentFactory.outputs.map((({propName:t,templateName:i})=>e.instance[t].pipe(cn((e=>({name:i,value:e}))))));this.eventEmitters.next(t)}callNgOnChanges(e){if(!this.implementsOnChanges||null===this.inputChanges)return;let t=this.inputChanges;this.inputChanges=null,e.instance.ngOnChanges(t)}markViewForCheck(e){this.hasInputChanges&&(this.hasInputChanges=!1,e.markForCheck())}scheduleDetectChanges(){this.scheduledChangeDetectionFn||(this.scheduledChangeDetectionFn=hie.scheduleBeforeRender((()=>{this.scheduledChangeDetectionFn=null,this.detectChanges()})))}recordInputChange(e,t){if(!this.implementsOnChanges)return;null===this.inputChanges&&(this.inputChanges={});let i=this.inputChanges[e];if(i)return void(i.currentValue=t);let n=this.unchangedInputs.has(e),r=n?void 0:this.getInputValue(e);this.inputChanges[e]=new uo(r,t,n)}detectChanges(){null!==this.componentRef&&(this.callNgOnChanges(this.componentRef),this.markViewForCheck(this.viewChangeDetectorRef),this.componentRef.changeDetectorRef.detectChanges())}runInZone(e){return this.elementZone&&Zone.current!==this.elementZone?this.ngZone.run(e):e()}},hie={schedule(e,t){let i=setTimeout(e,t);return()=>clearTimeout(i)},scheduleBeforeRender(e){if(typeof window>"u")return hie.schedule(e,0);if(typeof window.requestAnimationFrame>"u")return hie.schedule(e,16);let t=window.requestAnimationFrame(e);return()=>window.cancelAnimationFrame(t)}};function uie(e){return"function"==typeof e}function gie(e,t){let i=e.childNodes,n=t.map((()=>[])),r=-1;t.some(((e,t)=>"*"===e&&(r=t,!0)));for(let e=0,s=i.length;e<s;++e){let s=i[e],o=pie(s,t,r);-1!==o&&n[o].push(s)}return n}function pie(e,t,i){let n=i;return function(e){return!!e&&e.nodeType===Node.ELEMENT_NODE}(e)&&t.some(((t,i)=>!("*"===t||!function(e,t){if(!lie){let e=Element.prototype;lie=e.matches||e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector}return e.nodeType===Node.ELEMENT_NODE&&lie.call(e,t)}(e,t)||(n=i,0)))),n}var mie="implicit",fie=class extends jh{get elementRef(){return this.innerTemplateRef.elementRef}constructor(e,t,i){super(),this.innerTemplateRef=e,this._templateFunction=t,this.embeddedViewDestroyCallback=i,this._contentContext=new Map}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i=null){let n,r,s,o=!!this._templateFunction.___isBridged,a=new Proxy(e,{has:(e,t)=>t===mie,get:(e,t,i)=>"context"===t?i:(t===mie&&(t="$implicit"),o&&"___contentId"===t?r:!(!o||"___immediate"!==t)||(o&&"___root"===t?s:Reflect.get(e,t,i)))}),l=this.innerTemplateRef.createEmbeddedViewImpl(a,t);return o&&(s=l.rootNodes[0],n=new vie,r=_$(),n._id=r,s._id=r,n.root=s,n.templateFunction=this._templateFunction,this._contentContext.set(r,n),this._templateFunction.___onTemplateInit(this._templateFunction,s,n)),l.onDestroy((()=>{this.embeddedViewDestroyCallback(l.rootNodes[0]),o&&this.destroyingBridgedView(n)})),l}destroyingBridgedView(e){this._templateFunction.___onTemplateTeardown(this._templateFunction,e.root,e),this._contentContext.delete(e._id)}},vie=class{};function yie(e,t){if(1&e&&(Hp(0,"div",1,0),ym(2)),2&e){let e=t.context,i=vm(1),n=om().$implicit,r=om();Hc(2),wm(" ",r.litRender(i,n,e)," ")}}function xie(e,t){1&e&&bg(0,yie,3,1,"ng-template")}var _ie,wie=(()=>{class e{constructor(e){this.cdr=e,this.templateFunctions=[],this.templateRendered=new Ci,this.childParts=new WeakMap,this.embeddedViewDestroyCallback=e=>{e&&this.childParts.has(e)&&(this.childParts.get(e).setConnected(!1),this.childParts.delete(e))}}litRender(e,t,i){let r=(0,n.render)(t(i),e),s=this.childParts.get(e);s&&s!==r&&(this.embeddedViewDestroyCallback(e),s=void 0),s||this.childParts.set(e,r),this.templateRendered.next(e)}addTemplate(e){return this.templateFunctions.push(e),this.cdr.detectChanges(),new fie(this.templateRefs.last,e,this.embeddedViewDestroyCallback)}getTemplateFunction(e){if(!e)return;let t=this.templateRefs.toArray().indexOf(e.innerTemplateRef);return this.templateFunctions[t-1]}static{this.ɵfac=function(t){return new(t||e)(lu(Cf))}}static{this.ɵcmp=Qu({type:e,selectors:[["igx-template-wrapper"]],viewQuery:function(e,t){if(1&e&&pm(jh,5),2&e){let e;mm(e=fm())&&(t.templateRefs=e)}},decls:2,vars:0,consts:[["container",""],[2,"display","contents"]],template:function(e,t){1&e&&Op(0,xie,1,0,null,null,Ap),2&e&&Pp(t.templateFunctions)},styles:["[_nghost-%COMP%]{display:none}"]})}}return e})(),Cie=Symbol("ComponentRef"),Sie=class extends cie{static{_ie=Cie}get templateWrapper(){if(!this._templateWrapperRef){let e=this.componentRef.injector.get(Su);this._templateWrapperRef=e.createComponent(wie)}return this._templateWrapperRef.instance}get configSelectors(){return this._configSelectors||(this._configSelectors=this.config.map((e=>e.selector)).join(",")),this._configSelectors}constructor(e,t,i){super(e,t),this._componentFactory=e,this._injector=t,this.config=i,this.cachedChildComponents=new Map,this.maxEventProxyDepth=3,this[_ie]=new Promise(((e,t)=>this.setComponentRef=e)),this.schedule=new Map}initializeComponent(e){return st(this,null,(function*(){if(!e.isConnected)return;this.element=e,this.componentRef={};let t,i,n=[],r=this.config?.find((e=>e.component===this._componentFactory.componentType)),s=r?.parents.map((e=>this.config.find((t=>t.component===e)))).filter((e=>e.selector));if(s?.length){let r=e;for(;r?.parentElement;)r=r.parentElement.closest(s.flatMap((e=>[e.selector,$f(e.component).selector])).join(",")),r&&n.push(new WeakRef(r));let o=n[0]?.deref(),a=s.find((e=>e.selector===o?.tagName.toLocaleLowerCase()));if(a&&!customElements.get(a.selector)&&(yield customElements.whenDefined(a.selector)),o?.ngElementStrategy){this.angularParent=o.ngElementStrategy.angularParent,this.parentElement=new WeakRef(o);let n=yield o?.ngElementStrategy[Cie];t=n?.injector,("igc-grid-toolbar"===e.tagName.toLocaleLowerCase()||"igc-paginator"===e.tagName.toLocaleLowerCase())&&(n=yield o?.ngElementStrategy[Cie],i=n?.instance.anchor)}else o?.__componentRef&&(this.angularParent=o.__componentRef,t=this.angularParent.injector)}this.injector=t||this._injector;let o=hl.create({providers:[],parent:this.injector}),a=gie(e,this._componentFactory.ngContentSelectors);if(this.componentRef=this._componentFactory.create(o,a,e),this.setComponentRef(this.componentRef),this.viewChangeDetectorRef=this.componentRef.injector.get(Cf),this.implementsOnChanges=uie(this.componentRef.instance.ngOnChanges),e&&this.componentRef.instance&&(this.componentRef.instance.___wcElement=e),this.initializeInputs(),this.initializeOutputs(this.componentRef),this.detectChanges(),i&&t){t.get(Su);let n=e.parentElement,r=e.nextSibling;i.insert(this.componentRef.hostView),n.insertBefore(e,r),this.detectChanges()}else i||this._injector.get(zg).attachView(this.componentRef.hostView);let l=this.componentRef,d=this.getParentContentQueries(r,n,s);for(let{parent:e,query:t}of d)if(t.isQueryList)e.ngElementStrategy.scheduleQueryUpdate(t.property),this.angularParent&&this.addToParentCache(e,t.property);else{let i=yield e.ngElementStrategy[Cie];i.instance[t.property]=l.instance,i.changeDetectorRef.detectChanges()}["igc-grid","igc-tree-grid","igc-hierarchical-grid"].includes(e.tagName.toLocaleLowerCase())&&this.patchGridPopups(),l.onDestroy((()=>{this._templateWrapperRef&&(this._templateWrapperRef.destroy(),this._templateWrapperRef=null),this.getParentContentQueries(r,n,s).filter((e=>e.parent?.isConnected&&e.query.isQueryList)).forEach((({parent:e,query:t})=>{e.ngElementStrategy.scheduleQueryUpdate(t.property),this.angularParent&&this.removeFromParentCache(e,t.property)}))}))}))}setInputValue(e,t,i){if(null===this.componentRef||!this.componentRef.instance)return void this.initialInputValues.set(e,t);let n=this.componentRef,r=this.config?.find((e=>e.component===this._componentFactory.componentType));if(t!==n.instance[e]){if(n&&r?.templateProps?.includes(e)){if(this.templateWrapper.templateFunctions.includes(t))return;let i=n.instance[e];if((i&&this.templateWrapper.getTemplateFunction(i))===t)return;t=this.templateWrapper.addTemplate(t),this.templateWrapper.templateRendered.pipe(function(e){e||(function(e){if(!Ds())throw new $n(-203,!1)}(),e=Mr(gl));let t=new mi((t=>e.onDestroy(t.next.bind(t))));return e=>e.pipe(Nn(t))}(n.injector.get(gl))).subscribe((e=>{e.querySelectorAll(this.configSelectors)?.forEach((e=>{e.ngElementStrategy.angularParent=n}))}))}n&&r?.boolProps?.includes(e)&&(t=null!=t&&"false"!=`${t}`),n&&r?.numericProps?.includes(e)&&(isNaN(Number(t)-parseFloat(t))||(t=Number(t))),"igc-pivot-data-selector"===r.selector&&"grid"===e&&t&&(t=t.ngElementStrategy?.componentRef?.instance||t),super.setInputValue(e,t,i)}}getInputValue(e){let t=super.getInputValue(e),i=this.config?.find((e=>e.component===this._componentFactory.componentType));return this.componentRef&&i?.templateProps?.includes(e)&&(t=this.templateWrapper.getTemplateFunction(t)||t),t}scheduleQueryUpdate(e){this.schedule.has(e)&&this.schedule.get(e)();let t=setTimeout((()=>this.updateQuery(e)),10);this.schedule.set(e,(()=>clearTimeout(t)))}updateQuery(e){if(this.schedule.delete(e),this.componentRef){let t=(this.config?.find((e=>e.component===this._componentFactory.componentType))).contentQueries.find((t=>t.property===e)),i=this.runQueryInDOM(this.element,t),n=[];for(let e of i){let t=e.ngElementStrategy.componentRef;t?.instance&&n.push(t.instance)}t.descendants&&this.cachedChildComponents.has(e)&&(n=[...this.cachedChildComponents.get(e),...n]);let r=this.componentRef.instance[t.property];r.reset(n),r.notifyOnChanges()}}runQueryInDOM(e,t){let i=this.config.filter((e=>e.component===t.childType||t.childType===e.provideAs)),n=i.map((e=>e.selector)).filter((e=>e)).join(","),r=Array.from(e.querySelectorAll(n));if(r.length&&!t.descendants){let t=new Set(i.map((e=>e.parents)).flat()),n=this.config.filter((e=>t.has(e.component))).map((e=>e.selector)).filter((e=>e)).join(",");r=r.filter((t=>t.parentElement.closest(n)===e))}return r}addToParentCache(e,t){let i=e.ngElementStrategy.cachedChildComponents.get(t)||[];i.push(this.componentRef.instance),e.ngElementStrategy.cachedChildComponents.set(t,i)}removeFromParentCache(e,t){let i=e.ngElementStrategy.cachedChildComponents.get(t)||[];i=i.filter((e=>e!==this.componentRef.instance)),e.ngElementStrategy.cachedChildComponents.set(t,i)}getParentContentQueries(e,t,i){let n=[];for(let r=0;r<t.length;r++){let s=t[r]?.deref(),o=i.find((e=>e.selector===s?.tagName.toLocaleLowerCase()));if(!o)continue;let a=this._componentFactory.componentType,l=o.contentQueries.filter((t=>t.childType===a||t.childType===e.provideAs));for(let e of l)r>0&&!e.descendants||n.push({parent:s,query:e})}return n}patchGridPopups(){let e=new Set,t=this.componentRef;Sn(this.element,"gridScroll").pipe(Nn(t.instance.destroy$)).subscribe((()=>{e.size&&(e.forEach((e=>{e.isConnected&&e.hide()})),e.clear())})),Sn(this.element,"igcOpened").pipe(Nn(t.instance.destroy$)).subscribe((t=>{Object.keys(t.detail).length||e.add(t.target)}))}disconnect(){this.angularParent?this.angularParent.onDestroy((()=>super.disconnect())):super.disconnect()}initializeOutputs(e){let t=this._componentFactory.outputs.map((({propName:t,templateName:i})=>e.instance[t].pipe(cn((e=>({name:i,value:this.patchOutputComponents(t,e)}))))));this.eventEmitters.next(t)}patchOutputComponents(e,t){return"columnInit"!==e?t:this.createProxyForComponentValue(t,1).value}createProxyForComponentValue(e,t){if(t>this.maxEventProxyDepth)return{value:e,hasProxies:!1};let i=!1;if(e?.__ngContext__){let t=this.config.find((t=>e.constructor===t.component));if(t?.templateProps)return{value:this.createElementsComponentProxy(e,t),hasProxies:!0}}else if(Array.isArray(e)){if(!e[0])return{value:e,hasProxies:!1};{let i=this.createProxyForComponentValue(e[0],this.maxEventProxyDepth);if(i.hasProxies){let n=e.slice(1,e.length).map((e=>this.createProxyForComponentValue(e,t+1)));return n.unshift(i),{value:n,hasProxies:!0}}}}else if("object"==typeof e&&Object.entries(e).length&&!(e instanceof Event))for(let[n,r]of Object.entries(e))if(r){let s=this.createProxyForComponentValue(r,t+1);e[n]=s.value,i=s.hasProxies||i}else e[n]=r;return{value:e,hasProxies:i}}createElementsComponentProxy(e,t){let i=this;return new Proxy(e,{set(e,n,r){if(t.templateProps.includes(n)){let t=e[n];r=(t&&i.templateWrapper.getTemplateFunction(t))===r?t:i.templateWrapper.addTemplate(r)}return e[n]=r,!0}})}},bie=class extends die{constructor(e,t,i){super(e,t),this.config=i}create(e){return new Sie(this.componentFactory,e,this.config)}};function Die(e,t){let i=new bie(e,t.injector,t.registerConfig);!function(e){let t=e.componentFactory.componentDef.inputs;for(let e in t){let i=t[e];/[A-Z]{2,}/.test(e)&&(t[e.replace(/([A-Z])([A-Z]+)(?![a-z])/g,((e,t,i)=>t+i.toLowerCase()))]=i)}}(i);let n=function(e,t){let i=function(e,t){return t.get(iu).resolveComponentFactory(e).inputs}(e,t.injector),n=t.strategyFactory||new sie(e,t.injector),r=function(e){let t={};return e.forEach((({propName:e,templateName:i,transform:n})=>{t[function(e){return e.replace(/[A-Z]/g,(e=>`-${e.toLowerCase()}`))}(i)]=[e,n]})),t}(i);class s extends aie{injector;static observedAttributes=Object.keys(r);get ngElementStrategy(){if(!this._ngElementStrategy){let e=this._ngElementStrategy=n.create(this.injector||t.injector);i.forEach((({propName:t,transform:i})=>{if(!this.hasOwnProperty(t))return;let n=this[t];delete this[t],e.setInputValue(t,n,i)}))}return this._ngElementStrategy}_ngElementStrategy;constructor(e){super(),this.injector=e}attributeChangedCallback(e,t,i,n){let[s,o]=r[e];this.ngElementStrategy.setInputValue(s,i,o)}connectedCallback(){let e=!1;this.ngElementStrategy.events&&(this.subscribeToEvents(),e=!0),this.ngElementStrategy.connect(this),e||this.subscribeToEvents()}disconnectedCallback(){this._ngElementStrategy&&this._ngElementStrategy.disconnect(),this.ngElementEventsSubscription&&(this.ngElementEventsSubscription.unsubscribe(),this.ngElementEventsSubscription=null)}subscribeToEvents(){this.ngElementEventsSubscription=this.ngElementStrategy.events.subscribe((e=>{let t=new CustomEvent(e.name,{detail:e.value});this.dispatchEvent(t)}))}}return i.forEach((({propName:e,transform:t})=>{Object.defineProperty(s.prototype,e,{get(){return this.ngElementStrategy.getInputValue(e)},set(i){this.ngElementStrategy.setInputValue(e,i,t)},configurable:!0,enumerable:!0})})),s}(e,Je(Qe({},t),{strategyFactory:i})),r=t.registerConfig?.find((t=>t.component===e));for(let e of r?.methods)n.prototype[e]=function(){let t=this.ngElementStrategy.componentRef.instance;return this.ngElementStrategy.runInZone((()=>t[e].apply(t,arguments)))};if(r?.additionalProperties.forEach((t=>{let i;if(t.name in n.prototype)throw new Error(`Potentially illegal property name ${t.name} defined for ${e.name}`);t.writable&&(i=function(e){this.ngElementStrategy.setInputValue(t.name,e)}),Object.defineProperty(n.prototype,t.name,{get(){return this.ngElementStrategy.getInputValue(t.name)},set:i,configurable:!0,enumerable:!0})})),e===h2){let e=function(){return{stringFilteringOperand:zS.instance(),numberFilteringOperand:HS.instance(),timeFilteringOperand:NS.instance(),dateTimeFilteringOperand:LS.instance(),dateFilteringOperand:MS.instance(),booleanFilteringOperand:PS.instance(),createFilteringExpressionTree:(e,t)=>new US(e,t)}};n.prototype.getFilterFactory=e}return Object.defineProperty(n,"tagName",{enumerable:!1,configurable:!1,writable:!1,value:r?.selector}),n}function Eie(e,t){return Object.defineProperty(e,"register",{enumerable:!1,configurable:!1,writable:!1,value:t}),e}var Tie=function(e){return e[e.SyncState=0]="SyncState",e[e.RegisterIcon=1]="RegisterIcon",e[e.UpdateIconReference=2]="UpdateIconReference",e}(Tie||{}),Iie=(()=>{class e{constructor(e,t){this._iconService=e,this._platformUtil=t,this._platformUtil?.isBrowser&&(this.create(),globalThis.addEventListener("pageshow",(()=>this.create())),globalThis.addEventListener("pagehide",(()=>this.dispose())))}handleEvent({data:e}){let{actionType:t,collections:i,references:n}=e;(t===Tie.SyncState||Tie.RegisterIcon)&&this.updateIconsFromCollection(i),(t===Tie.SyncState||Tie.UpdateIconReference)&&this.updateRefsFromCollection(n)}create(){this.iconBroadcastChannel||(this.iconBroadcastChannel=new BroadcastChannel("ignite-ui-icon-channel"),this.iconBroadcastChannel.addEventListener("message",this),this.iconBroadcastChannel.postMessage({actionType:Tie.SyncState}))}dispose(){this.iconBroadcastChannel&&(this.iconBroadcastChannel.removeEventListener("message",this),this.iconBroadcastChannel.close(),this.iconBroadcastChannel=null)}updateIconsFromCollection(e){if(!e)return;let t=e.keys();for(let i of t){let t=e.get(i);for(let e of t.keys()){let n=t.get(e).svg;this._iconService.addSvgIconFromText(e,n,i)}}}updateRefsFromCollection(e){if(!e)return;let t=e.keys();for(let i of t){let t=e.get(i);for(let e of t.keys()){let i=t.get(e).collection,n=t.get(e).name;this._iconService.setIconRef(e,"default",{family:i,name:n})}}}static{this.ɵfac=function(t){return new(t||e)(Vr(_A),Vr(NC,8))}}static{this.ɵprov=ir({token:e,factory:e.ɵfac})}}return e})();function Rie(e){return new $n(3e3,!1)}function Aie(e){switch(e.length){case 0:return new YD;case 1:return e[0];default:return new ZD(e)}}function kie(e,t,i=new Map,n=new Map){let r=[],s=[],o=-1,a=null;if(t.forEach((t=>{let l=t.get("offset"),d=l==o,c=d&&a||new Map;t.forEach(((t,s)=>{let o=s,a=t;if("offset"!==s)switch(o=e.normalizePropertyName(o,r),a){case"!":a=i.get(s);break;case GD:a=n.get(s);break;default:a=e.normalizeStyleValue(s,o,a,r)}c.set(o,a)})),d||s.push(c),a=c,o=l})),r.length)throw new $n(3502,!1);return s}function Oie(e,t,i,n){switch(t){case"start":e.onStart((()=>n(i&&Fie(i,"start",e))));break;case"done":e.onDone((()=>n(i&&Fie(i,"done",e))));break;case"destroy":e.onDestroy((()=>n(i&&Fie(i,"destroy",e))))}}function Fie(e,t,i){let n=i.totalTime,r=!!i.disabled,s=Pie(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,n??e.totalTime,r),o=e._data;return null!=o&&(s._data=o),s}function Pie(e,t,i,n,r="",s=0,o){return{element:e,triggerName:t,fromState:i,toState:n,phaseName:r,totalTime:s,disabled:!!o}}function Vie(e,t,i){let n=e.get(t);return n||e.set(t,n=i),n}function Mie(e){let t=e.indexOf(":");return[e.substring(1,t),e.slice(t+1)]}var Lie=typeof document>"u"?null:document.documentElement;function Nie(e){let t=e.parentNode||e.host||null;return t===Lie?null:t}var Hie=null,zie=!1;function Bie(e,t){for(;t;){if(t===e)return!0;t=Nie(t)}return!1}function Gie(e,t,i){if(i)return Array.from(e.querySelectorAll(t));let n=e.querySelector(t);return n?[n]:[]}var $ie=1e3,Wie="ng-enter",Kie="ng-leave",jie="ng-trigger",Uie=".ng-trigger",qie="ng-animating",Yie=".ng-animating";function Zie(e){if("number"==typeof e)return e;let t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Xie(parseFloat(t[1]),t[2])}function Xie(e,t){return"s"===t?e*$ie:e}function Qie(e,t,i){return e.hasOwnProperty("duration")?e:function(e,t,i){let n,r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,s=0,o="";if("string"==typeof e){let i=e.match(r);if(null===i)return t.push(Rie()),{duration:0,delay:0,easing:""};n=Xie(parseFloat(i[1]),i[2]);let a=i[3];null!=a&&(s=Xie(parseFloat(a),i[4]));let l=i[5];l&&(o=l)}else n=e;if(!i){let e=!1,i=t.length;n<0&&(t.push(new $n(3100,!1)),e=!0),s<0&&(t.push(new $n(3101,!1)),e=!0),e&&t.splice(i,0,Rie())}return{duration:n,delay:s,easing:o}}(e,t,i)}function Jie(e,t,i){t.forEach(((t,n)=>{let r=one(n);i&&!i.has(n)&&i.set(n,e.style[r]),e.style[r]=t}))}function ene(e,t){t.forEach(((t,i)=>{let n=one(i);e.style[n]=""}))}function tne(e){return Array.isArray(e)?1==e.length?e[0]:WD(e):e}var ine=new RegExp("{{\\s*(.+?)\\s*}}","g");function nne(e){let t=[];if("string"==typeof e){let i;for(;i=ine.exec(e);)t.push(i[1]);ine.lastIndex=0}return t}function rne(e,t,i){let n=`${e}`,r=n.replace(ine,((e,n)=>{let r=t[n];return null==r&&(i.push(new $n(3003,!1)),r=""),r.toString()}));return r==n?e:r}var sne=/-+([a-z0-9])/g;function one(e){return e.replace(sne,((...e)=>e[1].toUpperCase()))}function ane(e,t,i){switch(t.type){case BD.Trigger:return e.visitTrigger(t,i);case BD.State:return e.visitState(t,i);case BD.Transition:return e.visitTransition(t,i);case BD.Sequence:return e.visitSequence(t,i);case BD.Group:return e.visitGroup(t,i);case BD.Animate:return e.visitAnimate(t,i);case BD.Keyframes:return e.visitKeyframes(t,i);case BD.Style:return e.visitStyle(t,i);case BD.Reference:return e.visitReference(t,i);case BD.AnimateChild:return e.visitAnimateChild(t,i);case BD.AnimateRef:return e.visitAnimateRef(t,i);case BD.Query:return e.visitQuery(t,i);case BD.Stagger:return e.visitStagger(t,i);default:throw t.type,new $n(3004,!1)}}function lne(e,t){return window.getComputedStyle(e)[t]}var dne=(()=>{class e{validateStyleProperty(e){return function(e){Hie||(Hie=(typeof document<"u"?document.body:null)||{},zie=!!Hie.style&&"WebkitAppearance"in Hie.style);let t=!0;return Hie.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&(t=e in Hie.style,!t&&zie&&(t="Webkit"+e.charAt(0).toUpperCase()+e.slice(1)in Hie.style)),t}(e)}containsElement(e,t){return Bie(e,t)}getParentElement(e){return Nie(e)}query(e,t,i){return Gie(e,t,i)}computeStyle(e,t,i){return i||""}animate(e,t,i,n,r,s=[],o){return new YD(i,n)}static ɵfac=function(t){return new(t||e)};static ɵprov=ir({token:e,factory:e.ɵfac})}return e})(),cne=class{static NOOP=new dne},hne=class{},une=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),gne=class extends hne{normalizePropertyName(e,t){return one(e)}normalizeStyleValue(e,t,i,n){let r="",s=i.toString().trim();if(une.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)r="px";else{let e=i.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&n.push(new $n(3005,!1))}return s+r}},pne="*";var mne=new Set(["true","1"]),fne=new Set(["false","0"]);function vne(e,t){let i=mne.has(e)||fne.has(e),n=mne.has(t)||fne.has(t);return(r,s)=>{let o=e==pne||e==r,a=t==pne||t==s;return!o&&i&&"boolean"==typeof r&&(o=r?mne.has(e):fne.has(e)),!a&&n&&"boolean"==typeof s&&(a=s?mne.has(t):fne.has(t)),o&&a}}var yne=":self",xne=new RegExp(`s*${yne}s*,?`,"g");function _ne(e,t,i,n){return new wne(e).build(t,i,n)}var wne=class{_driver;constructor(e){this._driver=e}build(e,t,i){let n=new Cne(t);return this._resetContextStyleTimingState(n),ane(this,tne(e),n)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,n=t.depCount=0,r=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push(new $n(3006,!1)),e.definitions.forEach((e=>{if(this._resetContextStyleTimingState(t),e.type==BD.State){let i=e,n=i.name;n.toString().split(/\s*,\s*/).forEach((e=>{i.name=e,r.push(this.visitState(i,t))})),i.name=n}else if(e.type==BD.Transition){let r=this.visitTransition(e,t);i+=r.queryCount,n+=r.depCount,s.push(r)}else t.errors.push(new $n(3007,!1))})),{type:BD.Trigger,name:e.name,states:r,transitions:s,queryCount:i,depCount:n,options:null}}visitState(e,t){let i=this.visitStyle(e.styles,t),n=e.options&&e.options.params||null;if(i.containsDynamicStyles){let r=new Set,s=n||{};i.styles.forEach((e=>{e instanceof Map&&e.forEach((e=>{nne(e).forEach((e=>{s.hasOwnProperty(e)||r.add(e)}))}))})),r.size&&t.errors.push((e.name,r.values(),new $n(3008,!1)))}return{type:BD.State,name:e.name,style:i,options:n?{params:n}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let i=ane(this,tne(e.animation),t),n=function(e,t){let i=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach((e=>function(e,t,i){if(":"==e[0]){let n=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,t)=>parseFloat(t)>parseFloat(e);case":decrement":return(e,t)=>parseFloat(t)<parseFloat(e);default:return t.push(new $n(3016,!1)),"* => *"}}(e,i);if("function"==typeof n)return void t.push(n);e=n}let n=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==n||n.length<4)return i.push(new $n(3015,!1)),t;let r=n[1],s=n[2],o=n[3];t.push(vne(r,o));let a=r==pne&&o==pne;"<"==s[0]&&!a&&t.push(vne(o,r))}(e,i,t))):i.push(e),i}(e.expr,t.errors);return{type:BD.Transition,matchers:n,animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Sne(e.options)}}visitSequence(e,t){return{type:BD.Sequence,steps:e.steps.map((e=>ane(this,e,t))),options:Sne(e.options)}}visitGroup(e,t){let i=t.currentTime,n=0,r=e.steps.map((e=>{t.currentTime=i;let r=ane(this,e,t);return n=Math.max(n,t.currentTime),r}));return t.currentTime=n,{type:BD.Group,steps:r,options:Sne(e.options)}}visitAnimate(e,t){let i=function(e,t){if(e.hasOwnProperty("duration"))return e;if("number"==typeof e)return bne(Qie(e,t).duration,0,"");let i=e;if(i.split(/\s+/).some((e=>"{"==e.charAt(0)&&"{"==e.charAt(1)))){let e=bne(0,0,"");return e.dynamic=!0,e.strValue=i,e}let n=Qie(i,t);return bne(n.duration,n.delay,n.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let n,r=e.styles?e.styles:KD({});if(r.type==BD.Keyframes)n=this.visitKeyframes(r,t);else{let r=e.styles,s=!1;if(!r){s=!0;let e={};i.easing&&(e.easing=i.easing),r=KD(e)}t.currentTime+=i.duration+i.delay;let o=this.visitStyle(r,t);o.isEmptyStep=s,n=o}return t.currentAnimateTimings=null,{type:BD.Animate,timings:i,style:n,options:null}}visitStyle(e,t){let i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){let i=[],n=Array.isArray(e.styles)?e.styles:[e.styles];for(let e of n)"string"==typeof e?e===GD?i.push(e):t.errors.push(new $n(3002,!1)):i.push(new Map(Object.entries(e)));let r=!1,s=null;return i.forEach((e=>{if(e instanceof Map&&(e.has("easing")&&(s=e.get("easing"),e.delete("easing")),!r))for(let t of e.values())if(t.toString().indexOf("{{")>=0){r=!0;break}})),{type:BD.Style,styles:i,easing:s,offset:e.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(e,t){let i=t.currentAnimateTimings,n=t.currentTime,r=t.currentTime;i&&r>0&&(r-=i.duration+i.delay),e.styles.forEach((e=>{"string"!=typeof e&&e.forEach(((e,i)=>{let s=t.collectedStyles.get(t.currentQuerySelector),o=s.get(i),a=!0;o&&(r!=n&&r>=o.startTime&&n<=o.endTime&&(t.errors.push((o.startTime,o.endTime,new $n(3010,!1))),a=!1),r=o.startTime),a&&s.set(i,{startTime:r,endTime:n}),t.options&&function(e,t,i){let n=t.params||{},r=nne(e);r.length&&r.forEach((e=>{n.hasOwnProperty(e)||i.push(new $n(3001,!1))}))}(e,t.options,t.errors)}))}))}visitKeyframes(e,t){let i={type:BD.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(new $n(3011,!1)),i;let n=0,r=[],s=!1,o=!1,a=0,l=e.steps.map((e=>{let i=this._makeStyleAst(e,t),l=null!=i.offset?i.offset:function(e){if("string"==typeof e)return null;let t=null;if(Array.isArray(e))e.forEach((e=>{if(e instanceof Map&&e.has("offset")){let i=e;t=parseFloat(i.get("offset")),i.delete("offset")}}));else if(e instanceof Map&&e.has("offset")){let i=e;t=parseFloat(i.get("offset")),i.delete("offset")}return t}(i.styles),d=0;return null!=l&&(n++,d=i.offset=l),o=o||d<0||d>1,s=s||d<a,a=d,r.push(d),i}));o&&t.errors.push(new $n(3012,!1)),s&&t.errors.push(new $n(3200,!1));let d=e.steps.length,c=0;n>0&&n<d?t.errors.push(new $n(3202,!1)):0==n&&(c=1/(d-1));let h=d-1,u=t.currentTime,g=t.currentAnimateTimings,p=g.duration;return l.forEach(((e,n)=>{let s=c>0?n==h?1:c*n:r[n],o=s*p;t.currentTime=u+g.delay+o,g.duration=o,this._validateStyleAst(e,t),e.offset=s,i.styles.push(e)})),i}visitReference(e,t){return{type:BD.Reference,animation:ane(this,tne(e.animation),t),options:Sne(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:BD.AnimateChild,options:Sne(e.options)}}visitAnimateRef(e,t){return{type:BD.AnimateRef,animation:this.visitReference(e.animation,t),options:Sne(e.options)}}visitQuery(e,t){let i=t.currentQuerySelector,n=e.options||{};t.queryCount++,t.currentQuery=e;let[r,s]=function(e){let t=!!e.split(/\s*,\s*/).find((e=>e==yne));return t&&(e=e.replace(xne,"")),e=e.replace(/@\*/g,Uie).replace(/@\w+/g,(e=>Uie+"-"+e.slice(1))).replace(/:animating/g,Yie),[e,t]}(e.selector);t.currentQuerySelector=i.length?i+" "+r:r,Vie(t.collectedStyles,t.currentQuerySelector,new Map);let o=ane(this,tne(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:BD.Query,selector:r,limit:n.limit||0,optional:!!n.optional,includeSelf:s,animation:o,originalSelector:e.selector,options:Sne(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(new $n(3013,!1));let i="full"===e.timings?{duration:0,delay:0,easing:"full"}:Qie(e.timings,t.errors,!0);return{type:BD.Stagger,animation:ane(this,tne(e.animation),t),timings:i,options:null}}},Cne=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(e){this.errors=e}};function Sne(e){return e?(e=Qe({},e)).params&&(e.params=function(e){return e?Qe({},e):null}(e.params)):e={},e}function bne(e,t,i){return{duration:e,delay:t,easing:i}}function Dne(e,t,i,n,r,s,o=null,a=!1){return{type:1,element:e,keyframes:t,preStyleProps:i,postStyleProps:n,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}var Ene=class{_map=new Map;get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},Tne=new RegExp(":enter","g"),Ine=new RegExp(":leave","g");function Rne(e,t,i,n,r,s=new Map,o=new Map,a,l,d=[]){return(new Ane).buildKeyframes(e,t,i,n,r,s,o,a,l,d)}var Ane=class{buildKeyframes(e,t,i,n,r,s,o,a,l,d=[]){l=l||new Ene;let c=new One(e,t,l,n,r,d,[]);c.options=a;let h=a.delay?Zie(a.delay):0;c.currentTimeline.delayNextStep(h),c.currentTimeline.setStyles([s],null,c.errors,a),ane(this,i,c);let u=c.timelines.filter((e=>e.containsAnimation()));if(u.length&&o.size){let e;for(let i=u.length-1;i>=0;i--){let n=u[i];if(n.element===t){e=n;break}}e&&!e.allowOnlyTimelineStyles()&&e.setStyles([o],null,c.errors,a)}return u.length?u.map((e=>e.buildKeyframes())):[Dne(t,[],[],[],0,h,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let i=t.subInstructions.get(t.element);if(i){let n=t.createSubContext(e.options),r=t.currentTimeline.currentTime,s=this._visitSubInstructions(i,n,n.options);r!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){let i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(let n of e){let e=n?.delay;if(e){let r="number"==typeof e?e:Zie(rne(e,n?.params??{},t.errors));i.delayNextStep(r)}}}_visitSubInstructions(e,t,i){let n=t.currentTimeline.currentTime,r=null!=i.duration?Zie(i.duration):null,s=null!=i.delay?Zie(i.delay):null;return 0!==r&&e.forEach((e=>{let i=t.appendInstructionToTimeline(e,r,s);n=Math.max(n,i.duration+i.delay)})),n}visitReference(e,t){t.updateOptions(e.options,!0),ane(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let i=t.subContextCount,n=t,r=e.options;if(r&&(r.params||r.delay)&&(n=t.createSubContext(r),n.transformIntoNewTimeline(),null!=r.delay)){n.previousNode.type==BD.Style&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=kne);let e=Zie(r.delay);n.delayNextStep(e)}e.steps.length&&(e.steps.forEach((e=>ane(this,e,n))),n.currentTimeline.applyStylesToKeyframe(),n.subContextCount>i&&n.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let i=[],n=t.currentTimeline.currentTime,r=e.options&&e.options.delay?Zie(e.options.delay):0;e.steps.forEach((s=>{let o=t.createSubContext(e.options);r&&o.delayNextStep(r),ane(this,s,o),n=Math.max(n,o.currentTimeline.currentTime),i.push(o.currentTimeline)})),i.forEach((e=>t.currentTimeline.mergeTimelineCollectedStyles(e))),t.transformIntoNewTimeline(n),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let i=e.strValue;return Qie(t.params?rne(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let i=t.currentAnimateTimings=this._visitTiming(e.timings,t),n=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),n.snapshotCurrentStyles());let r=e.style;r.type==BD.Keyframes?this.visitKeyframes(r,t):(t.incrementTime(i.duration),this.visitStyle(r,t),n.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let i=t.currentTimeline,n=t.currentAnimateTimings;!n&&i.hasCurrentStyleProperties()&&i.forwardFrame();let r=n&&n.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(r):i.setStyles(e.styles,r,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let i=t.currentAnimateTimings,n=t.currentTimeline.duration,r=i.duration,s=t.createSubContext().currentTimeline;s.easing=i.easing,e.styles.forEach((e=>{let i=e.offset||0;s.forwardTime(i*r),s.setStyles(e.styles,e.easing,t.errors,t.options),s.applyStylesToKeyframe()})),t.currentTimeline.mergeTimelineCollectedStyles(s),t.transformIntoNewTimeline(n+r),t.previousNode=e}visitQuery(e,t){let i=t.currentTimeline.currentTime,n=e.options||{},r=n.delay?Zie(n.delay):0;r&&(t.previousNode.type===BD.Style||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=kne);let s=i,o=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!n.optional,t.errors);t.currentQueryTotal=o.length;let a=null;o.forEach(((i,n)=>{t.currentQueryIndex=n;let o=t.createSubContext(e.options,i);r&&o.delayNextStep(r),i===t.element&&(a=o.currentTimeline),ane(this,e.animation,o),o.currentTimeline.applyStylesToKeyframe();let l=o.currentTimeline.currentTime;s=Math.max(s,l)})),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),a&&(t.currentTimeline.mergeTimelineCollectedStyles(a),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let i=t.parentContext,n=t.currentTimeline,r=e.timings,s=Math.abs(r.duration),o=s*(t.currentQueryTotal-1),a=s*t.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":a=o-a;break;case"full":a=i.currentStaggerTime}let l=t.currentTimeline;a&&l.delayNextStep(a);let d=l.currentTime;ane(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=n.currentTime-d+(n.startTime-i.currentTimeline.startTime)}},kne={},One=class e{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=kne;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(e,t,i,n,r,s,o,a){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=n,this._leaveClassName=r,this.errors=s,this.timelines=o,this.currentTimeline=a||new Fne(this._driver,t,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let i=e,n=this.options;null!=i.duration&&(n.duration=Zie(i.duration)),null!=i.delay&&(n.delay=Zie(i.delay));let r=i.params;if(r){let e=n.params;e||(e=this.options.params={}),Object.keys(r).forEach((i=>{(!t||!e.hasOwnProperty(i))&&(e[i]=rne(r[i],e,this.errors))}))}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let i=e.params={};Object.keys(t).forEach((e=>{i[e]=t[e]}))}}return e}createSubContext(t=null,i,n){let r=i||this.element,s=new e(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=kne,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){let n={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},r=new Pne(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,n,e.stretchStartingKeyframe);return this.timelines.push(r),n}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,n,r,s){let o=[];if(n&&o.push(this.element),e.length>0){e=(e=e.replace(Tne,"."+this._enterClassName)).replace(Ine,"."+this._leaveClassName);let t=1!=i,n=this._driver.query(this.element,e,t);0!==i&&(n=i<0?n.slice(n.length+i,n.length):n.slice(0,i)),o.push(...n)}return!r&&0==o.length&&s.push(new $n(3014,!1)),o}},Fne=class e{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(e,t,i,n){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=n,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(t,i){return this.applyStylesToKeyframe(),new e(this._driver,t,i||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[e,t]of this._globalTimelineStyles)this._backFill.set(e,t||GD),this._currentKeyframe.set(e,GD);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,n){t&&this._previousKeyframe.set("easing",t);let r=n&&n.params||{},s=function(e,t){let i,n=new Map;return e.forEach((e=>{if("*"===e){i??=t.keys();for(let e of i)n.set(e,GD)}else for(let[t,i]of e)n.set(t,i)})),n}(e,this._globalTimelineStyles);for(let[e,t]of s){let n=rne(t,r,i);this._pendingStyles.set(e,n),this._localTimelineStyles.has(e)||this._backFill.set(e,this._globalTimelineStyles.get(e)??GD),this._updateStyle(e,n)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach(((e,t)=>{this._currentKeyframe.set(t,e)})),this._pendingStyles.clear(),this._localTimelineStyles.forEach(((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)})))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach(((e,t)=>{let i=this._styleSummary.get(t);(!i||e.time>i.time)&&this._updateStyle(t,e.value)}))}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration,n=[];this._keyframes.forEach(((r,s)=>{let o=new Map([...this._backFill,...r]);o.forEach(((i,n)=>{"!"===i?e.add(n):i===GD&&t.add(n)})),i||o.set("offset",s/this.duration),n.push(o)}));let r=[...e.values()],s=[...t.values()];if(i){let e=n[0],t=new Map(e);e.set("offset",0),t.set("offset",1),n=[e,t]}return Dne(this.element,n,r,s,this.duration,this.startTime,this.easing,!1)}},Pne=class extends Fne{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(e,t,i,n,r,s,o=!1){super(e,t,s.delay),this.keyframes=i,this.preStyleProps=n,this.postStyleProps=r,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:n}=this.timings;if(this._stretchStartingKeyframe&&t){let r=[],s=i+t,o=t/s,a=new Map(e[0]);a.set("offset",0),r.push(a);let l=new Map(e[0]);l.set("offset",Vne(o)),r.push(l);let d=e.length-1;for(let n=1;n<=d;n++){let o=new Map(e[n]),a=t+o.get("offset")*i;o.set("offset",Vne(a/s)),r.push(o)}i=s,t=0,n="",e=r}return Dne(this.element,e,this.preStyleProps,this.postStyleProps,i,t,n,!0)}};function Vne(e,t=3){let i=Math.pow(10,t-1);return Math.round(e*i)/i}function Mne(e,t,i,n,r,s,o,a,l,d,c,h,u){return{type:0,element:e,triggerName:t,isRemovalTransition:r,fromState:i,fromStyles:s,toState:n,toStyles:o,timelines:a,queriedElements:l,preStyleProps:d,postStyleProps:c,totalTime:h,errors:u}}var Lne={},Nne=class{_triggerName;ast;_stateStyles;constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,n){return function(e,t,i,n,r){return e.some((e=>e(t,i,n,r)))}(this.ast.matchers,e,t,i,n)}buildStyles(e,t,i){let n=this._stateStyles.get("*");return void 0!==e&&(n=this._stateStyles.get(e?.toString())||n),n?n.buildStyles(t,i):new Map}build(e,t,i,n,r,s,o,a,l,d){let c=[],h=this.ast.options&&this.ast.options.params||Lne,u=o&&o.params||Lne,g=this.buildStyles(i,u,c),p=a&&a.params||Lne,m=this.buildStyles(n,p,c),f=new Set,v=new Map,y=new Map,x="void"===n,_={params:Hne(p,h),delay:this.ast.options?.delay},w=d?[]:Rne(e,t,this.ast.animation,r,s,g,m,_,l,c),C=0;return w.forEach((e=>{C=Math.max(e.duration+e.delay,C)})),c.length?Mne(t,this._triggerName,i,n,x,g,m,[],[],v,y,C,c):(w.forEach((e=>{let i=e.element,n=Vie(v,i,new Set);e.preStyleProps.forEach((e=>n.add(e)));let r=Vie(y,i,new Set);e.postStyleProps.forEach((e=>r.add(e))),i!==t&&f.add(i)})),Mne(t,this._triggerName,i,n,x,g,m,w,[...f.values()],v,y,C))}};function Hne(e,t){let i=Qe({},t);return Object.entries(e).forEach((([e,t])=>{null!=t&&(i[e]=t)})),i}function zne(e,t,i){e.has(t)?e.has(i)||e.set(i,e.get(t)):e.has(i)&&e.set(t,e.get(i))}var Bne=new Ene,Gne="ng-animate-queued",$ne="ng-animate-disabled",Wne=[],Kne={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},jne={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Une="__ng_removed",qne=class{namespaceId;value;options;get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let i=e&&e.hasOwnProperty("value"),n=i?e.value:e;if(this.value=function(e){return e??null}(n),i){let t=e,{value:i}=t,n=et(t,["value"]);this.options=n}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let e=this.options.params;Object.keys(t).forEach((i=>{null==e[i]&&(e[i]=t[i])}))}}},Yne="void",Zne=new qne(Yne),Xne=class{namespaceId;triggerName;element;_player=new YD;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach(((t,i)=>{t.forEach((t=>Oie(e,i,void 0,t)))})),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart((()=>t.triggerCallback("start"))),e.onDone((()=>this.finish())),e.onDestroy((()=>this.destroy()))}_queueEvent(e,t){Vie(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function Qne(e){return e&&1===e.nodeType}function Jne(e,t){let i=e.style.display;return e.style.display=t??"none",i}function ere(e,t,i,n,r){let s=[];i.forEach((e=>s.push(Jne(e))));let o=[];n.forEach(((i,n)=>{let s=new Map;i.forEach((e=>{let i=t.computeStyle(n,e,r);s.set(e,i),(!i||0==i.length)&&(n[Une]=jne,o.push(n))})),e.set(n,s)}));let a=0;return i.forEach((e=>Jne(e,s[a++]))),o}function tre(e,t){let i=new Map;if(e.forEach((e=>i.set(e,[]))),0==t.length)return i;let n=new Set(t),r=new Map;function s(e){if(!e)return 1;let t=r.get(e);if(t)return t;let o=e.parentNode;return t=i.has(o)?o:n.has(o)?1:s(o),r.set(e,t),t}return t.forEach((e=>{let t=s(e);1!==t&&i.get(t).push(e)})),i}function ire(e,t){e.classList?.add(t)}function nre(e,t){e.classList?.remove(t)}function rre(e,t,i){Aie(i).onDone((()=>e.processLeaveNode(t)))}function sre(e,t){for(let i=0;i<e.length;i++){let n=e[i];n instanceof ZD?sre(n.players,t):t.push(n)}}function ore(e,t,i){let n=i.get(e);if(!n)return!1;let r=t.get(e);return r?n.forEach((e=>r.add(e))):t.set(e,n),i.delete(e),!0}var are=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(e,t)=>{};constructor(e,t,i){this._driver=t,this._normalizer=i,this._transitionEngine=new class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(e,t)=>{};_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i}get queuedPlayers(){let e=[];return this._namespaceList.forEach((t=>{t.players.forEach((t=>{t.queued&&e.push(t)}))})),e}createNamespace(e,t){let i=new class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this._hostClassName="ng-tns-"+e,ire(t,this._hostClassName)}listen(e,t,i,n){if(!this._triggers.has(t))throw new $n(3302,!1);if(null==i||0==i.length)throw new $n(3303,!1);if(!function(e){return"start"==e||"done"==e}(i))throw new $n(3400,!1);let r=Vie(this._elementListeners,e,[]),s={name:t,phase:i,callback:n};r.push(s);let o=Vie(this._engine.statesByElement,e,new Map);return o.has(t)||(ire(e,jie),ire(e,jie+"-"+t),o.set(t,Zne)),()=>{this._engine.afterFlush((()=>{let e=r.indexOf(s);e>=0&&r.splice(e,1),this._triggers.has(t)||o.delete(t)}))}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw new $n(3401,!1);return t}trigger(e,t,i,n=!0){let r=this._getTrigger(t),s=new Xne(this.id,t,e),o=this._engine.statesByElement.get(e);o||(ire(e,jie),ire(e,jie+"-"+t),this._engine.statesByElement.set(e,o=new Map));let a=o.get(t),l=new qne(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&a&&l.absorbOptions(a.options),o.set(t,l),a||(a=Zne),l.value!==Yne&&a.value===l.value){if(!function(e,t){let i=Object.keys(e),n=Object.keys(t);if(i.length!=n.length)return!1;for(let n=0;n<i.length;n++){let r=i[n];if(!t.hasOwnProperty(r)||e[r]!==t[r])return!1}return!0}(a.params,l.params)){let t=[],i=r.matchStyles(a.value,a.params,t),n=r.matchStyles(l.value,l.params,t);t.length?this._engine.reportError(t):this._engine.afterFlush((()=>{ene(e,i),Jie(e,n)}))}return}let d=Vie(this._engine.playersByElement,e,[]);d.forEach((e=>{e.namespaceId==this.id&&e.triggerName==t&&e.queued&&e.destroy()}));let c=r.matchTransition(a.value,l.value,e,l.params),h=!1;if(!c){if(!n)return;c=r.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:c,fromState:a,toState:l,player:s,isFallbackTransition:h}),h||(ire(e,Gne),s.onStart((()=>{nre(e,Gne)}))),s.onDone((()=>{let t=this.players.indexOf(s);t>=0&&this.players.splice(t,1);let i=this._engine.playersByElement.get(e);if(i){let e=i.indexOf(s);e>=0&&i.splice(e,1)}})),this.players.push(s),d.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach((t=>t.delete(e))),this._elementListeners.forEach(((t,i)=>{this._elementListeners.set(i,t.filter((t=>t.name!=e)))}))}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach((e=>e.destroy())),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let i=this._engine.driver.query(e,Uie,!0);i.forEach((e=>{if(e[Une])return;let i=this._engine.fetchNamespacesByElement(e);i.size?i.forEach((i=>i.triggerLeaveAnimation(e,t,!1,!0))):this.clearElementCache(e)})),this._engine.afterFlushAnimationsDone((()=>i.forEach((e=>this.clearElementCache(e)))))}triggerLeaveAnimation(e,t,i,n){let r=this._engine.statesByElement.get(e),s=new Map;if(r){let o=[];if(r.forEach(((t,i)=>{if(s.set(i,t.value),this._triggers.has(i)){let t=this.trigger(e,i,Yne,n);t&&o.push(t)}})),o.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),i&&Aie(o).onDone((()=>this._engine.processLeaveNode(e))),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){let n=new Set;t.forEach((t=>{let r=t.name;if(n.has(r))return;n.add(r);let s=this._triggers.get(r).fallbackTransition,o=i.get(r)||Zne,a=new qne(Yne),l=new Xne(this.id,r,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:r,transition:s,fromState:o,toState:a,player:l,isFallbackTransition:!0})}))}}removeNode(e,t){let i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let n=!1;if(i.totalAnimations){let t=i.players.length?i.playersByQueriedElement.get(e):[];if(t&&t.length)n=!0;else{let t=e;for(;t=t.parentNode;)if(i.statesByElement.get(t)){n=!0;break}}}if(this.prepareLeaveAnimationListeners(e),n)i.markElementAsRemoved(this.id,e,!1,t);else{let n=e[Une];(!n||n===Kne)&&(i.afterFlush((()=>this.clearElementCache(e))),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){ire(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach((i=>{let n=i.player;if(n.destroyed)return;let r=i.element,s=this._elementListeners.get(r);s&&s.forEach((t=>{if(t.name==i.triggerName){let n=Pie(r,i.triggerName,i.fromState.value,i.toState.value);n._data=e,Oie(i.player,t.phase,n,t.callback)}})),n.markedForDestroy?this._engine.afterFlush((()=>{n.destroy()})):t.push(i)})),this._queue=[],t.sort(((e,t)=>{let i=e.transition.ast.depCount,n=t.transition.ast.depCount;return 0==i||0==n?i-n:this._engine.driver.containsElement(e.element,t.element)?1:-1}))}destroy(e){this.players.forEach((e=>e.destroy())),this._signalRemovalForInnerTriggers(this.hostElement,e)}}(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){let i=this._namespaceList,n=this.namespacesByHostElement;if(i.length-1>=0){let r=!1,s=this.driver.getParentElement(t);for(;s;){let t=n.get(s);if(t){let n=i.indexOf(t);i.splice(n+1,0,e),r=!0;break}s=this.driver.getParentElement(s)}r||i.unshift(e)}else i.push(e);return n.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let n=this._namespaceLookup[e];n&&n.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush((()=>{})),this.afterFlushAnimationsDone((()=>{let i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);let n=this._namespaceList.indexOf(i);n>=0&&this._namespaceList.splice(n,1),i.destroy(t),delete this._namespaceLookup[e]})))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,i=this.statesByElement.get(e);if(i)for(let e of i.values())if(e.namespaceId){let i=this._fetchNamespace(e.namespaceId);i&&t.add(i)}return t}trigger(e,t,i,n){if(Qne(t)){let r=this._fetchNamespace(e);if(r)return r.trigger(t,i,n),!0}return!1}insertNode(e,t,i,n){if(!Qne(t))return;let r=t[Une];if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;let e=this.collectedLeaveElements.indexOf(t);e>=0&&this.collectedLeaveElements.splice(e,1)}if(e){let n=this._fetchNamespace(e);n&&n.insertNode(t,i)}n&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),ire(e,$ne)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),nre(e,$ne))}removeNode(e,t,i){if(Qne(t)){let n=e?this._fetchNamespace(e):null;n?n.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);let r=this.namespacesByHostElement.get(t);r&&r.id!==e&&r.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,n,r){this.collectedLeaveElements.push(t),t[Une]={namespaceId:e,setForRemoval:n,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:r}}listen(e,t,i,n,r){return Qne(t)?this._fetchNamespace(e).listen(t,i,n,r):()=>{}}_buildInstruction(e,t,i,n,r){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,n,e.fromState.options,e.toState.options,t,r)}destroyInnerAnimations(e){let t=this.driver.query(e,Uie,!0);t.forEach((e=>this.destroyActiveAnimationsForElement(e))),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Yie,!0),t.forEach((e=>this.finishActiveQueriedAnimationOnElement(e))))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach((e=>{e.queued?e.markedForDestroy=!0:e.destroy()}))}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach((e=>e.finish()))}whenRenderingDone(){return new Promise((e=>{if(this.players.length)return Aie(this.players).onDone((()=>e()));e()}))}processLeaveNode(e){let t=e[Une];if(t&&t.setForRemoval){if(e[Une]=Kne,t.namespaceId){this.destroyInnerAnimations(e);let i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains($ne)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach((e=>{this.markElementAsDisabled(e,!1)}))}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach(((e,t)=>this._balanceNamespaceList(e,t))),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let e=0;e<this.collectedEnterElements.length;e++)ire(this.collectedEnterElements[e],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{t=this._flushAnimations(i,e)}finally{for(let e=0;e<i.length;e++)i[e]()}}else for(let e=0;e<this.collectedLeaveElements.length;e++){let t=this.collectedLeaveElements[e];this.processLeaveNode(t)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach((e=>e())),this._flushFns=[],this._whenQuietFns.length){let e=this._whenQuietFns;this._whenQuietFns=[],t.length?Aie(t).onDone((()=>{e.forEach((e=>e()))})):e.forEach((e=>e()))}}reportError(e){throw new $n(3402,!1)}_flushAnimations(e,t){let i=new Ene,n=[],r=new Map,s=[],o=new Map,a=new Map,l=new Map,d=new Set;this.disabledNodes.forEach((e=>{d.add(e);let t=this.driver.query(e,".ng-animate-queued",!0);for(let e=0;e<t.length;e++)d.add(t[e])}));let c=this.bodyNode,h=Array.from(this.statesByElement.keys()),u=tre(h,this.collectedEnterElements),g=new Map,p=0;u.forEach(((e,t)=>{let i=Wie+p++;g.set(t,i),e.forEach((e=>ire(e,i)))}));let m=[],f=new Set,v=new Set;for(let e=0;e<this.collectedLeaveElements.length;e++){let t=this.collectedLeaveElements[e],i=t[Une];i&&i.setForRemoval&&(m.push(t),f.add(t),i.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach((e=>f.add(e))):v.add(t))}let y=new Map,x=tre(h,Array.from(f));x.forEach(((e,t)=>{let i=Kie+p++;y.set(t,i),e.forEach((e=>ire(e,i)))})),e.push((()=>{u.forEach(((e,t)=>{let i=g.get(t);e.forEach((e=>nre(e,i)))})),x.forEach(((e,t)=>{let i=y.get(t);e.forEach((e=>nre(e,i)))})),m.forEach((e=>{this.processLeaveNode(e)}))}));let _=[],w=[];for(let e=this._namespaceList.length-1;e>=0;e--)this._namespaceList[e].drainQueuedTransitions(t).forEach((e=>{let t=e.player,r=e.element;if(_.push(t),this.collectedEnterElements.length){let i=r[Une];if(i&&i.setForMove){if(i.previousTriggersValues&&i.previousTriggersValues.has(e.triggerName)){let t=i.previousTriggersValues.get(e.triggerName),n=this.statesByElement.get(e.element);if(n&&n.has(e.triggerName)){let i=n.get(e.triggerName);i.value=t,n.set(e.triggerName,i)}}return void t.destroy()}}let d=!c||!this.driver.containsElement(c,r),h=y.get(r),u=g.get(r),p=this._buildInstruction(e,i,u,h,d);if(p.errors&&p.errors.length)return void w.push(p);if(d)return t.onStart((()=>ene(r,p.fromStyles))),t.onDestroy((()=>Jie(r,p.toStyles))),void n.push(t);if(e.isFallbackTransition)return t.onStart((()=>ene(r,p.fromStyles))),t.onDestroy((()=>Jie(r,p.toStyles))),void n.push(t);let m=[];p.timelines.forEach((e=>{e.stretchStartingKeyframe=!0,this.disabledNodes.has(e.element)||m.push(e)})),p.timelines=m,i.append(r,p.timelines);let f={instruction:p,player:t,element:r};s.push(f),p.queriedElements.forEach((e=>Vie(o,e,[]).push(t))),p.preStyleProps.forEach(((e,t)=>{if(e.size){let i=a.get(t);i||a.set(t,i=new Set),e.forEach(((e,t)=>i.add(t)))}})),p.postStyleProps.forEach(((e,t)=>{let i=l.get(t);i||l.set(t,i=new Set),e.forEach(((e,t)=>i.add(t)))}))}));if(w.length){let e=[];w.forEach((t=>{e.push((t.triggerName,t.errors,new $n(3505,!1)))})),_.forEach((e=>e.destroy())),this.reportError(e)}let C=new Map,S=new Map;s.forEach((e=>{let t=e.element;i.has(t)&&(S.set(t,t),this._beforeAnimationBuild(e.player.namespaceId,e.instruction,C))})),n.forEach((e=>{let t=e.element;this._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach((e=>{Vie(C,t,[]).push(e),e.destroy()}))}));let b=m.filter((e=>ore(e,a,l))),D=new Map;ere(D,this.driver,v,l,GD).forEach((e=>{ore(e,a,l)&&b.push(e)}));let E=new Map;u.forEach(((e,t)=>{ere(E,this.driver,new Set(e),a,"!")})),b.forEach((e=>{let t=D.get(e),i=E.get(e);D.set(e,new Map([...t?.entries()??[],...i?.entries()??[]]))}));let T=[],I=[],R={};s.forEach((e=>{let{element:t,player:s,instruction:o}=e;if(i.has(t)){if(d.has(t))return s.onDestroy((()=>Jie(t,o.toStyles))),s.disabled=!0,s.overrideTotalTime(o.totalTime),void n.push(s);let e=R;if(S.size>1){let i=t,n=[];for(;i=i.parentNode;){let t=S.get(i);if(t){e=t;break}n.push(i)}n.forEach((t=>S.set(t,e)))}let i=this._buildAnimation(s.namespaceId,o,C,r,E,D);if(s.setRealPlayer(i),e===R)T.push(s);else{let t=this.playersByElement.get(e);t&&t.length&&(s.parentPlayer=Aie(t)),n.push(s)}}else ene(t,o.fromStyles),s.onDestroy((()=>Jie(t,o.toStyles))),I.push(s),d.has(t)&&n.push(s)})),I.forEach((e=>{let t=r.get(e.element);if(t&&t.length){let i=Aie(t);e.setRealPlayer(i)}})),n.forEach((e=>{e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()}));for(let e=0;e<m.length;e++){let t=m[e],i=t[Une];if(nre(t,Kie),i&&i.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let i=this.driver.query(t,Yie,!0);for(let e=0;e<i.length;e++){let t=o.get(i[e]);t&&t.length&&n.push(...t)}}let r=n.filter((e=>!e.destroyed));r.length?rre(this,t,r):this.processLeaveNode(t)}return m.length=0,T.forEach((e=>{this.players.push(e),e.onDone((()=>{e.destroy();let t=this.players.indexOf(e);this.players.splice(t,1)})),e.play()})),T}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,n,r){let s=[];if(t){let t=this.playersByQueriedElement.get(e);t&&(s=t)}else{let t=this.playersByElement.get(e);if(t){let e=!r||r==Yne;t.forEach((t=>{t.queued||!e&&t.triggerName!=n||s.push(t)}))}}return(i||n)&&(s=s.filter((e=>!(i&&i!=e.namespaceId||n&&n!=e.triggerName)))),s}_beforeAnimationBuild(e,t,i){let n=t.triggerName,r=t.element,s=t.isRemovalTransition?void 0:e,o=t.isRemovalTransition?void 0:n;for(let e of t.timelines){let n=e.element,a=n!==r,l=Vie(i,n,[]);this._getPreviousPlayers(n,a,s,o,t.toState).forEach((e=>{let t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),l.push(e)}))}ene(r,t.fromStyles)}_buildAnimation(e,t,i,n,r,s){let o=t.triggerName,a=t.element,l=[],d=new Set,c=new Set,h=t.timelines.map((t=>{let h=t.element;d.add(h);let u=h[Une];if(u&&u.removedBeforeQueried)return new YD(t.duration,t.delay);let g=h!==a,p=function(e){let t=[];return sre(e,t),t}((i.get(h)||Wne).map((e=>e.getRealPlayer()))).filter((e=>{let t=e;return!!t.element&&t.element===h})),m=r.get(h),f=s.get(h),v=kie(this._normalizer,t.keyframes,m,f),y=this._buildPlayer(t,v,p);if(t.subTimeline&&n&&c.add(h),g){let t=new Xne(e,o,h);t.setRealPlayer(y),l.push(t)}return y}));l.forEach((e=>{Vie(this.playersByQueriedElement,e.element,[]).push(e),e.onDone((()=>function(e,t,i){let n=e.get(t);if(n){if(n.length){let e=n.indexOf(i);n.splice(e,1)}0==n.length&&e.delete(t)}return n}(this.playersByQueriedElement,e.element,e)))})),d.forEach((e=>ire(e,qie)));let u=Aie(h);return u.onDestroy((()=>{d.forEach((e=>nre(e,qie))),Jie(a,t.toStyles)})),c.forEach((e=>{Vie(n,e,[]).push(u)})),u}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new YD(e.duration,e.delay)}}(e.body,t,i),this._timelineEngine=new class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i}register(e,t){let i=[],n=_ne(this._driver,t,i,[]);if(i.length)throw new $n(3503,!1);this._animations.set(e,n)}_buildPlayer(e,t,i){let n=e.element,r=kie(this._normalizer,e.keyframes,t,i);return this._driver.animate(n,r,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){let n,r=[],s=this._animations.get(e),o=new Map;if(s?(n=Rne(this._driver,t,s,Wie,Kie,new Map,new Map,i,Bne,r),n.forEach((e=>{let t=Vie(o,e.element,new Map);e.postStyleProps.forEach((e=>t.set(e,null)))}))):(r.push(new $n(3300,!1)),n=[]),r.length)throw new $n(3504,!1);o.forEach(((e,t)=>{e.forEach(((i,n)=>{e.set(n,this._driver.computeStyle(t,n,GD))}))}));let a=Aie(n.map((e=>{let t=o.get(e.element);return this._buildPlayer(e,new Map,t)})));return this._playersById.set(e,a),a.onDestroy((()=>this.destroy(e))),this.players.push(a),a}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw new $n(3301,!1);return t}listen(e,t,i,n){let r=Pie(t,"","","");return Oie(this._getPlayer(e),i,r,n),()=>{}}command(e,t,i,n){if("register"==i)return void this.register(e,n[0]);if("create"==i){let i=n[0]||{};return void this.create(e,t,i)}let r=this._getPlayer(e);switch(i){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(n[0]));break;case"destroy":this.destroy(e)}}}(e.body,t,i),this._transitionEngine.onRemovalComplete=(e,t)=>this.onRemovalComplete(e,t)}registerTrigger(e,t,i,n,r){let s=e+"-"+n,o=this._triggerCache[s];if(!o){let e=[],t=[],i=_ne(this._driver,r,e,t);if(e.length)throw new $n(3404,!1);o=function(e,t,i){return new class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,t.states.forEach((e=>{let t=e.options&&e.options.params||{};this.states.set(e.name,new class{styles;defaultParams;normalizer;constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){let i=new Map,n=Hne(e,this.defaultParams);return this.styles.styles.forEach((e=>{"string"!=typeof e&&e.forEach(((e,r)=>{e&&(e=rne(e,n,t));let s=this.normalizer.normalizePropertyName(r,t);e=this.normalizer.normalizeStyleValue(r,s,e,t),i.set(r,e)}))})),i}}(e.style,t,i))})),zne(this.states,"true","1"),zne(this.states,"false","0"),t.transitions.forEach((t=>{this.transitionFactories.push(new Nne(e,t,this.states))})),this.fallbackTransition=function(e,t,i){let n={type:BD.Sequence,steps:[],options:null},r={type:BD.Transition,animation:n,matchers:[(e,t)=>!0],options:null,queryCount:0,depCount:0};return new Nne(e,r,t)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,n){return this.transitionFactories.find((r=>r.match(e,t,i,n)))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}(e,t,i)}(n,i,this._normalizer),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(t,n,o)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,n){this._transitionEngine.insertNode(e,t,i,n)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,n){if("@"==i.charAt(0)){let[e,r]=Mie(i),s=n;this._timelineEngine.command(e,t,r,s)}else this._transitionEngine.trigger(e,t,i,n)}listen(e,t,i,n,r){if("@"==i.charAt(0)){let[e,n]=Mie(i);return this._timelineEngine.listen(e,t,n,r)}return this._transitionEngine.listen(e,t,i,n,r)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}},lre=(()=>{class e{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(t,i,n){this._element=t,this._startStyles=i,this._endStyles=n;let r=e.initialStylesByElement.get(t);r||e.initialStylesByElement.set(t,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&Jie(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Jie(this._element,this._initialStyles),this._endStyles&&(Jie(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(ene(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ene(this._element,this._endStyles),this._endStyles=null),Jie(this._element,this._initialStyles),this._state=3)}}return e})();function dre(e){let t=null;return e.forEach(((e,i)=>{(function(e){return"display"===e||"position"===e})(i)&&(t=t||new Map,t.set(i,e))})),t}var cre=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(e,t,i,n){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=n,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach((e=>e())),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy((()=>{this.domPlayer.removeEventListener("finish",t)}))}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach((e=>{t.push(Object.fromEntries(e))})),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach((e=>e())),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((e=>e())),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach(((t,i)=>{"offset"!==i&&e.set(i,this._finished?t:lne(this.element,i))})),this.currentSnapshot=e}triggerCallback(e){let t="start"===e?this._onStartFns:this._onDoneFns;t.forEach((e=>e())),t.length=0}},hre="@",ure="@.disabled",gre=class{namespaceId;delegate;engine;_onDestroy;ɵtype=0;constructor(e,t,i,n){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=n}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone((()=>{queueMicrotask((()=>{this.delegate.destroy()}))})),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,n=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,n)}removeChild(e,t,i){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,n){this.delegate.setAttribute(e,t,i,n)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,n){this.delegate.setStyle(e,t,i,n)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){t.charAt(0)==hre&&t==ure?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i,n){return this.delegate.listen(e,t,i,n)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},pre=class extends gre{factory;constructor(e,t,i,n,r){super(t,i,n,r),this.factory=e,this.namespaceId=t}setProperty(e,t,i){t.charAt(0)==hre?"."==t.charAt(1)&&t==ure?(i=void 0===i||!!i,this.disableAnimations(e,i)):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i,n){if(t.charAt(0)==hre){let n=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e),r=t.slice(1),s="";return r.charAt(0)!=hre&&([r,s]=function(e){let t=e.indexOf(".");return[e.substring(0,t),e.slice(t+1)]}(r)),this.engine.listen(this.namespaceId,n,r,s,(e=>{let t=e._data||-1;this.factory.scheduleListenerCallback(t,i,e)}))}return this.delegate.listen(e,t,i,n)}},mre=(()=>{class e extends are{constructor(e,t,i){super(e,t,i)}ngOnDestroy(){this.flush()}static ɵfac=function(t){return new(t||e)(Vr(Kf),Vr(cne),Vr(hne))};static ɵprov=ir({token:e,factory:e.ɵfac})}return e})(),fre=[{provide:hne,useFactory:function(){return new gne}},{provide:are,useClass:mre},{provide:nu,useFactory:function(e,t,i){return new class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(e,t,i){this.delegate=e,this.engine=t,this._zone=i,t.onRemovalComplete=(e,t)=>{t?.removeChild(null,e)}}createRenderer(e,t){let i=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let e=this._rendererCache,t=e.get(i);if(!t){let n=()=>e.delete(i);t=new gre("",i,this.engine,n),e.set(i,t)}return t}let n=t.id,r=t.id+"-"+this._currentId;this._currentId++,this.engine.register(r,e);let s=t=>{Array.isArray(t)?t.forEach(s):this.engine.registerTrigger(n,r,e,t.name,t)};return t.data.animation.forEach(s),new pre(this,r,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask((()=>{this._microtaskId++}))}scheduleListenerCallback(e,t,i){if(e>=0&&e<this._microtaskId)return void this._zone.run((()=>t(i)));let n=this._animationCallbacksBuffer;0==n.length&&queueMicrotask((()=>{this._zone.run((()=>{n.forEach((e=>{let[t,i]=e;t(i)})),this._animationCallbacksBuffer=[]}))})),n.push([t,i])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular((()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)})),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(e){this.engine.flush(),this.delegate.componentReplaced?.(e)}}(e,t,i)},deps:[MR,are,Il]}],vre=[{provide:cne,useFactory:()=>new class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return Bie(e,t)}getParentElement(e){return Nie(e)}query(e,t,i){return Gie(e,t,i)}computeStyle(e,t,i){return lne(e,t)}animate(e,t,i,n,r,s=[]){let o={duration:i,delay:n,fill:0==n?"both":"forwards"};r&&(o.easing=r);let a=new Map,l=s.filter((e=>e instanceof cre));(function(e,t){return 0===e||0===t})(i,n)&&l.forEach((e=>{e.currentSnapshot.forEach(((e,t)=>a.set(t,e)))}));let d=function(e){return e.length?e[0]instanceof Map?e:e.map((e=>new Map(Object.entries(e)))):[]}(t).map((e=>new Map(e)));d=function(e,t,i){if(i.size&&t.length){let n=t[0],r=[];if(i.forEach(((e,t)=>{n.has(t)||r.push(t),n.set(t,e)})),r.length)for(let i=1;i<t.length;i++){let n=t[i];r.forEach((t=>n.set(t,lne(e,t))))}}return t}(e,d,a);let c=function(e,t){let i=null,n=null;return Array.isArray(t)&&t.length?(i=dre(t[0]),t.length>1&&(n=dre(t[t.length-1]))):t instanceof Map&&(i=dre(t)),i||n?new lre(e,i,n):null}(e,d);return new cre(e,d,o,c)}}},{provide:dd,useFactory:()=>"BrowserAnimations"},...fre],yre=wf()?.injector??QR().injector,xre=Zu([function(e){let t=e?.ignoreChangesOutsideZone,i=e?.scheduleInRootZone,n=lf({ngZoneFactory:()=>{let t=df(e);return t.scheduleInRootZone=i,t.shouldCoalesceEventChangeDetection&&md("NgZone_CoalesceEvent"),new Il(t)},ignoreChangesOutsideZone:t,scheduleInRootZone:i});return function(e){return{ɵproviders:e}}([{provide:af,useValue:!0},{provide:vl,useValue:!1},n])}({eventCoalescing:!0}),{provide:fl,useExisting:hf},rs(tA),(md("NgEagerAnimations"),[...vre]),{provide:TC,useValue:!0},Iie],yre);function _re(e,...t){for(let e of t)e.register();customElements.get(e.tagName)||customElements.define(e.tagName,e)}function wre(...e){for(let t of e)t.register()}xre.get(Iie);var Cre=Eie(Die(h2,{injector:xre,registerConfig:iie}),(()=>{_re(Cre)})),Sre=Eie(Die(v9,{injector:xre,registerConfig:iie}),(()=>{_re(Sre)})),bre=Eie(Die(eie,{injector:xre,registerConfig:iie}),(()=>{_re(bre)})),Dre=Eie(Die(w4,{injector:xre,registerConfig:iie}),(()=>{_re(Dre)})),Ere=Eie(Die(A6,{injector:xre,registerConfig:iie}),(()=>{_re(Ere)})),Tre=Eie(Die(E9,{injector:xre,registerConfig:iie}),(()=>{_re(Tre)})),Ire=Eie(Die(XH,{injector:xre,registerConfig:iie}),(()=>{_re(Ire)})),Rre=Eie(Die(tz,{injector:xre,registerConfig:iie}),(()=>{_re(Rre)})),Are=Eie(Die(UH,{injector:xre,registerConfig:iie}),(()=>{_re(Are)})),kre=Eie(Die(d6,{injector:xre,registerConfig:iie}),(()=>{_re(kre)})),Ore=Eie(Die(z4,{injector:xre,registerConfig:iie}),(()=>{_re(Ore)})),Fre=Eie(Die(yP,{injector:xre,registerConfig:iie}),(()=>{_re(Fre)})),Pre=Eie(Die(tie,{injector:xre,registerConfig:iie}),(()=>{_re(Pre)})),Vre=Eie(Die(FP,{injector:xre,registerConfig:iie}),(()=>{_re(Vre)})),Mre=Eie(Die(HP,{injector:xre,registerConfig:iie}),(()=>{_re(Mre)})),Lre=Eie(Die(E4,{injector:xre,registerConfig:iie}),(()=>{_re(Lre)})),Nre=Eie(Die(T4,{injector:xre,registerConfig:iie}),(()=>{_re(Nre)})),Hre=Eie(Die(Q4,{injector:xre,registerConfig:iie}),(()=>{_re(Hre)})),zre=Eie(Die(e6,{injector:xre,registerConfig:iie}),(()=>{_re(zre)})),Bre=Eie(Die(Z4,{injector:xre,registerConfig:iie}),(()=>{_re(Bre)})),Gre=Eie(Die(O4,{injector:xre,registerConfig:iie}),(()=>{_re(Gre)}));function $re(){wre(Cre,Sre,bre,Dre,Ere,Tre,Ire,Rre,Are,kre,Ore,Fre,Pre,Vre,Mre,Lre,Nre,Hre,zre,Bre,Gre)}$re()}}]);